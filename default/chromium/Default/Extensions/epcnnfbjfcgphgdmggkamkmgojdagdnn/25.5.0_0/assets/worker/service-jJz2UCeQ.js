import{g as K2,d as Aa,V as Vi,s as X2,f as Y2}from"../api-CIy2dyVG.js";import"../_sentry-release-injection-file-CiDMPen5.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new n.Error().stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="c59d8a4a-8e85-4456-b980-479a7e0629d2",n._sentryDebugIdIdentifier="sentry-dbid-c59d8a4a-8e85-4456-b980-479a7e0629d2")}catch{}})();function q2(n,e){for(var a=0;a<e.length;a++){const o=e[a];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in n)){const p=Object.getOwnPropertyDescriptor(o,l);p&&Object.defineProperty(n,l,p.get?p:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}const Kw=Object.prototype.toString;function l1(n){switch(Kw.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return au(n,Error)}}function mc(n,e){return Kw.call(n)===`[object ${e}]`}function Xw(n){return mc(n,"ErrorEvent")}function fb(n){return mc(n,"DOMError")}function Z2(n){return mc(n,"DOMException")}function Bi(n){return mc(n,"String")}function u1(n){return typeof n=="object"&&n!==null&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function c1(n){return n===null||u1(n)||typeof n!="object"&&typeof n!="function"}function ec(n){return mc(n,"Object")}function Kd(n){return typeof Event<"u"&&au(n,Event)}function J2(n){return typeof Element<"u"&&au(n,Element)}function Q2(n){return mc(n,"RegExp")}function Xd(n){return!!(n&&n.then&&typeof n.then=="function")}function eI(n){return ec(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}function au(n,e){try{return n instanceof e}catch{return!1}}function Yw(n){return!!(typeof n=="object"&&n!==null&&(n.__isVue||n._isVue))}function Qu(n,e=0){return typeof n!="string"||e===0||n.length<=e?n:`${n.slice(0,e)}...`}function hb(n,e){if(!Array.isArray(n))return"";const a=[];for(let o=0;o<n.length;o++){const l=n[o];try{Yw(l)?a.push("[VueViewModel]"):a.push(String(l))}catch{a.push("[value cannot be serialized]")}}return a.join(e)}function tI(n,e,a=!1){return Bi(n)?Q2(e)?e.test(n):Bi(e)?a?n===e:n.includes(e):!1:!1}function Yd(n,e=[],a=!1){return e.some(o=>tI(n,o,a))}function nI(n,e,a=250,o,l,p,f){if(!p.exception||!p.exception.values||!f||!au(f.originalException,Error))return;const d=p.exception.values.length>0?p.exception.values[p.exception.values.length-1]:void 0;d&&(p.exception.values=aI(mm(n,e,l,f.originalException,o,p.exception.values,d,0),a))}function mm(n,e,a,o,l,p,f,d){if(p.length>=a+1)return p;let c=[...p];if(au(o[l],Error)){mb(f,d);const h=n(e,o[l]),y=c.length;gb(h,l,y,d),c=mm(n,e,a,o[l],l,[h,...c],h,y)}return Array.isArray(o.errors)&&o.errors.forEach((h,y)=>{if(au(h,Error)){mb(f,d);const w=n(e,h),k=c.length;gb(w,`errors[${y}]`,k,d),c=mm(n,e,a,h,l,[w,...c],w,k)}}),c}function mb(n,e){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism={...n.mechanism,...n.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function gb(n,e,a,o){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism={...n.mechanism,type:"chained",source:e,exception_id:a,parent_id:o}}function aI(n,e){return n.map(a=>(a.value&&(a.value=Qu(a.value,e)),a))}function qw(n){if(n!==void 0)return n>=400&&n<500?"warning":n>=500?"error":void 0}const nu="8.33.1",$a=globalThis;function qd(n,e,a){const o=$a,l=o.__SENTRY__=o.__SENTRY__||{},p=l[nu]=l[nu]||{};return p[n]||(p[n]=e())}const p1=$a,rI=80;function Zw(n,e={}){if(!n)return"<unknown>";try{let a=n;const o=5,l=[];let p=0,f=0;const d=" > ",c=d.length;let h;const y=Array.isArray(e)?e:e.keyAttrs,w=!Array.isArray(e)&&e.maxStringLength||rI;for(;a&&p++<o&&(h=oI(a,y),!(h==="html"||p>1&&f+l.length*c+h.length>=w));)l.push(h),f+=h.length,a=a.parentNode;return l.reverse().join(d)}catch{return"<unknown>"}}function oI(n,e){const a=n,o=[];if(!a||!a.tagName)return"";if(p1.HTMLElement&&a instanceof HTMLElement&&a.dataset){if(a.dataset.sentryComponent)return a.dataset.sentryComponent;if(a.dataset.sentryElement)return a.dataset.sentryElement}o.push(a.tagName.toLowerCase());const l=e&&e.length?e.filter(f=>a.getAttribute(f)).map(f=>[f,a.getAttribute(f)]):null;if(l&&l.length)l.forEach(f=>{o.push(`[${f[0]}="${f[1]}"]`)});else{a.id&&o.push(`#${a.id}`);const f=a.className;if(f&&Bi(f)){const d=f.split(/\s+/);for(const c of d)o.push(`.${c}`)}}const p=["aria-label","type","name","title","alt"];for(const f of p){const d=a.getAttribute(f);d&&o.push(`[${f}="${d}"]`)}return o.join("")}function sI(){try{return p1.document.location.href}catch{return""}}function iI(n){if(!p1.HTMLElement)return null;let e=n;const a=5;for(let o=0;o<a;o++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}const Jc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,lI="Sentry Logger ",gm=["debug","info","warn","error","log","assert","trace"],Rd={};function Qc(n){if(!("console"in $a))return n();const e=$a.console,a={},o=Object.keys(Rd);o.forEach(l=>{const p=Rd[l];a[l]=e[l],e[l]=p});try{return n()}finally{o.forEach(l=>{e[l]=a[l]})}}function uI(){let n=!1;const e={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return Jc?gm.forEach(a=>{e[a]=(...o)=>{n&&Qc(()=>{$a.console[a](`${lI}[${a}]:`,...o)})}}):gm.forEach(a=>{e[a]=()=>{}}),e}const ta=qd("logger",uI),cI=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function pI(n){return n==="http"||n==="https"}function Zd(n,e=!1){const{host:a,path:o,pass:l,port:p,projectId:f,protocol:d,publicKey:c}=n;return`${d}://${c}${e&&l?`:${l}`:""}@${a}${p?`:${p}`:""}/${o&&`${o}/`}${f}`}function dI(n){const e=cI.exec(n);if(!e){Qc(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});return}const[a,o,l="",p="",f="",d=""]=e.slice(1);let c="",h=d;const y=h.split("/");if(y.length>1&&(c=y.slice(0,-1).join("/"),h=y.pop()),h){const w=h.match(/^\d+/);w&&(h=w[0])}return Jw({host:p,pass:l,path:c,projectId:h,port:f,protocol:a,publicKey:o})}function Jw(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function fI(n){if(!Jc)return!0;const{port:e,projectId:a,protocol:o}=n;return["protocol","publicKey","host","projectId"].find(f=>n[f]?!1:(ta.error(`Invalid Sentry Dsn: ${f} missing`),!0))?!1:a.match(/^\d+$/)?pI(o)?e&&isNaN(parseInt(e,10))?(ta.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(ta.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),!1):(ta.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),!1)}function hI(n){const e=typeof n=="string"?dI(n):Jw(n);if(!(!e||!fI(e)))return e}class hi extends Error{constructor(e,a="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=a}}function ls(n,e,a){if(!(e in n))return;const o=n[e],l=a(o);typeof l=="function"&&Qw(l,o),n[e]=l}function ru(n,e,a){try{Object.defineProperty(n,e,{value:a,writable:!0,configurable:!0})}catch{Jc&&ta.log(`Failed to add non-enumerable property "${e}" to object`,n)}}function Qw(n,e){try{const a=e.prototype||{};n.prototype=e.prototype=a,ru(n,"__sentry_original__",e)}catch{}}function d1(n){return n.__sentry_original__}function mI(n){return Object.keys(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&")}function ev(n){if(l1(n))return{message:n.message,name:n.name,stack:n.stack,...bb(n)};if(Kd(n)){const e={type:n.type,target:yb(n.target),currentTarget:yb(n.currentTarget),...bb(n)};return typeof CustomEvent<"u"&&au(n,CustomEvent)&&(e.detail=n.detail),e}else return n}function yb(n){try{return J2(n)?Zw(n):Object.prototype.toString.call(n)}catch{return"<unknown>"}}function bb(n){if(typeof n=="object"&&n!==null){const e={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}else return{}}function gI(n,e=40){const a=Object.keys(ev(n));a.sort();const o=a[0];if(!o)return"[object has no keys]";if(o.length>=e)return Qu(o,e);for(let l=a.length;l>0;l--){const p=a.slice(0,l).join(", ");if(!(p.length>e))return l===a.length?p:Qu(p,e)}return""}function ks(n){return ym(n,new Map)}function ym(n,e){if(yI(n)){const a=e.get(n);if(a!==void 0)return a;const o={};e.set(n,o);for(const l of Object.getOwnPropertyNames(n))typeof n[l]<"u"&&(o[l]=ym(n[l],e));return o}if(Array.isArray(n)){const a=e.get(n);if(a!==void 0)return a;const o=[];return e.set(n,o),n.forEach(l=>{o.push(ym(l,e))}),o}return n}function yI(n){if(!ec(n))return!1;try{const e=Object.getPrototypeOf(n).constructor.name;return!e||e==="Object"}catch{return!0}}const tv=50,ou="?",wb=/\(error: (.*)\)/,vb=/captureMessage|captureException/;function nv(...n){const e=n.sort((a,o)=>a[0]-o[0]).map(a=>a[1]);return(a,o=0,l=0)=>{const p=[],f=a.split(`
`);for(let d=o;d<f.length;d++){const c=f[d];if(c.length>1024)continue;const h=wb.test(c)?c.replace(wb,"$1"):c;if(!h.match(/\S*Error: /)){for(const y of e){const w=y(h);if(w){p.push(w);break}}if(p.length>=tv+l)break}}return wI(p.slice(l))}}function bI(n){return Array.isArray(n)?nv(...n):n}function wI(n){if(!n.length)return[];const e=Array.from(n);return/sentryWrapped/.test(bd(e).function||"")&&e.pop(),e.reverse(),vb.test(bd(e).function||"")&&(e.pop(),vb.test(bd(e).function||"")&&e.pop()),e.slice(0,tv).map(a=>({...a,filename:a.filename||bd(e).filename,function:a.function||ou}))}function bd(n){return n[n.length-1]||{}}const qh="<anonymous>";function vl(n){try{return!n||typeof n!="function"?qh:n.name||qh}catch{return qh}}function xb(n){const e=n.exception;if(e){const a=[];try{return e.values.forEach(o=>{o.stacktrace.frames&&a.push(...o.stacktrace.frames)}),a}catch{return}}}const jd={},kb={};function pu(n,e){jd[n]=jd[n]||[],jd[n].push(e)}function du(n,e){kb[n]||(e(),kb[n]=!0)}function Ys(n,e){const a=n&&jd[n];if(a)for(const o of a)try{o(e)}catch(l){Jc&&ta.error(`Error while triggering instrumentation handler.
Type: ${n}
Name: ${vl(o)}
Error:`,l)}}function vI(n){const e="console";pu(e,n),du(e,xI)}function xI(){"console"in $a&&gm.forEach(function(n){n in $a.console&&ls($a.console,n,function(e){return Rd[n]=e,function(...a){Ys("console",{args:a,level:n});const l=Rd[n];l&&l.apply($a.console,a)}})})}const bm=$a;function av(){if(!("fetch"in bm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function wm(n){return n&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}function kI(){if(typeof EdgeRuntime=="string")return!0;if(!av())return!1;if(wm(bm.fetch))return!0;let n=!1;const e=bm.document;if(e&&typeof e.createElement=="function")try{const a=e.createElement("iframe");a.hidden=!0,e.head.appendChild(a),a.contentWindow&&a.contentWindow.fetch&&(n=wm(a.contentWindow.fetch)),e.head.removeChild(a)}catch(a){Jc&&ta.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return n}const rv=1e3;function ep(){return Date.now()/rv}function _I(){const{performance:n}=$a;if(!n||!n.now)return ep;const e=Date.now()-n.now(),a=n.timeOrigin==null?e:n.timeOrigin;return()=>(a+n.now())/rv}const Ri=_I();(()=>{const{performance:n}=$a;if(!n||!n.now)return;const e=3600*1e3,a=n.now(),o=Date.now(),l=n.timeOrigin?Math.abs(n.timeOrigin+a-o):e,p=l<e,f=n.timing&&n.timing.navigationStart,c=typeof f=="number"?Math.abs(f+a-o):e,h=c<e;return p||h?l<=c?n.timeOrigin:f:o})();function EI(n,e){const a="fetch";pu(a,n),du(a,()=>AI(void 0,e))}function AI(n,e=!1){e&&!kI()||ls($a,"fetch",function(a){return function(...o){const{method:l,url:p}=SI(o),f={args:o,fetchData:{method:l,url:p},startTimestamp:Ri()*1e3};Ys("fetch",{...f});const d=new Error().stack;return a.apply($a,o).then(async c=>(Ys("fetch",{...f,endTimestamp:Ri()*1e3,response:c}),c),c=>{throw Ys("fetch",{...f,endTimestamp:Ri()*1e3,error:c}),l1(c)&&c.stack===void 0&&(c.stack=d,ru(c,"framesToPop",1)),c})}})}function vm(n,e){return!!n&&typeof n=="object"&&!!n[e]}function _b(n){return typeof n=="string"?n:n?vm(n,"url")?n.url:n.toString?n.toString():"":""}function SI(n){if(n.length===0)return{method:"GET",url:""};if(n.length===2){const[a,o]=n;return{url:_b(a),method:vm(o,"method")?String(o.method).toUpperCase():"GET"}}const e=n[0];return{url:_b(e),method:vm(e,"method")?String(e.method).toUpperCase():"GET"}}let wd=null;function TI(n){const e="error";pu(e,n),du(e,jI)}function jI(){wd=$a.onerror,$a.onerror=function(n,e,a,o,l){return Ys("error",{column:o,error:l,line:a,msg:n,url:e}),wd&&!wd.__SENTRY_LOADER__?wd.apply(this,arguments):!1},$a.onerror.__SENTRY_INSTRUMENTED__=!0}let vd=null;function II(n){const e="unhandledrejection";pu(e,n),du(e,NI)}function NI(){vd=$a.onunhandledrejection,$a.onunhandledrejection=function(n){return Ys("unhandledrejection",n),vd&&!vd.__SENTRY_LOADER__?vd.apply(this,arguments):!0},$a.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function DI(){return"npm"}function CI(){const n=typeof WeakSet=="function",e=n?new WeakSet:[];function a(l){if(n)return e.has(l)?!0:(e.add(l),!1);for(let p=0;p<e.length;p++)if(e[p]===l)return!0;return e.push(l),!1}function o(l){if(n)e.delete(l);else for(let p=0;p<e.length;p++)if(e[p]===l){e.splice(p,1);break}}return[a,o]}function Ts(){const n=$a,e=n.crypto||n.msCrypto;let a=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(a=()=>{const o=new Uint8Array(1);return e.getRandomValues(o),o[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,o=>(o^(a()&15)>>o/4).toString(16))}function ov(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function ml(n){const{message:e,event_id:a}=n;if(e)return e;const o=ov(n);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||a||"<unknown>":a||"<unknown>"}function xm(n,e,a){const o=n.exception=n.exception||{},l=o.values=o.values||[],p=l[0]=l[0]||{};p.value||(p.value=e||""),p.type||(p.type="Error")}function Xc(n,e){const a=ov(n);if(!a)return;const o={type:"generic",handled:!0},l=a.mechanism;if(a.mechanism={...o,...l,...e},e&&"data"in e){const p={...l&&l.data,...e.data};a.mechanism.data=p}}function Eb(n){if(n&&n.__sentry_captured__)return!0;try{ru(n,"__sentry_captured__",!0)}catch{}return!1}function sv(n){return Array.isArray(n)?n:[n]}function gl(n,e=100,a=1/0){try{return km("",n,e,a)}catch(o){return{ERROR:`**non-serializable** (${o})`}}}function iv(n,e=3,a=100*1024){const o=gl(n,e);return FI(o)>a?iv(n,e-1,a):o}function km(n,e,a=1/0,o=1/0,l=CI()){const[p,f]=l;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const d=OI(n,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:a;if(c===0)return d.replace("object ","");if(p(e))return"[Circular ~]";const h=e;if(h&&typeof h.toJSON=="function")try{const A=h.toJSON();return km("",A,c-1,o,l)}catch{}const y=Array.isArray(e)?[]:{};let w=0;const k=ev(e);for(const A in k){if(!Object.prototype.hasOwnProperty.call(k,A))continue;if(w>=o){y[A]="[MaxProperties ~]";break}const S=k[A];y[A]=km(A,S,c-1,o,l),w++}return f(e),y}function OI(n,e){try{if(n==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(n==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Yw(e))return"[VueViewModel]";if(eI(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${vl(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const a=BI(e);return/^HTML(\w*)Element$/.test(a)?`[HTMLElement: ${a}]`:`[object ${a}]`}catch(a){return`**non-serializable** (${a})`}}function BI(n){const e=Object.getPrototypeOf(n);return e?e.constructor.name:"null prototype"}function RI(n){return~-encodeURI(n).split(/%..|./).length}function FI(n){return RI(JSON.stringify(n))}var Ii;(function(n){n[n.PENDING=0]="PENDING";const a=1;n[n.RESOLVED=a]="RESOLVED";const o=2;n[n.REJECTED=o]="REJECTED"})(Ii||(Ii={}));function su(n){return new xs(e=>{e(n)})}function Fd(n){return new xs((e,a)=>{a(n)})}class xs{constructor(e){xs.prototype.__init.call(this),xs.prototype.__init2.call(this),xs.prototype.__init3.call(this),xs.prototype.__init4.call(this),this._state=Ii.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(a){this._reject(a)}}then(e,a){return new xs((o,l)=>{this._handlers.push([!1,p=>{if(!e)o(p);else try{o(e(p))}catch(f){l(f)}},p=>{if(!a)l(p);else try{o(a(p))}catch(f){l(f)}}]),this._executeHandlers()})}catch(e){return this.then(a=>a,e)}finally(e){return new xs((a,o)=>{let l,p;return this.then(f=>{p=!1,l=f,e&&e()},f=>{p=!0,l=f,e&&e()}).then(()=>{if(p){o(l);return}a(l)})})}__init(){this._resolve=e=>{this._setResult(Ii.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Ii.REJECTED,e)}}__init3(){this._setResult=(e,a)=>{if(this._state===Ii.PENDING){if(Xd(a)){a.then(this._resolve,this._reject);return}this._state=e,this._value=a,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ii.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(a=>{a[0]||(this._state===Ii.RESOLVED&&a[1](this._value),this._state===Ii.REJECTED&&a[2](this._value),a[0]=!0)})}}}function MI(n){const e=[];function a(){return n===void 0||e.length<n}function o(f){return e.splice(e.indexOf(f),1)[0]||Promise.resolve(void 0)}function l(f){if(!a())return Fd(new hi("Not adding Promise because buffer limit was reached."));const d=f();return e.indexOf(d)===-1&&e.push(d),d.then(()=>o(d)).then(null,()=>o(d).then(null,()=>{})),d}function p(f){return new xs((d,c)=>{let h=e.length;if(!h)return d(!0);const y=setTimeout(()=>{f&&f>0&&d(!1)},f);e.forEach(w=>{su(w).then(()=>{--h||(clearTimeout(y),d(!0))},c)})})}return{$:e,add:l,drain:p}}function Zh(n){if(!n)return{};const e=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const a=e[6]||"",o=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:a,hash:o,relative:e[5]+a+o}}const PI=["fatal","error","warning","log","info","debug"];function LI(n){return n==="warn"?"warning":PI.includes(n)?n:"log"}const UI="sentry-",zI=/^sentry-/;function $I(n){const e=GI(n);if(!e)return;const a=Object.entries(e).reduce((o,[l,p])=>{if(l.match(zI)){const f=l.slice(UI.length);o[f]=p}return o},{});if(Object.keys(a).length>0)return a}function GI(n){if(!(!n||!Bi(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((e,a)=>{const o=Ab(a);return Object.entries(o).forEach(([l,p])=>{e[l]=p}),e},{}):Ab(n)}function Ab(n){return n.split(",").map(e=>e.split("=").map(a=>decodeURIComponent(a.trim()))).reduce((e,[a,o])=>(a&&o&&(e[a]=o),e),{})}function tp(n,e=[]){return[n,e]}function VI(n,e){const[a,o]=n;return[a,[...o,e]]}function Sb(n,e){const a=n[1];for(const o of a){const l=o[0].type;if(e(o,l))return!0}return!1}function _m(n){return $a.__SENTRY__&&$a.__SENTRY__.encodePolyfill?$a.__SENTRY__.encodePolyfill(n):new TextEncoder().encode(n)}function HI(n){const[e,a]=n;let o=JSON.stringify(e);function l(p){typeof o=="string"?o=typeof p=="string"?o+p:[_m(o),p]:o.push(typeof p=="string"?_m(p):p)}for(const p of a){const[f,d]=p;if(l(`
${JSON.stringify(f)}
`),typeof d=="string"||d instanceof Uint8Array)l(d);else{let c;try{c=JSON.stringify(d)}catch{c=JSON.stringify(gl(d))}l(c)}}return typeof o=="string"?o:WI(o)}function WI(n){const e=n.reduce((l,p)=>l+p.length,0),a=new Uint8Array(e);let o=0;for(const l of n)a.set(l,o),o+=l.length;return a}function KI(n){const e=typeof n.data=="string"?_m(n.data):n.data;return[ks({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}const XI={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Tb(n){return XI[n]}function lv(n){if(!n||!n.sdk)return;const{name:e,version:a}=n.sdk;return{name:e,version:a}}function YI(n,e,a,o){const l=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:n.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!a&&o&&{dsn:Zd(o)},...l&&{trace:ks({...l})}}}function qI(n,e,a){const o=[{type:"client_report"},{timestamp:ep(),discarded_events:n}];return tp(e?{dsn:e}:{},[o])}const ZI=60*1e3;function JI(n,e=Date.now()){const a=parseInt(`${n}`,10);if(!isNaN(a))return a*1e3;const o=Date.parse(`${n}`);return isNaN(o)?ZI:o-e}function QI(n,e){return n[e]||n.all||0}function eN(n,e,a=Date.now()){return QI(n,e)>a}function tN(n,{statusCode:e,headers:a},o=Date.now()){const l={...n},p=a&&a["x-sentry-rate-limits"],f=a&&a["retry-after"];if(p)for(const d of p.trim().split(",")){const[c,h,,,y]=d.split(":",5),w=parseInt(c,10),k=(isNaN(w)?60:w)*1e3;if(!h)l.all=o+k;else for(const A of h.split(";"))A==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(l[A]=o+k):l[A]=o+k}else f?l.all=o+JI(f,o):e===429&&(l.all=o+60*1e3);return l}function jb(){return{traceId:Ts(),spanId:Ts().substring(16)}}const xd=$a;function nN(){const n=xd.chrome,e=n&&n.app&&n.app.runtime,a="history"in xd&&!!xd.history.pushState&&!!xd.history.replaceState;return!e&&a}const ir=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Jd(){return f1($a),$a}function f1(n){const e=n.__SENTRY__=n.__SENTRY__||{};return e.version=e.version||nu,e[nu]=e[nu]||{}}function aN(n){const e=Ri(),a={sid:Ts(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>oN(a)};return n&&tc(a,n),a}function tc(n,e={}){if(e.user&&(!n.ipAddress&&e.user.ip_address&&(n.ipAddress=e.user.ip_address),!n.did&&!e.did&&(n.did=e.user.id||e.user.email||e.user.username)),n.timestamp=e.timestamp||Ri(),e.abnormal_mechanism&&(n.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(n.ignoreDuration=e.ignoreDuration),e.sid&&(n.sid=e.sid.length===32?e.sid:Ts()),e.init!==void 0&&(n.init=e.init),!n.did&&e.did&&(n.did=`${e.did}`),typeof e.started=="number"&&(n.started=e.started),n.ignoreDuration)n.duration=void 0;else if(typeof e.duration=="number")n.duration=e.duration;else{const a=n.timestamp-n.started;n.duration=a>=0?a:0}e.release&&(n.release=e.release),e.environment&&(n.environment=e.environment),!n.ipAddress&&e.ipAddress&&(n.ipAddress=e.ipAddress),!n.userAgent&&e.userAgent&&(n.userAgent=e.userAgent),typeof e.errors=="number"&&(n.errors=e.errors),e.status&&(n.status=e.status)}function rN(n,e){let a={};n.status==="ok"&&(a={status:"exited"}),tc(n,a)}function oN(n){return ks({sid:`${n.sid}`,init:n.init,started:new Date(n.started*1e3).toISOString(),timestamp:new Date(n.timestamp*1e3).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}const Em="_sentrySpan";function Ib(n,e){e?ru(n,Em,e):delete n[Em]}function Nb(n){return n[Em]}const sN=100;class h1{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=jb()}clone(){const e=new h1;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Ib(e,Nb(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&tc(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,a){return this._tags={...this._tags,[e]:a},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,a){return this._extra={...this._extra,[e]:a},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,a){return a===null?delete this._contexts[e]:this._contexts[e]=a,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const a=typeof e=="function"?e(this):e,[o,l]=a instanceof iu?[a.getScopeData(),a.getRequestSession()]:ec(a)?[e,e.requestSession]:[],{tags:p,extra:f,user:d,contexts:c,level:h,fingerprint:y=[],propagationContext:w}=o||{};return this._tags={...this._tags,...p},this._extra={...this._extra,...f},this._contexts={...this._contexts,...c},d&&Object.keys(d).length&&(this._user=d),h&&(this._level=h),y.length&&(this._fingerprint=y),w&&(this._propagationContext=w),l&&(this._requestSession=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Ib(this,void 0),this._attachments=[],this._propagationContext=jb(),this._notifyScopeListeners(),this}addBreadcrumb(e,a){const o=typeof a=="number"?a:sN;if(o<=0)return this;const l={timestamp:ep(),...e},p=this._breadcrumbs;return p.push(l),this._breadcrumbs=p.length>o?p.slice(-o):p,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Nb(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,a){const o=a&&a.event_id?a.event_id:Ts();if(!this._client)return ta.warn("No client configured on scope - will not capture exception!"),o;const l=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:l,...a,event_id:o},this),o}captureMessage(e,a,o){const l=o&&o.event_id?o.event_id:Ts();if(!this._client)return ta.warn("No client configured on scope - will not capture message!"),l;const p=new Error(e);return this._client.captureMessage(e,a,{originalException:e,syntheticException:p,...o,event_id:l},this),l}captureEvent(e,a){const o=a&&a.event_id?a.event_id:Ts();return this._client?(this._client.captureEvent(e,{...a,event_id:o},this),o):(ta.warn("No client configured on scope - will not capture event!"),o)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const iu=h1;function iN(){return qd("defaultCurrentScope",()=>new iu)}function lN(){return qd("defaultIsolationScope",()=>new iu)}class uN{constructor(e,a){let o;e?o=e:o=new iu;let l;a?l=a:l=new iu,this._stack=[{scope:o}],this._isolationScope=l}withScope(e){const a=this._pushScope();let o;try{o=e(a)}catch(l){throw this._popScope(),l}return Xd(o)?o.then(l=>(this._popScope(),l),l=>{throw this._popScope(),l}):(this._popScope(),o)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function nc(){const n=Jd(),e=f1(n);return e.stack=e.stack||new uN(iN(),lN())}function cN(n){return nc().withScope(n)}function pN(n,e){const a=nc();return a.withScope(()=>(a.getStackTop().scope=n,e(n)))}function Db(n){return nc().withScope(()=>n(nc().getIsolationScope()))}function dN(){return{withIsolationScope:Db,withScope:cN,withSetScope:pN,withSetIsolationScope:(n,e)=>Db(e),getCurrentScope:()=>nc().getScope(),getIsolationScope:()=>nc().getIsolationScope()}}function m1(n){const e=f1(n);return e.acs?e.acs:dN()}function kl(){const n=Jd();return m1(n).getCurrentScope()}function gc(){const n=Jd();return m1(n).getIsolationScope()}function fN(){return qd("globalScope",()=>new iu)}function hN(...n){const e=Jd(),a=m1(e);if(n.length===2){const[o,l]=n;return o?a.withSetScope(o,l):a.withScope(l)}return a.withScope(n[0])}function No(){return kl().getClient()}const mN="_sentryMetrics";function gN(n){const e=n[mN];if(!e)return;const a={};for(const[,[o,l]]of e)(a[o]||(a[o]=[])).push(ks(l));return a}const yN="sentry.source",bN="sentry.sample_rate",wN="sentry.op",vN="sentry.origin",xN=0,kN=1,_N=1;function EN(n){const{spanId:e,traceId:a}=n.spanContext(),{parent_span_id:o}=Md(n);return ks({parent_span_id:o,span_id:e,trace_id:a})}function Cb(n){return typeof n=="number"?Ob(n):Array.isArray(n)?n[0]+n[1]/1e9:n instanceof Date?Ob(n.getTime()):Ri()}function Ob(n){return n>9999999999?n/1e3:n}function Md(n){if(SN(n))return n.getSpanJSON();try{const{spanId:e,traceId:a}=n.spanContext();if(AN(n)){const{attributes:o,startTime:l,name:p,endTime:f,parentSpanId:d,status:c}=n;return ks({span_id:e,trace_id:a,data:o,description:p,parent_span_id:d,start_timestamp:Cb(l),timestamp:Cb(f)||void 0,status:jN(c),op:o[wN],origin:o[vN],_metrics_summary:gN(n)})}return{span_id:e,trace_id:a}}catch{return{}}}function AN(n){const e=n;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function SN(n){return typeof n.getSpanJSON=="function"}function TN(n){const{traceFlags:e}=n.spanContext();return e===_N}function jN(n){if(!(!n||n.code===xN))return n.code===kN?"ok":n.message||"unknown_error"}const IN="_sentryRootSpan";function uv(n){return n[IN]||n}function NN(n){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=No(),a=e&&e.getOptions();return!!a&&(a.enableTracing||"tracesSampleRate"in a||"tracesSampler"in a)}const g1="production",DN="_frozenDsc";function cv(n,e){const a=e.getOptions(),{publicKey:o}=e.getDsn()||{},l=ks({environment:a.environment||g1,release:a.release,public_key:o,trace_id:n});return e.emit("createDsc",l),l}function CN(n){const e=No();if(!e)return{};const a=cv(Md(n).trace_id||"",e),o=uv(n),l=o[DN];if(l)return l;const p=o.spanContext().traceState,f=p&&p.get("sentry.dsc"),d=f&&$I(f);if(d)return d;const c=Md(o),h=c.data||{},y=h[bN];y!=null&&(a.sample_rate=`${y}`);const w=h[yN],k=c.description;return w!=="url"&&k&&(a.transaction=k),NN()&&(a.sampled=String(TN(o))),e.emit("createDsc",a,o),a}function ON(n){if(typeof n=="boolean")return Number(n);const e=typeof n=="string"?parseFloat(n):n;if(typeof e!="number"||isNaN(e)||e<0||e>1){ir&&ta.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`);return}return e}function BN(n,e){return e&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||e.name,n.sdk.version=n.sdk.version||e.version,n.sdk.integrations=[...n.sdk.integrations||[],...e.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...e.packages||[]]),n}function RN(n,e,a,o){const l=lv(a),p={sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&e&&{dsn:Zd(e)}},f="aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()];return tp(p,[f])}function FN(n,e,a,o){const l=lv(a),p=n.type&&n.type!=="replay_event"?n.type:"event";BN(n,a&&a.sdk);const f=YI(n,l,o,e);return delete n.sdkProcessingMetadata,tp(f,[[{type:p},n]])}function Am(n,e,a,o=0){return new xs((l,p)=>{const f=n[o];if(e===null||typeof f!="function")l(e);else{const d=f({...e},a);ir&&f.id&&d===null&&ta.log(`Event processor "${f.id}" dropped event`),Xd(d)?d.then(c=>Am(n,c,a,o+1).then(l)).then(null,p):Am(n,d,a,o+1).then(l).then(null,p)}})}function MN(n,e){const{fingerprint:a,span:o,breadcrumbs:l,sdkProcessingMetadata:p}=e;PN(n,e),o&&zN(n,o),$N(n,a),LN(n,l),UN(n,p)}function Bb(n,e){const{extra:a,tags:o,user:l,contexts:p,level:f,sdkProcessingMetadata:d,breadcrumbs:c,fingerprint:h,eventProcessors:y,attachments:w,propagationContext:k,transactionName:A,span:S}=e;Lc(n,"extra",a),Lc(n,"tags",o),Lc(n,"user",l),Lc(n,"contexts",p),Lc(n,"sdkProcessingMetadata",d),f&&(n.level=f),A&&(n.transactionName=A),S&&(n.span=S),c.length&&(n.breadcrumbs=[...n.breadcrumbs,...c]),h.length&&(n.fingerprint=[...n.fingerprint,...h]),y.length&&(n.eventProcessors=[...n.eventProcessors,...y]),w.length&&(n.attachments=[...n.attachments,...w]),n.propagationContext={...n.propagationContext,...k}}function Lc(n,e,a){if(a&&Object.keys(a).length){n[e]={...n[e]};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[e][o]=a[o])}}function PN(n,e){const{extra:a,tags:o,user:l,contexts:p,level:f,transactionName:d}=e,c=ks(a);c&&Object.keys(c).length&&(n.extra={...c,...n.extra});const h=ks(o);h&&Object.keys(h).length&&(n.tags={...h,...n.tags});const y=ks(l);y&&Object.keys(y).length&&(n.user={...y,...n.user});const w=ks(p);w&&Object.keys(w).length&&(n.contexts={...w,...n.contexts}),f&&(n.level=f),d&&n.type!=="transaction"&&(n.transaction=d)}function LN(n,e){const a=[...n.breadcrumbs||[],...e];n.breadcrumbs=a.length?a:void 0}function UN(n,e){n.sdkProcessingMetadata={...n.sdkProcessingMetadata,...e}}function zN(n,e){n.contexts={trace:EN(e),...n.contexts},n.sdkProcessingMetadata={dynamicSamplingContext:CN(e),...n.sdkProcessingMetadata};const a=uv(e),o=Md(a).description;o&&!n.transaction&&n.type==="transaction"&&(n.transaction=o)}function $N(n,e){n.fingerprint=n.fingerprint?sv(n.fingerprint):[],e&&(n.fingerprint=n.fingerprint.concat(e)),n.fingerprint&&!n.fingerprint.length&&delete n.fingerprint}function GN(n,e,a,o,l,p){const{normalizeDepth:f=3,normalizeMaxBreadth:d=1e3}=n,c={...e,event_id:e.event_id||a.event_id||Ts(),timestamp:e.timestamp||ep()},h=a.integrations||n.integrations.map(I=>I.name);VN(c,n),KN(c,h),l&&l.emit("applyFrameMetadata",e),e.type===void 0&&HN(c,n.stackParser);const y=YN(o,a.captureContext);a.mechanism&&Xc(c,a.mechanism);const w=l?l.getEventProcessors():[],k=fN().getScopeData();if(p){const I=p.getScopeData();Bb(k,I)}if(y){const I=y.getScopeData();Bb(k,I)}const A=[...a.attachments||[],...k.attachments];A.length&&(a.attachments=A),MN(c,k);const S=[...w,...k.eventProcessors];return Am(S,c,a).then(I=>(I&&WN(I),typeof f=="number"&&f>0?XN(I,f,d):I))}function VN(n,e){const{environment:a,release:o,dist:l,maxValueLength:p=250}=e;"environment"in n||(n.environment="environment"in e?a:g1),n.release===void 0&&o!==void 0&&(n.release=o),n.dist===void 0&&l!==void 0&&(n.dist=l),n.message&&(n.message=Qu(n.message,p));const f=n.exception&&n.exception.values&&n.exception.values[0];f&&f.value&&(f.value=Qu(f.value,p));const d=n.request;d&&d.url&&(d.url=Qu(d.url,p))}const Rb=new WeakMap;function HN(n,e){const a=$a._sentryDebugIds;if(!a)return;let o;const l=Rb.get(e);l?o=l:(o=new Map,Rb.set(e,o));const p=Object.entries(a).reduce((f,[d,c])=>{let h;const y=o.get(d);y?h=y:(h=e(d),o.set(d,h));for(let w=h.length-1;w>=0;w--){const k=h[w];if(k.filename){f[k.filename]=c;break}}return f},{});try{n.exception.values.forEach(f=>{f.stacktrace.frames.forEach(d=>{d.filename&&(d.debug_id=p[d.filename])})})}catch{}}function WN(n){const e={};try{n.exception.values.forEach(o=>{o.stacktrace.frames.forEach(l=>{l.debug_id&&(l.abs_path?e[l.abs_path]=l.debug_id:l.filename&&(e[l.filename]=l.debug_id),delete l.debug_id)})})}catch{}if(Object.keys(e).length===0)return;n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];const a=n.debug_meta.images;Object.entries(e).forEach(([o,l])=>{a.push({type:"sourcemap",code_file:o,debug_id:l})})}function KN(n,e){e.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...e])}function XN(n,e,a){if(!n)return null;const o={...n,...n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(l=>({...l,...l.data&&{data:gl(l.data,e,a)}}))},...n.user&&{user:gl(n.user,e,a)},...n.contexts&&{contexts:gl(n.contexts,e,a)},...n.extra&&{extra:gl(n.extra,e,a)}};return n.contexts&&n.contexts.trace&&o.contexts&&(o.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(o.contexts.trace.data=gl(n.contexts.trace.data,e,a))),n.spans&&(o.spans=n.spans.map(l=>({...l,...l.data&&{data:gl(l.data,e,a)}}))),o}function YN(n,e){if(!e)return n;const a=n?n.clone():new iu;return a.update(e),a}function qN(n,e){return kl().captureException(n,void 0)}function pv(n,e){return kl().captureEvent(n,e)}function ZN(n){gc().setUser(n)}function Fb(n){const e=No(),a=gc(),o=kl(),{release:l,environment:p=g1}=e&&e.getOptions()||{},{userAgent:f}=$a.navigator||{},d=aN({release:l,environment:p,user:o.getUser()||a.getUser(),...f&&{userAgent:f},...n}),c=a.getSession();return c&&c.status==="ok"&&tc(c,{status:"exited"}),dv(),a.setSession(d),o.setSession(d),d}function dv(){const n=gc(),e=kl(),a=e.getSession()||n.getSession();a&&rN(a),fv(),n.setSession(),e.setSession()}function fv(){const n=gc(),e=kl(),a=No(),o=e.getSession()||n.getSession();o&&a&&a.captureSession(o)}function Mb(n=!1){if(n){dv();return}fv()}const JN="7";function QN(n){const e=n.protocol?`${n.protocol}:`:"",a=n.port?`:${n.port}`:"";return`${e}//${n.host}${a}${n.path?`/${n.path}`:""}/api/`}function eD(n){return`${QN(n)}${n.projectId}/envelope/`}function tD(n,e){return mI({sentry_key:n.publicKey,sentry_version:JN,...e&&{sentry_client:`${e.name}/${e.version}`}})}function nD(n,e,a){return e||`${eD(n)}?${tD(n,a)}`}const Pb=[];function aD(n){const e={};return n.forEach(a=>{const{name:o}=a,l=e[o];l&&!l.isDefaultInstance&&a.isDefaultInstance||(e[o]=a)}),Object.values(e)}function rD(n){const e=n.defaultIntegrations||[],a=n.integrations;e.forEach(f=>{f.isDefaultInstance=!0});let o;Array.isArray(a)?o=[...e,...a]:typeof a=="function"?o=sv(a(e)):o=e;const l=aD(o),p=l.findIndex(f=>f.name==="Debug");if(p>-1){const[f]=l.splice(p,1);l.push(f)}return l}function oD(n,e){const a={};return e.forEach(o=>{o&&hv(n,o,a)}),a}function Lb(n,e){for(const a of e)a&&a.afterAllSetup&&a.afterAllSetup(n)}function hv(n,e,a){if(a[e.name]){ir&&ta.log(`Integration skipped because it was already installed: ${e.name}`);return}if(a[e.name]=e,Pb.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),Pb.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(n),typeof e.preprocessEvent=="function"){const o=e.preprocessEvent.bind(e);n.on("preprocessEvent",(l,p)=>o(l,p,n))}if(typeof e.processEvent=="function"){const o=e.processEvent.bind(e),l=Object.assign((p,f)=>o(p,f,n),{id:e.name});n.addEventProcessor(l)}ir&&ta.log(`Integration installed: ${e.name}`)}const Ub="Not capturing exception because it's already been captured.";class sD{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=hI(e.dsn):ir&&ta.warn("No DSN provided, client will not send events."),this._dsn){const a=nD(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:a})}}captureException(e,a,o){const l=Ts();if(Eb(e))return ir&&ta.log(Ub),l;const p={event_id:l,...a};return this._process(this.eventFromException(e,p).then(f=>this._captureEvent(f,p,o))),p.event_id}captureMessage(e,a,o,l){const p={event_id:Ts(),...o},f=u1(e)?e:String(e),d=c1(e)?this.eventFromMessage(f,a,p):this.eventFromException(e,p);return this._process(d.then(c=>this._captureEvent(c,p,l))),p.event_id}captureEvent(e,a,o){const l=Ts();if(a&&a.originalException&&Eb(a.originalException))return ir&&ta.log(Ub),l;const p={event_id:l,...a},d=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,p,d||o)),p.event_id}captureSession(e){typeof e.release!="string"?ir&&ta.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),tc(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const a=this._transport;return a?(this.emit("flush"),this._isClientDoneProcessing(e).then(o=>a.flush(e).then(l=>o&&l))):su(!0)}close(e){return this.flush(e).then(a=>(this.getOptions().enabled=!1,this.emit("close"),a))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const a=this._integrations[e.name];hv(this,e,this._integrations),a||Lb(this,[e])}sendEvent(e,a={}){this.emit("beforeSendEvent",e,a);let o=FN(e,this._dsn,this._options._metadata,this._options.tunnel);for(const p of a.attachments||[])o=VI(o,KI(p));const l=this.sendEnvelope(o);l&&l.then(p=>this.emit("afterSendEvent",e,p),null)}sendSession(e){const a=RN(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(a)}recordDroppedEvent(e,a,o){if(this._options.sendClientReports){const l=typeof o=="number"?o:1,p=`${e}:${a}`;ir&&ta.log(`Recording outcome: "${p}"${l>1?` (${l} times)`:""}`),this._outcomes[p]=(this._outcomes[p]||0)+l}}on(e,a){const o=this._hooks[e]=this._hooks[e]||[];return o.push(a),()=>{const l=o.indexOf(a);l>-1&&o.splice(l,1)}}emit(e,...a){const o=this._hooks[e];o&&o.forEach(l=>l(...a))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,a=>(ir&&ta.error("Error while sending event:",a),a)):(ir&&ta.error("Transport disabled"),su({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=oD(this,e),Lb(this,e)}_updateSessionFromEvent(e,a){let o=!1,l=!1;const p=a.exception&&a.exception.values;if(p){l=!0;for(const c of p){const h=c.mechanism;if(h&&h.handled===!1){o=!0;break}}}const f=e.status==="ok";(f&&e.errors===0||f&&o)&&(tc(e,{...o&&{status:"crashed"},errors:e.errors||Number(l||o)}),this.captureSession(e))}_isClientDoneProcessing(e){return new xs(a=>{let o=0;const l=1,p=setInterval(()=>{this._numProcessing==0?(clearInterval(p),a(!0)):(o+=l,e&&o>=e&&(clearInterval(p),a(!1)))},l)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,a,o,l=gc()){const p=this.getOptions(),f=Object.keys(this._integrations);return!a.integrations&&f.length>0&&(a.integrations=f),this.emit("preprocessEvent",e,a),e.type||l.setLastEventId(e.event_id||a.event_id),GN(p,e,a,o,this,l).then(d=>{if(d===null)return d;const c={...l.getPropagationContext(),...o?o.getPropagationContext():void 0};if(!(d.contexts&&d.contexts.trace)&&c){const{traceId:y,spanId:w,parentSpanId:k,dsc:A}=c;d.contexts={trace:ks({trace_id:y,span_id:w,parent_span_id:k}),...d.contexts};const S=A||cv(y,this);d.sdkProcessingMetadata={dynamicSamplingContext:S,...d.sdkProcessingMetadata}}return d})}_captureEvent(e,a={},o){return this._processEvent(e,a,o).then(l=>l.event_id,l=>{if(ir){const p=l;p.logLevel==="log"?ta.log(p.message):ta.warn(p)}})}_processEvent(e,a,o){const l=this.getOptions(),{sampleRate:p}=l,f=gv(e),d=mv(e),c=e.type||"error",h=`before send for type \`${c}\``,y=typeof p>"u"?void 0:ON(p);if(d&&typeof y=="number"&&Math.random()>y)return this.recordDroppedEvent("sample_rate","error",e),Fd(new hi(`Discarding event because it's not included in the random sample (sampling rate = ${p})`,"log"));const w=c==="replay_event"?"replay":c,A=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,a,o,A).then(S=>{if(S===null)throw this.recordDroppedEvent("event_processor",w,e),new hi("An event processor returned `null`, will not send event.","log");if(a.data&&a.data.__sentry__===!0)return S;const I=lD(this,l,S,a);return iD(I,h)}).then(S=>{if(S===null){if(this.recordDroppedEvent("before_send",w,e),f){const V=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",V)}throw new hi(`${h} returned \`null\`, will not send event.`,"log")}const T=o&&o.getSession();if(!f&&T&&this._updateSessionFromEvent(T,S),f){const j=S.sdkProcessingMetadata&&S.sdkProcessingMetadata.spanCountBeforeProcessing||0,V=S.spans?S.spans.length:0,C=j-V;C>0&&this.recordDroppedEvent("before_send","span",C)}const I=S.transaction_info;if(f&&I&&S.transaction!==e.transaction){const j="custom";S.transaction_info={...I,source:j}}return this.sendEvent(S,a),S}).then(null,S=>{throw S instanceof hi?S:(this.captureException(S,{data:{__sentry__:!0},originalException:S}),new hi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${S}`))})}_process(e){this._numProcessing++,e.then(a=>(this._numProcessing--,a),a=>(this._numProcessing--,a))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([a,o])=>{const[l,p]=a.split(":");return{reason:l,category:p,quantity:o}})}_flushOutcomes(){ir&&ta.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){ir&&ta.log("No outcomes to send");return}if(!this._dsn){ir&&ta.log("No dsn provided, will not send outcomes");return}ir&&ta.log("Sending outcomes:",e);const a=qI(e,this._options.tunnel&&Zd(this._dsn));this.sendEnvelope(a)}}function iD(n,e){const a=`${e} must return \`null\` or a valid event.`;if(Xd(n))return n.then(o=>{if(!ec(o)&&o!==null)throw new hi(a);return o},o=>{throw new hi(`${e} rejected with ${o}`)});if(!ec(n)&&n!==null)throw new hi(a);return n}function lD(n,e,a,o){const{beforeSend:l,beforeSendTransaction:p,beforeSendSpan:f}=e;if(mv(a)&&l)return l(a,o);if(gv(a)){if(a.spans&&f){const d=[];for(const c of a.spans){const h=f(c);h?d.push(h):n.recordDroppedEvent("before_send","span")}a.spans=d}if(p){if(a.spans){const d=a.spans.length;a.sdkProcessingMetadata={...a.sdkProcessingMetadata,spanCountBeforeProcessing:d}}return p(a,o)}}return a}function mv(n){return n.type===void 0}function gv(n){return n.type==="transaction"}function uD(n,e){e.debug===!0&&(ir?ta.enable():Qc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),kl().update(e.initialScope);const o=new n(e);return cD(o),o.init(),o}function cD(n){kl().setClient(n)}const pD=64;function dD(n,e,a=MI(n.bufferSize||pD)){let o={};const l=f=>a.drain(f);function p(f){const d=[];if(Sb(f,(w,k)=>{const A=Tb(k);if(eN(o,A)){const S=zb(w,k);n.recordDroppedEvent("ratelimit_backoff",A,S)}else d.push(w)}),d.length===0)return su({});const c=tp(f[0],d),h=w=>{Sb(c,(k,A)=>{const S=zb(k,A);n.recordDroppedEvent(w,Tb(A),S)})},y=()=>e({body:HI(c)}).then(w=>(w.statusCode!==void 0&&(w.statusCode<200||w.statusCode>=300)&&ir&&ta.warn(`Sentry responded with status code ${w.statusCode} to sent event.`),o=tN(o,w),w),w=>{throw h("network_error"),w});return a.add(y).then(w=>w,w=>{if(w instanceof hi)return ir&&ta.error("Skipped sending event because buffer is full."),h("queue_overflow"),su({});throw w})}return{send:p,flush:l}}function zb(n,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(n)?n[1]:void 0}function fD(n,e,a=[e],o="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${e}`,packages:a.map(p=>({name:`${o}:@sentry/${p}`,version:nu})),version:nu}),n._metadata=l}const hD=100;function lu(n,e){const a=No(),o=gc();if(!a)return;const{beforeBreadcrumb:l=null,maxBreadcrumbs:p=hD}=a.getOptions();if(p<=0)return;const d={timestamp:ep(),...n},c=l?Qc(()=>l(d,e)):d;c!==null&&(a.emit&&a.emit("beforeAddBreadcrumb",c,e),o.addBreadcrumb(c,p))}let $b;const mD="FunctionToString",Gb=new WeakMap,gD=()=>({name:mD,setupOnce(){$b=Function.prototype.toString;try{Function.prototype.toString=function(...n){const e=d1(this),a=Gb.has(No())&&e!==void 0?e:this;return $b.apply(a,n)}}catch{}},setup(n){Gb.set(n,!0)}}),yD=gD,bD=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],wD="InboundFilters",vD=(n={})=>({name:wD,processEvent(e,a,o){const l=o.getOptions(),p=kD(n,l);return _D(e,p)?null:e}}),xD=vD;function kD(n={},e={}){return{allowUrls:[...n.allowUrls||[],...e.allowUrls||[]],denyUrls:[...n.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...e.ignoreErrors||[],...n.disableErrorDefaults?[]:bD],ignoreTransactions:[...n.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:n.ignoreInternal!==void 0?n.ignoreInternal:!0}}function _D(n,e){return e.ignoreInternal&&ID(n)?(ir&&ta.warn(`Event dropped due to being internal Sentry Error.
Event: ${ml(n)}`),!0):ED(n,e.ignoreErrors)?(ir&&ta.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ml(n)}`),!0):DD(n)?(ir&&ta.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ml(n)}`),!0):AD(n,e.ignoreTransactions)?(ir&&ta.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ml(n)}`),!0):SD(n,e.denyUrls)?(ir&&ta.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ml(n)}.
Url: ${Pd(n)}`),!0):TD(n,e.allowUrls)?!1:(ir&&ta.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ml(n)}.
Url: ${Pd(n)}`),!0)}function ED(n,e){return n.type||!e||!e.length?!1:jD(n).some(a=>Yd(a,e))}function AD(n,e){if(n.type!=="transaction"||!e||!e.length)return!1;const a=n.transaction;return a?Yd(a,e):!1}function SD(n,e){if(!e||!e.length)return!1;const a=Pd(n);return a?Yd(a,e):!1}function TD(n,e){if(!e||!e.length)return!0;const a=Pd(n);return a?Yd(a,e):!0}function jD(n){const e=[];n.message&&e.push(n.message);let a;try{a=n.exception.values[n.exception.values.length-1]}catch{}return a&&a.value&&(e.push(a.value),a.type&&e.push(`${a.type}: ${a.value}`)),e}function ID(n){try{return n.exception.values[0].type==="SentryError"}catch{}return!1}function ND(n=[]){for(let e=n.length-1;e>=0;e--){const a=n[e];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}function Pd(n){try{let e;try{e=n.exception.values[0].stacktrace.frames}catch{}return e?ND(e):null}catch{return ir&&ta.error(`Cannot extract url for event ${ml(n)}`),null}}function DD(n){return n.type||!n.exception||!n.exception.values||n.exception.values.length===0?!1:!n.message&&!n.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}const CD="Dedupe",OD=()=>{let n;return{name:CD,processEvent(e){if(e.type)return e;try{if(RD(e,n))return ir&&ta.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return n=e}}},BD=OD;function RD(n,e){return e?!!(FD(n,e)||MD(n,e)):!1}function FD(n,e){const a=n.message,o=e.message;return!(!a&&!o||a&&!o||!a&&o||a!==o||!bv(n,e)||!yv(n,e))}function MD(n,e){const a=Vb(e),o=Vb(n);return!(!a||!o||a.type!==o.type||a.value!==o.value||!bv(n,e)||!yv(n,e))}function yv(n,e){let a=xb(n),o=xb(e);if(!a&&!o)return!0;if(a&&!o||!a&&o||(a=a,o=o,o.length!==a.length))return!1;for(let l=0;l<o.length;l++){const p=o[l],f=a[l];if(p.filename!==f.filename||p.lineno!==f.lineno||p.colno!==f.colno||p.function!==f.function)return!1}return!0}function bv(n,e){let a=n.fingerprint,o=e.fingerprint;if(!a&&!o)return!0;if(a&&!o||!a&&o)return!1;a=a,o=o;try{return a.join("")===o.join("")}catch{return!1}}function Vb(n){return n.exception&&n.exception.values&&n.exception.values[0]}const lr=$a;let Sm=0;function wv(){return Sm>0}function PD(){Sm++,setTimeout(()=>{Sm--})}function ac(n,e={},a){if(typeof n!="function")return n;try{const l=n.__sentry_wrapped__;if(l)return typeof l=="function"?l:n;if(d1(n))return n}catch{return n}const o=function(){const l=Array.prototype.slice.call(arguments);try{const p=l.map(f=>ac(f,e));return n.apply(this,p)}catch(p){throw PD(),hN(f=>{f.addEventProcessor(d=>(e.mechanism&&(xm(d,void 0),Xc(d,e.mechanism)),d.extra={...d.extra,arguments:l},d)),qN(p)}),p}};try{for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(o[l]=n[l])}catch{}Qw(o,n),ru(n,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get(){return n.name}})}catch{}return o}const np=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function y1(n,e){const a=b1(n,e),o={type:e&&e.name,value:GD(e)};return a.length&&(o.stacktrace={frames:a}),o.type===void 0&&o.value===""&&(o.value="Unrecoverable error caught"),o}function LD(n,e,a,o){const l=No(),p=l&&l.getOptions().normalizeDepth,f=XD(e),d={__serialized__:iv(e,p)};if(f)return{exception:{values:[y1(n,f)]},extra:d};const c={exception:{values:[{type:Kd(e)?e.constructor.name:o?"UnhandledRejection":"Error",value:WD(e,{isUnhandledRejection:o})}]},extra:d};if(a){const h=b1(n,a);h.length&&(c.exception.values[0].stacktrace={frames:h})}return c}function Jh(n,e){return{exception:{values:[y1(n,e)]}}}function b1(n,e){const a=e.stacktrace||e.stack||"",o=zD(e),l=$D(e);try{return n(a,o,l)}catch{}return[]}const UD=/Minified React error #\d+;/i;function zD(n){return n&&UD.test(n.message)?1:0}function $D(n){return typeof n.framesToPop=="number"?n.framesToPop:0}function GD(n){const e=n&&n.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function VD(n,e,a,o){const l=a&&a.syntheticException||void 0,p=w1(n,e,l,o);return Xc(p),p.level="error",a&&a.event_id&&(p.event_id=a.event_id),su(p)}function HD(n,e,a="info",o,l){const p=o&&o.syntheticException||void 0,f=Tm(n,e,p,l);return f.level=a,o&&o.event_id&&(f.event_id=o.event_id),su(f)}function w1(n,e,a,o,l){let p;if(Xw(e)&&e.error)return Jh(n,e.error);if(fb(e)||Z2(e)){const f=e;if("stack"in e)p=Jh(n,e);else{const d=f.name||(fb(f)?"DOMError":"DOMException"),c=f.message?`${d}: ${f.message}`:d;p=Tm(n,c,a,o),xm(p,c)}return"code"in f&&(p.tags={...p.tags,"DOMException.code":`${f.code}`}),p}return l1(e)?Jh(n,e):ec(e)||Kd(e)?(p=LD(n,e,a,l),Xc(p,{synthetic:!0}),p):(p=Tm(n,e,a,o),xm(p,`${e}`),Xc(p,{synthetic:!0}),p)}function Tm(n,e,a,o){const l={};if(o&&a){const p=b1(n,a);p.length&&(l.exception={values:[{value:e,stacktrace:{frames:p}}]})}if(u1(e)){const{__sentry_template_string__:p,__sentry_template_values__:f}=e;return l.logentry={message:p,params:f},l}return l.message=e,l}function WD(n,{isUnhandledRejection:e}){const a=gI(n),o=e?"promise rejection":"exception";return Xw(n)?`Event \`ErrorEvent\` captured as ${o} with message \`${n.message}\``:Kd(n)?`Event \`${KD(n)}\` (type=${n.type}) captured as ${o}`:`Object captured as ${o} with keys: ${a}`}function KD(n){try{const e=Object.getPrototypeOf(n);return e?e.constructor.name:void 0}catch{}}function XD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const a=n[e];if(a instanceof Error)return a}}function YD(n,{metadata:e,tunnel:a,dsn:o}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!a&&!!o&&{dsn:Zd(o)}},p=qD(n);return tp(l,[p])}function qD(n){return[{type:"user_report"},n]}class ZD extends sD{constructor(e){const a={parentSpanIsAlwaysRootSpan:!0,...e},o=lr.SENTRY_SDK_SOURCE||DI();fD(a,"browser",["browser"],o),super(a),a.sendClientReports&&lr.document&&lr.document.addEventListener("visibilitychange",()=>{lr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,a){return VD(this._options.stackParser,e,a,this._options.attachStacktrace)}eventFromMessage(e,a="info",o){return HD(this._options.stackParser,e,a,o,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){np&&ta.warn("SDK not enabled, will not capture user feedback.");return}const a=YD(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(a)}_prepareEvent(e,a,o){return e.platform=e.platform||"javascript",super._prepareEvent(e,a,o)}}const JD=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,jo=$a,QD=1e3;let Hb,jm,Im;function eC(n){const e="dom";pu(e,n),du(e,tC)}function tC(){if(!jo.document)return;const n=Ys.bind(null,"dom"),e=Wb(n,!0);jo.document.addEventListener("click",e,!1),jo.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(a=>{const o=jo[a]&&jo[a].prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(ls(o,"addEventListener",function(l){return function(p,f,d){if(p==="click"||p=="keypress")try{const c=this,h=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},y=h[p]=h[p]||{refCount:0};if(!y.handler){const w=Wb(n);y.handler=w,l.call(this,p,w,d)}y.refCount++}catch{}return l.call(this,p,f,d)}}),ls(o,"removeEventListener",function(l){return function(p,f,d){if(p==="click"||p=="keypress")try{const c=this,h=c.__sentry_instrumentation_handlers__||{},y=h[p];y&&(y.refCount--,y.refCount<=0&&(l.call(this,p,y.handler,d),y.handler=void 0,delete h[p]),Object.keys(h).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return l.call(this,p,f,d)}}))})}function nC(n){if(n.type!==jm)return!1;try{if(!n.target||n.target._sentryId!==Im)return!1}catch{}return!0}function aC(n,e){return n!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Wb(n,e=!1){return a=>{if(!a||a._sentryCaptured)return;const o=rC(a);if(aC(a.type,o))return;ru(a,"_sentryCaptured",!0),o&&!o._sentryId&&ru(o,"_sentryId",Ts());const l=a.type==="keypress"?"input":a.type;nC(a)||(n({event:a,name:l,global:e}),jm=a.type,Im=o?o._sentryId:void 0),clearTimeout(Hb),Hb=jo.setTimeout(()=>{Im=void 0,jm=void 0},QD)}}function rC(n){try{return n.target}catch{return null}}let kd;function vv(n){const e="history";pu(e,n),du(e,oC)}function oC(){if(!nN())return;const n=jo.onpopstate;jo.onpopstate=function(...a){const o=jo.location.href,l=kd;if(kd=o,Ys("history",{from:l,to:o}),n)try{return n.apply(this,a)}catch{}};function e(a){return function(...o){const l=o.length>2?o[2]:void 0;if(l){const p=kd,f=String(l);kd=f,Ys("history",{from:p,to:f})}return a.apply(this,o)}}ls(jo.history,"pushState",e),ls(jo.history,"replaceState",e)}const Id={};function sC(n){const e=Id[n];if(e)return e;let a=jo[n];if(wm(a))return Id[n]=a.bind(jo);const o=jo.document;if(o&&typeof o.createElement=="function")try{const l=o.createElement("iframe");l.hidden=!0,o.head.appendChild(l);const p=l.contentWindow;p&&p[n]&&(a=p[n]),o.head.removeChild(l)}catch(l){JD&&ta.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,l)}return a&&(Id[n]=a.bind(jo))}function Kb(n){Id[n]=void 0}const Gc="__sentry_xhr_v3__";function iC(n){const e="xhr";pu(e,n),du(e,lC)}function lC(){if(!jo.XMLHttpRequest)return;const n=XMLHttpRequest.prototype;n.open=new Proxy(n.open,{apply(e,a,o){const l=Ri()*1e3,p=Bi(o[0])?o[0].toUpperCase():void 0,f=uC(o[1]);if(!p||!f)return e.apply(a,o);a[Gc]={method:p,url:f,request_headers:{}},p==="POST"&&f.match(/sentry_key/)&&(a.__sentry_own_request__=!0);const d=()=>{const c=a[Gc];if(c&&a.readyState===4){try{c.status_code=a.status}catch{}const h={endTimestamp:Ri()*1e3,startTimestamp:l,xhr:a};Ys("xhr",h)}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?a.onreadystatechange=new Proxy(a.onreadystatechange,{apply(c,h,y){return d(),c.apply(h,y)}}):a.addEventListener("readystatechange",d),a.setRequestHeader=new Proxy(a.setRequestHeader,{apply(c,h,y){const[w,k]=y,A=h[Gc];return A&&Bi(w)&&Bi(k)&&(A.request_headers[w.toLowerCase()]=k),c.apply(h,y)}}),e.apply(a,o)}}),n.send=new Proxy(n.send,{apply(e,a,o){const l=a[Gc];if(!l)return e.apply(a,o);o[0]!==void 0&&(l.body=o[0]);const p={startTimestamp:Ri()*1e3,xhr:a};return Ys("xhr",p),e.apply(a,o)}})}function uC(n){if(Bi(n))return n;try{return n.toString()}catch{}}function cC(n,e=sC("fetch")){let a=0,o=0;function l(p){const f=p.body.length;a+=f,o++;const d={body:p.body,method:"POST",referrerPolicy:"origin",headers:n.headers,keepalive:a<=6e4&&o<15,...n.fetchOptions};if(!e)return Kb("fetch"),Fd("No fetch implementation available");try{return e(n.url,d).then(c=>(a-=f,o--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Kb("fetch"),a-=f,o--,Fd(c)}}return dD(n,l)}const pC=30,dC=50;function Nm(n,e,a,o){const l={filename:n,function:e==="<anonymous>"?ou:e,in_app:!0};return a!==void 0&&(l.lineno=a),o!==void 0&&(l.colno=o),l}const fC=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,hC=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mC=/\((\S*)(?::(\d+))(?::(\d+))\)/,gC=n=>{const e=fC.exec(n);if(e){const[,o,l,p]=e;return Nm(o,ou,+l,+p)}const a=hC.exec(n);if(a){if(a[2]&&a[2].indexOf("eval")===0){const f=mC.exec(a[2]);f&&(a[2]=f[1],a[3]=f[2],a[4]=f[3])}const[l,p]=xv(a[1]||ou,a[2]);return Nm(p,l,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},yC=[pC,gC],bC=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,wC=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vC=n=>{const e=bC.exec(n);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const p=wC.exec(e[3]);p&&(e[1]=e[1]||"eval",e[3]=p[1],e[4]=p[2],e[5]="")}let o=e[3],l=e[1]||ou;return[l,o]=xv(l,o),Nm(o,l,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},xC=[dC,vC],kC=[yC,xC],_C=nv(...kC),xv=(n,e)=>{const a=n.indexOf("safari-extension")!==-1,o=n.indexOf("safari-web-extension")!==-1;return a||o?[n.indexOf("@")!==-1?n.split("@")[0]:ou,a?`safari-extension:${e}`:`safari-web-extension:${e}`]:[n,e]},_d=1024,EC="Breadcrumbs",AC=(n={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...n};return{name:EC,setup(a){e.console&&vI(IC(a)),e.dom&&eC(jC(a,e.dom)),e.xhr&&iC(NC(a)),e.fetch&&EI(DC(a)),e.history&&vv(CC(a)),e.sentry&&a.on("beforeSendEvent",TC(a))}}},SC=AC;function TC(n){return function(a){No()===n&&lu({category:`sentry.${a.type==="transaction"?"transaction":"event"}`,event_id:a.event_id,level:a.level,message:ml(a)},{event:a})}}function jC(n,e){return function(o){if(No()!==n)return;let l,p,f=typeof e=="object"?e.serializeAttribute:void 0,d=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;d&&d>_d&&(np&&ta.warn(`\`dom.maxStringLength\` cannot exceed ${_d}, but a value of ${d} was configured. Sentry will use ${_d} instead.`),d=_d),typeof f=="string"&&(f=[f]);try{const h=o.event,y=OC(h)?h.target:h;l=Zw(y,{keyAttrs:f,maxStringLength:d}),p=iI(y)}catch{l="<unknown>"}if(l.length===0)return;const c={category:`ui.${o.name}`,message:l};p&&(c.data={"ui.component_name":p}),lu(c,{event:o.event,name:o.name,global:o.global})}}function IC(n){return function(a){if(No()!==n)return;const o={category:"console",data:{arguments:a.args,logger:"console"},level:LI(a.level),message:hb(a.args," ")};if(a.level==="assert")if(a.args[0]===!1)o.message=`Assertion failed: ${hb(a.args.slice(1)," ")||"console.assert"}`,o.data.arguments=a.args.slice(1);else return;lu(o,{input:a.args,level:a.level})}}function NC(n){return function(a){if(No()!==n)return;const{startTimestamp:o,endTimestamp:l}=a,p=a.xhr[Gc];if(!o||!l||!p)return;const{method:f,url:d,status_code:c,body:h}=p,y={method:f,url:d,status_code:c},w={xhr:a.xhr,input:h,startTimestamp:o,endTimestamp:l},k=qw(c);lu({category:"xhr",data:y,type:"http",level:k},w)}}function DC(n){return function(a){if(No()!==n)return;const{startTimestamp:o,endTimestamp:l}=a;if(l&&!(a.fetchData.url.match(/sentry_key/)&&a.fetchData.method==="POST"))if(a.error){const p=a.fetchData,f={data:a.error,input:a.args,startTimestamp:o,endTimestamp:l};lu({category:"fetch",data:p,level:"error",type:"http"},f)}else{const p=a.response,f={...a.fetchData,status_code:p&&p.status},d={input:a.args,response:p,startTimestamp:o,endTimestamp:l},c=qw(f.status_code);lu({category:"fetch",data:f,type:"http",level:c},d)}}}function CC(n){return function(a){if(No()!==n)return;let o=a.from,l=a.to;const p=Zh(lr.location.href);let f=o?Zh(o):void 0;const d=Zh(l);(!f||!f.path)&&(f=p),p.protocol===d.protocol&&p.host===d.host&&(l=d.relative),p.protocol===f.protocol&&p.host===f.host&&(o=f.relative),lu({category:"navigation",data:{from:o,to:l}})}}function OC(n){return!!n&&!!n.target}const BC=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],RC="BrowserApiErrors",FC=(n={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...n};return{name:RC,setupOnce(){e.setTimeout&&ls(lr,"setTimeout",Xb),e.setInterval&&ls(lr,"setInterval",Xb),e.requestAnimationFrame&&ls(lr,"requestAnimationFrame",PC),e.XMLHttpRequest&&"XMLHttpRequest"in lr&&ls(XMLHttpRequest.prototype,"send",LC);const a=e.eventTarget;a&&(Array.isArray(a)?a:BC).forEach(UC)}}},MC=FC;function Xb(n){return function(...e){const a=e[0];return e[0]=ac(a,{mechanism:{data:{function:vl(n)},handled:!1,type:"instrument"}}),n.apply(this,e)}}function PC(n){return function(e){return n.apply(this,[ac(e,{mechanism:{data:{function:"requestAnimationFrame",handler:vl(n)},handled:!1,type:"instrument"}})])}}function LC(n){return function(...e){const a=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(l=>{l in a&&typeof a[l]=="function"&&ls(a,l,function(p){const f={mechanism:{data:{function:l,handler:vl(p)},handled:!1,type:"instrument"}},d=d1(p);return d&&(f.mechanism.data.handler=vl(d)),ac(p,f)})}),n.apply(this,e)}}function UC(n){const e=lr,a=e[n]&&e[n].prototype;!a||!a.hasOwnProperty||!a.hasOwnProperty("addEventListener")||(ls(a,"addEventListener",function(o){return function(l,p,f){try{typeof p.handleEvent=="function"&&(p.handleEvent=ac(p.handleEvent,{mechanism:{data:{function:"handleEvent",handler:vl(p),target:n},handled:!1,type:"instrument"}}))}catch{}return o.apply(this,[l,ac(p,{mechanism:{data:{function:"addEventListener",handler:vl(p),target:n},handled:!1,type:"instrument"}}),f])}}),ls(a,"removeEventListener",function(o){return function(l,p,f){const d=p;try{const c=d&&d.__sentry_wrapped__;c&&o.call(this,l,c,f)}catch{}return o.call(this,l,d,f)}}))}const zC="GlobalHandlers",$C=(n={})=>{const e={onerror:!0,onunhandledrejection:!0,...n};return{name:zC,setupOnce(){Error.stackTraceLimit=50},setup(a){e.onerror&&(VC(a),Yb("onerror")),e.onunhandledrejection&&(HC(a),Yb("onunhandledrejection"))}}},GC=$C;function VC(n){TI(e=>{const{stackParser:a,attachStacktrace:o}=kv();if(No()!==n||wv())return;const{msg:l,url:p,line:f,column:d,error:c}=e,h=XC(w1(a,c||l,void 0,o,!1),p,f,d);h.level="error",pv(h,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function HC(n){II(e=>{const{stackParser:a,attachStacktrace:o}=kv();if(No()!==n||wv())return;const l=WC(e),p=c1(l)?KC(l):w1(a,l,void 0,o,!0);p.level="error",pv(p,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function WC(n){if(c1(n))return n;try{if("reason"in n)return n.reason;if("detail"in n&&"reason"in n.detail)return n.detail.reason}catch{}return n}function KC(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}function XC(n,e,a,o){const l=n.exception=n.exception||{},p=l.values=l.values||[],f=p[0]=p[0]||{},d=f.stacktrace=f.stacktrace||{},c=d.frames=d.frames||[],h=isNaN(parseInt(o,10))?void 0:o,y=isNaN(parseInt(a,10))?void 0:a,w=Bi(e)&&e.length>0?e:sI();return c.length===0&&c.push({colno:h,filename:w,function:ou,in_app:!0,lineno:y}),n}function Yb(n){np&&ta.log(`Global Handler attached: ${n}`)}function kv(){const n=No();return n&&n.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const YC=()=>({name:"HttpContext",preprocessEvent(n){if(!lr.navigator&&!lr.location&&!lr.document)return;const e=n.request&&n.request.url||lr.location&&lr.location.href,{referrer:a}=lr.document||{},{userAgent:o}=lr.navigator||{},l={...n.request&&n.request.headers,...a&&{Referer:a},...o&&{"User-Agent":o}},p={...n.request,...e&&{url:e},headers:l};n.request=p}}),qC="cause",ZC=5,JC="LinkedErrors",QC=(n={})=>{const e=n.limit||ZC,a=n.key||qC;return{name:JC,preprocessEvent(o,l,p){const f=p.getOptions();nI(y1,f.stackParser,f.maxValueLength,a,e,o,l)}}},eO=QC;function tO(n){return[xD(),yD(),MC(),SC(),GC(),eO(),BD(),YC()]}function nO(n={}){const e={defaultIntegrations:tO(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:lr.SENTRY_RELEASE&&lr.SENTRY_RELEASE.id?lr.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return n.defaultIntegrations==null&&delete n.defaultIntegrations,{...e,...n}}function aO(){const n=typeof lr.window<"u"&&lr;if(!n)return!1;const e=n.chrome?"chrome":"browser",a=n[e],o=a&&a.runtime&&a.runtime.id,l=lr.location&&lr.location.href||"",p=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],f=!!o&&lr===lr.top&&p.some(c=>l.startsWith(`${c}//`)),d=typeof n.nw<"u";return!!o&&!f&&!d}function rO(n={}){const e=nO(n);if(aO()){Qc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}np&&(av()||ta.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const a={...e,stackParser:bI(e.stackParser||_C),integrations:rD(e),transport:e.transport||cC},o=uD(ZD,a);return e.autoSessionTracking&&oO(),o}function oO(){if(typeof lr.document>"u"){np&&ta.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Fb({ignoreDuration:!0}),Mb(),vv(({from:n,to:e})=>{n!==void 0&&n!==e&&(Fb({ignoreDuration:!0}),Mb())})}var _v={exports:{}};(function(n,e){(function(o,l){n.exports=l()})(self,()=>(()=>{var a={"./adblockpluscore/data/icannPublicSuffixList.js":(f,d)=>{d.icannPublicSuffixes={ac:1,"com.ac":1,"edu.ac":1,"gov.ac":1,"net.ac":1,"mil.ac":1,"org.ac":1,ad:1,"nom.ad":1,ae:1,"co.ae":1,"net.ae":1,"org.ae":1,"sch.ae":1,"ac.ae":1,"gov.ae":1,"mil.ae":1,aero:1,"accident-investigation.aero":1,"accident-prevention.aero":1,"aerobatic.aero":1,"aeroclub.aero":1,"aerodrome.aero":1,"agents.aero":1,"aircraft.aero":1,"airline.aero":1,"airport.aero":1,"air-surveillance.aero":1,"airtraffic.aero":1,"air-traffic-control.aero":1,"ambulance.aero":1,"amusement.aero":1,"association.aero":1,"author.aero":1,"ballooning.aero":1,"broker.aero":1,"caa.aero":1,"cargo.aero":1,"catering.aero":1,"certification.aero":1,"championship.aero":1,"charter.aero":1,"civilaviation.aero":1,"club.aero":1,"conference.aero":1,"consultant.aero":1,"consulting.aero":1,"control.aero":1,"council.aero":1,"crew.aero":1,"design.aero":1,"dgca.aero":1,"educator.aero":1,"emergency.aero":1,"engine.aero":1,"engineer.aero":1,"entertainment.aero":1,"equipment.aero":1,"exchange.aero":1,"express.aero":1,"federation.aero":1,"flight.aero":1,"fuel.aero":1,"gliding.aero":1,"government.aero":1,"groundhandling.aero":1,"group.aero":1,"hanggliding.aero":1,"homebuilt.aero":1,"insurance.aero":1,"journal.aero":1,"journalist.aero":1,"leasing.aero":1,"logistics.aero":1,"magazine.aero":1,"maintenance.aero":1,"media.aero":1,"microlight.aero":1,"modelling.aero":1,"navigation.aero":1,"parachuting.aero":1,"paragliding.aero":1,"passenger-association.aero":1,"pilot.aero":1,"press.aero":1,"production.aero":1,"recreation.aero":1,"repbody.aero":1,"res.aero":1,"research.aero":1,"rotorcraft.aero":1,"safety.aero":1,"scientist.aero":1,"services.aero":1,"show.aero":1,"skydiving.aero":1,"software.aero":1,"student.aero":1,"trader.aero":1,"trading.aero":1,"trainer.aero":1,"union.aero":1,"workinggroup.aero":1,"works.aero":1,af:1,"gov.af":1,"com.af":1,"org.af":1,"net.af":1,"edu.af":1,ag:1,"com.ag":1,"org.ag":1,"net.ag":1,"co.ag":1,"nom.ag":1,ai:1,"off.ai":1,"com.ai":1,"net.ai":1,"org.ai":1,al:1,"com.al":1,"edu.al":1,"gov.al":1,"mil.al":1,"net.al":1,"org.al":1,am:1,"co.am":1,"com.am":1,"commune.am":1,"net.am":1,"org.am":1,ao:1,"ed.ao":1,"gv.ao":1,"og.ao":1,"co.ao":1,"pb.ao":1,"it.ao":1,aq:1,ar:1,"bet.ar":1,"com.ar":1,"coop.ar":1,"edu.ar":1,"gob.ar":1,"gov.ar":1,"int.ar":1,"mil.ar":1,"musica.ar":1,"mutual.ar":1,"net.ar":1,"org.ar":1,"senasa.ar":1,"tur.ar":1,arpa:1,"e164.arpa":1,"in-addr.arpa":1,"ip6.arpa":1,"iris.arpa":1,"uri.arpa":1,"urn.arpa":1,as:1,"gov.as":1,asia:1,at:1,"ac.at":1,"co.at":1,"gv.at":1,"or.at":1,"sth.ac.at":1,au:1,"com.au":1,"net.au":1,"org.au":1,"edu.au":1,"gov.au":1,"asn.au":1,"id.au":1,"info.au":1,"conf.au":1,"oz.au":1,"act.au":1,"nsw.au":1,"nt.au":1,"qld.au":1,"sa.au":1,"tas.au":1,"vic.au":1,"wa.au":1,"act.edu.au":1,"catholic.edu.au":1,"nsw.edu.au":1,"nt.edu.au":1,"qld.edu.au":1,"sa.edu.au":1,"tas.edu.au":1,"vic.edu.au":1,"wa.edu.au":1,"qld.gov.au":1,"sa.gov.au":1,"tas.gov.au":1,"vic.gov.au":1,"wa.gov.au":1,"schools.nsw.edu.au":1,aw:1,"com.aw":1,ax:1,az:1,"com.az":1,"net.az":1,"int.az":1,"gov.az":1,"org.az":1,"edu.az":1,"info.az":1,"pp.az":1,"mil.az":1,"name.az":1,"pro.az":1,"biz.az":1,ba:1,"com.ba":1,"edu.ba":1,"gov.ba":1,"mil.ba":1,"net.ba":1,"org.ba":1,bb:1,"biz.bb":1,"co.bb":1,"com.bb":1,"edu.bb":1,"gov.bb":1,"info.bb":1,"net.bb":1,"org.bb":1,"store.bb":1,"tv.bb":1,bd:2,be:1,"ac.be":1,bf:1,"gov.bf":1,bg:1,"a.bg":1,"b.bg":1,"c.bg":1,"d.bg":1,"e.bg":1,"f.bg":1,"g.bg":1,"h.bg":1,"i.bg":1,"j.bg":1,"k.bg":1,"l.bg":1,"m.bg":1,"n.bg":1,"o.bg":1,"p.bg":1,"q.bg":1,"r.bg":1,"s.bg":1,"t.bg":1,"u.bg":1,"v.bg":1,"w.bg":1,"x.bg":1,"y.bg":1,"z.bg":1,"0.bg":1,"1.bg":1,"2.bg":1,"3.bg":1,"4.bg":1,"5.bg":1,"6.bg":1,"7.bg":1,"8.bg":1,"9.bg":1,bh:1,"com.bh":1,"edu.bh":1,"net.bh":1,"org.bh":1,"gov.bh":1,bi:1,"co.bi":1,"com.bi":1,"edu.bi":1,"or.bi":1,"org.bi":1,biz:1,bj:1,"africa.bj":1,"agro.bj":1,"architectes.bj":1,"assur.bj":1,"avocats.bj":1,"co.bj":1,"com.bj":1,"eco.bj":1,"econo.bj":1,"edu.bj":1,"info.bj":1,"loisirs.bj":1,"money.bj":1,"net.bj":1,"org.bj":1,"ote.bj":1,"resto.bj":1,"restaurant.bj":1,"tourism.bj":1,"univ.bj":1,bm:1,"com.bm":1,"edu.bm":1,"gov.bm":1,"net.bm":1,"org.bm":1,bn:1,"com.bn":1,"edu.bn":1,"gov.bn":1,"net.bn":1,"org.bn":1,bo:1,"com.bo":1,"edu.bo":1,"gob.bo":1,"int.bo":1,"org.bo":1,"net.bo":1,"mil.bo":1,"tv.bo":1,"web.bo":1,"academia.bo":1,"agro.bo":1,"arte.bo":1,"blog.bo":1,"bolivia.bo":1,"ciencia.bo":1,"cooperativa.bo":1,"democracia.bo":1,"deporte.bo":1,"ecologia.bo":1,"economia.bo":1,"empresa.bo":1,"indigena.bo":1,"industria.bo":1,"info.bo":1,"medicina.bo":1,"movimiento.bo":1,"musica.bo":1,"natural.bo":1,"nombre.bo":1,"noticias.bo":1,"patria.bo":1,"politica.bo":1,"profesional.bo":1,"plurinacional.bo":1,"pueblo.bo":1,"revista.bo":1,"salud.bo":1,"tecnologia.bo":1,"tksat.bo":1,"transporte.bo":1,"wiki.bo":1,br:1,"9guacu.br":1,"abc.br":1,"adm.br":1,"adv.br":1,"agr.br":1,"aju.br":1,"am.br":1,"anani.br":1,"aparecida.br":1,"app.br":1,"arq.br":1,"art.br":1,"ato.br":1,"b.br":1,"barueri.br":1,"belem.br":1,"bhz.br":1,"bib.br":1,"bio.br":1,"blog.br":1,"bmd.br":1,"boavista.br":1,"bsb.br":1,"campinagrande.br":1,"campinas.br":1,"caxias.br":1,"cim.br":1,"cng.br":1,"cnt.br":1,"com.br":1,"contagem.br":1,"coop.br":1,"coz.br":1,"cri.br":1,"cuiaba.br":1,"curitiba.br":1,"def.br":1,"des.br":1,"det.br":1,"dev.br":1,"ecn.br":1,"eco.br":1,"edu.br":1,"emp.br":1,"enf.br":1,"eng.br":1,"esp.br":1,"etc.br":1,"eti.br":1,"far.br":1,"feira.br":1,"flog.br":1,"floripa.br":1,"fm.br":1,"fnd.br":1,"fortal.br":1,"fot.br":1,"foz.br":1,"fst.br":1,"g12.br":1,"geo.br":1,"ggf.br":1,"goiania.br":1,"gov.br":1,"ac.gov.br":1,"al.gov.br":1,"am.gov.br":1,"ap.gov.br":1,"ba.gov.br":1,"ce.gov.br":1,"df.gov.br":1,"es.gov.br":1,"go.gov.br":1,"ma.gov.br":1,"mg.gov.br":1,"ms.gov.br":1,"mt.gov.br":1,"pa.gov.br":1,"pb.gov.br":1,"pe.gov.br":1,"pi.gov.br":1,"pr.gov.br":1,"rj.gov.br":1,"rn.gov.br":1,"ro.gov.br":1,"rr.gov.br":1,"rs.gov.br":1,"sc.gov.br":1,"se.gov.br":1,"sp.gov.br":1,"to.gov.br":1,"gru.br":1,"imb.br":1,"ind.br":1,"inf.br":1,"jab.br":1,"jampa.br":1,"jdf.br":1,"joinville.br":1,"jor.br":1,"jus.br":1,"leg.br":1,"lel.br":1,"log.br":1,"londrina.br":1,"macapa.br":1,"maceio.br":1,"manaus.br":1,"maringa.br":1,"mat.br":1,"med.br":1,"mil.br":1,"morena.br":1,"mp.br":1,"mus.br":1,"natal.br":1,"net.br":1,"niteroi.br":1,"nom.br":2,"not.br":1,"ntr.br":1,"odo.br":1,"ong.br":1,"org.br":1,"osasco.br":1,"palmas.br":1,"poa.br":1,"ppg.br":1,"pro.br":1,"psc.br":1,"psi.br":1,"pvh.br":1,"qsl.br":1,"radio.br":1,"rec.br":1,"recife.br":1,"rep.br":1,"ribeirao.br":1,"rio.br":1,"riobranco.br":1,"riopreto.br":1,"salvador.br":1,"sampa.br":1,"santamaria.br":1,"santoandre.br":1,"saobernardo.br":1,"saogonca.br":1,"seg.br":1,"sjc.br":1,"slg.br":1,"slz.br":1,"sorocaba.br":1,"srv.br":1,"taxi.br":1,"tc.br":1,"tec.br":1,"teo.br":1,"the.br":1,"tmp.br":1,"trd.br":1,"tur.br":1,"tv.br":1,"udi.br":1,"vet.br":1,"vix.br":1,"vlog.br":1,"wiki.br":1,"zlg.br":1,bs:1,"com.bs":1,"net.bs":1,"org.bs":1,"edu.bs":1,"gov.bs":1,bt:1,"com.bt":1,"edu.bt":1,"gov.bt":1,"net.bt":1,"org.bt":1,bv:1,bw:1,"co.bw":1,"org.bw":1,by:1,"gov.by":1,"mil.by":1,"com.by":1,"of.by":1,bz:1,"com.bz":1,"net.bz":1,"org.bz":1,"edu.bz":1,"gov.bz":1,ca:1,"ab.ca":1,"bc.ca":1,"mb.ca":1,"nb.ca":1,"nf.ca":1,"nl.ca":1,"ns.ca":1,"nt.ca":1,"nu.ca":1,"on.ca":1,"pe.ca":1,"qc.ca":1,"sk.ca":1,"yk.ca":1,"gc.ca":1,cat:1,cc:1,cd:1,"gov.cd":1,cf:1,cg:1,ch:1,ci:1,"org.ci":1,"or.ci":1,"com.ci":1,"co.ci":1,"edu.ci":1,"ed.ci":1,"ac.ci":1,"net.ci":1,"go.ci":1,"asso.ci":1,"xn--aroport-bya.ci":1,"int.ci":1,"presse.ci":1,"md.ci":1,"gouv.ci":1,ck:2,"www.ck":0,cl:1,"co.cl":1,"gob.cl":1,"gov.cl":1,"mil.cl":1,cm:1,"co.cm":1,"com.cm":1,"gov.cm":1,"net.cm":1,cn:1,"ac.cn":1,"com.cn":1,"edu.cn":1,"gov.cn":1,"net.cn":1,"org.cn":1,"mil.cn":1,"xn--55qx5d.cn":1,"xn--io0a7i.cn":1,"xn--od0alg.cn":1,"ah.cn":1,"bj.cn":1,"cq.cn":1,"fj.cn":1,"gd.cn":1,"gs.cn":1,"gz.cn":1,"gx.cn":1,"ha.cn":1,"hb.cn":1,"he.cn":1,"hi.cn":1,"hl.cn":1,"hn.cn":1,"jl.cn":1,"js.cn":1,"jx.cn":1,"ln.cn":1,"nm.cn":1,"nx.cn":1,"qh.cn":1,"sc.cn":1,"sd.cn":1,"sh.cn":1,"sn.cn":1,"sx.cn":1,"tj.cn":1,"xj.cn":1,"xz.cn":1,"yn.cn":1,"zj.cn":1,"hk.cn":1,"mo.cn":1,"tw.cn":1,co:1,"arts.co":1,"com.co":1,"edu.co":1,"firm.co":1,"gov.co":1,"info.co":1,"int.co":1,"mil.co":1,"net.co":1,"nom.co":1,"org.co":1,"rec.co":1,"web.co":1,com:1,coop:1,cr:1,"ac.cr":1,"co.cr":1,"ed.cr":1,"fi.cr":1,"go.cr":1,"or.cr":1,"sa.cr":1,cu:1,"com.cu":1,"edu.cu":1,"org.cu":1,"net.cu":1,"gov.cu":1,"inf.cu":1,cv:1,"com.cv":1,"edu.cv":1,"int.cv":1,"nome.cv":1,"org.cv":1,cw:1,"com.cw":1,"edu.cw":1,"net.cw":1,"org.cw":1,cx:1,"gov.cx":1,cy:1,"ac.cy":1,"biz.cy":1,"com.cy":1,"ekloges.cy":1,"gov.cy":1,"ltd.cy":1,"mil.cy":1,"net.cy":1,"org.cy":1,"press.cy":1,"pro.cy":1,"tm.cy":1,cz:1,de:1,dj:1,dk:1,dm:1,"com.dm":1,"net.dm":1,"org.dm":1,"edu.dm":1,"gov.dm":1,do:1,"art.do":1,"com.do":1,"edu.do":1,"gob.do":1,"gov.do":1,"mil.do":1,"net.do":1,"org.do":1,"sld.do":1,"web.do":1,dz:1,"art.dz":1,"asso.dz":1,"com.dz":1,"edu.dz":1,"gov.dz":1,"org.dz":1,"net.dz":1,"pol.dz":1,"soc.dz":1,"tm.dz":1,ec:1,"com.ec":1,"info.ec":1,"net.ec":1,"fin.ec":1,"k12.ec":1,"med.ec":1,"pro.ec":1,"org.ec":1,"edu.ec":1,"gov.ec":1,"gob.ec":1,"mil.ec":1,edu:1,ee:1,"edu.ee":1,"gov.ee":1,"riik.ee":1,"lib.ee":1,"med.ee":1,"com.ee":1,"pri.ee":1,"aip.ee":1,"org.ee":1,"fie.ee":1,eg:1,"com.eg":1,"edu.eg":1,"eun.eg":1,"gov.eg":1,"mil.eg":1,"name.eg":1,"net.eg":1,"org.eg":1,"sci.eg":1,er:2,es:1,"com.es":1,"nom.es":1,"org.es":1,"gob.es":1,"edu.es":1,et:1,"com.et":1,"gov.et":1,"org.et":1,"edu.et":1,"biz.et":1,"name.et":1,"info.et":1,"net.et":1,eu:1,fi:1,"aland.fi":1,fj:1,"ac.fj":1,"biz.fj":1,"com.fj":1,"gov.fj":1,"info.fj":1,"mil.fj":1,"name.fj":1,"net.fj":1,"org.fj":1,"pro.fj":1,fk:2,"com.fm":1,"edu.fm":1,"net.fm":1,"org.fm":1,fm:1,fo:1,fr:1,"asso.fr":1,"com.fr":1,"gouv.fr":1,"nom.fr":1,"prd.fr":1,"tm.fr":1,"avoues.fr":1,"cci.fr":1,"greta.fr":1,"huissier-justice.fr":1,ga:1,gb:1,"edu.gd":1,"gov.gd":1,gd:1,ge:1,"com.ge":1,"edu.ge":1,"gov.ge":1,"org.ge":1,"mil.ge":1,"net.ge":1,"pvt.ge":1,gf:1,gg:1,"co.gg":1,"net.gg":1,"org.gg":1,gh:1,"com.gh":1,"edu.gh":1,"gov.gh":1,"org.gh":1,"mil.gh":1,gi:1,"com.gi":1,"ltd.gi":1,"gov.gi":1,"mod.gi":1,"edu.gi":1,"org.gi":1,gl:1,"co.gl":1,"com.gl":1,"edu.gl":1,"net.gl":1,"org.gl":1,gm:1,gn:1,"ac.gn":1,"com.gn":1,"edu.gn":1,"gov.gn":1,"org.gn":1,"net.gn":1,gov:1,gp:1,"com.gp":1,"net.gp":1,"mobi.gp":1,"edu.gp":1,"org.gp":1,"asso.gp":1,gq:1,gr:1,"com.gr":1,"edu.gr":1,"net.gr":1,"org.gr":1,"gov.gr":1,gs:1,gt:1,"com.gt":1,"edu.gt":1,"gob.gt":1,"ind.gt":1,"mil.gt":1,"net.gt":1,"org.gt":1,gu:1,"com.gu":1,"edu.gu":1,"gov.gu":1,"guam.gu":1,"info.gu":1,"net.gu":1,"org.gu":1,"web.gu":1,gw:1,gy:1,"co.gy":1,"com.gy":1,"edu.gy":1,"gov.gy":1,"net.gy":1,"org.gy":1,hk:1,"com.hk":1,"edu.hk":1,"gov.hk":1,"idv.hk":1,"net.hk":1,"org.hk":1,"xn--55qx5d.hk":1,"xn--wcvs22d.hk":1,"xn--lcvr32d.hk":1,"xn--mxtq1m.hk":1,"xn--gmqw5a.hk":1,"xn--ciqpn.hk":1,"xn--gmq050i.hk":1,"xn--zf0avx.hk":1,"xn--io0a7i.hk":1,"xn--mk0axi.hk":1,"xn--od0alg.hk":1,"xn--od0aq3b.hk":1,"xn--tn0ag.hk":1,"xn--uc0atv.hk":1,"xn--uc0ay4a.hk":1,hm:1,hn:1,"com.hn":1,"edu.hn":1,"org.hn":1,"net.hn":1,"mil.hn":1,"gob.hn":1,hr:1,"iz.hr":1,"from.hr":1,"name.hr":1,"com.hr":1,ht:1,"com.ht":1,"shop.ht":1,"firm.ht":1,"info.ht":1,"adult.ht":1,"net.ht":1,"pro.ht":1,"org.ht":1,"med.ht":1,"art.ht":1,"coop.ht":1,"pol.ht":1,"asso.ht":1,"edu.ht":1,"rel.ht":1,"gouv.ht":1,"perso.ht":1,hu:1,"co.hu":1,"info.hu":1,"org.hu":1,"priv.hu":1,"sport.hu":1,"tm.hu":1,"2000.hu":1,"agrar.hu":1,"bolt.hu":1,"casino.hu":1,"city.hu":1,"erotica.hu":1,"erotika.hu":1,"film.hu":1,"forum.hu":1,"games.hu":1,"hotel.hu":1,"ingatlan.hu":1,"jogasz.hu":1,"konyvelo.hu":1,"lakas.hu":1,"media.hu":1,"news.hu":1,"reklam.hu":1,"sex.hu":1,"shop.hu":1,"suli.hu":1,"szex.hu":1,"tozsde.hu":1,"utazas.hu":1,"video.hu":1,id:1,"ac.id":1,"biz.id":1,"co.id":1,"desa.id":1,"go.id":1,"mil.id":1,"my.id":1,"net.id":1,"or.id":1,"ponpes.id":1,"sch.id":1,"web.id":1,ie:1,"gov.ie":1,il:1,"ac.il":1,"co.il":1,"gov.il":1,"idf.il":1,"k12.il":1,"muni.il":1,"net.il":1,"org.il":1,"xn--4dbrk0ce":1,"xn--4dbgdty6c.xn--4dbrk0ce":1,"xn--5dbhl8d.xn--4dbrk0ce":1,"xn--8dbq2a.xn--4dbrk0ce":1,"xn--hebda8b.xn--4dbrk0ce":1,im:1,"ac.im":1,"co.im":1,"com.im":1,"ltd.co.im":1,"net.im":1,"org.im":1,"plc.co.im":1,"tt.im":1,"tv.im":1,in:1,"5g.in":1,"6g.in":1,"ac.in":1,"ai.in":1,"am.in":1,"bihar.in":1,"biz.in":1,"business.in":1,"ca.in":1,"cn.in":1,"co.in":1,"com.in":1,"coop.in":1,"cs.in":1,"delhi.in":1,"dr.in":1,"edu.in":1,"er.in":1,"firm.in":1,"gen.in":1,"gov.in":1,"gujarat.in":1,"ind.in":1,"info.in":1,"int.in":1,"internet.in":1,"io.in":1,"me.in":1,"mil.in":1,"net.in":1,"nic.in":1,"org.in":1,"pg.in":1,"post.in":1,"pro.in":1,"res.in":1,"travel.in":1,"tv.in":1,"uk.in":1,"up.in":1,"us.in":1,info:1,int:1,"eu.int":1,io:1,"com.io":1,iq:1,"gov.iq":1,"edu.iq":1,"mil.iq":1,"com.iq":1,"org.iq":1,"net.iq":1,ir:1,"ac.ir":1,"co.ir":1,"gov.ir":1,"id.ir":1,"net.ir":1,"org.ir":1,"sch.ir":1,"xn--mgba3a4f16a.ir":1,"xn--mgba3a4fra.ir":1,is:1,"net.is":1,"com.is":1,"edu.is":1,"gov.is":1,"org.is":1,"int.is":1,it:1,"gov.it":1,"edu.it":1,"abr.it":1,"abruzzo.it":1,"aosta-valley.it":1,"aostavalley.it":1,"bas.it":1,"basilicata.it":1,"cal.it":1,"calabria.it":1,"cam.it":1,"campania.it":1,"emilia-romagna.it":1,"emiliaromagna.it":1,"emr.it":1,"friuli-v-giulia.it":1,"friuli-ve-giulia.it":1,"friuli-vegiulia.it":1,"friuli-venezia-giulia.it":1,"friuli-veneziagiulia.it":1,"friuli-vgiulia.it":1,"friuliv-giulia.it":1,"friulive-giulia.it":1,"friulivegiulia.it":1,"friulivenezia-giulia.it":1,"friuliveneziagiulia.it":1,"friulivgiulia.it":1,"fvg.it":1,"laz.it":1,"lazio.it":1,"lig.it":1,"liguria.it":1,"lom.it":1,"lombardia.it":1,"lombardy.it":1,"lucania.it":1,"mar.it":1,"marche.it":1,"mol.it":1,"molise.it":1,"piedmont.it":1,"piemonte.it":1,"pmn.it":1,"pug.it":1,"puglia.it":1,"sar.it":1,"sardegna.it":1,"sardinia.it":1,"sic.it":1,"sicilia.it":1,"sicily.it":1,"taa.it":1,"tos.it":1,"toscana.it":1,"trentin-sud-tirol.it":1,"xn--trentin-sd-tirol-rzb.it":1,"trentin-sudtirol.it":1,"xn--trentin-sdtirol-7vb.it":1,"trentin-sued-tirol.it":1,"trentin-suedtirol.it":1,"trentino-a-adige.it":1,"trentino-aadige.it":1,"trentino-alto-adige.it":1,"trentino-altoadige.it":1,"trentino-s-tirol.it":1,"trentino-stirol.it":1,"trentino-sud-tirol.it":1,"xn--trentino-sd-tirol-c3b.it":1,"trentino-sudtirol.it":1,"xn--trentino-sdtirol-szb.it":1,"trentino-sued-tirol.it":1,"trentino-suedtirol.it":1,"trentino.it":1,"trentinoa-adige.it":1,"trentinoaadige.it":1,"trentinoalto-adige.it":1,"trentinoaltoadige.it":1,"trentinos-tirol.it":1,"trentinostirol.it":1,"trentinosud-tirol.it":1,"xn--trentinosd-tirol-rzb.it":1,"trentinosudtirol.it":1,"xn--trentinosdtirol-7vb.it":1,"trentinosued-tirol.it":1,"trentinosuedtirol.it":1,"trentinsud-tirol.it":1,"xn--trentinsd-tirol-6vb.it":1,"trentinsudtirol.it":1,"xn--trentinsdtirol-nsb.it":1,"trentinsued-tirol.it":1,"trentinsuedtirol.it":1,"tuscany.it":1,"umb.it":1,"umbria.it":1,"val-d-aosta.it":1,"val-daosta.it":1,"vald-aosta.it":1,"valdaosta.it":1,"valle-aosta.it":1,"valle-d-aosta.it":1,"valle-daosta.it":1,"valleaosta.it":1,"valled-aosta.it":1,"valledaosta.it":1,"vallee-aoste.it":1,"xn--valle-aoste-ebb.it":1,"vallee-d-aoste.it":1,"xn--valle-d-aoste-ehb.it":1,"valleeaoste.it":1,"xn--valleaoste-e7a.it":1,"valleedaoste.it":1,"xn--valledaoste-ebb.it":1,"vao.it":1,"vda.it":1,"ven.it":1,"veneto.it":1,"ag.it":1,"agrigento.it":1,"al.it":1,"alessandria.it":1,"alto-adige.it":1,"altoadige.it":1,"an.it":1,"ancona.it":1,"andria-barletta-trani.it":1,"andria-trani-barletta.it":1,"andriabarlettatrani.it":1,"andriatranibarletta.it":1,"ao.it":1,"aosta.it":1,"aoste.it":1,"ap.it":1,"aq.it":1,"aquila.it":1,"ar.it":1,"arezzo.it":1,"ascoli-piceno.it":1,"ascolipiceno.it":1,"asti.it":1,"at.it":1,"av.it":1,"avellino.it":1,"ba.it":1,"balsan-sudtirol.it":1,"xn--balsan-sdtirol-nsb.it":1,"balsan-suedtirol.it":1,"balsan.it":1,"bari.it":1,"barletta-trani-andria.it":1,"barlettatraniandria.it":1,"belluno.it":1,"benevento.it":1,"bergamo.it":1,"bg.it":1,"bi.it":1,"biella.it":1,"bl.it":1,"bn.it":1,"bo.it":1,"bologna.it":1,"bolzano-altoadige.it":1,"bolzano.it":1,"bozen-sudtirol.it":1,"xn--bozen-sdtirol-2ob.it":1,"bozen-suedtirol.it":1,"bozen.it":1,"br.it":1,"brescia.it":1,"brindisi.it":1,"bs.it":1,"bt.it":1,"bulsan-sudtirol.it":1,"xn--bulsan-sdtirol-nsb.it":1,"bulsan-suedtirol.it":1,"bulsan.it":1,"bz.it":1,"ca.it":1,"cagliari.it":1,"caltanissetta.it":1,"campidano-medio.it":1,"campidanomedio.it":1,"campobasso.it":1,"carbonia-iglesias.it":1,"carboniaiglesias.it":1,"carrara-massa.it":1,"carraramassa.it":1,"caserta.it":1,"catania.it":1,"catanzaro.it":1,"cb.it":1,"ce.it":1,"cesena-forli.it":1,"xn--cesena-forl-mcb.it":1,"cesenaforli.it":1,"xn--cesenaforl-i8a.it":1,"ch.it":1,"chieti.it":1,"ci.it":1,"cl.it":1,"cn.it":1,"co.it":1,"como.it":1,"cosenza.it":1,"cr.it":1,"cremona.it":1,"crotone.it":1,"cs.it":1,"ct.it":1,"cuneo.it":1,"cz.it":1,"dell-ogliastra.it":1,"dellogliastra.it":1,"en.it":1,"enna.it":1,"fc.it":1,"fe.it":1,"fermo.it":1,"ferrara.it":1,"fg.it":1,"fi.it":1,"firenze.it":1,"florence.it":1,"fm.it":1,"foggia.it":1,"forli-cesena.it":1,"xn--forl-cesena-fcb.it":1,"forlicesena.it":1,"xn--forlcesena-c8a.it":1,"fr.it":1,"frosinone.it":1,"ge.it":1,"genoa.it":1,"genova.it":1,"go.it":1,"gorizia.it":1,"gr.it":1,"grosseto.it":1,"iglesias-carbonia.it":1,"iglesiascarbonia.it":1,"im.it":1,"imperia.it":1,"is.it":1,"isernia.it":1,"kr.it":1,"la-spezia.it":1,"laquila.it":1,"laspezia.it":1,"latina.it":1,"lc.it":1,"le.it":1,"lecce.it":1,"lecco.it":1,"li.it":1,"livorno.it":1,"lo.it":1,"lodi.it":1,"lt.it":1,"lu.it":1,"lucca.it":1,"macerata.it":1,"mantova.it":1,"massa-carrara.it":1,"massacarrara.it":1,"matera.it":1,"mb.it":1,"mc.it":1,"me.it":1,"medio-campidano.it":1,"mediocampidano.it":1,"messina.it":1,"mi.it":1,"milan.it":1,"milano.it":1,"mn.it":1,"mo.it":1,"modena.it":1,"monza-brianza.it":1,"monza-e-della-brianza.it":1,"monza.it":1,"monzabrianza.it":1,"monzaebrianza.it":1,"monzaedellabrianza.it":1,"ms.it":1,"mt.it":1,"na.it":1,"naples.it":1,"napoli.it":1,"no.it":1,"novara.it":1,"nu.it":1,"nuoro.it":1,"og.it":1,"ogliastra.it":1,"olbia-tempio.it":1,"olbiatempio.it":1,"or.it":1,"oristano.it":1,"ot.it":1,"pa.it":1,"padova.it":1,"padua.it":1,"palermo.it":1,"parma.it":1,"pavia.it":1,"pc.it":1,"pd.it":1,"pe.it":1,"perugia.it":1,"pesaro-urbino.it":1,"pesarourbino.it":1,"pescara.it":1,"pg.it":1,"pi.it":1,"piacenza.it":1,"pisa.it":1,"pistoia.it":1,"pn.it":1,"po.it":1,"pordenone.it":1,"potenza.it":1,"pr.it":1,"prato.it":1,"pt.it":1,"pu.it":1,"pv.it":1,"pz.it":1,"ra.it":1,"ragusa.it":1,"ravenna.it":1,"rc.it":1,"re.it":1,"reggio-calabria.it":1,"reggio-emilia.it":1,"reggiocalabria.it":1,"reggioemilia.it":1,"rg.it":1,"ri.it":1,"rieti.it":1,"rimini.it":1,"rm.it":1,"rn.it":1,"ro.it":1,"roma.it":1,"rome.it":1,"rovigo.it":1,"sa.it":1,"salerno.it":1,"sassari.it":1,"savona.it":1,"si.it":1,"siena.it":1,"siracusa.it":1,"so.it":1,"sondrio.it":1,"sp.it":1,"sr.it":1,"ss.it":1,"suedtirol.it":1,"xn--sdtirol-n2a.it":1,"sv.it":1,"ta.it":1,"taranto.it":1,"te.it":1,"tempio-olbia.it":1,"tempioolbia.it":1,"teramo.it":1,"terni.it":1,"tn.it":1,"to.it":1,"torino.it":1,"tp.it":1,"tr.it":1,"trani-andria-barletta.it":1,"trani-barletta-andria.it":1,"traniandriabarletta.it":1,"tranibarlettaandria.it":1,"trapani.it":1,"trento.it":1,"treviso.it":1,"trieste.it":1,"ts.it":1,"turin.it":1,"tv.it":1,"ud.it":1,"udine.it":1,"urbino-pesaro.it":1,"urbinopesaro.it":1,"va.it":1,"varese.it":1,"vb.it":1,"vc.it":1,"ve.it":1,"venezia.it":1,"venice.it":1,"verbania.it":1,"vercelli.it":1,"verona.it":1,"vi.it":1,"vibo-valentia.it":1,"vibovalentia.it":1,"vicenza.it":1,"viterbo.it":1,"vr.it":1,"vs.it":1,"vt.it":1,"vv.it":1,je:1,"co.je":1,"net.je":1,"org.je":1,jm:2,jo:1,"com.jo":1,"org.jo":1,"net.jo":1,"edu.jo":1,"sch.jo":1,"gov.jo":1,"mil.jo":1,"name.jo":1,jobs:1,jp:1,"ac.jp":1,"ad.jp":1,"co.jp":1,"ed.jp":1,"go.jp":1,"gr.jp":1,"lg.jp":1,"ne.jp":1,"or.jp":1,"aichi.jp":1,"akita.jp":1,"aomori.jp":1,"chiba.jp":1,"ehime.jp":1,"fukui.jp":1,"fukuoka.jp":1,"fukushima.jp":1,"gifu.jp":1,"gunma.jp":1,"hiroshima.jp":1,"hokkaido.jp":1,"hyogo.jp":1,"ibaraki.jp":1,"ishikawa.jp":1,"iwate.jp":1,"kagawa.jp":1,"kagoshima.jp":1,"kanagawa.jp":1,"kochi.jp":1,"kumamoto.jp":1,"kyoto.jp":1,"mie.jp":1,"miyagi.jp":1,"miyazaki.jp":1,"nagano.jp":1,"nagasaki.jp":1,"nara.jp":1,"niigata.jp":1,"oita.jp":1,"okayama.jp":1,"okinawa.jp":1,"osaka.jp":1,"saga.jp":1,"saitama.jp":1,"shiga.jp":1,"shimane.jp":1,"shizuoka.jp":1,"tochigi.jp":1,"tokushima.jp":1,"tokyo.jp":1,"tottori.jp":1,"toyama.jp":1,"wakayama.jp":1,"yamagata.jp":1,"yamaguchi.jp":1,"yamanashi.jp":1,"xn--4pvxs.jp":1,"xn--vgu402c.jp":1,"xn--c3s14m.jp":1,"xn--f6qx53a.jp":1,"xn--8pvr4u.jp":1,"xn--uist22h.jp":1,"xn--djrs72d6uy.jp":1,"xn--mkru45i.jp":1,"xn--0trq7p7nn.jp":1,"xn--8ltr62k.jp":1,"xn--2m4a15e.jp":1,"xn--efvn9s.jp":1,"xn--32vp30h.jp":1,"xn--4it797k.jp":1,"xn--1lqs71d.jp":1,"xn--5rtp49c.jp":1,"xn--5js045d.jp":1,"xn--ehqz56n.jp":1,"xn--1lqs03n.jp":1,"xn--qqqt11m.jp":1,"xn--kbrq7o.jp":1,"xn--pssu33l.jp":1,"xn--ntsq17g.jp":1,"xn--uisz3g.jp":1,"xn--6btw5a.jp":1,"xn--1ctwo.jp":1,"xn--6orx2r.jp":1,"xn--rht61e.jp":1,"xn--rht27z.jp":1,"xn--djty4k.jp":1,"xn--nit225k.jp":1,"xn--rht3d.jp":1,"xn--klty5x.jp":1,"xn--kltx9a.jp":1,"xn--kltp7d.jp":1,"xn--uuwu58a.jp":1,"xn--zbx025d.jp":1,"xn--ntso0iqx3a.jp":1,"xn--elqq16h.jp":1,"xn--4it168d.jp":1,"xn--klt787d.jp":1,"xn--rny31h.jp":1,"xn--7t0a264c.jp":1,"xn--5rtq34k.jp":1,"xn--k7yn95e.jp":1,"xn--tor131o.jp":1,"xn--d5qv7z876c.jp":1,"kawasaki.jp":2,"kitakyushu.jp":2,"kobe.jp":2,"nagoya.jp":2,"sapporo.jp":2,"sendai.jp":2,"yokohama.jp":2,"city.kawasaki.jp":0,"city.kitakyushu.jp":0,"city.kobe.jp":0,"city.nagoya.jp":0,"city.sapporo.jp":0,"city.sendai.jp":0,"city.yokohama.jp":0,"aisai.aichi.jp":1,"ama.aichi.jp":1,"anjo.aichi.jp":1,"asuke.aichi.jp":1,"chiryu.aichi.jp":1,"chita.aichi.jp":1,"fuso.aichi.jp":1,"gamagori.aichi.jp":1,"handa.aichi.jp":1,"hazu.aichi.jp":1,"hekinan.aichi.jp":1,"higashiura.aichi.jp":1,"ichinomiya.aichi.jp":1,"inazawa.aichi.jp":1,"inuyama.aichi.jp":1,"isshiki.aichi.jp":1,"iwakura.aichi.jp":1,"kanie.aichi.jp":1,"kariya.aichi.jp":1,"kasugai.aichi.jp":1,"kira.aichi.jp":1,"kiyosu.aichi.jp":1,"komaki.aichi.jp":1,"konan.aichi.jp":1,"kota.aichi.jp":1,"mihama.aichi.jp":1,"miyoshi.aichi.jp":1,"nishio.aichi.jp":1,"nisshin.aichi.jp":1,"obu.aichi.jp":1,"oguchi.aichi.jp":1,"oharu.aichi.jp":1,"okazaki.aichi.jp":1,"owariasahi.aichi.jp":1,"seto.aichi.jp":1,"shikatsu.aichi.jp":1,"shinshiro.aichi.jp":1,"shitara.aichi.jp":1,"tahara.aichi.jp":1,"takahama.aichi.jp":1,"tobishima.aichi.jp":1,"toei.aichi.jp":1,"togo.aichi.jp":1,"tokai.aichi.jp":1,"tokoname.aichi.jp":1,"toyoake.aichi.jp":1,"toyohashi.aichi.jp":1,"toyokawa.aichi.jp":1,"toyone.aichi.jp":1,"toyota.aichi.jp":1,"tsushima.aichi.jp":1,"yatomi.aichi.jp":1,"akita.akita.jp":1,"daisen.akita.jp":1,"fujisato.akita.jp":1,"gojome.akita.jp":1,"hachirogata.akita.jp":1,"happou.akita.jp":1,"higashinaruse.akita.jp":1,"honjo.akita.jp":1,"honjyo.akita.jp":1,"ikawa.akita.jp":1,"kamikoani.akita.jp":1,"kamioka.akita.jp":1,"katagami.akita.jp":1,"kazuno.akita.jp":1,"kitaakita.akita.jp":1,"kosaka.akita.jp":1,"kyowa.akita.jp":1,"misato.akita.jp":1,"mitane.akita.jp":1,"moriyoshi.akita.jp":1,"nikaho.akita.jp":1,"noshiro.akita.jp":1,"odate.akita.jp":1,"oga.akita.jp":1,"ogata.akita.jp":1,"semboku.akita.jp":1,"yokote.akita.jp":1,"yurihonjo.akita.jp":1,"aomori.aomori.jp":1,"gonohe.aomori.jp":1,"hachinohe.aomori.jp":1,"hashikami.aomori.jp":1,"hiranai.aomori.jp":1,"hirosaki.aomori.jp":1,"itayanagi.aomori.jp":1,"kuroishi.aomori.jp":1,"misawa.aomori.jp":1,"mutsu.aomori.jp":1,"nakadomari.aomori.jp":1,"noheji.aomori.jp":1,"oirase.aomori.jp":1,"owani.aomori.jp":1,"rokunohe.aomori.jp":1,"sannohe.aomori.jp":1,"shichinohe.aomori.jp":1,"shingo.aomori.jp":1,"takko.aomori.jp":1,"towada.aomori.jp":1,"tsugaru.aomori.jp":1,"tsuruta.aomori.jp":1,"abiko.chiba.jp":1,"asahi.chiba.jp":1,"chonan.chiba.jp":1,"chosei.chiba.jp":1,"choshi.chiba.jp":1,"chuo.chiba.jp":1,"funabashi.chiba.jp":1,"futtsu.chiba.jp":1,"hanamigawa.chiba.jp":1,"ichihara.chiba.jp":1,"ichikawa.chiba.jp":1,"ichinomiya.chiba.jp":1,"inzai.chiba.jp":1,"isumi.chiba.jp":1,"kamagaya.chiba.jp":1,"kamogawa.chiba.jp":1,"kashiwa.chiba.jp":1,"katori.chiba.jp":1,"katsuura.chiba.jp":1,"kimitsu.chiba.jp":1,"kisarazu.chiba.jp":1,"kozaki.chiba.jp":1,"kujukuri.chiba.jp":1,"kyonan.chiba.jp":1,"matsudo.chiba.jp":1,"midori.chiba.jp":1,"mihama.chiba.jp":1,"minamiboso.chiba.jp":1,"mobara.chiba.jp":1,"mutsuzawa.chiba.jp":1,"nagara.chiba.jp":1,"nagareyama.chiba.jp":1,"narashino.chiba.jp":1,"narita.chiba.jp":1,"noda.chiba.jp":1,"oamishirasato.chiba.jp":1,"omigawa.chiba.jp":1,"onjuku.chiba.jp":1,"otaki.chiba.jp":1,"sakae.chiba.jp":1,"sakura.chiba.jp":1,"shimofusa.chiba.jp":1,"shirako.chiba.jp":1,"shiroi.chiba.jp":1,"shisui.chiba.jp":1,"sodegaura.chiba.jp":1,"sosa.chiba.jp":1,"tako.chiba.jp":1,"tateyama.chiba.jp":1,"togane.chiba.jp":1,"tohnosho.chiba.jp":1,"tomisato.chiba.jp":1,"urayasu.chiba.jp":1,"yachimata.chiba.jp":1,"yachiyo.chiba.jp":1,"yokaichiba.chiba.jp":1,"yokoshibahikari.chiba.jp":1,"yotsukaido.chiba.jp":1,"ainan.ehime.jp":1,"honai.ehime.jp":1,"ikata.ehime.jp":1,"imabari.ehime.jp":1,"iyo.ehime.jp":1,"kamijima.ehime.jp":1,"kihoku.ehime.jp":1,"kumakogen.ehime.jp":1,"masaki.ehime.jp":1,"matsuno.ehime.jp":1,"matsuyama.ehime.jp":1,"namikata.ehime.jp":1,"niihama.ehime.jp":1,"ozu.ehime.jp":1,"saijo.ehime.jp":1,"seiyo.ehime.jp":1,"shikokuchuo.ehime.jp":1,"tobe.ehime.jp":1,"toon.ehime.jp":1,"uchiko.ehime.jp":1,"uwajima.ehime.jp":1,"yawatahama.ehime.jp":1,"echizen.fukui.jp":1,"eiheiji.fukui.jp":1,"fukui.fukui.jp":1,"ikeda.fukui.jp":1,"katsuyama.fukui.jp":1,"mihama.fukui.jp":1,"minamiechizen.fukui.jp":1,"obama.fukui.jp":1,"ohi.fukui.jp":1,"ono.fukui.jp":1,"sabae.fukui.jp":1,"sakai.fukui.jp":1,"takahama.fukui.jp":1,"tsuruga.fukui.jp":1,"wakasa.fukui.jp":1,"ashiya.fukuoka.jp":1,"buzen.fukuoka.jp":1,"chikugo.fukuoka.jp":1,"chikuho.fukuoka.jp":1,"chikujo.fukuoka.jp":1,"chikushino.fukuoka.jp":1,"chikuzen.fukuoka.jp":1,"chuo.fukuoka.jp":1,"dazaifu.fukuoka.jp":1,"fukuchi.fukuoka.jp":1,"hakata.fukuoka.jp":1,"higashi.fukuoka.jp":1,"hirokawa.fukuoka.jp":1,"hisayama.fukuoka.jp":1,"iizuka.fukuoka.jp":1,"inatsuki.fukuoka.jp":1,"kaho.fukuoka.jp":1,"kasuga.fukuoka.jp":1,"kasuya.fukuoka.jp":1,"kawara.fukuoka.jp":1,"keisen.fukuoka.jp":1,"koga.fukuoka.jp":1,"kurate.fukuoka.jp":1,"kurogi.fukuoka.jp":1,"kurume.fukuoka.jp":1,"minami.fukuoka.jp":1,"miyako.fukuoka.jp":1,"miyama.fukuoka.jp":1,"miyawaka.fukuoka.jp":1,"mizumaki.fukuoka.jp":1,"munakata.fukuoka.jp":1,"nakagawa.fukuoka.jp":1,"nakama.fukuoka.jp":1,"nishi.fukuoka.jp":1,"nogata.fukuoka.jp":1,"ogori.fukuoka.jp":1,"okagaki.fukuoka.jp":1,"okawa.fukuoka.jp":1,"oki.fukuoka.jp":1,"omuta.fukuoka.jp":1,"onga.fukuoka.jp":1,"onojo.fukuoka.jp":1,"oto.fukuoka.jp":1,"saigawa.fukuoka.jp":1,"sasaguri.fukuoka.jp":1,"shingu.fukuoka.jp":1,"shinyoshitomi.fukuoka.jp":1,"shonai.fukuoka.jp":1,"soeda.fukuoka.jp":1,"sue.fukuoka.jp":1,"tachiarai.fukuoka.jp":1,"tagawa.fukuoka.jp":1,"takata.fukuoka.jp":1,"toho.fukuoka.jp":1,"toyotsu.fukuoka.jp":1,"tsuiki.fukuoka.jp":1,"ukiha.fukuoka.jp":1,"umi.fukuoka.jp":1,"usui.fukuoka.jp":1,"yamada.fukuoka.jp":1,"yame.fukuoka.jp":1,"yanagawa.fukuoka.jp":1,"yukuhashi.fukuoka.jp":1,"aizubange.fukushima.jp":1,"aizumisato.fukushima.jp":1,"aizuwakamatsu.fukushima.jp":1,"asakawa.fukushima.jp":1,"bandai.fukushima.jp":1,"date.fukushima.jp":1,"fukushima.fukushima.jp":1,"furudono.fukushima.jp":1,"futaba.fukushima.jp":1,"hanawa.fukushima.jp":1,"higashi.fukushima.jp":1,"hirata.fukushima.jp":1,"hirono.fukushima.jp":1,"iitate.fukushima.jp":1,"inawashiro.fukushima.jp":1,"ishikawa.fukushima.jp":1,"iwaki.fukushima.jp":1,"izumizaki.fukushima.jp":1,"kagamiishi.fukushima.jp":1,"kaneyama.fukushima.jp":1,"kawamata.fukushima.jp":1,"kitakata.fukushima.jp":1,"kitashiobara.fukushima.jp":1,"koori.fukushima.jp":1,"koriyama.fukushima.jp":1,"kunimi.fukushima.jp":1,"miharu.fukushima.jp":1,"mishima.fukushima.jp":1,"namie.fukushima.jp":1,"nango.fukushima.jp":1,"nishiaizu.fukushima.jp":1,"nishigo.fukushima.jp":1,"okuma.fukushima.jp":1,"omotego.fukushima.jp":1,"ono.fukushima.jp":1,"otama.fukushima.jp":1,"samegawa.fukushima.jp":1,"shimogo.fukushima.jp":1,"shirakawa.fukushima.jp":1,"showa.fukushima.jp":1,"soma.fukushima.jp":1,"sukagawa.fukushima.jp":1,"taishin.fukushima.jp":1,"tamakawa.fukushima.jp":1,"tanagura.fukushima.jp":1,"tenei.fukushima.jp":1,"yabuki.fukushima.jp":1,"yamato.fukushima.jp":1,"yamatsuri.fukushima.jp":1,"yanaizu.fukushima.jp":1,"yugawa.fukushima.jp":1,"anpachi.gifu.jp":1,"ena.gifu.jp":1,"gifu.gifu.jp":1,"ginan.gifu.jp":1,"godo.gifu.jp":1,"gujo.gifu.jp":1,"hashima.gifu.jp":1,"hichiso.gifu.jp":1,"hida.gifu.jp":1,"higashishirakawa.gifu.jp":1,"ibigawa.gifu.jp":1,"ikeda.gifu.jp":1,"kakamigahara.gifu.jp":1,"kani.gifu.jp":1,"kasahara.gifu.jp":1,"kasamatsu.gifu.jp":1,"kawaue.gifu.jp":1,"kitagata.gifu.jp":1,"mino.gifu.jp":1,"minokamo.gifu.jp":1,"mitake.gifu.jp":1,"mizunami.gifu.jp":1,"motosu.gifu.jp":1,"nakatsugawa.gifu.jp":1,"ogaki.gifu.jp":1,"sakahogi.gifu.jp":1,"seki.gifu.jp":1,"sekigahara.gifu.jp":1,"shirakawa.gifu.jp":1,"tajimi.gifu.jp":1,"takayama.gifu.jp":1,"tarui.gifu.jp":1,"toki.gifu.jp":1,"tomika.gifu.jp":1,"wanouchi.gifu.jp":1,"yamagata.gifu.jp":1,"yaotsu.gifu.jp":1,"yoro.gifu.jp":1,"annaka.gunma.jp":1,"chiyoda.gunma.jp":1,"fujioka.gunma.jp":1,"higashiagatsuma.gunma.jp":1,"isesaki.gunma.jp":1,"itakura.gunma.jp":1,"kanna.gunma.jp":1,"kanra.gunma.jp":1,"katashina.gunma.jp":1,"kawaba.gunma.jp":1,"kiryu.gunma.jp":1,"kusatsu.gunma.jp":1,"maebashi.gunma.jp":1,"meiwa.gunma.jp":1,"midori.gunma.jp":1,"minakami.gunma.jp":1,"naganohara.gunma.jp":1,"nakanojo.gunma.jp":1,"nanmoku.gunma.jp":1,"numata.gunma.jp":1,"oizumi.gunma.jp":1,"ora.gunma.jp":1,"ota.gunma.jp":1,"shibukawa.gunma.jp":1,"shimonita.gunma.jp":1,"shinto.gunma.jp":1,"showa.gunma.jp":1,"takasaki.gunma.jp":1,"takayama.gunma.jp":1,"tamamura.gunma.jp":1,"tatebayashi.gunma.jp":1,"tomioka.gunma.jp":1,"tsukiyono.gunma.jp":1,"tsumagoi.gunma.jp":1,"ueno.gunma.jp":1,"yoshioka.gunma.jp":1,"asaminami.hiroshima.jp":1,"daiwa.hiroshima.jp":1,"etajima.hiroshima.jp":1,"fuchu.hiroshima.jp":1,"fukuyama.hiroshima.jp":1,"hatsukaichi.hiroshima.jp":1,"higashihiroshima.hiroshima.jp":1,"hongo.hiroshima.jp":1,"jinsekikogen.hiroshima.jp":1,"kaita.hiroshima.jp":1,"kui.hiroshima.jp":1,"kumano.hiroshima.jp":1,"kure.hiroshima.jp":1,"mihara.hiroshima.jp":1,"miyoshi.hiroshima.jp":1,"naka.hiroshima.jp":1,"onomichi.hiroshima.jp":1,"osakikamijima.hiroshima.jp":1,"otake.hiroshima.jp":1,"saka.hiroshima.jp":1,"sera.hiroshima.jp":1,"seranishi.hiroshima.jp":1,"shinichi.hiroshima.jp":1,"shobara.hiroshima.jp":1,"takehara.hiroshima.jp":1,"abashiri.hokkaido.jp":1,"abira.hokkaido.jp":1,"aibetsu.hokkaido.jp":1,"akabira.hokkaido.jp":1,"akkeshi.hokkaido.jp":1,"asahikawa.hokkaido.jp":1,"ashibetsu.hokkaido.jp":1,"ashoro.hokkaido.jp":1,"assabu.hokkaido.jp":1,"atsuma.hokkaido.jp":1,"bibai.hokkaido.jp":1,"biei.hokkaido.jp":1,"bifuka.hokkaido.jp":1,"bihoro.hokkaido.jp":1,"biratori.hokkaido.jp":1,"chippubetsu.hokkaido.jp":1,"chitose.hokkaido.jp":1,"date.hokkaido.jp":1,"ebetsu.hokkaido.jp":1,"embetsu.hokkaido.jp":1,"eniwa.hokkaido.jp":1,"erimo.hokkaido.jp":1,"esan.hokkaido.jp":1,"esashi.hokkaido.jp":1,"fukagawa.hokkaido.jp":1,"fukushima.hokkaido.jp":1,"furano.hokkaido.jp":1,"furubira.hokkaido.jp":1,"haboro.hokkaido.jp":1,"hakodate.hokkaido.jp":1,"hamatonbetsu.hokkaido.jp":1,"hidaka.hokkaido.jp":1,"higashikagura.hokkaido.jp":1,"higashikawa.hokkaido.jp":1,"hiroo.hokkaido.jp":1,"hokuryu.hokkaido.jp":1,"hokuto.hokkaido.jp":1,"honbetsu.hokkaido.jp":1,"horokanai.hokkaido.jp":1,"horonobe.hokkaido.jp":1,"ikeda.hokkaido.jp":1,"imakane.hokkaido.jp":1,"ishikari.hokkaido.jp":1,"iwamizawa.hokkaido.jp":1,"iwanai.hokkaido.jp":1,"kamifurano.hokkaido.jp":1,"kamikawa.hokkaido.jp":1,"kamishihoro.hokkaido.jp":1,"kamisunagawa.hokkaido.jp":1,"kamoenai.hokkaido.jp":1,"kayabe.hokkaido.jp":1,"kembuchi.hokkaido.jp":1,"kikonai.hokkaido.jp":1,"kimobetsu.hokkaido.jp":1,"kitahiroshima.hokkaido.jp":1,"kitami.hokkaido.jp":1,"kiyosato.hokkaido.jp":1,"koshimizu.hokkaido.jp":1,"kunneppu.hokkaido.jp":1,"kuriyama.hokkaido.jp":1,"kuromatsunai.hokkaido.jp":1,"kushiro.hokkaido.jp":1,"kutchan.hokkaido.jp":1,"kyowa.hokkaido.jp":1,"mashike.hokkaido.jp":1,"matsumae.hokkaido.jp":1,"mikasa.hokkaido.jp":1,"minamifurano.hokkaido.jp":1,"mombetsu.hokkaido.jp":1,"moseushi.hokkaido.jp":1,"mukawa.hokkaido.jp":1,"muroran.hokkaido.jp":1,"naie.hokkaido.jp":1,"nakagawa.hokkaido.jp":1,"nakasatsunai.hokkaido.jp":1,"nakatombetsu.hokkaido.jp":1,"nanae.hokkaido.jp":1,"nanporo.hokkaido.jp":1,"nayoro.hokkaido.jp":1,"nemuro.hokkaido.jp":1,"niikappu.hokkaido.jp":1,"niki.hokkaido.jp":1,"nishiokoppe.hokkaido.jp":1,"noboribetsu.hokkaido.jp":1,"numata.hokkaido.jp":1,"obihiro.hokkaido.jp":1,"obira.hokkaido.jp":1,"oketo.hokkaido.jp":1,"okoppe.hokkaido.jp":1,"otaru.hokkaido.jp":1,"otobe.hokkaido.jp":1,"otofuke.hokkaido.jp":1,"otoineppu.hokkaido.jp":1,"oumu.hokkaido.jp":1,"ozora.hokkaido.jp":1,"pippu.hokkaido.jp":1,"rankoshi.hokkaido.jp":1,"rebun.hokkaido.jp":1,"rikubetsu.hokkaido.jp":1,"rishiri.hokkaido.jp":1,"rishirifuji.hokkaido.jp":1,"saroma.hokkaido.jp":1,"sarufutsu.hokkaido.jp":1,"shakotan.hokkaido.jp":1,"shari.hokkaido.jp":1,"shibecha.hokkaido.jp":1,"shibetsu.hokkaido.jp":1,"shikabe.hokkaido.jp":1,"shikaoi.hokkaido.jp":1,"shimamaki.hokkaido.jp":1,"shimizu.hokkaido.jp":1,"shimokawa.hokkaido.jp":1,"shinshinotsu.hokkaido.jp":1,"shintoku.hokkaido.jp":1,"shiranuka.hokkaido.jp":1,"shiraoi.hokkaido.jp":1,"shiriuchi.hokkaido.jp":1,"sobetsu.hokkaido.jp":1,"sunagawa.hokkaido.jp":1,"taiki.hokkaido.jp":1,"takasu.hokkaido.jp":1,"takikawa.hokkaido.jp":1,"takinoue.hokkaido.jp":1,"teshikaga.hokkaido.jp":1,"tobetsu.hokkaido.jp":1,"tohma.hokkaido.jp":1,"tomakomai.hokkaido.jp":1,"tomari.hokkaido.jp":1,"toya.hokkaido.jp":1,"toyako.hokkaido.jp":1,"toyotomi.hokkaido.jp":1,"toyoura.hokkaido.jp":1,"tsubetsu.hokkaido.jp":1,"tsukigata.hokkaido.jp":1,"urakawa.hokkaido.jp":1,"urausu.hokkaido.jp":1,"uryu.hokkaido.jp":1,"utashinai.hokkaido.jp":1,"wakkanai.hokkaido.jp":1,"wassamu.hokkaido.jp":1,"yakumo.hokkaido.jp":1,"yoichi.hokkaido.jp":1,"aioi.hyogo.jp":1,"akashi.hyogo.jp":1,"ako.hyogo.jp":1,"amagasaki.hyogo.jp":1,"aogaki.hyogo.jp":1,"asago.hyogo.jp":1,"ashiya.hyogo.jp":1,"awaji.hyogo.jp":1,"fukusaki.hyogo.jp":1,"goshiki.hyogo.jp":1,"harima.hyogo.jp":1,"himeji.hyogo.jp":1,"ichikawa.hyogo.jp":1,"inagawa.hyogo.jp":1,"itami.hyogo.jp":1,"kakogawa.hyogo.jp":1,"kamigori.hyogo.jp":1,"kamikawa.hyogo.jp":1,"kasai.hyogo.jp":1,"kasuga.hyogo.jp":1,"kawanishi.hyogo.jp":1,"miki.hyogo.jp":1,"minamiawaji.hyogo.jp":1,"nishinomiya.hyogo.jp":1,"nishiwaki.hyogo.jp":1,"ono.hyogo.jp":1,"sanda.hyogo.jp":1,"sannan.hyogo.jp":1,"sasayama.hyogo.jp":1,"sayo.hyogo.jp":1,"shingu.hyogo.jp":1,"shinonsen.hyogo.jp":1,"shiso.hyogo.jp":1,"sumoto.hyogo.jp":1,"taishi.hyogo.jp":1,"taka.hyogo.jp":1,"takarazuka.hyogo.jp":1,"takasago.hyogo.jp":1,"takino.hyogo.jp":1,"tamba.hyogo.jp":1,"tatsuno.hyogo.jp":1,"toyooka.hyogo.jp":1,"yabu.hyogo.jp":1,"yashiro.hyogo.jp":1,"yoka.hyogo.jp":1,"yokawa.hyogo.jp":1,"ami.ibaraki.jp":1,"asahi.ibaraki.jp":1,"bando.ibaraki.jp":1,"chikusei.ibaraki.jp":1,"daigo.ibaraki.jp":1,"fujishiro.ibaraki.jp":1,"hitachi.ibaraki.jp":1,"hitachinaka.ibaraki.jp":1,"hitachiomiya.ibaraki.jp":1,"hitachiota.ibaraki.jp":1,"ibaraki.ibaraki.jp":1,"ina.ibaraki.jp":1,"inashiki.ibaraki.jp":1,"itako.ibaraki.jp":1,"iwama.ibaraki.jp":1,"joso.ibaraki.jp":1,"kamisu.ibaraki.jp":1,"kasama.ibaraki.jp":1,"kashima.ibaraki.jp":1,"kasumigaura.ibaraki.jp":1,"koga.ibaraki.jp":1,"miho.ibaraki.jp":1,"mito.ibaraki.jp":1,"moriya.ibaraki.jp":1,"naka.ibaraki.jp":1,"namegata.ibaraki.jp":1,"oarai.ibaraki.jp":1,"ogawa.ibaraki.jp":1,"omitama.ibaraki.jp":1,"ryugasaki.ibaraki.jp":1,"sakai.ibaraki.jp":1,"sakuragawa.ibaraki.jp":1,"shimodate.ibaraki.jp":1,"shimotsuma.ibaraki.jp":1,"shirosato.ibaraki.jp":1,"sowa.ibaraki.jp":1,"suifu.ibaraki.jp":1,"takahagi.ibaraki.jp":1,"tamatsukuri.ibaraki.jp":1,"tokai.ibaraki.jp":1,"tomobe.ibaraki.jp":1,"tone.ibaraki.jp":1,"toride.ibaraki.jp":1,"tsuchiura.ibaraki.jp":1,"tsukuba.ibaraki.jp":1,"uchihara.ibaraki.jp":1,"ushiku.ibaraki.jp":1,"yachiyo.ibaraki.jp":1,"yamagata.ibaraki.jp":1,"yawara.ibaraki.jp":1,"yuki.ibaraki.jp":1,"anamizu.ishikawa.jp":1,"hakui.ishikawa.jp":1,"hakusan.ishikawa.jp":1,"kaga.ishikawa.jp":1,"kahoku.ishikawa.jp":1,"kanazawa.ishikawa.jp":1,"kawakita.ishikawa.jp":1,"komatsu.ishikawa.jp":1,"nakanoto.ishikawa.jp":1,"nanao.ishikawa.jp":1,"nomi.ishikawa.jp":1,"nonoichi.ishikawa.jp":1,"noto.ishikawa.jp":1,"shika.ishikawa.jp":1,"suzu.ishikawa.jp":1,"tsubata.ishikawa.jp":1,"tsurugi.ishikawa.jp":1,"uchinada.ishikawa.jp":1,"wajima.ishikawa.jp":1,"fudai.iwate.jp":1,"fujisawa.iwate.jp":1,"hanamaki.iwate.jp":1,"hiraizumi.iwate.jp":1,"hirono.iwate.jp":1,"ichinohe.iwate.jp":1,"ichinoseki.iwate.jp":1,"iwaizumi.iwate.jp":1,"iwate.iwate.jp":1,"joboji.iwate.jp":1,"kamaishi.iwate.jp":1,"kanegasaki.iwate.jp":1,"karumai.iwate.jp":1,"kawai.iwate.jp":1,"kitakami.iwate.jp":1,"kuji.iwate.jp":1,"kunohe.iwate.jp":1,"kuzumaki.iwate.jp":1,"miyako.iwate.jp":1,"mizusawa.iwate.jp":1,"morioka.iwate.jp":1,"ninohe.iwate.jp":1,"noda.iwate.jp":1,"ofunato.iwate.jp":1,"oshu.iwate.jp":1,"otsuchi.iwate.jp":1,"rikuzentakata.iwate.jp":1,"shiwa.iwate.jp":1,"shizukuishi.iwate.jp":1,"sumita.iwate.jp":1,"tanohata.iwate.jp":1,"tono.iwate.jp":1,"yahaba.iwate.jp":1,"yamada.iwate.jp":1,"ayagawa.kagawa.jp":1,"higashikagawa.kagawa.jp":1,"kanonji.kagawa.jp":1,"kotohira.kagawa.jp":1,"manno.kagawa.jp":1,"marugame.kagawa.jp":1,"mitoyo.kagawa.jp":1,"naoshima.kagawa.jp":1,"sanuki.kagawa.jp":1,"tadotsu.kagawa.jp":1,"takamatsu.kagawa.jp":1,"tonosho.kagawa.jp":1,"uchinomi.kagawa.jp":1,"utazu.kagawa.jp":1,"zentsuji.kagawa.jp":1,"akune.kagoshima.jp":1,"amami.kagoshima.jp":1,"hioki.kagoshima.jp":1,"isa.kagoshima.jp":1,"isen.kagoshima.jp":1,"izumi.kagoshima.jp":1,"kagoshima.kagoshima.jp":1,"kanoya.kagoshima.jp":1,"kawanabe.kagoshima.jp":1,"kinko.kagoshima.jp":1,"kouyama.kagoshima.jp":1,"makurazaki.kagoshima.jp":1,"matsumoto.kagoshima.jp":1,"minamitane.kagoshima.jp":1,"nakatane.kagoshima.jp":1,"nishinoomote.kagoshima.jp":1,"satsumasendai.kagoshima.jp":1,"soo.kagoshima.jp":1,"tarumizu.kagoshima.jp":1,"yusui.kagoshima.jp":1,"aikawa.kanagawa.jp":1,"atsugi.kanagawa.jp":1,"ayase.kanagawa.jp":1,"chigasaki.kanagawa.jp":1,"ebina.kanagawa.jp":1,"fujisawa.kanagawa.jp":1,"hadano.kanagawa.jp":1,"hakone.kanagawa.jp":1,"hiratsuka.kanagawa.jp":1,"isehara.kanagawa.jp":1,"kaisei.kanagawa.jp":1,"kamakura.kanagawa.jp":1,"kiyokawa.kanagawa.jp":1,"matsuda.kanagawa.jp":1,"minamiashigara.kanagawa.jp":1,"miura.kanagawa.jp":1,"nakai.kanagawa.jp":1,"ninomiya.kanagawa.jp":1,"odawara.kanagawa.jp":1,"oi.kanagawa.jp":1,"oiso.kanagawa.jp":1,"sagamihara.kanagawa.jp":1,"samukawa.kanagawa.jp":1,"tsukui.kanagawa.jp":1,"yamakita.kanagawa.jp":1,"yamato.kanagawa.jp":1,"yokosuka.kanagawa.jp":1,"yugawara.kanagawa.jp":1,"zama.kanagawa.jp":1,"zushi.kanagawa.jp":1,"aki.kochi.jp":1,"geisei.kochi.jp":1,"hidaka.kochi.jp":1,"higashitsuno.kochi.jp":1,"ino.kochi.jp":1,"kagami.kochi.jp":1,"kami.kochi.jp":1,"kitagawa.kochi.jp":1,"kochi.kochi.jp":1,"mihara.kochi.jp":1,"motoyama.kochi.jp":1,"muroto.kochi.jp":1,"nahari.kochi.jp":1,"nakamura.kochi.jp":1,"nankoku.kochi.jp":1,"nishitosa.kochi.jp":1,"niyodogawa.kochi.jp":1,"ochi.kochi.jp":1,"okawa.kochi.jp":1,"otoyo.kochi.jp":1,"otsuki.kochi.jp":1,"sakawa.kochi.jp":1,"sukumo.kochi.jp":1,"susaki.kochi.jp":1,"tosa.kochi.jp":1,"tosashimizu.kochi.jp":1,"toyo.kochi.jp":1,"tsuno.kochi.jp":1,"umaji.kochi.jp":1,"yasuda.kochi.jp":1,"yusuhara.kochi.jp":1,"amakusa.kumamoto.jp":1,"arao.kumamoto.jp":1,"aso.kumamoto.jp":1,"choyo.kumamoto.jp":1,"gyokuto.kumamoto.jp":1,"kamiamakusa.kumamoto.jp":1,"kikuchi.kumamoto.jp":1,"kumamoto.kumamoto.jp":1,"mashiki.kumamoto.jp":1,"mifune.kumamoto.jp":1,"minamata.kumamoto.jp":1,"minamioguni.kumamoto.jp":1,"nagasu.kumamoto.jp":1,"nishihara.kumamoto.jp":1,"oguni.kumamoto.jp":1,"ozu.kumamoto.jp":1,"sumoto.kumamoto.jp":1,"takamori.kumamoto.jp":1,"uki.kumamoto.jp":1,"uto.kumamoto.jp":1,"yamaga.kumamoto.jp":1,"yamato.kumamoto.jp":1,"yatsushiro.kumamoto.jp":1,"ayabe.kyoto.jp":1,"fukuchiyama.kyoto.jp":1,"higashiyama.kyoto.jp":1,"ide.kyoto.jp":1,"ine.kyoto.jp":1,"joyo.kyoto.jp":1,"kameoka.kyoto.jp":1,"kamo.kyoto.jp":1,"kita.kyoto.jp":1,"kizu.kyoto.jp":1,"kumiyama.kyoto.jp":1,"kyotamba.kyoto.jp":1,"kyotanabe.kyoto.jp":1,"kyotango.kyoto.jp":1,"maizuru.kyoto.jp":1,"minami.kyoto.jp":1,"minamiyamashiro.kyoto.jp":1,"miyazu.kyoto.jp":1,"muko.kyoto.jp":1,"nagaokakyo.kyoto.jp":1,"nakagyo.kyoto.jp":1,"nantan.kyoto.jp":1,"oyamazaki.kyoto.jp":1,"sakyo.kyoto.jp":1,"seika.kyoto.jp":1,"tanabe.kyoto.jp":1,"uji.kyoto.jp":1,"ujitawara.kyoto.jp":1,"wazuka.kyoto.jp":1,"yamashina.kyoto.jp":1,"yawata.kyoto.jp":1,"asahi.mie.jp":1,"inabe.mie.jp":1,"ise.mie.jp":1,"kameyama.mie.jp":1,"kawagoe.mie.jp":1,"kiho.mie.jp":1,"kisosaki.mie.jp":1,"kiwa.mie.jp":1,"komono.mie.jp":1,"kumano.mie.jp":1,"kuwana.mie.jp":1,"matsusaka.mie.jp":1,"meiwa.mie.jp":1,"mihama.mie.jp":1,"minamiise.mie.jp":1,"misugi.mie.jp":1,"miyama.mie.jp":1,"nabari.mie.jp":1,"shima.mie.jp":1,"suzuka.mie.jp":1,"tado.mie.jp":1,"taiki.mie.jp":1,"taki.mie.jp":1,"tamaki.mie.jp":1,"toba.mie.jp":1,"tsu.mie.jp":1,"udono.mie.jp":1,"ureshino.mie.jp":1,"watarai.mie.jp":1,"yokkaichi.mie.jp":1,"furukawa.miyagi.jp":1,"higashimatsushima.miyagi.jp":1,"ishinomaki.miyagi.jp":1,"iwanuma.miyagi.jp":1,"kakuda.miyagi.jp":1,"kami.miyagi.jp":1,"kawasaki.miyagi.jp":1,"marumori.miyagi.jp":1,"matsushima.miyagi.jp":1,"minamisanriku.miyagi.jp":1,"misato.miyagi.jp":1,"murata.miyagi.jp":1,"natori.miyagi.jp":1,"ogawara.miyagi.jp":1,"ohira.miyagi.jp":1,"onagawa.miyagi.jp":1,"osaki.miyagi.jp":1,"rifu.miyagi.jp":1,"semine.miyagi.jp":1,"shibata.miyagi.jp":1,"shichikashuku.miyagi.jp":1,"shikama.miyagi.jp":1,"shiogama.miyagi.jp":1,"shiroishi.miyagi.jp":1,"tagajo.miyagi.jp":1,"taiwa.miyagi.jp":1,"tome.miyagi.jp":1,"tomiya.miyagi.jp":1,"wakuya.miyagi.jp":1,"watari.miyagi.jp":1,"yamamoto.miyagi.jp":1,"zao.miyagi.jp":1,"aya.miyazaki.jp":1,"ebino.miyazaki.jp":1,"gokase.miyazaki.jp":1,"hyuga.miyazaki.jp":1,"kadogawa.miyazaki.jp":1,"kawaminami.miyazaki.jp":1,"kijo.miyazaki.jp":1,"kitagawa.miyazaki.jp":1,"kitakata.miyazaki.jp":1,"kitaura.miyazaki.jp":1,"kobayashi.miyazaki.jp":1,"kunitomi.miyazaki.jp":1,"kushima.miyazaki.jp":1,"mimata.miyazaki.jp":1,"miyakonojo.miyazaki.jp":1,"miyazaki.miyazaki.jp":1,"morotsuka.miyazaki.jp":1,"nichinan.miyazaki.jp":1,"nishimera.miyazaki.jp":1,"nobeoka.miyazaki.jp":1,"saito.miyazaki.jp":1,"shiiba.miyazaki.jp":1,"shintomi.miyazaki.jp":1,"takaharu.miyazaki.jp":1,"takanabe.miyazaki.jp":1,"takazaki.miyazaki.jp":1,"tsuno.miyazaki.jp":1,"achi.nagano.jp":1,"agematsu.nagano.jp":1,"anan.nagano.jp":1,"aoki.nagano.jp":1,"asahi.nagano.jp":1,"azumino.nagano.jp":1,"chikuhoku.nagano.jp":1,"chikuma.nagano.jp":1,"chino.nagano.jp":1,"fujimi.nagano.jp":1,"hakuba.nagano.jp":1,"hara.nagano.jp":1,"hiraya.nagano.jp":1,"iida.nagano.jp":1,"iijima.nagano.jp":1,"iiyama.nagano.jp":1,"iizuna.nagano.jp":1,"ikeda.nagano.jp":1,"ikusaka.nagano.jp":1,"ina.nagano.jp":1,"karuizawa.nagano.jp":1,"kawakami.nagano.jp":1,"kiso.nagano.jp":1,"kisofukushima.nagano.jp":1,"kitaaiki.nagano.jp":1,"komagane.nagano.jp":1,"komoro.nagano.jp":1,"matsukawa.nagano.jp":1,"matsumoto.nagano.jp":1,"miasa.nagano.jp":1,"minamiaiki.nagano.jp":1,"minamimaki.nagano.jp":1,"minamiminowa.nagano.jp":1,"minowa.nagano.jp":1,"miyada.nagano.jp":1,"miyota.nagano.jp":1,"mochizuki.nagano.jp":1,"nagano.nagano.jp":1,"nagawa.nagano.jp":1,"nagiso.nagano.jp":1,"nakagawa.nagano.jp":1,"nakano.nagano.jp":1,"nozawaonsen.nagano.jp":1,"obuse.nagano.jp":1,"ogawa.nagano.jp":1,"okaya.nagano.jp":1,"omachi.nagano.jp":1,"omi.nagano.jp":1,"ookuwa.nagano.jp":1,"ooshika.nagano.jp":1,"otaki.nagano.jp":1,"otari.nagano.jp":1,"sakae.nagano.jp":1,"sakaki.nagano.jp":1,"saku.nagano.jp":1,"sakuho.nagano.jp":1,"shimosuwa.nagano.jp":1,"shinanomachi.nagano.jp":1,"shiojiri.nagano.jp":1,"suwa.nagano.jp":1,"suzaka.nagano.jp":1,"takagi.nagano.jp":1,"takamori.nagano.jp":1,"takayama.nagano.jp":1,"tateshina.nagano.jp":1,"tatsuno.nagano.jp":1,"togakushi.nagano.jp":1,"togura.nagano.jp":1,"tomi.nagano.jp":1,"ueda.nagano.jp":1,"wada.nagano.jp":1,"yamagata.nagano.jp":1,"yamanouchi.nagano.jp":1,"yasaka.nagano.jp":1,"yasuoka.nagano.jp":1,"chijiwa.nagasaki.jp":1,"futsu.nagasaki.jp":1,"goto.nagasaki.jp":1,"hasami.nagasaki.jp":1,"hirado.nagasaki.jp":1,"iki.nagasaki.jp":1,"isahaya.nagasaki.jp":1,"kawatana.nagasaki.jp":1,"kuchinotsu.nagasaki.jp":1,"matsuura.nagasaki.jp":1,"nagasaki.nagasaki.jp":1,"obama.nagasaki.jp":1,"omura.nagasaki.jp":1,"oseto.nagasaki.jp":1,"saikai.nagasaki.jp":1,"sasebo.nagasaki.jp":1,"seihi.nagasaki.jp":1,"shimabara.nagasaki.jp":1,"shinkamigoto.nagasaki.jp":1,"togitsu.nagasaki.jp":1,"tsushima.nagasaki.jp":1,"unzen.nagasaki.jp":1,"ando.nara.jp":1,"gose.nara.jp":1,"heguri.nara.jp":1,"higashiyoshino.nara.jp":1,"ikaruga.nara.jp":1,"ikoma.nara.jp":1,"kamikitayama.nara.jp":1,"kanmaki.nara.jp":1,"kashiba.nara.jp":1,"kashihara.nara.jp":1,"katsuragi.nara.jp":1,"kawai.nara.jp":1,"kawakami.nara.jp":1,"kawanishi.nara.jp":1,"koryo.nara.jp":1,"kurotaki.nara.jp":1,"mitsue.nara.jp":1,"miyake.nara.jp":1,"nara.nara.jp":1,"nosegawa.nara.jp":1,"oji.nara.jp":1,"ouda.nara.jp":1,"oyodo.nara.jp":1,"sakurai.nara.jp":1,"sango.nara.jp":1,"shimoichi.nara.jp":1,"shimokitayama.nara.jp":1,"shinjo.nara.jp":1,"soni.nara.jp":1,"takatori.nara.jp":1,"tawaramoto.nara.jp":1,"tenkawa.nara.jp":1,"tenri.nara.jp":1,"uda.nara.jp":1,"yamatokoriyama.nara.jp":1,"yamatotakada.nara.jp":1,"yamazoe.nara.jp":1,"yoshino.nara.jp":1,"aga.niigata.jp":1,"agano.niigata.jp":1,"gosen.niigata.jp":1,"itoigawa.niigata.jp":1,"izumozaki.niigata.jp":1,"joetsu.niigata.jp":1,"kamo.niigata.jp":1,"kariwa.niigata.jp":1,"kashiwazaki.niigata.jp":1,"minamiuonuma.niigata.jp":1,"mitsuke.niigata.jp":1,"muika.niigata.jp":1,"murakami.niigata.jp":1,"myoko.niigata.jp":1,"nagaoka.niigata.jp":1,"niigata.niigata.jp":1,"ojiya.niigata.jp":1,"omi.niigata.jp":1,"sado.niigata.jp":1,"sanjo.niigata.jp":1,"seiro.niigata.jp":1,"seirou.niigata.jp":1,"sekikawa.niigata.jp":1,"shibata.niigata.jp":1,"tagami.niigata.jp":1,"tainai.niigata.jp":1,"tochio.niigata.jp":1,"tokamachi.niigata.jp":1,"tsubame.niigata.jp":1,"tsunan.niigata.jp":1,"uonuma.niigata.jp":1,"yahiko.niigata.jp":1,"yoita.niigata.jp":1,"yuzawa.niigata.jp":1,"beppu.oita.jp":1,"bungoono.oita.jp":1,"bungotakada.oita.jp":1,"hasama.oita.jp":1,"hiji.oita.jp":1,"himeshima.oita.jp":1,"hita.oita.jp":1,"kamitsue.oita.jp":1,"kokonoe.oita.jp":1,"kuju.oita.jp":1,"kunisaki.oita.jp":1,"kusu.oita.jp":1,"oita.oita.jp":1,"saiki.oita.jp":1,"taketa.oita.jp":1,"tsukumi.oita.jp":1,"usa.oita.jp":1,"usuki.oita.jp":1,"yufu.oita.jp":1,"akaiwa.okayama.jp":1,"asakuchi.okayama.jp":1,"bizen.okayama.jp":1,"hayashima.okayama.jp":1,"ibara.okayama.jp":1,"kagamino.okayama.jp":1,"kasaoka.okayama.jp":1,"kibichuo.okayama.jp":1,"kumenan.okayama.jp":1,"kurashiki.okayama.jp":1,"maniwa.okayama.jp":1,"misaki.okayama.jp":1,"nagi.okayama.jp":1,"niimi.okayama.jp":1,"nishiawakura.okayama.jp":1,"okayama.okayama.jp":1,"satosho.okayama.jp":1,"setouchi.okayama.jp":1,"shinjo.okayama.jp":1,"shoo.okayama.jp":1,"soja.okayama.jp":1,"takahashi.okayama.jp":1,"tamano.okayama.jp":1,"tsuyama.okayama.jp":1,"wake.okayama.jp":1,"yakage.okayama.jp":1,"aguni.okinawa.jp":1,"ginowan.okinawa.jp":1,"ginoza.okinawa.jp":1,"gushikami.okinawa.jp":1,"haebaru.okinawa.jp":1,"higashi.okinawa.jp":1,"hirara.okinawa.jp":1,"iheya.okinawa.jp":1,"ishigaki.okinawa.jp":1,"ishikawa.okinawa.jp":1,"itoman.okinawa.jp":1,"izena.okinawa.jp":1,"kadena.okinawa.jp":1,"kin.okinawa.jp":1,"kitadaito.okinawa.jp":1,"kitanakagusuku.okinawa.jp":1,"kumejima.okinawa.jp":1,"kunigami.okinawa.jp":1,"minamidaito.okinawa.jp":1,"motobu.okinawa.jp":1,"nago.okinawa.jp":1,"naha.okinawa.jp":1,"nakagusuku.okinawa.jp":1,"nakijin.okinawa.jp":1,"nanjo.okinawa.jp":1,"nishihara.okinawa.jp":1,"ogimi.okinawa.jp":1,"okinawa.okinawa.jp":1,"onna.okinawa.jp":1,"shimoji.okinawa.jp":1,"taketomi.okinawa.jp":1,"tarama.okinawa.jp":1,"tokashiki.okinawa.jp":1,"tomigusuku.okinawa.jp":1,"tonaki.okinawa.jp":1,"urasoe.okinawa.jp":1,"uruma.okinawa.jp":1,"yaese.okinawa.jp":1,"yomitan.okinawa.jp":1,"yonabaru.okinawa.jp":1,"yonaguni.okinawa.jp":1,"zamami.okinawa.jp":1,"abeno.osaka.jp":1,"chihayaakasaka.osaka.jp":1,"chuo.osaka.jp":1,"daito.osaka.jp":1,"fujiidera.osaka.jp":1,"habikino.osaka.jp":1,"hannan.osaka.jp":1,"higashiosaka.osaka.jp":1,"higashisumiyoshi.osaka.jp":1,"higashiyodogawa.osaka.jp":1,"hirakata.osaka.jp":1,"ibaraki.osaka.jp":1,"ikeda.osaka.jp":1,"izumi.osaka.jp":1,"izumiotsu.osaka.jp":1,"izumisano.osaka.jp":1,"kadoma.osaka.jp":1,"kaizuka.osaka.jp":1,"kanan.osaka.jp":1,"kashiwara.osaka.jp":1,"katano.osaka.jp":1,"kawachinagano.osaka.jp":1,"kishiwada.osaka.jp":1,"kita.osaka.jp":1,"kumatori.osaka.jp":1,"matsubara.osaka.jp":1,"minato.osaka.jp":1,"minoh.osaka.jp":1,"misaki.osaka.jp":1,"moriguchi.osaka.jp":1,"neyagawa.osaka.jp":1,"nishi.osaka.jp":1,"nose.osaka.jp":1,"osakasayama.osaka.jp":1,"sakai.osaka.jp":1,"sayama.osaka.jp":1,"sennan.osaka.jp":1,"settsu.osaka.jp":1,"shijonawate.osaka.jp":1,"shimamoto.osaka.jp":1,"suita.osaka.jp":1,"tadaoka.osaka.jp":1,"taishi.osaka.jp":1,"tajiri.osaka.jp":1,"takaishi.osaka.jp":1,"takatsuki.osaka.jp":1,"tondabayashi.osaka.jp":1,"toyonaka.osaka.jp":1,"toyono.osaka.jp":1,"yao.osaka.jp":1,"ariake.saga.jp":1,"arita.saga.jp":1,"fukudomi.saga.jp":1,"genkai.saga.jp":1,"hamatama.saga.jp":1,"hizen.saga.jp":1,"imari.saga.jp":1,"kamimine.saga.jp":1,"kanzaki.saga.jp":1,"karatsu.saga.jp":1,"kashima.saga.jp":1,"kitagata.saga.jp":1,"kitahata.saga.jp":1,"kiyama.saga.jp":1,"kouhoku.saga.jp":1,"kyuragi.saga.jp":1,"nishiarita.saga.jp":1,"ogi.saga.jp":1,"omachi.saga.jp":1,"ouchi.saga.jp":1,"saga.saga.jp":1,"shiroishi.saga.jp":1,"taku.saga.jp":1,"tara.saga.jp":1,"tosu.saga.jp":1,"yoshinogari.saga.jp":1,"arakawa.saitama.jp":1,"asaka.saitama.jp":1,"chichibu.saitama.jp":1,"fujimi.saitama.jp":1,"fujimino.saitama.jp":1,"fukaya.saitama.jp":1,"hanno.saitama.jp":1,"hanyu.saitama.jp":1,"hasuda.saitama.jp":1,"hatogaya.saitama.jp":1,"hatoyama.saitama.jp":1,"hidaka.saitama.jp":1,"higashichichibu.saitama.jp":1,"higashimatsuyama.saitama.jp":1,"honjo.saitama.jp":1,"ina.saitama.jp":1,"iruma.saitama.jp":1,"iwatsuki.saitama.jp":1,"kamiizumi.saitama.jp":1,"kamikawa.saitama.jp":1,"kamisato.saitama.jp":1,"kasukabe.saitama.jp":1,"kawagoe.saitama.jp":1,"kawaguchi.saitama.jp":1,"kawajima.saitama.jp":1,"kazo.saitama.jp":1,"kitamoto.saitama.jp":1,"koshigaya.saitama.jp":1,"kounosu.saitama.jp":1,"kuki.saitama.jp":1,"kumagaya.saitama.jp":1,"matsubushi.saitama.jp":1,"minano.saitama.jp":1,"misato.saitama.jp":1,"miyashiro.saitama.jp":1,"miyoshi.saitama.jp":1,"moroyama.saitama.jp":1,"nagatoro.saitama.jp":1,"namegawa.saitama.jp":1,"niiza.saitama.jp":1,"ogano.saitama.jp":1,"ogawa.saitama.jp":1,"ogose.saitama.jp":1,"okegawa.saitama.jp":1,"omiya.saitama.jp":1,"otaki.saitama.jp":1,"ranzan.saitama.jp":1,"ryokami.saitama.jp":1,"saitama.saitama.jp":1,"sakado.saitama.jp":1,"satte.saitama.jp":1,"sayama.saitama.jp":1,"shiki.saitama.jp":1,"shiraoka.saitama.jp":1,"soka.saitama.jp":1,"sugito.saitama.jp":1,"toda.saitama.jp":1,"tokigawa.saitama.jp":1,"tokorozawa.saitama.jp":1,"tsurugashima.saitama.jp":1,"urawa.saitama.jp":1,"warabi.saitama.jp":1,"yashio.saitama.jp":1,"yokoze.saitama.jp":1,"yono.saitama.jp":1,"yorii.saitama.jp":1,"yoshida.saitama.jp":1,"yoshikawa.saitama.jp":1,"yoshimi.saitama.jp":1,"aisho.shiga.jp":1,"gamo.shiga.jp":1,"higashiomi.shiga.jp":1,"hikone.shiga.jp":1,"koka.shiga.jp":1,"konan.shiga.jp":1,"kosei.shiga.jp":1,"koto.shiga.jp":1,"kusatsu.shiga.jp":1,"maibara.shiga.jp":1,"moriyama.shiga.jp":1,"nagahama.shiga.jp":1,"nishiazai.shiga.jp":1,"notogawa.shiga.jp":1,"omihachiman.shiga.jp":1,"otsu.shiga.jp":1,"ritto.shiga.jp":1,"ryuoh.shiga.jp":1,"takashima.shiga.jp":1,"takatsuki.shiga.jp":1,"torahime.shiga.jp":1,"toyosato.shiga.jp":1,"yasu.shiga.jp":1,"akagi.shimane.jp":1,"ama.shimane.jp":1,"gotsu.shimane.jp":1,"hamada.shimane.jp":1,"higashiizumo.shimane.jp":1,"hikawa.shimane.jp":1,"hikimi.shimane.jp":1,"izumo.shimane.jp":1,"kakinoki.shimane.jp":1,"masuda.shimane.jp":1,"matsue.shimane.jp":1,"misato.shimane.jp":1,"nishinoshima.shimane.jp":1,"ohda.shimane.jp":1,"okinoshima.shimane.jp":1,"okuizumo.shimane.jp":1,"shimane.shimane.jp":1,"tamayu.shimane.jp":1,"tsuwano.shimane.jp":1,"unnan.shimane.jp":1,"yakumo.shimane.jp":1,"yasugi.shimane.jp":1,"yatsuka.shimane.jp":1,"arai.shizuoka.jp":1,"atami.shizuoka.jp":1,"fuji.shizuoka.jp":1,"fujieda.shizuoka.jp":1,"fujikawa.shizuoka.jp":1,"fujinomiya.shizuoka.jp":1,"fukuroi.shizuoka.jp":1,"gotemba.shizuoka.jp":1,"haibara.shizuoka.jp":1,"hamamatsu.shizuoka.jp":1,"higashiizu.shizuoka.jp":1,"ito.shizuoka.jp":1,"iwata.shizuoka.jp":1,"izu.shizuoka.jp":1,"izunokuni.shizuoka.jp":1,"kakegawa.shizuoka.jp":1,"kannami.shizuoka.jp":1,"kawanehon.shizuoka.jp":1,"kawazu.shizuoka.jp":1,"kikugawa.shizuoka.jp":1,"kosai.shizuoka.jp":1,"makinohara.shizuoka.jp":1,"matsuzaki.shizuoka.jp":1,"minamiizu.shizuoka.jp":1,"mishima.shizuoka.jp":1,"morimachi.shizuoka.jp":1,"nishiizu.shizuoka.jp":1,"numazu.shizuoka.jp":1,"omaezaki.shizuoka.jp":1,"shimada.shizuoka.jp":1,"shimizu.shizuoka.jp":1,"shimoda.shizuoka.jp":1,"shizuoka.shizuoka.jp":1,"susono.shizuoka.jp":1,"yaizu.shizuoka.jp":1,"yoshida.shizuoka.jp":1,"ashikaga.tochigi.jp":1,"bato.tochigi.jp":1,"haga.tochigi.jp":1,"ichikai.tochigi.jp":1,"iwafune.tochigi.jp":1,"kaminokawa.tochigi.jp":1,"kanuma.tochigi.jp":1,"karasuyama.tochigi.jp":1,"kuroiso.tochigi.jp":1,"mashiko.tochigi.jp":1,"mibu.tochigi.jp":1,"moka.tochigi.jp":1,"motegi.tochigi.jp":1,"nasu.tochigi.jp":1,"nasushiobara.tochigi.jp":1,"nikko.tochigi.jp":1,"nishikata.tochigi.jp":1,"nogi.tochigi.jp":1,"ohira.tochigi.jp":1,"ohtawara.tochigi.jp":1,"oyama.tochigi.jp":1,"sakura.tochigi.jp":1,"sano.tochigi.jp":1,"shimotsuke.tochigi.jp":1,"shioya.tochigi.jp":1,"takanezawa.tochigi.jp":1,"tochigi.tochigi.jp":1,"tsuga.tochigi.jp":1,"ujiie.tochigi.jp":1,"utsunomiya.tochigi.jp":1,"yaita.tochigi.jp":1,"aizumi.tokushima.jp":1,"anan.tokushima.jp":1,"ichiba.tokushima.jp":1,"itano.tokushima.jp":1,"kainan.tokushima.jp":1,"komatsushima.tokushima.jp":1,"matsushige.tokushima.jp":1,"mima.tokushima.jp":1,"minami.tokushima.jp":1,"miyoshi.tokushima.jp":1,"mugi.tokushima.jp":1,"nakagawa.tokushima.jp":1,"naruto.tokushima.jp":1,"sanagochi.tokushima.jp":1,"shishikui.tokushima.jp":1,"tokushima.tokushima.jp":1,"wajiki.tokushima.jp":1,"adachi.tokyo.jp":1,"akiruno.tokyo.jp":1,"akishima.tokyo.jp":1,"aogashima.tokyo.jp":1,"arakawa.tokyo.jp":1,"bunkyo.tokyo.jp":1,"chiyoda.tokyo.jp":1,"chofu.tokyo.jp":1,"chuo.tokyo.jp":1,"edogawa.tokyo.jp":1,"fuchu.tokyo.jp":1,"fussa.tokyo.jp":1,"hachijo.tokyo.jp":1,"hachioji.tokyo.jp":1,"hamura.tokyo.jp":1,"higashikurume.tokyo.jp":1,"higashimurayama.tokyo.jp":1,"higashiyamato.tokyo.jp":1,"hino.tokyo.jp":1,"hinode.tokyo.jp":1,"hinohara.tokyo.jp":1,"inagi.tokyo.jp":1,"itabashi.tokyo.jp":1,"katsushika.tokyo.jp":1,"kita.tokyo.jp":1,"kiyose.tokyo.jp":1,"kodaira.tokyo.jp":1,"koganei.tokyo.jp":1,"kokubunji.tokyo.jp":1,"komae.tokyo.jp":1,"koto.tokyo.jp":1,"kouzushima.tokyo.jp":1,"kunitachi.tokyo.jp":1,"machida.tokyo.jp":1,"meguro.tokyo.jp":1,"minato.tokyo.jp":1,"mitaka.tokyo.jp":1,"mizuho.tokyo.jp":1,"musashimurayama.tokyo.jp":1,"musashino.tokyo.jp":1,"nakano.tokyo.jp":1,"nerima.tokyo.jp":1,"ogasawara.tokyo.jp":1,"okutama.tokyo.jp":1,"ome.tokyo.jp":1,"oshima.tokyo.jp":1,"ota.tokyo.jp":1,"setagaya.tokyo.jp":1,"shibuya.tokyo.jp":1,"shinagawa.tokyo.jp":1,"shinjuku.tokyo.jp":1,"suginami.tokyo.jp":1,"sumida.tokyo.jp":1,"tachikawa.tokyo.jp":1,"taito.tokyo.jp":1,"tama.tokyo.jp":1,"toshima.tokyo.jp":1,"chizu.tottori.jp":1,"hino.tottori.jp":1,"kawahara.tottori.jp":1,"koge.tottori.jp":1,"kotoura.tottori.jp":1,"misasa.tottori.jp":1,"nanbu.tottori.jp":1,"nichinan.tottori.jp":1,"sakaiminato.tottori.jp":1,"tottori.tottori.jp":1,"wakasa.tottori.jp":1,"yazu.tottori.jp":1,"yonago.tottori.jp":1,"asahi.toyama.jp":1,"fuchu.toyama.jp":1,"fukumitsu.toyama.jp":1,"funahashi.toyama.jp":1,"himi.toyama.jp":1,"imizu.toyama.jp":1,"inami.toyama.jp":1,"johana.toyama.jp":1,"kamiichi.toyama.jp":1,"kurobe.toyama.jp":1,"nakaniikawa.toyama.jp":1,"namerikawa.toyama.jp":1,"nanto.toyama.jp":1,"nyuzen.toyama.jp":1,"oyabe.toyama.jp":1,"taira.toyama.jp":1,"takaoka.toyama.jp":1,"tateyama.toyama.jp":1,"toga.toyama.jp":1,"tonami.toyama.jp":1,"toyama.toyama.jp":1,"unazuki.toyama.jp":1,"uozu.toyama.jp":1,"yamada.toyama.jp":1,"arida.wakayama.jp":1,"aridagawa.wakayama.jp":1,"gobo.wakayama.jp":1,"hashimoto.wakayama.jp":1,"hidaka.wakayama.jp":1,"hirogawa.wakayama.jp":1,"inami.wakayama.jp":1,"iwade.wakayama.jp":1,"kainan.wakayama.jp":1,"kamitonda.wakayama.jp":1,"katsuragi.wakayama.jp":1,"kimino.wakayama.jp":1,"kinokawa.wakayama.jp":1,"kitayama.wakayama.jp":1,"koya.wakayama.jp":1,"koza.wakayama.jp":1,"kozagawa.wakayama.jp":1,"kudoyama.wakayama.jp":1,"kushimoto.wakayama.jp":1,"mihama.wakayama.jp":1,"misato.wakayama.jp":1,"nachikatsuura.wakayama.jp":1,"shingu.wakayama.jp":1,"shirahama.wakayama.jp":1,"taiji.wakayama.jp":1,"tanabe.wakayama.jp":1,"wakayama.wakayama.jp":1,"yuasa.wakayama.jp":1,"yura.wakayama.jp":1,"asahi.yamagata.jp":1,"funagata.yamagata.jp":1,"higashine.yamagata.jp":1,"iide.yamagata.jp":1,"kahoku.yamagata.jp":1,"kaminoyama.yamagata.jp":1,"kaneyama.yamagata.jp":1,"kawanishi.yamagata.jp":1,"mamurogawa.yamagata.jp":1,"mikawa.yamagata.jp":1,"murayama.yamagata.jp":1,"nagai.yamagata.jp":1,"nakayama.yamagata.jp":1,"nanyo.yamagata.jp":1,"nishikawa.yamagata.jp":1,"obanazawa.yamagata.jp":1,"oe.yamagata.jp":1,"oguni.yamagata.jp":1,"ohkura.yamagata.jp":1,"oishida.yamagata.jp":1,"sagae.yamagata.jp":1,"sakata.yamagata.jp":1,"sakegawa.yamagata.jp":1,"shinjo.yamagata.jp":1,"shirataka.yamagata.jp":1,"shonai.yamagata.jp":1,"takahata.yamagata.jp":1,"tendo.yamagata.jp":1,"tozawa.yamagata.jp":1,"tsuruoka.yamagata.jp":1,"yamagata.yamagata.jp":1,"yamanobe.yamagata.jp":1,"yonezawa.yamagata.jp":1,"yuza.yamagata.jp":1,"abu.yamaguchi.jp":1,"hagi.yamaguchi.jp":1,"hikari.yamaguchi.jp":1,"hofu.yamaguchi.jp":1,"iwakuni.yamaguchi.jp":1,"kudamatsu.yamaguchi.jp":1,"mitou.yamaguchi.jp":1,"nagato.yamaguchi.jp":1,"oshima.yamaguchi.jp":1,"shimonoseki.yamaguchi.jp":1,"shunan.yamaguchi.jp":1,"tabuse.yamaguchi.jp":1,"tokuyama.yamaguchi.jp":1,"toyota.yamaguchi.jp":1,"ube.yamaguchi.jp":1,"yuu.yamaguchi.jp":1,"chuo.yamanashi.jp":1,"doshi.yamanashi.jp":1,"fuefuki.yamanashi.jp":1,"fujikawa.yamanashi.jp":1,"fujikawaguchiko.yamanashi.jp":1,"fujiyoshida.yamanashi.jp":1,"hayakawa.yamanashi.jp":1,"hokuto.yamanashi.jp":1,"ichikawamisato.yamanashi.jp":1,"kai.yamanashi.jp":1,"kofu.yamanashi.jp":1,"koshu.yamanashi.jp":1,"kosuge.yamanashi.jp":1,"minami-alps.yamanashi.jp":1,"minobu.yamanashi.jp":1,"nakamichi.yamanashi.jp":1,"nanbu.yamanashi.jp":1,"narusawa.yamanashi.jp":1,"nirasaki.yamanashi.jp":1,"nishikatsura.yamanashi.jp":1,"oshino.yamanashi.jp":1,"otsuki.yamanashi.jp":1,"showa.yamanashi.jp":1,"tabayama.yamanashi.jp":1,"tsuru.yamanashi.jp":1,"uenohara.yamanashi.jp":1,"yamanakako.yamanashi.jp":1,"yamanashi.yamanashi.jp":1,ke:1,"ac.ke":1,"co.ke":1,"go.ke":1,"info.ke":1,"me.ke":1,"mobi.ke":1,"ne.ke":1,"or.ke":1,"sc.ke":1,kg:1,"org.kg":1,"net.kg":1,"com.kg":1,"edu.kg":1,"gov.kg":1,"mil.kg":1,kh:2,ki:1,"edu.ki":1,"biz.ki":1,"net.ki":1,"org.ki":1,"gov.ki":1,"info.ki":1,"com.ki":1,km:1,"org.km":1,"nom.km":1,"gov.km":1,"prd.km":1,"tm.km":1,"edu.km":1,"mil.km":1,"ass.km":1,"com.km":1,"coop.km":1,"asso.km":1,"presse.km":1,"medecin.km":1,"notaires.km":1,"pharmaciens.km":1,"veterinaire.km":1,"gouv.km":1,kn:1,"net.kn":1,"org.kn":1,"edu.kn":1,"gov.kn":1,kp:1,"com.kp":1,"edu.kp":1,"gov.kp":1,"org.kp":1,"rep.kp":1,"tra.kp":1,kr:1,"ac.kr":1,"co.kr":1,"es.kr":1,"go.kr":1,"hs.kr":1,"kg.kr":1,"mil.kr":1,"ms.kr":1,"ne.kr":1,"or.kr":1,"pe.kr":1,"re.kr":1,"sc.kr":1,"busan.kr":1,"chungbuk.kr":1,"chungnam.kr":1,"daegu.kr":1,"daejeon.kr":1,"gangwon.kr":1,"gwangju.kr":1,"gyeongbuk.kr":1,"gyeonggi.kr":1,"gyeongnam.kr":1,"incheon.kr":1,"jeju.kr":1,"jeonbuk.kr":1,"jeonnam.kr":1,"seoul.kr":1,"ulsan.kr":1,kw:1,"com.kw":1,"edu.kw":1,"emb.kw":1,"gov.kw":1,"ind.kw":1,"net.kw":1,"org.kw":1,ky:1,"com.ky":1,"edu.ky":1,"net.ky":1,"org.ky":1,kz:1,"org.kz":1,"edu.kz":1,"net.kz":1,"gov.kz":1,"mil.kz":1,"com.kz":1,la:1,"int.la":1,"net.la":1,"info.la":1,"edu.la":1,"gov.la":1,"per.la":1,"com.la":1,"org.la":1,lb:1,"com.lb":1,"edu.lb":1,"gov.lb":1,"net.lb":1,"org.lb":1,lc:1,"com.lc":1,"net.lc":1,"co.lc":1,"org.lc":1,"edu.lc":1,"gov.lc":1,li:1,lk:1,"gov.lk":1,"sch.lk":1,"net.lk":1,"int.lk":1,"com.lk":1,"org.lk":1,"edu.lk":1,"ngo.lk":1,"soc.lk":1,"web.lk":1,"ltd.lk":1,"assn.lk":1,"grp.lk":1,"hotel.lk":1,"ac.lk":1,lr:1,"com.lr":1,"edu.lr":1,"gov.lr":1,"org.lr":1,"net.lr":1,ls:1,"ac.ls":1,"biz.ls":1,"co.ls":1,"edu.ls":1,"gov.ls":1,"info.ls":1,"net.ls":1,"org.ls":1,"sc.ls":1,lt:1,"gov.lt":1,lu:1,lv:1,"com.lv":1,"edu.lv":1,"gov.lv":1,"org.lv":1,"mil.lv":1,"id.lv":1,"net.lv":1,"asn.lv":1,"conf.lv":1,ly:1,"com.ly":1,"net.ly":1,"gov.ly":1,"plc.ly":1,"edu.ly":1,"sch.ly":1,"med.ly":1,"org.ly":1,"id.ly":1,ma:1,"co.ma":1,"net.ma":1,"gov.ma":1,"org.ma":1,"ac.ma":1,"press.ma":1,mc:1,"tm.mc":1,"asso.mc":1,md:1,me:1,"co.me":1,"net.me":1,"org.me":1,"edu.me":1,"ac.me":1,"gov.me":1,"its.me":1,"priv.me":1,mg:1,"org.mg":1,"nom.mg":1,"gov.mg":1,"prd.mg":1,"tm.mg":1,"edu.mg":1,"mil.mg":1,"com.mg":1,"co.mg":1,mh:1,mil:1,mk:1,"com.mk":1,"org.mk":1,"net.mk":1,"edu.mk":1,"gov.mk":1,"inf.mk":1,"name.mk":1,ml:1,"com.ml":1,"edu.ml":1,"gouv.ml":1,"gov.ml":1,"net.ml":1,"org.ml":1,"presse.ml":1,mm:2,mn:1,"gov.mn":1,"edu.mn":1,"org.mn":1,mo:1,"com.mo":1,"net.mo":1,"org.mo":1,"edu.mo":1,"gov.mo":1,mobi:1,mp:1,mq:1,mr:1,"gov.mr":1,ms:1,"com.ms":1,"edu.ms":1,"gov.ms":1,"net.ms":1,"org.ms":1,mt:1,"com.mt":1,"edu.mt":1,"net.mt":1,"org.mt":1,mu:1,"com.mu":1,"net.mu":1,"org.mu":1,"gov.mu":1,"ac.mu":1,"co.mu":1,"or.mu":1,museum:1,mv:1,"aero.mv":1,"biz.mv":1,"com.mv":1,"coop.mv":1,"edu.mv":1,"gov.mv":1,"info.mv":1,"int.mv":1,"mil.mv":1,"museum.mv":1,"name.mv":1,"net.mv":1,"org.mv":1,"pro.mv":1,mw:1,"ac.mw":1,"biz.mw":1,"co.mw":1,"com.mw":1,"coop.mw":1,"edu.mw":1,"gov.mw":1,"int.mw":1,"museum.mw":1,"net.mw":1,"org.mw":1,mx:1,"com.mx":1,"org.mx":1,"gob.mx":1,"edu.mx":1,"net.mx":1,my:1,"biz.my":1,"com.my":1,"edu.my":1,"gov.my":1,"mil.my":1,"name.my":1,"net.my":1,"org.my":1,mz:1,"ac.mz":1,"adv.mz":1,"co.mz":1,"edu.mz":1,"gov.mz":1,"mil.mz":1,"net.mz":1,"org.mz":1,na:1,"info.na":1,"pro.na":1,"name.na":1,"school.na":1,"or.na":1,"dr.na":1,"us.na":1,"mx.na":1,"ca.na":1,"in.na":1,"cc.na":1,"tv.na":1,"ws.na":1,"mobi.na":1,"co.na":1,"com.na":1,"org.na":1,name:1,nc:1,"asso.nc":1,"nom.nc":1,ne:1,net:1,nf:1,"com.nf":1,"net.nf":1,"per.nf":1,"rec.nf":1,"web.nf":1,"arts.nf":1,"firm.nf":1,"info.nf":1,"other.nf":1,"store.nf":1,ng:1,"com.ng":1,"edu.ng":1,"gov.ng":1,"i.ng":1,"mil.ng":1,"mobi.ng":1,"name.ng":1,"net.ng":1,"org.ng":1,"sch.ng":1,ni:1,"ac.ni":1,"biz.ni":1,"co.ni":1,"com.ni":1,"edu.ni":1,"gob.ni":1,"in.ni":1,"info.ni":1,"int.ni":1,"mil.ni":1,"net.ni":1,"nom.ni":1,"org.ni":1,"web.ni":1,nl:1,no:1,"fhs.no":1,"vgs.no":1,"fylkesbibl.no":1,"folkebibl.no":1,"museum.no":1,"idrett.no":1,"priv.no":1,"mil.no":1,"stat.no":1,"dep.no":1,"kommune.no":1,"herad.no":1,"aa.no":1,"ah.no":1,"bu.no":1,"fm.no":1,"hl.no":1,"hm.no":1,"jan-mayen.no":1,"mr.no":1,"nl.no":1,"nt.no":1,"of.no":1,"ol.no":1,"oslo.no":1,"rl.no":1,"sf.no":1,"st.no":1,"svalbard.no":1,"tm.no":1,"tr.no":1,"va.no":1,"vf.no":1,"gs.aa.no":1,"gs.ah.no":1,"gs.bu.no":1,"gs.fm.no":1,"gs.hl.no":1,"gs.hm.no":1,"gs.jan-mayen.no":1,"gs.mr.no":1,"gs.nl.no":1,"gs.nt.no":1,"gs.of.no":1,"gs.ol.no":1,"gs.oslo.no":1,"gs.rl.no":1,"gs.sf.no":1,"gs.st.no":1,"gs.svalbard.no":1,"gs.tm.no":1,"gs.tr.no":1,"gs.va.no":1,"gs.vf.no":1,"akrehamn.no":1,"xn--krehamn-dxa.no":1,"algard.no":1,"xn--lgrd-poac.no":1,"arna.no":1,"brumunddal.no":1,"bryne.no":1,"bronnoysund.no":1,"xn--brnnysund-m8ac.no":1,"drobak.no":1,"xn--drbak-wua.no":1,"egersund.no":1,"fetsund.no":1,"floro.no":1,"xn--flor-jra.no":1,"fredrikstad.no":1,"hokksund.no":1,"honefoss.no":1,"xn--hnefoss-q1a.no":1,"jessheim.no":1,"jorpeland.no":1,"xn--jrpeland-54a.no":1,"kirkenes.no":1,"kopervik.no":1,"krokstadelva.no":1,"langevag.no":1,"xn--langevg-jxa.no":1,"leirvik.no":1,"mjondalen.no":1,"xn--mjndalen-64a.no":1,"mo-i-rana.no":1,"mosjoen.no":1,"xn--mosjen-eya.no":1,"nesoddtangen.no":1,"orkanger.no":1,"osoyro.no":1,"xn--osyro-wua.no":1,"raholt.no":1,"xn--rholt-mra.no":1,"sandnessjoen.no":1,"xn--sandnessjen-ogb.no":1,"skedsmokorset.no":1,"slattum.no":1,"spjelkavik.no":1,"stathelle.no":1,"stavern.no":1,"stjordalshalsen.no":1,"xn--stjrdalshalsen-sqb.no":1,"tananger.no":1,"tranby.no":1,"vossevangen.no":1,"afjord.no":1,"xn--fjord-lra.no":1,"agdenes.no":1,"al.no":1,"xn--l-1fa.no":1,"alesund.no":1,"xn--lesund-hua.no":1,"alstahaug.no":1,"alta.no":1,"xn--lt-liac.no":1,"alaheadju.no":1,"xn--laheadju-7ya.no":1,"alvdal.no":1,"amli.no":1,"xn--mli-tla.no":1,"amot.no":1,"xn--mot-tla.no":1,"andebu.no":1,"andoy.no":1,"xn--andy-ira.no":1,"andasuolo.no":1,"ardal.no":1,"xn--rdal-poa.no":1,"aremark.no":1,"arendal.no":1,"xn--s-1fa.no":1,"aseral.no":1,"xn--seral-lra.no":1,"asker.no":1,"askim.no":1,"askvoll.no":1,"askoy.no":1,"xn--asky-ira.no":1,"asnes.no":1,"xn--snes-poa.no":1,"audnedaln.no":1,"aukra.no":1,"aure.no":1,"aurland.no":1,"aurskog-holand.no":1,"xn--aurskog-hland-jnb.no":1,"austevoll.no":1,"austrheim.no":1,"averoy.no":1,"xn--avery-yua.no":1,"balestrand.no":1,"ballangen.no":1,"balat.no":1,"xn--blt-elab.no":1,"balsfjord.no":1,"bahccavuotna.no":1,"xn--bhccavuotna-k7a.no":1,"bamble.no":1,"bardu.no":1,"beardu.no":1,"beiarn.no":1,"bajddar.no":1,"xn--bjddar-pta.no":1,"baidar.no":1,"xn--bidr-5nac.no":1,"berg.no":1,"bergen.no":1,"berlevag.no":1,"xn--berlevg-jxa.no":1,"bearalvahki.no":1,"xn--bearalvhki-y4a.no":1,"bindal.no":1,"birkenes.no":1,"bjarkoy.no":1,"xn--bjarky-fya.no":1,"bjerkreim.no":1,"bjugn.no":1,"bodo.no":1,"xn--bod-2na.no":1,"badaddja.no":1,"xn--bdddj-mrabd.no":1,"budejju.no":1,"bokn.no":1,"bremanger.no":1,"bronnoy.no":1,"xn--brnny-wuac.no":1,"bygland.no":1,"bykle.no":1,"barum.no":1,"xn--brum-voa.no":1,"bo.telemark.no":1,"xn--b-5ga.telemark.no":1,"bo.nordland.no":1,"xn--b-5ga.nordland.no":1,"bievat.no":1,"xn--bievt-0qa.no":1,"bomlo.no":1,"xn--bmlo-gra.no":1,"batsfjord.no":1,"xn--btsfjord-9za.no":1,"bahcavuotna.no":1,"xn--bhcavuotna-s4a.no":1,"dovre.no":1,"drammen.no":1,"drangedal.no":1,"dyroy.no":1,"xn--dyry-ira.no":1,"donna.no":1,"xn--dnna-gra.no":1,"eid.no":1,"eidfjord.no":1,"eidsberg.no":1,"eidskog.no":1,"eidsvoll.no":1,"eigersund.no":1,"elverum.no":1,"enebakk.no":1,"engerdal.no":1,"etne.no":1,"etnedal.no":1,"evenes.no":1,"evenassi.no":1,"xn--eveni-0qa01ga.no":1,"evje-og-hornnes.no":1,"farsund.no":1,"fauske.no":1,"fuossko.no":1,"fuoisku.no":1,"fedje.no":1,"fet.no":1,"finnoy.no":1,"xn--finny-yua.no":1,"fitjar.no":1,"fjaler.no":1,"fjell.no":1,"flakstad.no":1,"flatanger.no":1,"flekkefjord.no":1,"flesberg.no":1,"flora.no":1,"fla.no":1,"xn--fl-zia.no":1,"folldal.no":1,"forsand.no":1,"fosnes.no":1,"frei.no":1,"frogn.no":1,"froland.no":1,"frosta.no":1,"frana.no":1,"xn--frna-woa.no":1,"froya.no":1,"xn--frya-hra.no":1,"fusa.no":1,"fyresdal.no":1,"forde.no":1,"xn--frde-gra.no":1,"gamvik.no":1,"gangaviika.no":1,"xn--ggaviika-8ya47h.no":1,"gaular.no":1,"gausdal.no":1,"gildeskal.no":1,"xn--gildeskl-g0a.no":1,"giske.no":1,"gjemnes.no":1,"gjerdrum.no":1,"gjerstad.no":1,"gjesdal.no":1,"gjovik.no":1,"xn--gjvik-wua.no":1,"gloppen.no":1,"gol.no":1,"gran.no":1,"grane.no":1,"granvin.no":1,"gratangen.no":1,"grimstad.no":1,"grong.no":1,"kraanghke.no":1,"xn--kranghke-b0a.no":1,"grue.no":1,"gulen.no":1,"hadsel.no":1,"halden.no":1,"halsa.no":1,"hamar.no":1,"hamaroy.no":1,"habmer.no":1,"xn--hbmer-xqa.no":1,"hapmir.no":1,"xn--hpmir-xqa.no":1,"hammerfest.no":1,"hammarfeasta.no":1,"xn--hmmrfeasta-s4ac.no":1,"haram.no":1,"hareid.no":1,"harstad.no":1,"hasvik.no":1,"aknoluokta.no":1,"xn--koluokta-7ya57h.no":1,"hattfjelldal.no":1,"aarborte.no":1,"haugesund.no":1,"hemne.no":1,"hemnes.no":1,"hemsedal.no":1,"heroy.more-og-romsdal.no":1,"xn--hery-ira.xn--mre-og-romsdal-qqb.no":1,"heroy.nordland.no":1,"xn--hery-ira.nordland.no":1,"hitra.no":1,"hjartdal.no":1,"hjelmeland.no":1,"hobol.no":1,"xn--hobl-ira.no":1,"hof.no":1,"hol.no":1,"hole.no":1,"holmestrand.no":1,"holtalen.no":1,"xn--holtlen-hxa.no":1,"hornindal.no":1,"horten.no":1,"hurdal.no":1,"hurum.no":1,"hvaler.no":1,"hyllestad.no":1,"hagebostad.no":1,"xn--hgebostad-g3a.no":1,"hoyanger.no":1,"xn--hyanger-q1a.no":1,"hoylandet.no":1,"xn--hylandet-54a.no":1,"ha.no":1,"xn--h-2fa.no":1,"ibestad.no":1,"inderoy.no":1,"xn--indery-fya.no":1,"iveland.no":1,"jevnaker.no":1,"jondal.no":1,"jolster.no":1,"xn--jlster-bya.no":1,"karasjok.no":1,"karasjohka.no":1,"xn--krjohka-hwab49j.no":1,"karlsoy.no":1,"galsa.no":1,"xn--gls-elac.no":1,"karmoy.no":1,"xn--karmy-yua.no":1,"kautokeino.no":1,"guovdageaidnu.no":1,"klepp.no":1,"klabu.no":1,"xn--klbu-woa.no":1,"kongsberg.no":1,"kongsvinger.no":1,"kragero.no":1,"xn--krager-gya.no":1,"kristiansand.no":1,"kristiansund.no":1,"krodsherad.no":1,"xn--krdsherad-m8a.no":1,"kvalsund.no":1,"rahkkeravju.no":1,"xn--rhkkervju-01af.no":1,"kvam.no":1,"kvinesdal.no":1,"kvinnherad.no":1,"kviteseid.no":1,"kvitsoy.no":1,"xn--kvitsy-fya.no":1,"kvafjord.no":1,"xn--kvfjord-nxa.no":1,"giehtavuoatna.no":1,"kvanangen.no":1,"xn--kvnangen-k0a.no":1,"navuotna.no":1,"xn--nvuotna-hwa.no":1,"kafjord.no":1,"xn--kfjord-iua.no":1,"gaivuotna.no":1,"xn--givuotna-8ya.no":1,"larvik.no":1,"lavangen.no":1,"lavagis.no":1,"loabat.no":1,"xn--loabt-0qa.no":1,"lebesby.no":1,"davvesiida.no":1,"leikanger.no":1,"leirfjord.no":1,"leka.no":1,"leksvik.no":1,"lenvik.no":1,"leangaviika.no":1,"xn--leagaviika-52b.no":1,"lesja.no":1,"levanger.no":1,"lier.no":1,"lierne.no":1,"lillehammer.no":1,"lillesand.no":1,"lindesnes.no":1,"lindas.no":1,"xn--linds-pra.no":1,"lom.no":1,"loppa.no":1,"lahppi.no":1,"xn--lhppi-xqa.no":1,"lund.no":1,"lunner.no":1,"luroy.no":1,"xn--lury-ira.no":1,"luster.no":1,"lyngdal.no":1,"lyngen.no":1,"ivgu.no":1,"lardal.no":1,"lerdal.no":1,"xn--lrdal-sra.no":1,"lodingen.no":1,"xn--ldingen-q1a.no":1,"lorenskog.no":1,"xn--lrenskog-54a.no":1,"loten.no":1,"xn--lten-gra.no":1,"malvik.no":1,"masoy.no":1,"xn--msy-ula0h.no":1,"muosat.no":1,"xn--muost-0qa.no":1,"mandal.no":1,"marker.no":1,"marnardal.no":1,"masfjorden.no":1,"meland.no":1,"meldal.no":1,"melhus.no":1,"meloy.no":1,"xn--mely-ira.no":1,"meraker.no":1,"xn--merker-kua.no":1,"moareke.no":1,"xn--moreke-jua.no":1,"midsund.no":1,"midtre-gauldal.no":1,"modalen.no":1,"modum.no":1,"molde.no":1,"moskenes.no":1,"moss.no":1,"mosvik.no":1,"malselv.no":1,"xn--mlselv-iua.no":1,"malatvuopmi.no":1,"xn--mlatvuopmi-s4a.no":1,"namdalseid.no":1,"aejrie.no":1,"namsos.no":1,"namsskogan.no":1,"naamesjevuemie.no":1,"xn--nmesjevuemie-tcba.no":1,"laakesvuemie.no":1,"nannestad.no":1,"narvik.no":1,"narviika.no":1,"naustdal.no":1,"nedre-eiker.no":1,"nes.akershus.no":1,"nes.buskerud.no":1,"nesna.no":1,"nesodden.no":1,"nesseby.no":1,"unjarga.no":1,"xn--unjrga-rta.no":1,"nesset.no":1,"nissedal.no":1,"nittedal.no":1,"nord-aurdal.no":1,"nord-fron.no":1,"nord-odal.no":1,"norddal.no":1,"nordkapp.no":1,"davvenjarga.no":1,"xn--davvenjrga-y4a.no":1,"nordre-land.no":1,"nordreisa.no":1,"raisa.no":1,"xn--risa-5na.no":1,"nore-og-uvdal.no":1,"notodden.no":1,"naroy.no":1,"xn--nry-yla5g.no":1,"notteroy.no":1,"xn--nttery-byae.no":1,"odda.no":1,"oksnes.no":1,"xn--ksnes-uua.no":1,"oppdal.no":1,"oppegard.no":1,"xn--oppegrd-ixa.no":1,"orkdal.no":1,"orland.no":1,"xn--rland-uua.no":1,"orskog.no":1,"xn--rskog-uua.no":1,"orsta.no":1,"xn--rsta-fra.no":1,"os.hedmark.no":1,"os.hordaland.no":1,"osen.no":1,"osteroy.no":1,"xn--ostery-fya.no":1,"ostre-toten.no":1,"xn--stre-toten-zcb.no":1,"overhalla.no":1,"ovre-eiker.no":1,"xn--vre-eiker-k8a.no":1,"oyer.no":1,"xn--yer-zna.no":1,"oygarden.no":1,"xn--ygarden-p1a.no":1,"oystre-slidre.no":1,"xn--ystre-slidre-ujb.no":1,"porsanger.no":1,"porsangu.no":1,"xn--porsgu-sta26f.no":1,"porsgrunn.no":1,"radoy.no":1,"xn--rady-ira.no":1,"rakkestad.no":1,"rana.no":1,"ruovat.no":1,"randaberg.no":1,"rauma.no":1,"rendalen.no":1,"rennebu.no":1,"rennesoy.no":1,"xn--rennesy-v1a.no":1,"rindal.no":1,"ringebu.no":1,"ringerike.no":1,"ringsaker.no":1,"rissa.no":1,"risor.no":1,"xn--risr-ira.no":1,"roan.no":1,"rollag.no":1,"rygge.no":1,"ralingen.no":1,"xn--rlingen-mxa.no":1,"rodoy.no":1,"xn--rdy-0nab.no":1,"romskog.no":1,"xn--rmskog-bya.no":1,"roros.no":1,"xn--rros-gra.no":1,"rost.no":1,"xn--rst-0na.no":1,"royken.no":1,"xn--ryken-vua.no":1,"royrvik.no":1,"xn--ryrvik-bya.no":1,"rade.no":1,"xn--rde-ula.no":1,"salangen.no":1,"siellak.no":1,"saltdal.no":1,"salat.no":1,"xn--slt-elab.no":1,"xn--slat-5na.no":1,"samnanger.no":1,"sande.more-og-romsdal.no":1,"sande.xn--mre-og-romsdal-qqb.no":1,"sande.vestfold.no":1,"sandefjord.no":1,"sandnes.no":1,"sandoy.no":1,"xn--sandy-yua.no":1,"sarpsborg.no":1,"sauda.no":1,"sauherad.no":1,"sel.no":1,"selbu.no":1,"selje.no":1,"seljord.no":1,"sigdal.no":1,"siljan.no":1,"sirdal.no":1,"skaun.no":1,"skedsmo.no":1,"ski.no":1,"skien.no":1,"skiptvet.no":1,"skjervoy.no":1,"xn--skjervy-v1a.no":1,"skierva.no":1,"xn--skierv-uta.no":1,"skjak.no":1,"xn--skjk-soa.no":1,"skodje.no":1,"skanland.no":1,"xn--sknland-fxa.no":1,"skanit.no":1,"xn--sknit-yqa.no":1,"smola.no":1,"xn--smla-hra.no":1,"snillfjord.no":1,"snasa.no":1,"xn--snsa-roa.no":1,"snoasa.no":1,"snaase.no":1,"xn--snase-nra.no":1,"sogndal.no":1,"sokndal.no":1,"sola.no":1,"solund.no":1,"songdalen.no":1,"sortland.no":1,"spydeberg.no":1,"stange.no":1,"stavanger.no":1,"steigen.no":1,"steinkjer.no":1,"stjordal.no":1,"xn--stjrdal-s1a.no":1,"stokke.no":1,"stor-elvdal.no":1,"stord.no":1,"stordal.no":1,"storfjord.no":1,"omasvuotna.no":1,"strand.no":1,"stranda.no":1,"stryn.no":1,"sula.no":1,"suldal.no":1,"sund.no":1,"sunndal.no":1,"surnadal.no":1,"sveio.no":1,"svelvik.no":1,"sykkylven.no":1,"sogne.no":1,"xn--sgne-gra.no":1,"somna.no":1,"xn--smna-gra.no":1,"sondre-land.no":1,"xn--sndre-land-0cb.no":1,"sor-aurdal.no":1,"xn--sr-aurdal-l8a.no":1,"sor-fron.no":1,"xn--sr-fron-q1a.no":1,"sor-odal.no":1,"xn--sr-odal-q1a.no":1,"sor-varanger.no":1,"xn--sr-varanger-ggb.no":1,"matta-varjjat.no":1,"xn--mtta-vrjjat-k7af.no":1,"sorfold.no":1,"xn--srfold-bya.no":1,"sorreisa.no":1,"xn--srreisa-q1a.no":1,"sorum.no":1,"xn--srum-gra.no":1,"tana.no":1,"deatnu.no":1,"time.no":1,"tingvoll.no":1,"tinn.no":1,"tjeldsund.no":1,"dielddanuorri.no":1,"tjome.no":1,"xn--tjme-hra.no":1,"tokke.no":1,"tolga.no":1,"torsken.no":1,"tranoy.no":1,"xn--trany-yua.no":1,"tromso.no":1,"xn--troms-zua.no":1,"tromsa.no":1,"romsa.no":1,"trondheim.no":1,"troandin.no":1,"trysil.no":1,"trana.no":1,"xn--trna-woa.no":1,"trogstad.no":1,"xn--trgstad-r1a.no":1,"tvedestrand.no":1,"tydal.no":1,"tynset.no":1,"tysfjord.no":1,"divtasvuodna.no":1,"divttasvuotna.no":1,"tysnes.no":1,"tysvar.no":1,"xn--tysvr-vra.no":1,"tonsberg.no":1,"xn--tnsberg-q1a.no":1,"ullensaker.no":1,"ullensvang.no":1,"ulvik.no":1,"utsira.no":1,"vadso.no":1,"xn--vads-jra.no":1,"cahcesuolo.no":1,"xn--hcesuolo-7ya35b.no":1,"vaksdal.no":1,"valle.no":1,"vang.no":1,"vanylven.no":1,"vardo.no":1,"xn--vard-jra.no":1,"varggat.no":1,"xn--vrggt-xqad.no":1,"vefsn.no":1,"vaapste.no":1,"vega.no":1,"vegarshei.no":1,"xn--vegrshei-c0a.no":1,"vennesla.no":1,"verdal.no":1,"verran.no":1,"vestby.no":1,"vestnes.no":1,"vestre-slidre.no":1,"vestre-toten.no":1,"vestvagoy.no":1,"xn--vestvgy-ixa6o.no":1,"vevelstad.no":1,"vik.no":1,"vikna.no":1,"vindafjord.no":1,"volda.no":1,"voss.no":1,"varoy.no":1,"xn--vry-yla5g.no":1,"vagan.no":1,"xn--vgan-qoa.no":1,"voagat.no":1,"vagsoy.no":1,"xn--vgsy-qoa0j.no":1,"vaga.no":1,"xn--vg-yiab.no":1,"valer.ostfold.no":1,"xn--vler-qoa.xn--stfold-9xa.no":1,"valer.hedmark.no":1,"xn--vler-qoa.hedmark.no":1,np:2,nr:1,"biz.nr":1,"info.nr":1,"gov.nr":1,"edu.nr":1,"org.nr":1,"net.nr":1,"com.nr":1,nu:1,nz:1,"ac.nz":1,"co.nz":1,"cri.nz":1,"geek.nz":1,"gen.nz":1,"govt.nz":1,"health.nz":1,"iwi.nz":1,"kiwi.nz":1,"maori.nz":1,"mil.nz":1,"xn--mori-qsa.nz":1,"net.nz":1,"org.nz":1,"parliament.nz":1,"school.nz":1,om:1,"co.om":1,"com.om":1,"edu.om":1,"gov.om":1,"med.om":1,"museum.om":1,"net.om":1,"org.om":1,"pro.om":1,onion:1,org:1,pa:1,"ac.pa":1,"gob.pa":1,"com.pa":1,"org.pa":1,"sld.pa":1,"edu.pa":1,"net.pa":1,"ing.pa":1,"abo.pa":1,"med.pa":1,"nom.pa":1,pe:1,"edu.pe":1,"gob.pe":1,"nom.pe":1,"mil.pe":1,"org.pe":1,"com.pe":1,"net.pe":1,pf:1,"com.pf":1,"org.pf":1,"edu.pf":1,pg:2,ph:1,"com.ph":1,"net.ph":1,"org.ph":1,"gov.ph":1,"edu.ph":1,"ngo.ph":1,"mil.ph":1,"i.ph":1,pk:1,"com.pk":1,"net.pk":1,"edu.pk":1,"org.pk":1,"fam.pk":1,"biz.pk":1,"web.pk":1,"gov.pk":1,"gob.pk":1,"gok.pk":1,"gon.pk":1,"gop.pk":1,"gos.pk":1,"info.pk":1,pl:1,"com.pl":1,"net.pl":1,"org.pl":1,"aid.pl":1,"agro.pl":1,"atm.pl":1,"auto.pl":1,"biz.pl":1,"edu.pl":1,"gmina.pl":1,"gsm.pl":1,"info.pl":1,"mail.pl":1,"miasta.pl":1,"media.pl":1,"mil.pl":1,"nieruchomosci.pl":1,"nom.pl":1,"pc.pl":1,"powiat.pl":1,"priv.pl":1,"realestate.pl":1,"rel.pl":1,"sex.pl":1,"shop.pl":1,"sklep.pl":1,"sos.pl":1,"szkola.pl":1,"targi.pl":1,"tm.pl":1,"tourism.pl":1,"travel.pl":1,"turystyka.pl":1,"gov.pl":1,"ap.gov.pl":1,"griw.gov.pl":1,"ic.gov.pl":1,"is.gov.pl":1,"kmpsp.gov.pl":1,"konsulat.gov.pl":1,"kppsp.gov.pl":1,"kwp.gov.pl":1,"kwpsp.gov.pl":1,"mup.gov.pl":1,"mw.gov.pl":1,"oia.gov.pl":1,"oirm.gov.pl":1,"oke.gov.pl":1,"oow.gov.pl":1,"oschr.gov.pl":1,"oum.gov.pl":1,"pa.gov.pl":1,"pinb.gov.pl":1,"piw.gov.pl":1,"po.gov.pl":1,"pr.gov.pl":1,"psp.gov.pl":1,"psse.gov.pl":1,"pup.gov.pl":1,"rzgw.gov.pl":1,"sa.gov.pl":1,"sdn.gov.pl":1,"sko.gov.pl":1,"so.gov.pl":1,"sr.gov.pl":1,"starostwo.gov.pl":1,"ug.gov.pl":1,"ugim.gov.pl":1,"um.gov.pl":1,"umig.gov.pl":1,"upow.gov.pl":1,"uppo.gov.pl":1,"us.gov.pl":1,"uw.gov.pl":1,"uzs.gov.pl":1,"wif.gov.pl":1,"wiih.gov.pl":1,"winb.gov.pl":1,"wios.gov.pl":1,"witd.gov.pl":1,"wiw.gov.pl":1,"wkz.gov.pl":1,"wsa.gov.pl":1,"wskr.gov.pl":1,"wsse.gov.pl":1,"wuoz.gov.pl":1,"wzmiuw.gov.pl":1,"zp.gov.pl":1,"zpisdn.gov.pl":1,"augustow.pl":1,"babia-gora.pl":1,"bedzin.pl":1,"beskidy.pl":1,"bialowieza.pl":1,"bialystok.pl":1,"bielawa.pl":1,"bieszczady.pl":1,"boleslawiec.pl":1,"bydgoszcz.pl":1,"bytom.pl":1,"cieszyn.pl":1,"czeladz.pl":1,"czest.pl":1,"dlugoleka.pl":1,"elblag.pl":1,"elk.pl":1,"glogow.pl":1,"gniezno.pl":1,"gorlice.pl":1,"grajewo.pl":1,"ilawa.pl":1,"jaworzno.pl":1,"jelenia-gora.pl":1,"jgora.pl":1,"kalisz.pl":1,"kazimierz-dolny.pl":1,"karpacz.pl":1,"kartuzy.pl":1,"kaszuby.pl":1,"katowice.pl":1,"kepno.pl":1,"ketrzyn.pl":1,"klodzko.pl":1,"kobierzyce.pl":1,"kolobrzeg.pl":1,"konin.pl":1,"konskowola.pl":1,"kutno.pl":1,"lapy.pl":1,"lebork.pl":1,"legnica.pl":1,"lezajsk.pl":1,"limanowa.pl":1,"lomza.pl":1,"lowicz.pl":1,"lubin.pl":1,"lukow.pl":1,"malbork.pl":1,"malopolska.pl":1,"mazowsze.pl":1,"mazury.pl":1,"mielec.pl":1,"mielno.pl":1,"mragowo.pl":1,"naklo.pl":1,"nowaruda.pl":1,"nysa.pl":1,"olawa.pl":1,"olecko.pl":1,"olkusz.pl":1,"olsztyn.pl":1,"opoczno.pl":1,"opole.pl":1,"ostroda.pl":1,"ostroleka.pl":1,"ostrowiec.pl":1,"ostrowwlkp.pl":1,"pila.pl":1,"pisz.pl":1,"podhale.pl":1,"podlasie.pl":1,"polkowice.pl":1,"pomorze.pl":1,"pomorskie.pl":1,"prochowice.pl":1,"pruszkow.pl":1,"przeworsk.pl":1,"pulawy.pl":1,"radom.pl":1,"rawa-maz.pl":1,"rybnik.pl":1,"rzeszow.pl":1,"sanok.pl":1,"sejny.pl":1,"slask.pl":1,"slupsk.pl":1,"sosnowiec.pl":1,"stalowa-wola.pl":1,"skoczow.pl":1,"starachowice.pl":1,"stargard.pl":1,"suwalki.pl":1,"swidnica.pl":1,"swiebodzin.pl":1,"swinoujscie.pl":1,"szczecin.pl":1,"szczytno.pl":1,"tarnobrzeg.pl":1,"tgory.pl":1,"turek.pl":1,"tychy.pl":1,"ustka.pl":1,"walbrzych.pl":1,"warmia.pl":1,"warszawa.pl":1,"waw.pl":1,"wegrow.pl":1,"wielun.pl":1,"wlocl.pl":1,"wloclawek.pl":1,"wodzislaw.pl":1,"wolomin.pl":1,"wroclaw.pl":1,"zachpomor.pl":1,"zagan.pl":1,"zarow.pl":1,"zgora.pl":1,"zgorzelec.pl":1,pm:1,pn:1,"gov.pn":1,"co.pn":1,"org.pn":1,"edu.pn":1,"net.pn":1,post:1,pr:1,"com.pr":1,"net.pr":1,"org.pr":1,"gov.pr":1,"edu.pr":1,"isla.pr":1,"pro.pr":1,"biz.pr":1,"info.pr":1,"name.pr":1,"est.pr":1,"prof.pr":1,"ac.pr":1,pro:1,"aaa.pro":1,"aca.pro":1,"acct.pro":1,"avocat.pro":1,"bar.pro":1,"cpa.pro":1,"eng.pro":1,"jur.pro":1,"law.pro":1,"med.pro":1,"recht.pro":1,ps:1,"edu.ps":1,"gov.ps":1,"sec.ps":1,"plo.ps":1,"com.ps":1,"org.ps":1,"net.ps":1,pt:1,"net.pt":1,"gov.pt":1,"org.pt":1,"edu.pt":1,"int.pt":1,"publ.pt":1,"com.pt":1,"nome.pt":1,pw:1,"co.pw":1,"ne.pw":1,"or.pw":1,"ed.pw":1,"go.pw":1,"belau.pw":1,py:1,"com.py":1,"coop.py":1,"edu.py":1,"gov.py":1,"mil.py":1,"net.py":1,"org.py":1,qa:1,"com.qa":1,"edu.qa":1,"gov.qa":1,"mil.qa":1,"name.qa":1,"net.qa":1,"org.qa":1,"sch.qa":1,re:1,"asso.re":1,"com.re":1,"nom.re":1,ro:1,"arts.ro":1,"com.ro":1,"firm.ro":1,"info.ro":1,"nom.ro":1,"nt.ro":1,"org.ro":1,"rec.ro":1,"store.ro":1,"tm.ro":1,"www.ro":1,rs:1,"ac.rs":1,"co.rs":1,"edu.rs":1,"gov.rs":1,"in.rs":1,"org.rs":1,ru:1,rw:1,"ac.rw":1,"co.rw":1,"coop.rw":1,"gov.rw":1,"mil.rw":1,"net.rw":1,"org.rw":1,sa:1,"com.sa":1,"net.sa":1,"org.sa":1,"gov.sa":1,"med.sa":1,"pub.sa":1,"edu.sa":1,"sch.sa":1,sb:1,"com.sb":1,"edu.sb":1,"gov.sb":1,"net.sb":1,"org.sb":1,sc:1,"com.sc":1,"gov.sc":1,"net.sc":1,"org.sc":1,"edu.sc":1,sd:1,"com.sd":1,"net.sd":1,"org.sd":1,"edu.sd":1,"med.sd":1,"tv.sd":1,"gov.sd":1,"info.sd":1,se:1,"a.se":1,"ac.se":1,"b.se":1,"bd.se":1,"brand.se":1,"c.se":1,"d.se":1,"e.se":1,"f.se":1,"fh.se":1,"fhsk.se":1,"fhv.se":1,"g.se":1,"h.se":1,"i.se":1,"k.se":1,"komforb.se":1,"kommunalforbund.se":1,"komvux.se":1,"l.se":1,"lanbib.se":1,"m.se":1,"n.se":1,"naturbruksgymn.se":1,"o.se":1,"org.se":1,"p.se":1,"parti.se":1,"pp.se":1,"press.se":1,"r.se":1,"s.se":1,"t.se":1,"tm.se":1,"u.se":1,"w.se":1,"x.se":1,"y.se":1,"z.se":1,sg:1,"com.sg":1,"net.sg":1,"org.sg":1,"gov.sg":1,"edu.sg":1,"per.sg":1,sh:1,"com.sh":1,"net.sh":1,"gov.sh":1,"org.sh":1,"mil.sh":1,si:1,sj:1,sk:1,sl:1,"com.sl":1,"net.sl":1,"edu.sl":1,"gov.sl":1,"org.sl":1,sm:1,sn:1,"art.sn":1,"com.sn":1,"edu.sn":1,"gouv.sn":1,"org.sn":1,"perso.sn":1,"univ.sn":1,so:1,"com.so":1,"edu.so":1,"gov.so":1,"me.so":1,"net.so":1,"org.so":1,sr:1,ss:1,"biz.ss":1,"com.ss":1,"edu.ss":1,"gov.ss":1,"me.ss":1,"net.ss":1,"org.ss":1,"sch.ss":1,st:1,"co.st":1,"com.st":1,"consulado.st":1,"edu.st":1,"embaixada.st":1,"mil.st":1,"net.st":1,"org.st":1,"principe.st":1,"saotome.st":1,"store.st":1,su:1,sv:1,"com.sv":1,"edu.sv":1,"gob.sv":1,"org.sv":1,"red.sv":1,sx:1,"gov.sx":1,sy:1,"edu.sy":1,"gov.sy":1,"net.sy":1,"mil.sy":1,"com.sy":1,"org.sy":1,sz:1,"co.sz":1,"ac.sz":1,"org.sz":1,tc:1,td:1,tel:1,tf:1,tg:1,th:1,"ac.th":1,"co.th":1,"go.th":1,"in.th":1,"mi.th":1,"net.th":1,"or.th":1,tj:1,"ac.tj":1,"biz.tj":1,"co.tj":1,"com.tj":1,"edu.tj":1,"go.tj":1,"gov.tj":1,"int.tj":1,"mil.tj":1,"name.tj":1,"net.tj":1,"nic.tj":1,"org.tj":1,"test.tj":1,"web.tj":1,tk:1,tl:1,"gov.tl":1,tm:1,"com.tm":1,"co.tm":1,"org.tm":1,"net.tm":1,"nom.tm":1,"gov.tm":1,"mil.tm":1,"edu.tm":1,tn:1,"com.tn":1,"ens.tn":1,"fin.tn":1,"gov.tn":1,"ind.tn":1,"info.tn":1,"intl.tn":1,"mincom.tn":1,"nat.tn":1,"net.tn":1,"org.tn":1,"perso.tn":1,"tourism.tn":1,to:1,"com.to":1,"gov.to":1,"net.to":1,"org.to":1,"edu.to":1,"mil.to":1,tr:1,"av.tr":1,"bbs.tr":1,"bel.tr":1,"biz.tr":1,"com.tr":1,"dr.tr":1,"edu.tr":1,"gen.tr":1,"gov.tr":1,"info.tr":1,"mil.tr":1,"k12.tr":1,"kep.tr":1,"name.tr":1,"net.tr":1,"org.tr":1,"pol.tr":1,"tel.tr":1,"tsk.tr":1,"tv.tr":1,"web.tr":1,"nc.tr":1,"gov.nc.tr":1,tt:1,"co.tt":1,"com.tt":1,"org.tt":1,"net.tt":1,"biz.tt":1,"info.tt":1,"pro.tt":1,"int.tt":1,"coop.tt":1,"jobs.tt":1,"mobi.tt":1,"travel.tt":1,"museum.tt":1,"aero.tt":1,"name.tt":1,"gov.tt":1,"edu.tt":1,tv:1,tw:1,"edu.tw":1,"gov.tw":1,"mil.tw":1,"com.tw":1,"net.tw":1,"org.tw":1,"idv.tw":1,"game.tw":1,"ebiz.tw":1,"club.tw":1,"xn--zf0ao64a.tw":1,"xn--uc0atv.tw":1,"xn--czrw28b.tw":1,tz:1,"ac.tz":1,"co.tz":1,"go.tz":1,"hotel.tz":1,"info.tz":1,"me.tz":1,"mil.tz":1,"mobi.tz":1,"ne.tz":1,"or.tz":1,"sc.tz":1,"tv.tz":1,ua:1,"com.ua":1,"edu.ua":1,"gov.ua":1,"in.ua":1,"net.ua":1,"org.ua":1,"cherkassy.ua":1,"cherkasy.ua":1,"chernigov.ua":1,"chernihiv.ua":1,"chernivtsi.ua":1,"chernovtsy.ua":1,"ck.ua":1,"cn.ua":1,"cr.ua":1,"crimea.ua":1,"cv.ua":1,"dn.ua":1,"dnepropetrovsk.ua":1,"dnipropetrovsk.ua":1,"donetsk.ua":1,"dp.ua":1,"if.ua":1,"ivano-frankivsk.ua":1,"kh.ua":1,"kharkiv.ua":1,"kharkov.ua":1,"kherson.ua":1,"khmelnitskiy.ua":1,"khmelnytskyi.ua":1,"kiev.ua":1,"kirovograd.ua":1,"km.ua":1,"kr.ua":1,"kropyvnytskyi.ua":1,"krym.ua":1,"ks.ua":1,"kv.ua":1,"kyiv.ua":1,"lg.ua":1,"lt.ua":1,"lugansk.ua":1,"luhansk.ua":1,"lutsk.ua":1,"lv.ua":1,"lviv.ua":1,"mk.ua":1,"mykolaiv.ua":1,"nikolaev.ua":1,"od.ua":1,"odesa.ua":1,"odessa.ua":1,"pl.ua":1,"poltava.ua":1,"rivne.ua":1,"rovno.ua":1,"rv.ua":1,"sb.ua":1,"sebastopol.ua":1,"sevastopol.ua":1,"sm.ua":1,"sumy.ua":1,"te.ua":1,"ternopil.ua":1,"uz.ua":1,"uzhgorod.ua":1,"uzhhorod.ua":1,"vinnica.ua":1,"vinnytsia.ua":1,"vn.ua":1,"volyn.ua":1,"yalta.ua":1,"zakarpattia.ua":1,"zaporizhzhe.ua":1,"zaporizhzhia.ua":1,"zhitomir.ua":1,"zhytomyr.ua":1,"zp.ua":1,"zt.ua":1,ug:1,"co.ug":1,"or.ug":1,"ac.ug":1,"sc.ug":1,"go.ug":1,"ne.ug":1,"com.ug":1,"org.ug":1,uk:1,"ac.uk":1,"co.uk":1,"gov.uk":1,"ltd.uk":1,"me.uk":1,"net.uk":1,"nhs.uk":1,"org.uk":1,"plc.uk":1,"police.uk":1,"sch.uk":2,us:1,"dni.us":1,"fed.us":1,"isa.us":1,"kids.us":1,"nsn.us":1,"ak.us":1,"al.us":1,"ar.us":1,"as.us":1,"az.us":1,"ca.us":1,"co.us":1,"ct.us":1,"dc.us":1,"de.us":1,"fl.us":1,"ga.us":1,"gu.us":1,"hi.us":1,"ia.us":1,"id.us":1,"il.us":1,"in.us":1,"ks.us":1,"ky.us":1,"la.us":1,"ma.us":1,"md.us":1,"me.us":1,"mi.us":1,"mn.us":1,"mo.us":1,"ms.us":1,"mt.us":1,"nc.us":1,"nd.us":1,"ne.us":1,"nh.us":1,"nj.us":1,"nm.us":1,"nv.us":1,"ny.us":1,"oh.us":1,"ok.us":1,"or.us":1,"pa.us":1,"pr.us":1,"ri.us":1,"sc.us":1,"sd.us":1,"tn.us":1,"tx.us":1,"ut.us":1,"vi.us":1,"vt.us":1,"va.us":1,"wa.us":1,"wi.us":1,"wv.us":1,"wy.us":1,"k12.ak.us":1,"k12.al.us":1,"k12.ar.us":1,"k12.as.us":1,"k12.az.us":1,"k12.ca.us":1,"k12.co.us":1,"k12.ct.us":1,"k12.dc.us":1,"k12.fl.us":1,"k12.ga.us":1,"k12.gu.us":1,"k12.ia.us":1,"k12.id.us":1,"k12.il.us":1,"k12.in.us":1,"k12.ks.us":1,"k12.ky.us":1,"k12.la.us":1,"k12.ma.us":1,"k12.md.us":1,"k12.me.us":1,"k12.mi.us":1,"k12.mn.us":1,"k12.mo.us":1,"k12.ms.us":1,"k12.mt.us":1,"k12.nc.us":1,"k12.ne.us":1,"k12.nh.us":1,"k12.nj.us":1,"k12.nm.us":1,"k12.nv.us":1,"k12.ny.us":1,"k12.oh.us":1,"k12.ok.us":1,"k12.or.us":1,"k12.pa.us":1,"k12.pr.us":1,"k12.sc.us":1,"k12.tn.us":1,"k12.tx.us":1,"k12.ut.us":1,"k12.vi.us":1,"k12.vt.us":1,"k12.va.us":1,"k12.wa.us":1,"k12.wi.us":1,"k12.wy.us":1,"cc.ak.us":1,"cc.al.us":1,"cc.ar.us":1,"cc.as.us":1,"cc.az.us":1,"cc.ca.us":1,"cc.co.us":1,"cc.ct.us":1,"cc.dc.us":1,"cc.de.us":1,"cc.fl.us":1,"cc.ga.us":1,"cc.gu.us":1,"cc.hi.us":1,"cc.ia.us":1,"cc.id.us":1,"cc.il.us":1,"cc.in.us":1,"cc.ks.us":1,"cc.ky.us":1,"cc.la.us":1,"cc.ma.us":1,"cc.md.us":1,"cc.me.us":1,"cc.mi.us":1,"cc.mn.us":1,"cc.mo.us":1,"cc.ms.us":1,"cc.mt.us":1,"cc.nc.us":1,"cc.nd.us":1,"cc.ne.us":1,"cc.nh.us":1,"cc.nj.us":1,"cc.nm.us":1,"cc.nv.us":1,"cc.ny.us":1,"cc.oh.us":1,"cc.ok.us":1,"cc.or.us":1,"cc.pa.us":1,"cc.pr.us":1,"cc.ri.us":1,"cc.sc.us":1,"cc.sd.us":1,"cc.tn.us":1,"cc.tx.us":1,"cc.ut.us":1,"cc.vi.us":1,"cc.vt.us":1,"cc.va.us":1,"cc.wa.us":1,"cc.wi.us":1,"cc.wv.us":1,"cc.wy.us":1,"lib.ak.us":1,"lib.al.us":1,"lib.ar.us":1,"lib.as.us":1,"lib.az.us":1,"lib.ca.us":1,"lib.co.us":1,"lib.ct.us":1,"lib.dc.us":1,"lib.fl.us":1,"lib.ga.us":1,"lib.gu.us":1,"lib.hi.us":1,"lib.ia.us":1,"lib.id.us":1,"lib.il.us":1,"lib.in.us":1,"lib.ks.us":1,"lib.ky.us":1,"lib.la.us":1,"lib.ma.us":1,"lib.md.us":1,"lib.me.us":1,"lib.mi.us":1,"lib.mn.us":1,"lib.mo.us":1,"lib.ms.us":1,"lib.mt.us":1,"lib.nc.us":1,"lib.nd.us":1,"lib.ne.us":1,"lib.nh.us":1,"lib.nj.us":1,"lib.nm.us":1,"lib.nv.us":1,"lib.ny.us":1,"lib.oh.us":1,"lib.ok.us":1,"lib.or.us":1,"lib.pa.us":1,"lib.pr.us":1,"lib.ri.us":1,"lib.sc.us":1,"lib.sd.us":1,"lib.tn.us":1,"lib.tx.us":1,"lib.ut.us":1,"lib.vi.us":1,"lib.vt.us":1,"lib.va.us":1,"lib.wa.us":1,"lib.wi.us":1,"lib.wy.us":1,"pvt.k12.ma.us":1,"chtr.k12.ma.us":1,"paroch.k12.ma.us":1,"ann-arbor.mi.us":1,"cog.mi.us":1,"dst.mi.us":1,"eaton.mi.us":1,"gen.mi.us":1,"mus.mi.us":1,"tec.mi.us":1,"washtenaw.mi.us":1,uy:1,"com.uy":1,"edu.uy":1,"gub.uy":1,"mil.uy":1,"net.uy":1,"org.uy":1,uz:1,"co.uz":1,"com.uz":1,"net.uz":1,"org.uz":1,va:1,vc:1,"com.vc":1,"net.vc":1,"org.vc":1,"gov.vc":1,"mil.vc":1,"edu.vc":1,ve:1,"arts.ve":1,"bib.ve":1,"co.ve":1,"com.ve":1,"e12.ve":1,"edu.ve":1,"firm.ve":1,"gob.ve":1,"gov.ve":1,"info.ve":1,"int.ve":1,"mil.ve":1,"net.ve":1,"nom.ve":1,"org.ve":1,"rar.ve":1,"rec.ve":1,"store.ve":1,"tec.ve":1,"web.ve":1,vg:1,vi:1,"co.vi":1,"com.vi":1,"k12.vi":1,"net.vi":1,"org.vi":1,vn:1,"ac.vn":1,"ai.vn":1,"biz.vn":1,"com.vn":1,"edu.vn":1,"gov.vn":1,"health.vn":1,"id.vn":1,"info.vn":1,"int.vn":1,"io.vn":1,"name.vn":1,"net.vn":1,"org.vn":1,"pro.vn":1,"angiang.vn":1,"bacgiang.vn":1,"backan.vn":1,"baclieu.vn":1,"bacninh.vn":1,"baria-vungtau.vn":1,"bentre.vn":1,"binhdinh.vn":1,"binhduong.vn":1,"binhphuoc.vn":1,"binhthuan.vn":1,"camau.vn":1,"cantho.vn":1,"caobang.vn":1,"daklak.vn":1,"daknong.vn":1,"danang.vn":1,"dienbien.vn":1,"dongnai.vn":1,"dongthap.vn":1,"gialai.vn":1,"hagiang.vn":1,"haiduong.vn":1,"haiphong.vn":1,"hanam.vn":1,"hanoi.vn":1,"hatinh.vn":1,"haugiang.vn":1,"hoabinh.vn":1,"hungyen.vn":1,"khanhhoa.vn":1,"kiengiang.vn":1,"kontum.vn":1,"laichau.vn":1,"lamdong.vn":1,"langson.vn":1,"laocai.vn":1,"longan.vn":1,"namdinh.vn":1,"nghean.vn":1,"ninhbinh.vn":1,"ninhthuan.vn":1,"phutho.vn":1,"phuyen.vn":1,"quangbinh.vn":1,"quangnam.vn":1,"quangngai.vn":1,"quangninh.vn":1,"quangtri.vn":1,"soctrang.vn":1,"sonla.vn":1,"tayninh.vn":1,"thaibinh.vn":1,"thainguyen.vn":1,"thanhhoa.vn":1,"thanhphohochiminh.vn":1,"thuathienhue.vn":1,"tiengiang.vn":1,"travinh.vn":1,"tuyenquang.vn":1,"vinhlong.vn":1,"vinhphuc.vn":1,"yenbai.vn":1,vu:1,"com.vu":1,"edu.vu":1,"net.vu":1,"org.vu":1,wf:1,ws:1,"com.ws":1,"net.ws":1,"org.ws":1,"gov.ws":1,"edu.ws":1,yt:1,"xn--mgbaam7a8h":1,"xn--y9a3aq":1,"xn--54b7fta0cc":1,"xn--90ae":1,"xn--mgbcpq6gpa1a":1,"xn--90ais":1,"xn--fiqs8s":1,"xn--fiqz9s":1,"xn--lgbbat1ad8j":1,"xn--wgbh1c":1,"xn--e1a4c":1,"xn--qxa6a":1,"xn--mgbah1a3hjkrd":1,"xn--node":1,"xn--qxam":1,"xn--j6w193g":1,"xn--55qx5d.xn--j6w193g":1,"xn--wcvs22d.xn--j6w193g":1,"xn--mxtq1m.xn--j6w193g":1,"xn--gmqw5a.xn--j6w193g":1,"xn--od0alg.xn--j6w193g":1,"xn--uc0atv.xn--j6w193g":1,"xn--2scrj9c":1,"xn--3hcrj9c":1,"xn--45br5cyl":1,"xn--h2breg3eve":1,"xn--h2brj9c8c":1,"xn--mgbgu82a":1,"xn--rvc1e0am3e":1,"xn--h2brj9c":1,"xn--mgbbh1a":1,"xn--mgbbh1a71e":1,"xn--fpcrj9c3d":1,"xn--gecrj9c":1,"xn--s9brj9c":1,"xn--45brj9c":1,"xn--xkc2dl3a5ee0h":1,"xn--mgba3a4f16a":1,"xn--mgba3a4fra":1,"xn--mgbtx2b":1,"xn--mgbayh7gpa":1,"xn--3e0b707e":1,"xn--80ao21a":1,"xn--q7ce6a":1,"xn--fzc2c9e2c":1,"xn--xkc2al3hye2a":1,"xn--mgbc0a9azcg":1,"xn--d1alf":1,"xn--l1acc":1,"xn--mix891f":1,"xn--mix082f":1,"xn--mgbx4cd0ab":1,"xn--mgb9awbf":1,"xn--mgbai9azgqp6j":1,"xn--mgbai9a5eva00b":1,"xn--ygbi2ammx":1,"xn--90a3ac":1,"xn--o1ac.xn--90a3ac":1,"xn--c1avg.xn--90a3ac":1,"xn--90azh.xn--90a3ac":1,"xn--d1at.xn--90a3ac":1,"xn--o1ach.xn--90a3ac":1,"xn--80au.xn--90a3ac":1,"xn--p1ai":1,"xn--wgbl6a":1,"xn--mgberp4a5d4ar":1,"xn--mgberp4a5d4a87g":1,"xn--mgbqly7c0a67fbc":1,"xn--mgbqly7cvafr":1,"xn--mgbpl2fh":1,"xn--yfro4i67o":1,"xn--clchc0ea0b2g2a9gcd":1,"xn--ogbpf8fl":1,"xn--mgbtf8fl":1,"xn--o3cw4h":1,"xn--12c1fe0br.xn--o3cw4h":1,"xn--12co0c3b4eva.xn--o3cw4h":1,"xn--h3cuzk1di.xn--o3cw4h":1,"xn--o3cyx2a.xn--o3cw4h":1,"xn--m3ch0j3a.xn--o3cw4h":1,"xn--12cfi8ixb8l.xn--o3cw4h":1,"xn--pgbs0dh":1,"xn--kpry57d":1,"xn--kprw13d":1,"xn--nnx388a":1,"xn--j1amh":1,"xn--mgb2ddes":1,xxx:1,ye:1,"com.ye":1,"edu.ye":1,"gov.ye":1,"net.ye":1,"mil.ye":1,"org.ye":1,"ac.za":1,"agric.za":1,"alt.za":1,"co.za":1,"edu.za":1,"gov.za":1,"grondar.za":1,"law.za":1,"mil.za":1,"net.za":1,"ngo.za":1,"nic.za":1,"nis.za":1,"nom.za":1,"org.za":1,"school.za":1,"tm.za":1,"web.za":1,zm:1,"ac.zm":1,"biz.zm":1,"co.zm":1,"com.zm":1,"edu.zm":1,"gov.zm":1,"info.zm":1,"mil.zm":1,"net.zm":1,"org.zm":1,"sch.zm":1,zw:1,"ac.zw":1,"co.zw":1,"gov.zw":1,"mil.zw":1,"org.zw":1,aaa:1,aarp:1,abb:1,abbott:1,abbvie:1,abc:1,able:1,abogado:1,abudhabi:1,academy:1,accenture:1,accountant:1,accountants:1,aco:1,actor:1,ads:1,adult:1,aeg:1,aetna:1,afl:1,africa:1,agakhan:1,agency:1,aig:1,airbus:1,airforce:1,airtel:1,akdn:1,alibaba:1,alipay:1,allfinanz:1,allstate:1,ally:1,alsace:1,alstom:1,amazon:1,americanexpress:1,americanfamily:1,amex:1,amfam:1,amica:1,amsterdam:1,analytics:1,android:1,anquan:1,anz:1,aol:1,apartments:1,app:1,apple:1,aquarelle:1,arab:1,aramco:1,archi:1,army:1,art:1,arte:1,asda:1,associates:1,athleta:1,attorney:1,auction:1,audi:1,audible:1,audio:1,auspost:1,author:1,auto:1,autos:1,avianca:1,aws:1,axa:1,azure:1,baby:1,baidu:1,banamex:1,bananarepublic:1,band:1,bank:1,bar:1,barcelona:1,barclaycard:1,barclays:1,barefoot:1,bargains:1,baseball:1,basketball:1,bauhaus:1,bayern:1,bbc:1,bbt:1,bbva:1,bcg:1,bcn:1,beats:1,beauty:1,beer:1,bentley:1,berlin:1,best:1,bestbuy:1,bet:1,bharti:1,bible:1,bid:1,bike:1,bing:1,bingo:1,bio:1,black:1,blackfriday:1,blockbuster:1,blog:1,bloomberg:1,blue:1,bms:1,bmw:1,bnpparibas:1,boats:1,boehringer:1,bofa:1,bom:1,bond:1,boo:1,book:1,booking:1,bosch:1,bostik:1,boston:1,bot:1,boutique:1,box:1,bradesco:1,bridgestone:1,broadway:1,broker:1,brother:1,brussels:1,build:1,builders:1,business:1,buy:1,buzz:1,bzh:1,cab:1,cafe:1,cal:1,call:1,calvinklein:1,cam:1,camera:1,camp:1,canon:1,capetown:1,capital:1,capitalone:1,car:1,caravan:1,cards:1,care:1,career:1,careers:1,cars:1,casa:1,case:1,cash:1,casino:1,catering:1,catholic:1,cba:1,cbn:1,cbre:1,center:1,ceo:1,cern:1,cfa:1,cfd:1,chanel:1,channel:1,charity:1,chase:1,chat:1,cheap:1,chintai:1,christmas:1,chrome:1,church:1,cipriani:1,circle:1,cisco:1,citadel:1,citi:1,citic:1,city:1,claims:1,cleaning:1,click:1,clinic:1,clinique:1,clothing:1,cloud:1,club:1,clubmed:1,coach:1,codes:1,coffee:1,college:1,cologne:1,comcast:1,commbank:1,community:1,company:1,compare:1,computer:1,comsec:1,condos:1,construction:1,consulting:1,contact:1,contractors:1,cooking:1,cool:1,corsica:1,country:1,coupon:1,coupons:1,courses:1,cpa:1,credit:1,creditcard:1,creditunion:1,cricket:1,crown:1,crs:1,cruise:1,cruises:1,cuisinella:1,cymru:1,cyou:1,dabur:1,dad:1,dance:1,data:1,date:1,dating:1,datsun:1,day:1,dclk:1,dds:1,deal:1,dealer:1,deals:1,degree:1,delivery:1,dell:1,deloitte:1,delta:1,democrat:1,dental:1,dentist:1,desi:1,design:1,dev:1,dhl:1,diamonds:1,diet:1,digital:1,direct:1,directory:1,discount:1,discover:1,dish:1,diy:1,dnp:1,docs:1,doctor:1,dog:1,domains:1,dot:1,download:1,drive:1,dtv:1,dubai:1,dunlop:1,dupont:1,durban:1,dvag:1,dvr:1,earth:1,eat:1,eco:1,edeka:1,education:1,email:1,emerck:1,energy:1,engineer:1,engineering:1,enterprises:1,epson:1,equipment:1,ericsson:1,erni:1,esq:1,estate:1,eurovision:1,eus:1,events:1,exchange:1,expert:1,exposed:1,express:1,extraspace:1,fage:1,fail:1,fairwinds:1,faith:1,family:1,fan:1,fans:1,farm:1,farmers:1,fashion:1,fast:1,fedex:1,feedback:1,ferrari:1,ferrero:1,fidelity:1,fido:1,film:1,final:1,finance:1,financial:1,fire:1,firestone:1,firmdale:1,fish:1,fishing:1,fit:1,fitness:1,flickr:1,flights:1,flir:1,florist:1,flowers:1,fly:1,foo:1,food:1,football:1,ford:1,forex:1,forsale:1,forum:1,foundation:1,fox:1,free:1,fresenius:1,frl:1,frogans:1,frontier:1,ftr:1,fujitsu:1,fun:1,fund:1,furniture:1,futbol:1,fyi:1,gal:1,gallery:1,gallo:1,gallup:1,game:1,games:1,gap:1,garden:1,gay:1,gbiz:1,gdn:1,gea:1,gent:1,genting:1,george:1,ggee:1,gift:1,gifts:1,gives:1,giving:1,glass:1,gle:1,global:1,globo:1,gmail:1,gmbh:1,gmo:1,gmx:1,godaddy:1,gold:1,goldpoint:1,golf:1,goo:1,goodyear:1,goog:1,google:1,gop:1,got:1,grainger:1,graphics:1,gratis:1,green:1,gripe:1,grocery:1,group:1,guardian:1,gucci:1,guge:1,guide:1,guitars:1,guru:1,hair:1,hamburg:1,hangout:1,haus:1,hbo:1,hdfc:1,hdfcbank:1,health:1,healthcare:1,help:1,helsinki:1,here:1,hermes:1,hiphop:1,hisamitsu:1,hitachi:1,hiv:1,hkt:1,hockey:1,holdings:1,holiday:1,homedepot:1,homegoods:1,homes:1,homesense:1,honda:1,horse:1,hospital:1,host:1,hosting:1,hot:1,hotels:1,hotmail:1,house:1,how:1,hsbc:1,hughes:1,hyatt:1,hyundai:1,ibm:1,icbc:1,ice:1,icu:1,ieee:1,ifm:1,ikano:1,imamat:1,imdb:1,immo:1,immobilien:1,inc:1,industries:1,infiniti:1,ing:1,ink:1,institute:1,insurance:1,insure:1,international:1,intuit:1,investments:1,ipiranga:1,irish:1,ismaili:1,ist:1,istanbul:1,itau:1,itv:1,jaguar:1,java:1,jcb:1,jeep:1,jetzt:1,jewelry:1,jio:1,jll:1,jmp:1,jnj:1,joburg:1,jot:1,joy:1,jpmorgan:1,jprs:1,juegos:1,juniper:1,kaufen:1,kddi:1,kerryhotels:1,kerrylogistics:1,kerryproperties:1,kfh:1,kia:1,kids:1,kim:1,kindle:1,kitchen:1,kiwi:1,koeln:1,komatsu:1,kosher:1,kpmg:1,kpn:1,krd:1,kred:1,kuokgroup:1,kyoto:1,lacaixa:1,lamborghini:1,lamer:1,lancaster:1,land:1,landrover:1,lanxess:1,lasalle:1,lat:1,latino:1,latrobe:1,law:1,lawyer:1,lds:1,lease:1,leclerc:1,lefrak:1,legal:1,lego:1,lexus:1,lgbt:1,lidl:1,life:1,lifeinsurance:1,lifestyle:1,lighting:1,like:1,lilly:1,limited:1,limo:1,lincoln:1,link:1,lipsy:1,live:1,living:1,llc:1,llp:1,loan:1,loans:1,locker:1,locus:1,lol:1,london:1,lotte:1,lotto:1,love:1,lpl:1,lplfinancial:1,ltd:1,ltda:1,lundbeck:1,luxe:1,luxury:1,madrid:1,maif:1,maison:1,makeup:1,man:1,management:1,mango:1,map:1,market:1,marketing:1,markets:1,marriott:1,marshalls:1,mattel:1,mba:1,mckinsey:1,med:1,media:1,meet:1,melbourne:1,meme:1,memorial:1,men:1,menu:1,merckmsd:1,miami:1,microsoft:1,mini:1,mint:1,mit:1,mitsubishi:1,mlb:1,mls:1,mma:1,mobile:1,moda:1,moe:1,moi:1,mom:1,monash:1,money:1,monster:1,mormon:1,mortgage:1,moscow:1,moto:1,motorcycles:1,mov:1,movie:1,msd:1,mtn:1,mtr:1,music:1,nab:1,nagoya:1,natura:1,navy:1,nba:1,nec:1,netbank:1,netflix:1,network:1,neustar:1,new:1,news:1,next:1,nextdirect:1,nexus:1,nfl:1,ngo:1,nhk:1,nico:1,nike:1,nikon:1,ninja:1,nissan:1,nissay:1,nokia:1,norton:1,now:1,nowruz:1,nowtv:1,nra:1,nrw:1,ntt:1,nyc:1,obi:1,observer:1,office:1,okinawa:1,olayan:1,olayangroup:1,oldnavy:1,ollo:1,omega:1,one:1,ong:1,onl:1,online:1,ooo:1,open:1,oracle:1,orange:1,organic:1,origins:1,osaka:1,otsuka:1,ott:1,ovh:1,page:1,panasonic:1,paris:1,pars:1,partners:1,parts:1,party:1,pay:1,pccw:1,pet:1,pfizer:1,pharmacy:1,phd:1,philips:1,phone:1,photo:1,photography:1,photos:1,physio:1,pics:1,pictet:1,pictures:1,pid:1,pin:1,ping:1,pink:1,pioneer:1,pizza:1,place:1,play:1,playstation:1,plumbing:1,plus:1,pnc:1,pohl:1,poker:1,politie:1,porn:1,pramerica:1,praxi:1,press:1,prime:1,prod:1,productions:1,prof:1,progressive:1,promo:1,properties:1,property:1,protection:1,pru:1,prudential:1,pub:1,pwc:1,qpon:1,quebec:1,quest:1,racing:1,radio:1,read:1,realestate:1,realtor:1,realty:1,recipes:1,red:1,redstone:1,redumbrella:1,rehab:1,reise:1,reisen:1,reit:1,reliance:1,ren:1,rent:1,rentals:1,repair:1,report:1,republican:1,rest:1,restaurant:1,review:1,reviews:1,rexroth:1,rich:1,richardli:1,ricoh:1,ril:1,rio:1,rip:1,rocks:1,rodeo:1,rogers:1,room:1,rsvp:1,rugby:1,ruhr:1,run:1,rwe:1,ryukyu:1,saarland:1,safe:1,safety:1,sakura:1,sale:1,salon:1,samsclub:1,samsung:1,sandvik:1,sandvikcoromant:1,sanofi:1,sap:1,sarl:1,sas:1,save:1,saxo:1,sbi:1,sbs:1,sca:1,scb:1,schaeffler:1,schmidt:1,scholarships:1,school:1,schule:1,schwarz:1,science:1,scot:1,search:1,seat:1,secure:1,security:1,seek:1,select:1,sener:1,services:1,seven:1,sew:1,sex:1,sexy:1,sfr:1,shangrila:1,sharp:1,shaw:1,shell:1,shia:1,shiksha:1,shoes:1,shop:1,shopping:1,shouji:1,show:1,silk:1,sina:1,singles:1,site:1,ski:1,skin:1,sky:1,skype:1,sling:1,smart:1,smile:1,sncf:1,soccer:1,social:1,softbank:1,software:1,sohu:1,solar:1,solutions:1,song:1,sony:1,soy:1,spa:1,space:1,sport:1,spot:1,srl:1,stada:1,staples:1,star:1,statebank:1,statefarm:1,stc:1,stcgroup:1,stockholm:1,storage:1,store:1,stream:1,studio:1,study:1,style:1,sucks:1,supplies:1,supply:1,support:1,surf:1,surgery:1,suzuki:1,swatch:1,swiss:1,sydney:1,systems:1,tab:1,taipei:1,talk:1,taobao:1,target:1,tatamotors:1,tatar:1,tattoo:1,tax:1,taxi:1,tci:1,tdk:1,team:1,tech:1,technology:1,temasek:1,tennis:1,teva:1,thd:1,theater:1,theatre:1,tiaa:1,tickets:1,tienda:1,tips:1,tires:1,tirol:1,tjmaxx:1,tjx:1,tkmaxx:1,tmall:1,today:1,tokyo:1,tools:1,top:1,toray:1,toshiba:1,total:1,tours:1,town:1,toyota:1,toys:1,trade:1,trading:1,training:1,travel:1,travelers:1,travelersinsurance:1,trust:1,trv:1,tube:1,tui:1,tunes:1,tushu:1,tvs:1,ubank:1,ubs:1,unicom:1,university:1,uno:1,uol:1,ups:1,vacations:1,vana:1,vanguard:1,vegas:1,ventures:1,verisign:1,versicherung:1,vet:1,viajes:1,video:1,vig:1,viking:1,villas:1,vin:1,vip:1,virgin:1,visa:1,vision:1,viva:1,vivo:1,vlaanderen:1,vodka:1,volvo:1,vote:1,voting:1,voto:1,voyage:1,wales:1,walmart:1,walter:1,wang:1,wanggou:1,watch:1,watches:1,weather:1,weatherchannel:1,webcam:1,weber:1,website:1,wed:1,wedding:1,weibo:1,weir:1,whoswho:1,wien:1,wiki:1,williamhill:1,win:1,windows:1,wine:1,winners:1,wme:1,wolterskluwer:1,woodside:1,work:1,works:1,world:1,wow:1,wtc:1,wtf:1,xbox:1,xerox:1,xfinity:1,xihuan:1,xin:1,"xn--11b4c3d":1,"xn--1ck2e1b":1,"xn--1qqw23a":1,"xn--30rr7y":1,"xn--3bst00m":1,"xn--3ds443g":1,"xn--3pxu8k":1,"xn--42c2d9a":1,"xn--45q11c":1,"xn--4gbrim":1,"xn--55qw42g":1,"xn--55qx5d":1,"xn--5su34j936bgsg":1,"xn--5tzm5g":1,"xn--6frz82g":1,"xn--6qq986b3xl":1,"xn--80adxhks":1,"xn--80aqecdr1a":1,"xn--80asehdb":1,"xn--80aswg":1,"xn--8y0a063a":1,"xn--9dbq2a":1,"xn--9et52u":1,"xn--9krt00a":1,"xn--b4w605ferd":1,"xn--bck1b9a5dre4c":1,"xn--c1avg":1,"xn--c2br7g":1,"xn--cck2b3b":1,"xn--cckwcxetd":1,"xn--cg4bki":1,"xn--czr694b":1,"xn--czrs0t":1,"xn--czru2d":1,"xn--d1acj3b":1,"xn--eckvdtc9d":1,"xn--efvy88h":1,"xn--fct429k":1,"xn--fhbei":1,"xn--fiq228c5hs":1,"xn--fiq64b":1,"xn--fjq720a":1,"xn--flw351e":1,"xn--fzys8d69uvgm":1,"xn--g2xx48c":1,"xn--gckr3f0f":1,"xn--gk3at1e":1,"xn--hxt814e":1,"xn--i1b6b1a6a2e":1,"xn--imr513n":1,"xn--io0a7i":1,"xn--j1aef":1,"xn--jlq480n2rg":1,"xn--jvr189m":1,"xn--kcrx77d1x4a":1,"xn--kput3i":1,"xn--mgba3a3ejt":1,"xn--mgba7c0bbn0a":1,"xn--mgbab2bd":1,"xn--mgbca7dzdo":1,"xn--mgbi4ecexp":1,"xn--mgbt3dhd":1,"xn--mk1bu44c":1,"xn--mxtq1m":1,"xn--ngbc5azd":1,"xn--ngbe9e0a":1,"xn--ngbrx":1,"xn--nqv7f":1,"xn--nqv7fs00ema":1,"xn--nyqy26a":1,"xn--otu796d":1,"xn--p1acf":1,"xn--pssy2u":1,"xn--q9jyb4c":1,"xn--qcka1pmc":1,"xn--rhqv96g":1,"xn--rovu88b":1,"xn--ses554g":1,"xn--t60b56a":1,"xn--tckwe":1,"xn--tiq49xqyj":1,"xn--unup4y":1,"xn--vermgensberater-ctb":1,"xn--vermgensberatung-pwb":1,"xn--vhquv":1,"xn--vuq861b":1,"xn--w4r85el8fhu5dnra":1,"xn--w4rs40l":1,"xn--xhq521b":1,"xn--zfr164b":1,xyz:1,yachts:1,yahoo:1,yamaxun:1,yandex:1,yodobashi:1,yoga:1,yokohama:1,you:1,youtube:1,yun:1,zappos:1,zara:1,zero:1,zip:1,zone:1,zuerich:1}},"./adblockpluscore/data/nonIcannPublicSuffixList.js":(f,d)=>{d.nonIcannPublicSuffixes={"cc.ua":1,"inf.ua":1,"ltd.ua":1,"611.to":1,"graphox.us":1,"devcdnaccesso.com":2,"on-acorn.io":2,"activetrail.biz":1,"adobeaemcloud.com":1,"dev.adobeaemcloud.com":2,"hlx.live":1,"adobeaemcloud.net":1,"hlx.page":1,"hlx3.page":1,"adobeio-static.net":1,"adobeioruntime.net":1,"beep.pl":1,"airkitapps.com":1,"airkitapps-au.com":1,"airkitapps.eu":1,"aivencloud.com":1,"akadns.net":1,"akamai.net":1,"akamai-staging.net":1,"akamaiedge.net":1,"akamaiedge-staging.net":1,"akamaihd.net":1,"akamaihd-staging.net":1,"akamaiorigin.net":1,"akamaiorigin-staging.net":1,"akamaized.net":1,"akamaized-staging.net":1,"edgekey.net":1,"edgekey-staging.net":1,"edgesuite.net":1,"edgesuite-staging.net":1,"barsy.ca":1,"compute.estate":2,"alces.network":2,"kasserver.com":1,"altervista.org":1,"alwaysdata.net":1,"myamaze.net":1,"execute-api.cn-north-1.amazonaws.com.cn":1,"execute-api.cn-northwest-1.amazonaws.com.cn":1,"execute-api.af-south-1.amazonaws.com":1,"execute-api.ap-east-1.amazonaws.com":1,"execute-api.ap-northeast-1.amazonaws.com":1,"execute-api.ap-northeast-2.amazonaws.com":1,"execute-api.ap-northeast-3.amazonaws.com":1,"execute-api.ap-south-1.amazonaws.com":1,"execute-api.ap-south-2.amazonaws.com":1,"execute-api.ap-southeast-1.amazonaws.com":1,"execute-api.ap-southeast-2.amazonaws.com":1,"execute-api.ap-southeast-3.amazonaws.com":1,"execute-api.ap-southeast-4.amazonaws.com":1,"execute-api.ca-central-1.amazonaws.com":1,"execute-api.eu-central-1.amazonaws.com":1,"execute-api.eu-central-2.amazonaws.com":1,"execute-api.eu-north-1.amazonaws.com":1,"execute-api.eu-south-1.amazonaws.com":1,"execute-api.eu-south-2.amazonaws.com":1,"execute-api.eu-west-1.amazonaws.com":1,"execute-api.eu-west-2.amazonaws.com":1,"execute-api.eu-west-3.amazonaws.com":1,"execute-api.il-central-1.amazonaws.com":1,"execute-api.me-central-1.amazonaws.com":1,"execute-api.me-south-1.amazonaws.com":1,"execute-api.sa-east-1.amazonaws.com":1,"execute-api.us-east-1.amazonaws.com":1,"execute-api.us-east-2.amazonaws.com":1,"execute-api.us-gov-east-1.amazonaws.com":1,"execute-api.us-gov-west-1.amazonaws.com":1,"execute-api.us-west-1.amazonaws.com":1,"execute-api.us-west-2.amazonaws.com":1,"cloudfront.net":1,"auth.af-south-1.amazoncognito.com":1,"auth.ap-northeast-1.amazoncognito.com":1,"auth.ap-northeast-2.amazoncognito.com":1,"auth.ap-northeast-3.amazoncognito.com":1,"auth.ap-south-1.amazoncognito.com":1,"auth.ap-southeast-1.amazoncognito.com":1,"auth.ap-southeast-2.amazoncognito.com":1,"auth.ap-southeast-3.amazoncognito.com":1,"auth.ca-central-1.amazoncognito.com":1,"auth.eu-central-1.amazoncognito.com":1,"auth.eu-north-1.amazoncognito.com":1,"auth.eu-south-1.amazoncognito.com":1,"auth.eu-west-1.amazoncognito.com":1,"auth.eu-west-2.amazoncognito.com":1,"auth.eu-west-3.amazoncognito.com":1,"auth.il-central-1.amazoncognito.com":1,"auth.me-south-1.amazoncognito.com":1,"auth.sa-east-1.amazoncognito.com":1,"auth.us-east-1.amazoncognito.com":1,"auth-fips.us-east-1.amazoncognito.com":1,"auth.us-east-2.amazoncognito.com":1,"auth-fips.us-east-2.amazoncognito.com":1,"auth-fips.us-gov-west-1.amazoncognito.com":1,"auth.us-west-1.amazoncognito.com":1,"auth-fips.us-west-1.amazoncognito.com":1,"auth.us-west-2.amazoncognito.com":1,"auth-fips.us-west-2.amazoncognito.com":1,"compute.amazonaws.com":2,"compute-1.amazonaws.com":2,"compute.amazonaws.com.cn":2,"us-east-1.amazonaws.com":1,"emrappui-prod.cn-north-1.amazonaws.com.cn":1,"emrnotebooks-prod.cn-north-1.amazonaws.com.cn":1,"emrstudio-prod.cn-north-1.amazonaws.com.cn":1,"emrappui-prod.cn-northwest-1.amazonaws.com.cn":1,"emrnotebooks-prod.cn-northwest-1.amazonaws.com.cn":1,"emrstudio-prod.cn-northwest-1.amazonaws.com.cn":1,"emrappui-prod.af-south-1.amazonaws.com":1,"emrnotebooks-prod.af-south-1.amazonaws.com":1,"emrstudio-prod.af-south-1.amazonaws.com":1,"emrappui-prod.ap-east-1.amazonaws.com":1,"emrnotebooks-prod.ap-east-1.amazonaws.com":1,"emrstudio-prod.ap-east-1.amazonaws.com":1,"emrappui-prod.ap-northeast-1.amazonaws.com":1,"emrnotebooks-prod.ap-northeast-1.amazonaws.com":1,"emrstudio-prod.ap-northeast-1.amazonaws.com":1,"emrappui-prod.ap-northeast-2.amazonaws.com":1,"emrnotebooks-prod.ap-northeast-2.amazonaws.com":1,"emrstudio-prod.ap-northeast-2.amazonaws.com":1,"emrappui-prod.ap-northeast-3.amazonaws.com":1,"emrnotebooks-prod.ap-northeast-3.amazonaws.com":1,"emrstudio-prod.ap-northeast-3.amazonaws.com":1,"emrappui-prod.ap-south-1.amazonaws.com":1,"emrnotebooks-prod.ap-south-1.amazonaws.com":1,"emrstudio-prod.ap-south-1.amazonaws.com":1,"emrappui-prod.ap-southeast-1.amazonaws.com":1,"emrnotebooks-prod.ap-southeast-1.amazonaws.com":1,"emrstudio-prod.ap-southeast-1.amazonaws.com":1,"emrappui-prod.ap-southeast-2.amazonaws.com":1,"emrnotebooks-prod.ap-southeast-2.amazonaws.com":1,"emrstudio-prod.ap-southeast-2.amazonaws.com":1,"emrappui-prod.ap-southeast-3.amazonaws.com":1,"emrnotebooks-prod.ap-southeast-3.amazonaws.com":1,"emrstudio-prod.ap-southeast-3.amazonaws.com":1,"emrappui-prod.ca-central-1.amazonaws.com":1,"emrnotebooks-prod.ca-central-1.amazonaws.com":1,"emrstudio-prod.ca-central-1.amazonaws.com":1,"emrappui-prod.eu-central-1.amazonaws.com":1,"emrnotebooks-prod.eu-central-1.amazonaws.com":1,"emrstudio-prod.eu-central-1.amazonaws.com":1,"emrappui-prod.eu-north-1.amazonaws.com":1,"emrnotebooks-prod.eu-north-1.amazonaws.com":1,"emrstudio-prod.eu-north-1.amazonaws.com":1,"emrappui-prod.eu-south-1.amazonaws.com":1,"emrnotebooks-prod.eu-south-1.amazonaws.com":1,"emrstudio-prod.eu-south-1.amazonaws.com":1,"emrappui-prod.eu-west-1.amazonaws.com":1,"emrnotebooks-prod.eu-west-1.amazonaws.com":1,"emrstudio-prod.eu-west-1.amazonaws.com":1,"emrappui-prod.eu-west-2.amazonaws.com":1,"emrnotebooks-prod.eu-west-2.amazonaws.com":1,"emrstudio-prod.eu-west-2.amazonaws.com":1,"emrappui-prod.eu-west-3.amazonaws.com":1,"emrnotebooks-prod.eu-west-3.amazonaws.com":1,"emrstudio-prod.eu-west-3.amazonaws.com":1,"emrappui-prod.me-central-1.amazonaws.com":1,"emrnotebooks-prod.me-central-1.amazonaws.com":1,"emrstudio-prod.me-central-1.amazonaws.com":1,"emrappui-prod.me-south-1.amazonaws.com":1,"emrnotebooks-prod.me-south-1.amazonaws.com":1,"emrstudio-prod.me-south-1.amazonaws.com":1,"emrappui-prod.sa-east-1.amazonaws.com":1,"emrnotebooks-prod.sa-east-1.amazonaws.com":1,"emrstudio-prod.sa-east-1.amazonaws.com":1,"emrappui-prod.us-east-1.amazonaws.com":1,"emrnotebooks-prod.us-east-1.amazonaws.com":1,"emrstudio-prod.us-east-1.amazonaws.com":1,"emrappui-prod.us-east-2.amazonaws.com":1,"emrnotebooks-prod.us-east-2.amazonaws.com":1,"emrstudio-prod.us-east-2.amazonaws.com":1,"emrappui-prod.us-gov-east-1.amazonaws.com":1,"emrnotebooks-prod.us-gov-east-1.amazonaws.com":1,"emrstudio-prod.us-gov-east-1.amazonaws.com":1,"emrappui-prod.us-gov-west-1.amazonaws.com":1,"emrnotebooks-prod.us-gov-west-1.amazonaws.com":1,"emrstudio-prod.us-gov-west-1.amazonaws.com":1,"emrappui-prod.us-west-1.amazonaws.com":1,"emrnotebooks-prod.us-west-1.amazonaws.com":1,"emrstudio-prod.us-west-1.amazonaws.com":1,"emrappui-prod.us-west-2.amazonaws.com":1,"emrnotebooks-prod.us-west-2.amazonaws.com":1,"emrstudio-prod.us-west-2.amazonaws.com":1,"cn-north-1.airflow.amazonaws.com.cn":2,"cn-northwest-1.airflow.amazonaws.com.cn":2,"ap-northeast-1.airflow.amazonaws.com":2,"ap-northeast-2.airflow.amazonaws.com":2,"ap-south-1.airflow.amazonaws.com":2,"ap-southeast-1.airflow.amazonaws.com":2,"ap-southeast-2.airflow.amazonaws.com":2,"ca-central-1.airflow.amazonaws.com":2,"eu-central-1.airflow.amazonaws.com":2,"eu-north-1.airflow.amazonaws.com":2,"eu-west-1.airflow.amazonaws.com":2,"eu-west-2.airflow.amazonaws.com":2,"eu-west-3.airflow.amazonaws.com":2,"sa-east-1.airflow.amazonaws.com":2,"us-east-1.airflow.amazonaws.com":2,"us-east-2.airflow.amazonaws.com":2,"us-west-2.airflow.amazonaws.com":2,"s3.dualstack.cn-north-1.amazonaws.com.cn":1,"s3-accesspoint.dualstack.cn-north-1.amazonaws.com.cn":1,"s3-website.dualstack.cn-north-1.amazonaws.com.cn":1,"s3.cn-north-1.amazonaws.com.cn":1,"s3-accesspoint.cn-north-1.amazonaws.com.cn":1,"s3-deprecated.cn-north-1.amazonaws.com.cn":1,"s3-object-lambda.cn-north-1.amazonaws.com.cn":1,"s3-website.cn-north-1.amazonaws.com.cn":1,"s3.dualstack.cn-northwest-1.amazonaws.com.cn":1,"s3-accesspoint.dualstack.cn-northwest-1.amazonaws.com.cn":1,"s3.cn-northwest-1.amazonaws.com.cn":1,"s3-accesspoint.cn-northwest-1.amazonaws.com.cn":1,"s3-object-lambda.cn-northwest-1.amazonaws.com.cn":1,"s3-website.cn-northwest-1.amazonaws.com.cn":1,"s3.dualstack.af-south-1.amazonaws.com":1,"s3-accesspoint.dualstack.af-south-1.amazonaws.com":1,"s3-website.dualstack.af-south-1.amazonaws.com":1,"s3.af-south-1.amazonaws.com":1,"s3-accesspoint.af-south-1.amazonaws.com":1,"s3-object-lambda.af-south-1.amazonaws.com":1,"s3-website.af-south-1.amazonaws.com":1,"s3.dualstack.ap-east-1.amazonaws.com":1,"s3-accesspoint.dualstack.ap-east-1.amazonaws.com":1,"s3.ap-east-1.amazonaws.com":1,"s3-accesspoint.ap-east-1.amazonaws.com":1,"s3-object-lambda.ap-east-1.amazonaws.com":1,"s3-website.ap-east-1.amazonaws.com":1,"s3.dualstack.ap-northeast-1.amazonaws.com":1,"s3-accesspoint.dualstack.ap-northeast-1.amazonaws.com":1,"s3-website.dualstack.ap-northeast-1.amazonaws.com":1,"s3.ap-northeast-1.amazonaws.com":1,"s3-accesspoint.ap-northeast-1.amazonaws.com":1,"s3-object-lambda.ap-northeast-1.amazonaws.com":1,"s3-website.ap-northeast-1.amazonaws.com":1,"s3.dualstack.ap-northeast-2.amazonaws.com":1,"s3-accesspoint.dualstack.ap-northeast-2.amazonaws.com":1,"s3-website.dualstack.ap-northeast-2.amazonaws.com":1,"s3.ap-northeast-2.amazonaws.com":1,"s3-accesspoint.ap-northeast-2.amazonaws.com":1,"s3-object-lambda.ap-northeast-2.amazonaws.com":1,"s3-website.ap-northeast-2.amazonaws.com":1,"s3.dualstack.ap-northeast-3.amazonaws.com":1,"s3-accesspoint.dualstack.ap-northeast-3.amazonaws.com":1,"s3-website.dualstack.ap-northeast-3.amazonaws.com":1,"s3.ap-northeast-3.amazonaws.com":1,"s3-accesspoint.ap-northeast-3.amazonaws.com":1,"s3-object-lambda.ap-northeast-3.amazonaws.com":1,"s3-website.ap-northeast-3.amazonaws.com":1,"s3.dualstack.ap-south-1.amazonaws.com":1,"s3-accesspoint.dualstack.ap-south-1.amazonaws.com":1,"s3-website.dualstack.ap-south-1.amazonaws.com":1,"s3.ap-south-1.amazonaws.com":1,"s3-accesspoint.ap-south-1.amazonaws.com":1,"s3-object-lambda.ap-south-1.amazonaws.com":1,"s3-website.ap-south-1.amazonaws.com":1,"s3.dualstack.ap-south-2.amazonaws.com":1,"s3-accesspoint.dualstack.ap-south-2.amazonaws.com":1,"s3.ap-south-2.amazonaws.com":1,"s3-accesspoint.ap-south-2.amazonaws.com":1,"s3-object-lambda.ap-south-2.amazonaws.com":1,"s3-website.ap-south-2.amazonaws.com":1,"s3.dualstack.ap-southeast-1.amazonaws.com":1,"s3-accesspoint.dualstack.ap-southeast-1.amazonaws.com":1,"s3-website.dualstack.ap-southeast-1.amazonaws.com":1,"s3.ap-southeast-1.amazonaws.com":1,"s3-accesspoint.ap-southeast-1.amazonaws.com":1,"s3-object-lambda.ap-southeast-1.amazonaws.com":1,"s3-website.ap-southeast-1.amazonaws.com":1,"s3.dualstack.ap-southeast-2.amazonaws.com":1,"s3-accesspoint.dualstack.ap-southeast-2.amazonaws.com":1,"s3-website.dualstack.ap-southeast-2.amazonaws.com":1,"s3.ap-southeast-2.amazonaws.com":1,"s3-accesspoint.ap-southeast-2.amazonaws.com":1,"s3-object-lambda.ap-southeast-2.amazonaws.com":1,"s3-website.ap-southeast-2.amazonaws.com":1,"s3.dualstack.ap-southeast-3.amazonaws.com":1,"s3-accesspoint.dualstack.ap-southeast-3.amazonaws.com":1,"s3.ap-southeast-3.amazonaws.com":1,"s3-accesspoint.ap-southeast-3.amazonaws.com":1,"s3-object-lambda.ap-southeast-3.amazonaws.com":1,"s3-website.ap-southeast-3.amazonaws.com":1,"s3.dualstack.ap-southeast-4.amazonaws.com":1,"s3-accesspoint.dualstack.ap-southeast-4.amazonaws.com":1,"s3.ap-southeast-4.amazonaws.com":1,"s3-accesspoint.ap-southeast-4.amazonaws.com":1,"s3-object-lambda.ap-southeast-4.amazonaws.com":1,"s3-website.ap-southeast-4.amazonaws.com":1,"s3.dualstack.ca-central-1.amazonaws.com":1,"s3-accesspoint.dualstack.ca-central-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.ca-central-1.amazonaws.com":1,"s3-fips.dualstack.ca-central-1.amazonaws.com":1,"s3-website.dualstack.ca-central-1.amazonaws.com":1,"s3.ca-central-1.amazonaws.com":1,"s3-accesspoint.ca-central-1.amazonaws.com":1,"s3-accesspoint-fips.ca-central-1.amazonaws.com":1,"s3-fips.ca-central-1.amazonaws.com":1,"s3-object-lambda.ca-central-1.amazonaws.com":1,"s3-website.ca-central-1.amazonaws.com":1,"s3.dualstack.eu-central-1.amazonaws.com":1,"s3-accesspoint.dualstack.eu-central-1.amazonaws.com":1,"s3-website.dualstack.eu-central-1.amazonaws.com":1,"s3.eu-central-1.amazonaws.com":1,"s3-accesspoint.eu-central-1.amazonaws.com":1,"s3-object-lambda.eu-central-1.amazonaws.com":1,"s3-website.eu-central-1.amazonaws.com":1,"s3.dualstack.eu-central-2.amazonaws.com":1,"s3-accesspoint.dualstack.eu-central-2.amazonaws.com":1,"s3.eu-central-2.amazonaws.com":1,"s3-accesspoint.eu-central-2.amazonaws.com":1,"s3-object-lambda.eu-central-2.amazonaws.com":1,"s3-website.eu-central-2.amazonaws.com":1,"s3.dualstack.eu-north-1.amazonaws.com":1,"s3-accesspoint.dualstack.eu-north-1.amazonaws.com":1,"s3.eu-north-1.amazonaws.com":1,"s3-accesspoint.eu-north-1.amazonaws.com":1,"s3-object-lambda.eu-north-1.amazonaws.com":1,"s3-website.eu-north-1.amazonaws.com":1,"s3.dualstack.eu-south-1.amazonaws.com":1,"s3-accesspoint.dualstack.eu-south-1.amazonaws.com":1,"s3-website.dualstack.eu-south-1.amazonaws.com":1,"s3.eu-south-1.amazonaws.com":1,"s3-accesspoint.eu-south-1.amazonaws.com":1,"s3-object-lambda.eu-south-1.amazonaws.com":1,"s3-website.eu-south-1.amazonaws.com":1,"s3.dualstack.eu-south-2.amazonaws.com":1,"s3-accesspoint.dualstack.eu-south-2.amazonaws.com":1,"s3.eu-south-2.amazonaws.com":1,"s3-accesspoint.eu-south-2.amazonaws.com":1,"s3-object-lambda.eu-south-2.amazonaws.com":1,"s3-website.eu-south-2.amazonaws.com":1,"s3.dualstack.eu-west-1.amazonaws.com":1,"s3-accesspoint.dualstack.eu-west-1.amazonaws.com":1,"s3-website.dualstack.eu-west-1.amazonaws.com":1,"s3.eu-west-1.amazonaws.com":1,"s3-accesspoint.eu-west-1.amazonaws.com":1,"s3-deprecated.eu-west-1.amazonaws.com":1,"s3-object-lambda.eu-west-1.amazonaws.com":1,"s3-website.eu-west-1.amazonaws.com":1,"s3.dualstack.eu-west-2.amazonaws.com":1,"s3-accesspoint.dualstack.eu-west-2.amazonaws.com":1,"s3.eu-west-2.amazonaws.com":1,"s3-accesspoint.eu-west-2.amazonaws.com":1,"s3-object-lambda.eu-west-2.amazonaws.com":1,"s3-website.eu-west-2.amazonaws.com":1,"s3.dualstack.eu-west-3.amazonaws.com":1,"s3-accesspoint.dualstack.eu-west-3.amazonaws.com":1,"s3-website.dualstack.eu-west-3.amazonaws.com":1,"s3.eu-west-3.amazonaws.com":1,"s3-accesspoint.eu-west-3.amazonaws.com":1,"s3-object-lambda.eu-west-3.amazonaws.com":1,"s3-website.eu-west-3.amazonaws.com":1,"s3.dualstack.il-central-1.amazonaws.com":1,"s3-accesspoint.dualstack.il-central-1.amazonaws.com":1,"s3.il-central-1.amazonaws.com":1,"s3-accesspoint.il-central-1.amazonaws.com":1,"s3-object-lambda.il-central-1.amazonaws.com":1,"s3-website.il-central-1.amazonaws.com":1,"s3.dualstack.me-central-1.amazonaws.com":1,"s3-accesspoint.dualstack.me-central-1.amazonaws.com":1,"s3.me-central-1.amazonaws.com":1,"s3-accesspoint.me-central-1.amazonaws.com":1,"s3-object-lambda.me-central-1.amazonaws.com":1,"s3-website.me-central-1.amazonaws.com":1,"s3.dualstack.me-south-1.amazonaws.com":1,"s3-accesspoint.dualstack.me-south-1.amazonaws.com":1,"s3.me-south-1.amazonaws.com":1,"s3-accesspoint.me-south-1.amazonaws.com":1,"s3-object-lambda.me-south-1.amazonaws.com":1,"s3-website.me-south-1.amazonaws.com":1,"s3.amazonaws.com":1,"s3-1.amazonaws.com":1,"s3-ap-east-1.amazonaws.com":1,"s3-ap-northeast-1.amazonaws.com":1,"s3-ap-northeast-2.amazonaws.com":1,"s3-ap-northeast-3.amazonaws.com":1,"s3-ap-south-1.amazonaws.com":1,"s3-ap-southeast-1.amazonaws.com":1,"s3-ap-southeast-2.amazonaws.com":1,"s3-ca-central-1.amazonaws.com":1,"s3-eu-central-1.amazonaws.com":1,"s3-eu-north-1.amazonaws.com":1,"s3-eu-west-1.amazonaws.com":1,"s3-eu-west-2.amazonaws.com":1,"s3-eu-west-3.amazonaws.com":1,"s3-external-1.amazonaws.com":1,"s3-fips-us-gov-east-1.amazonaws.com":1,"s3-fips-us-gov-west-1.amazonaws.com":1,"mrap.accesspoint.s3-global.amazonaws.com":1,"s3-me-south-1.amazonaws.com":1,"s3-sa-east-1.amazonaws.com":1,"s3-us-east-2.amazonaws.com":1,"s3-us-gov-east-1.amazonaws.com":1,"s3-us-gov-west-1.amazonaws.com":1,"s3-us-west-1.amazonaws.com":1,"s3-us-west-2.amazonaws.com":1,"s3-website-ap-northeast-1.amazonaws.com":1,"s3-website-ap-southeast-1.amazonaws.com":1,"s3-website-ap-southeast-2.amazonaws.com":1,"s3-website-eu-west-1.amazonaws.com":1,"s3-website-sa-east-1.amazonaws.com":1,"s3-website-us-east-1.amazonaws.com":1,"s3-website-us-gov-west-1.amazonaws.com":1,"s3-website-us-west-1.amazonaws.com":1,"s3-website-us-west-2.amazonaws.com":1,"s3.dualstack.sa-east-1.amazonaws.com":1,"s3-accesspoint.dualstack.sa-east-1.amazonaws.com":1,"s3-website.dualstack.sa-east-1.amazonaws.com":1,"s3.sa-east-1.amazonaws.com":1,"s3-accesspoint.sa-east-1.amazonaws.com":1,"s3-object-lambda.sa-east-1.amazonaws.com":1,"s3-website.sa-east-1.amazonaws.com":1,"s3.dualstack.us-east-1.amazonaws.com":1,"s3-accesspoint.dualstack.us-east-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-east-1.amazonaws.com":1,"s3-fips.dualstack.us-east-1.amazonaws.com":1,"s3-website.dualstack.us-east-1.amazonaws.com":1,"s3.us-east-1.amazonaws.com":1,"s3-accesspoint.us-east-1.amazonaws.com":1,"s3-accesspoint-fips.us-east-1.amazonaws.com":1,"s3-deprecated.us-east-1.amazonaws.com":1,"s3-fips.us-east-1.amazonaws.com":1,"s3-object-lambda.us-east-1.amazonaws.com":1,"s3-website.us-east-1.amazonaws.com":1,"s3.dualstack.us-east-2.amazonaws.com":1,"s3-accesspoint.dualstack.us-east-2.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-east-2.amazonaws.com":1,"s3-fips.dualstack.us-east-2.amazonaws.com":1,"s3.us-east-2.amazonaws.com":1,"s3-accesspoint.us-east-2.amazonaws.com":1,"s3-accesspoint-fips.us-east-2.amazonaws.com":1,"s3-deprecated.us-east-2.amazonaws.com":1,"s3-fips.us-east-2.amazonaws.com":1,"s3-object-lambda.us-east-2.amazonaws.com":1,"s3-website.us-east-2.amazonaws.com":1,"s3.dualstack.us-gov-east-1.amazonaws.com":1,"s3-accesspoint.dualstack.us-gov-east-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-gov-east-1.amazonaws.com":1,"s3-fips.dualstack.us-gov-east-1.amazonaws.com":1,"s3.us-gov-east-1.amazonaws.com":1,"s3-accesspoint.us-gov-east-1.amazonaws.com":1,"s3-accesspoint-fips.us-gov-east-1.amazonaws.com":1,"s3-fips.us-gov-east-1.amazonaws.com":1,"s3-object-lambda.us-gov-east-1.amazonaws.com":1,"s3-website.us-gov-east-1.amazonaws.com":1,"s3.dualstack.us-gov-west-1.amazonaws.com":1,"s3-accesspoint.dualstack.us-gov-west-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-gov-west-1.amazonaws.com":1,"s3-fips.dualstack.us-gov-west-1.amazonaws.com":1,"s3.us-gov-west-1.amazonaws.com":1,"s3-accesspoint.us-gov-west-1.amazonaws.com":1,"s3-accesspoint-fips.us-gov-west-1.amazonaws.com":1,"s3-fips.us-gov-west-1.amazonaws.com":1,"s3-object-lambda.us-gov-west-1.amazonaws.com":1,"s3-website.us-gov-west-1.amazonaws.com":1,"s3.dualstack.us-west-1.amazonaws.com":1,"s3-accesspoint.dualstack.us-west-1.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-west-1.amazonaws.com":1,"s3-fips.dualstack.us-west-1.amazonaws.com":1,"s3-website.dualstack.us-west-1.amazonaws.com":1,"s3.us-west-1.amazonaws.com":1,"s3-accesspoint.us-west-1.amazonaws.com":1,"s3-accesspoint-fips.us-west-1.amazonaws.com":1,"s3-fips.us-west-1.amazonaws.com":1,"s3-object-lambda.us-west-1.amazonaws.com":1,"s3-website.us-west-1.amazonaws.com":1,"s3.dualstack.us-west-2.amazonaws.com":1,"s3-accesspoint.dualstack.us-west-2.amazonaws.com":1,"s3-accesspoint-fips.dualstack.us-west-2.amazonaws.com":1,"s3-fips.dualstack.us-west-2.amazonaws.com":1,"s3-website.dualstack.us-west-2.amazonaws.com":1,"s3.us-west-2.amazonaws.com":1,"s3-accesspoint.us-west-2.amazonaws.com":1,"s3-accesspoint-fips.us-west-2.amazonaws.com":1,"s3-deprecated.us-west-2.amazonaws.com":1,"s3-fips.us-west-2.amazonaws.com":1,"s3-object-lambda.us-west-2.amazonaws.com":1,"s3-website.us-west-2.amazonaws.com":1,"notebook.af-south-1.sagemaker.aws":1,"notebook.ap-east-1.sagemaker.aws":1,"notebook.ap-northeast-1.sagemaker.aws":1,"notebook.ap-northeast-2.sagemaker.aws":1,"notebook.ap-northeast-3.sagemaker.aws":1,"notebook.ap-south-1.sagemaker.aws":1,"notebook.ap-south-2.sagemaker.aws":1,"notebook.ap-southeast-1.sagemaker.aws":1,"notebook.ap-southeast-2.sagemaker.aws":1,"notebook.ap-southeast-3.sagemaker.aws":1,"notebook.ap-southeast-4.sagemaker.aws":1,"notebook.ca-central-1.sagemaker.aws":1,"notebook.eu-central-1.sagemaker.aws":1,"notebook.eu-central-2.sagemaker.aws":1,"notebook.eu-north-1.sagemaker.aws":1,"notebook.eu-south-1.sagemaker.aws":1,"notebook.eu-south-2.sagemaker.aws":1,"notebook.eu-west-1.sagemaker.aws":1,"notebook.eu-west-2.sagemaker.aws":1,"notebook.eu-west-3.sagemaker.aws":1,"notebook.il-central-1.sagemaker.aws":1,"notebook.me-central-1.sagemaker.aws":1,"notebook.me-south-1.sagemaker.aws":1,"notebook.sa-east-1.sagemaker.aws":1,"notebook.us-east-1.sagemaker.aws":1,"notebook-fips.us-east-1.sagemaker.aws":1,"notebook.us-east-2.sagemaker.aws":1,"notebook-fips.us-east-2.sagemaker.aws":1,"notebook.us-gov-east-1.sagemaker.aws":1,"notebook-fips.us-gov-east-1.sagemaker.aws":1,"notebook.us-gov-west-1.sagemaker.aws":1,"notebook-fips.us-gov-west-1.sagemaker.aws":1,"notebook.us-west-1.sagemaker.aws":1,"notebook.us-west-2.sagemaker.aws":1,"notebook-fips.us-west-2.sagemaker.aws":1,"notebook.cn-north-1.sagemaker.com.cn":1,"notebook.cn-northwest-1.sagemaker.com.cn":1,"studio.af-south-1.sagemaker.aws":1,"studio.ap-east-1.sagemaker.aws":1,"studio.ap-northeast-1.sagemaker.aws":1,"studio.ap-northeast-2.sagemaker.aws":1,"studio.ap-northeast-3.sagemaker.aws":1,"studio.ap-south-1.sagemaker.aws":1,"studio.ap-southeast-1.sagemaker.aws":1,"studio.ap-southeast-2.sagemaker.aws":1,"studio.ap-southeast-3.sagemaker.aws":1,"studio.ca-central-1.sagemaker.aws":1,"studio.eu-central-1.sagemaker.aws":1,"studio.eu-north-1.sagemaker.aws":1,"studio.eu-south-1.sagemaker.aws":1,"studio.eu-west-1.sagemaker.aws":1,"studio.eu-west-2.sagemaker.aws":1,"studio.eu-west-3.sagemaker.aws":1,"studio.il-central-1.sagemaker.aws":1,"studio.me-central-1.sagemaker.aws":1,"studio.me-south-1.sagemaker.aws":1,"studio.sa-east-1.sagemaker.aws":1,"studio.us-east-1.sagemaker.aws":1,"studio.us-east-2.sagemaker.aws":1,"studio.us-gov-east-1.sagemaker.aws":1,"studio-fips.us-gov-east-1.sagemaker.aws":1,"studio.us-gov-west-1.sagemaker.aws":1,"studio-fips.us-gov-west-1.sagemaker.aws":1,"studio.us-west-1.sagemaker.aws":1,"studio.us-west-2.sagemaker.aws":1,"studio.cn-north-1.sagemaker.com.cn":1,"studio.cn-northwest-1.sagemaker.com.cn":1,"analytics-gateway.ap-northeast-1.amazonaws.com":1,"analytics-gateway.ap-northeast-2.amazonaws.com":1,"analytics-gateway.ap-south-1.amazonaws.com":1,"analytics-gateway.ap-southeast-1.amazonaws.com":1,"analytics-gateway.ap-southeast-2.amazonaws.com":1,"analytics-gateway.eu-central-1.amazonaws.com":1,"analytics-gateway.eu-west-1.amazonaws.com":1,"analytics-gateway.us-east-1.amazonaws.com":1,"analytics-gateway.us-east-2.amazonaws.com":1,"analytics-gateway.us-west-2.amazonaws.com":1,"amplifyapp.com":2,"awsapprunner.com":2,"webview-assets.aws-cloud9.af-south-1.amazonaws.com":1,"vfs.cloud9.af-south-1.amazonaws.com":1,"webview-assets.cloud9.af-south-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-east-1.amazonaws.com":1,"vfs.cloud9.ap-east-1.amazonaws.com":1,"webview-assets.cloud9.ap-east-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-northeast-1.amazonaws.com":1,"vfs.cloud9.ap-northeast-1.amazonaws.com":1,"webview-assets.cloud9.ap-northeast-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-northeast-2.amazonaws.com":1,"vfs.cloud9.ap-northeast-2.amazonaws.com":1,"webview-assets.cloud9.ap-northeast-2.amazonaws.com":1,"webview-assets.aws-cloud9.ap-northeast-3.amazonaws.com":1,"vfs.cloud9.ap-northeast-3.amazonaws.com":1,"webview-assets.cloud9.ap-northeast-3.amazonaws.com":1,"webview-assets.aws-cloud9.ap-south-1.amazonaws.com":1,"vfs.cloud9.ap-south-1.amazonaws.com":1,"webview-assets.cloud9.ap-south-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-southeast-1.amazonaws.com":1,"vfs.cloud9.ap-southeast-1.amazonaws.com":1,"webview-assets.cloud9.ap-southeast-1.amazonaws.com":1,"webview-assets.aws-cloud9.ap-southeast-2.amazonaws.com":1,"vfs.cloud9.ap-southeast-2.amazonaws.com":1,"webview-assets.cloud9.ap-southeast-2.amazonaws.com":1,"webview-assets.aws-cloud9.ca-central-1.amazonaws.com":1,"vfs.cloud9.ca-central-1.amazonaws.com":1,"webview-assets.cloud9.ca-central-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-central-1.amazonaws.com":1,"vfs.cloud9.eu-central-1.amazonaws.com":1,"webview-assets.cloud9.eu-central-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-north-1.amazonaws.com":1,"vfs.cloud9.eu-north-1.amazonaws.com":1,"webview-assets.cloud9.eu-north-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-south-1.amazonaws.com":1,"vfs.cloud9.eu-south-1.amazonaws.com":1,"webview-assets.cloud9.eu-south-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-west-1.amazonaws.com":1,"vfs.cloud9.eu-west-1.amazonaws.com":1,"webview-assets.cloud9.eu-west-1.amazonaws.com":1,"webview-assets.aws-cloud9.eu-west-2.amazonaws.com":1,"vfs.cloud9.eu-west-2.amazonaws.com":1,"webview-assets.cloud9.eu-west-2.amazonaws.com":1,"webview-assets.aws-cloud9.eu-west-3.amazonaws.com":1,"vfs.cloud9.eu-west-3.amazonaws.com":1,"webview-assets.cloud9.eu-west-3.amazonaws.com":1,"webview-assets.aws-cloud9.me-south-1.amazonaws.com":1,"vfs.cloud9.me-south-1.amazonaws.com":1,"webview-assets.cloud9.me-south-1.amazonaws.com":1,"webview-assets.aws-cloud9.sa-east-1.amazonaws.com":1,"vfs.cloud9.sa-east-1.amazonaws.com":1,"webview-assets.cloud9.sa-east-1.amazonaws.com":1,"webview-assets.aws-cloud9.us-east-1.amazonaws.com":1,"vfs.cloud9.us-east-1.amazonaws.com":1,"webview-assets.cloud9.us-east-1.amazonaws.com":1,"webview-assets.aws-cloud9.us-east-2.amazonaws.com":1,"vfs.cloud9.us-east-2.amazonaws.com":1,"webview-assets.cloud9.us-east-2.amazonaws.com":1,"webview-assets.aws-cloud9.us-west-1.amazonaws.com":1,"vfs.cloud9.us-west-1.amazonaws.com":1,"webview-assets.cloud9.us-west-1.amazonaws.com":1,"webview-assets.aws-cloud9.us-west-2.amazonaws.com":1,"vfs.cloud9.us-west-2.amazonaws.com":1,"webview-assets.cloud9.us-west-2.amazonaws.com":1,"cn-north-1.eb.amazonaws.com.cn":1,"cn-northwest-1.eb.amazonaws.com.cn":1,"elasticbeanstalk.com":1,"af-south-1.elasticbeanstalk.com":1,"ap-east-1.elasticbeanstalk.com":1,"ap-northeast-1.elasticbeanstalk.com":1,"ap-northeast-2.elasticbeanstalk.com":1,"ap-northeast-3.elasticbeanstalk.com":1,"ap-south-1.elasticbeanstalk.com":1,"ap-southeast-1.elasticbeanstalk.com":1,"ap-southeast-2.elasticbeanstalk.com":1,"ap-southeast-3.elasticbeanstalk.com":1,"ca-central-1.elasticbeanstalk.com":1,"eu-central-1.elasticbeanstalk.com":1,"eu-north-1.elasticbeanstalk.com":1,"eu-south-1.elasticbeanstalk.com":1,"eu-west-1.elasticbeanstalk.com":1,"eu-west-2.elasticbeanstalk.com":1,"eu-west-3.elasticbeanstalk.com":1,"il-central-1.elasticbeanstalk.com":1,"me-south-1.elasticbeanstalk.com":1,"sa-east-1.elasticbeanstalk.com":1,"us-east-1.elasticbeanstalk.com":1,"us-east-2.elasticbeanstalk.com":1,"us-gov-east-1.elasticbeanstalk.com":1,"us-gov-west-1.elasticbeanstalk.com":1,"us-west-1.elasticbeanstalk.com":1,"us-west-2.elasticbeanstalk.com":1,"elb.amazonaws.com.cn":2,"elb.amazonaws.com":2,"awsglobalaccelerator.com":1,"eero.online":1,"eero-stage.online":1,"t3l3p0rt.net":1,"tele.amune.org":1,"apigee.io":1,"siiites.com":1,"appspacehosted.com":1,"appspaceusercontent.com":1,"appudo.net":1,"on-aptible.com":1,"user.aseinet.ne.jp":1,"gv.vc":1,"d.gv.vc":1,"user.party.eus":1,"pimienta.org":1,"poivron.org":1,"potager.org":1,"sweetpepper.org":1,"myasustor.com":1,"cdn.prod.atlassian-dev.net":1,"translated.page":1,"autocode.dev":1,"myfritz.net":1,"onavstack.net":1,"awdev.ca":2,"advisor.ws":2,"ecommerce-shop.pl":1,"b-data.io":1,"backplaneapp.io":1,"balena-devices.com":1,"rs.ba":1,"banzai.cloud":2,"app.banzaicloud.io":1,"backyards.banzaicloud.io":2,"base.ec":1,"official.ec":1,"buyshop.jp":1,"fashionstore.jp":1,"handcrafted.jp":1,"kawaiishop.jp":1,"supersale.jp":1,"theshop.jp":1,"shopselect.net":1,"base.shop":1,"beagleboard.io":1,"beget.app":2,"betainabox.com":1,"bnr.la":1,"bitbucket.io":1,"blackbaudcdn.net":1,"of.je":1,"bluebite.io":1,"boomla.net":1,"boutir.com":1,"boxfuse.io":1,"square7.ch":1,"bplaced.com":1,"bplaced.de":1,"square7.de":1,"bplaced.net":1,"square7.net":1,"shop.brendly.rs":1,"browsersafetymark.io":1,"uk0.bigv.io":1,"dh.bytemark.co.uk":1,"vm.bytemark.co.uk":1,"cafjs.com":1,"mycd.eu":1,"canva-apps.cn":1,"canva-apps.com":1,"drr.ac":1,"uwu.ai":1,"carrd.co":1,"crd.co":1,"ju.mp":1,"ae.org":1,"br.com":1,"cn.com":1,"com.de":1,"com.se":1,"de.com":1,"eu.com":1,"gb.net":1,"hu.net":1,"jp.net":1,"jpn.com":1,"mex.com":1,"ru.com":1,"sa.com":1,"se.net":1,"uk.com":1,"uk.net":1,"us.com":1,"za.bz":1,"za.com":1,"ar.com":1,"hu.com":1,"kr.com":1,"no.com":1,"qc.com":1,"uy.com":1,"africa.com":1,"gr.com":1,"in.net":1,"web.in":1,"us.org":1,"co.com":1,"aus.basketball":1,"nz.basketball":1,"radio.am":1,"radio.fm":1,"c.la":1,"certmgr.org":1,"cx.ua":1,"discourse.group":1,"discourse.team":1,"cleverapps.io":1,"clerk.app":1,"clerkstage.app":1,"lcl.dev":2,"lclstage.dev":2,"stg.dev":2,"stgstage.dev":2,"clickrising.net":1,"c66.me":1,"cloud66.ws":1,"cloud66.zone":1,"jdevcloud.com":1,"wpdevcloud.com":1,"cloudaccess.host":1,"freesite.host":1,"cloudaccess.net":1,"cloudcontrolled.com":1,"cloudcontrolapp.com":1,"cloudera.site":2,"cf-ipfs.com":1,"cloudflare-ipfs.com":1,"trycloudflare.com":1,"pages.dev":1,"r2.dev":1,"workers.dev":1,"wnext.app":1,"co.ca":1,"otap.co":2,"co.cz":1,"c.cdn77.org":1,"cdn77-ssl.net":1,"r.cdn77.net":1,"rsc.cdn77.org":1,"ssl.origin.cdn77-secure.org":1,"cloudns.asia":1,"cloudns.biz":1,"cloudns.club":1,"cloudns.cc":1,"cloudns.eu":1,"cloudns.in":1,"cloudns.info":1,"cloudns.org":1,"cloudns.pro":1,"cloudns.pw":1,"cloudns.us":1,"cnpy.gdn":1,"codeberg.page":1,"co.nl":1,"co.no":1,"webhosting.be":1,"hosting-cluster.nl":1,"ac.ru":1,"edu.ru":1,"gov.ru":1,"int.ru":1,"mil.ru":1,"test.ru":1,"dyn.cosidns.de":1,"dynamisches-dns.de":1,"dnsupdater.de":1,"internet-dns.de":1,"l-o-g-i-n.de":1,"dynamic-dns.info":1,"feste-ip.net":1,"knx-server.net":1,"static-access.net":1,"realm.cz":1,"cryptonomic.net":2,"cupcake.is":1,"curv.dev":1,"customer-oci.com":2,"oci.customer-oci.com":2,"ocp.customer-oci.com":2,"ocs.customer-oci.com":2,"cyon.link":1,"cyon.site":1,"fnwk.site":1,"folionetwork.site":1,"platform0.app":1,"daplie.me":1,"localhost.daplie.me":1,"dattolocal.com":1,"dattorelay.com":1,"dattoweb.com":1,"mydatto.com":1,"dattolocal.net":1,"mydatto.net":1,"biz.dk":1,"co.dk":1,"firm.dk":1,"reg.dk":1,"store.dk":1,"dyndns.dappnode.io":1,"dapps.earth":2,"bzz.dapps.earth":2,"builtwithdark.com":1,"demo.datadetect.com":1,"instance.datadetect.com":1,"edgestack.me":1,"ddns5.com":1,"debian.net":1,"deno.dev":1,"deno-staging.dev":1,"dedyn.io":1,"deta.app":1,"deta.dev":1,"rss.my.id":2,"diher.solutions":2,"discordsays.com":1,"discordsez.com":1,"jozi.biz":1,"dnshome.de":1,"online.th":1,"shop.th":1,"drayddns.com":1,"shoparena.pl":1,"dreamhosters.com":1,"mydrobo.com":1,"drud.io":1,"drud.us":1,"duckdns.org":1,"bip.sh":1,"bitbridge.net":1,"dy.fi":1,"tunk.org":1,"dyndns-at-home.com":1,"dyndns-at-work.com":1,"dyndns-blog.com":1,"dyndns-free.com":1,"dyndns-home.com":1,"dyndns-ip.com":1,"dyndns-mail.com":1,"dyndns-office.com":1,"dyndns-pics.com":1,"dyndns-remote.com":1,"dyndns-server.com":1,"dyndns-web.com":1,"dyndns-wiki.com":1,"dyndns-work.com":1,"dyndns.biz":1,"dyndns.info":1,"dyndns.org":1,"dyndns.tv":1,"at-band-camp.net":1,"ath.cx":1,"barrel-of-knowledge.info":1,"barrell-of-knowledge.info":1,"better-than.tv":1,"blogdns.com":1,"blogdns.net":1,"blogdns.org":1,"blogsite.org":1,"boldlygoingnowhere.org":1,"broke-it.net":1,"buyshouses.net":1,"cechire.com":1,"dnsalias.com":1,"dnsalias.net":1,"dnsalias.org":1,"dnsdojo.com":1,"dnsdojo.net":1,"dnsdojo.org":1,"does-it.net":1,"doesntexist.com":1,"doesntexist.org":1,"dontexist.com":1,"dontexist.net":1,"dontexist.org":1,"doomdns.com":1,"doomdns.org":1,"dvrdns.org":1,"dyn-o-saur.com":1,"dynalias.com":1,"dynalias.net":1,"dynalias.org":1,"dynathome.net":1,"dyndns.ws":1,"endofinternet.net":1,"endofinternet.org":1,"endoftheinternet.org":1,"est-a-la-maison.com":1,"est-a-la-masion.com":1,"est-le-patron.com":1,"est-mon-blogueur.com":1,"for-better.biz":1,"for-more.biz":1,"for-our.info":1,"for-some.biz":1,"for-the.biz":1,"forgot.her.name":1,"forgot.his.name":1,"from-ak.com":1,"from-al.com":1,"from-ar.com":1,"from-az.net":1,"from-ca.com":1,"from-co.net":1,"from-ct.com":1,"from-dc.com":1,"from-de.com":1,"from-fl.com":1,"from-ga.com":1,"from-hi.com":1,"from-ia.com":1,"from-id.com":1,"from-il.com":1,"from-in.com":1,"from-ks.com":1,"from-ky.com":1,"from-la.net":1,"from-ma.com":1,"from-md.com":1,"from-me.org":1,"from-mi.com":1,"from-mn.com":1,"from-mo.com":1,"from-ms.com":1,"from-mt.com":1,"from-nc.com":1,"from-nd.com":1,"from-ne.com":1,"from-nh.com":1,"from-nj.com":1,"from-nm.com":1,"from-nv.com":1,"from-ny.net":1,"from-oh.com":1,"from-ok.com":1,"from-or.com":1,"from-pa.com":1,"from-pr.com":1,"from-ri.com":1,"from-sc.com":1,"from-sd.com":1,"from-tn.com":1,"from-tx.com":1,"from-ut.com":1,"from-va.com":1,"from-vt.com":1,"from-wa.com":1,"from-wi.com":1,"from-wv.com":1,"from-wy.com":1,"ftpaccess.cc":1,"fuettertdasnetz.de":1,"game-host.org":1,"game-server.cc":1,"getmyip.com":1,"gets-it.net":1,"go.dyndns.org":1,"gotdns.com":1,"gotdns.org":1,"groks-the.info":1,"groks-this.info":1,"ham-radio-op.net":1,"here-for-more.info":1,"hobby-site.com":1,"hobby-site.org":1,"home.dyndns.org":1,"homedns.org":1,"homeftp.net":1,"homeftp.org":1,"homeip.net":1,"homelinux.com":1,"homelinux.net":1,"homelinux.org":1,"homeunix.com":1,"homeunix.net":1,"homeunix.org":1,"iamallama.com":1,"in-the-band.net":1,"is-a-anarchist.com":1,"is-a-blogger.com":1,"is-a-bookkeeper.com":1,"is-a-bruinsfan.org":1,"is-a-bulls-fan.com":1,"is-a-candidate.org":1,"is-a-caterer.com":1,"is-a-celticsfan.org":1,"is-a-chef.com":1,"is-a-chef.net":1,"is-a-chef.org":1,"is-a-conservative.com":1,"is-a-cpa.com":1,"is-a-cubicle-slave.com":1,"is-a-democrat.com":1,"is-a-designer.com":1,"is-a-doctor.com":1,"is-a-financialadvisor.com":1,"is-a-geek.com":1,"is-a-geek.net":1,"is-a-geek.org":1,"is-a-green.com":1,"is-a-guru.com":1,"is-a-hard-worker.com":1,"is-a-hunter.com":1,"is-a-knight.org":1,"is-a-landscaper.com":1,"is-a-lawyer.com":1,"is-a-liberal.com":1,"is-a-libertarian.com":1,"is-a-linux-user.org":1,"is-a-llama.com":1,"is-a-musician.com":1,"is-a-nascarfan.com":1,"is-a-nurse.com":1,"is-a-painter.com":1,"is-a-patsfan.org":1,"is-a-personaltrainer.com":1,"is-a-photographer.com":1,"is-a-player.com":1,"is-a-republican.com":1,"is-a-rockstar.com":1,"is-a-socialist.com":1,"is-a-soxfan.org":1,"is-a-student.com":1,"is-a-teacher.com":1,"is-a-techie.com":1,"is-a-therapist.com":1,"is-an-accountant.com":1,"is-an-actor.com":1,"is-an-actress.com":1,"is-an-anarchist.com":1,"is-an-artist.com":1,"is-an-engineer.com":1,"is-an-entertainer.com":1,"is-by.us":1,"is-certified.com":1,"is-found.org":1,"is-gone.com":1,"is-into-anime.com":1,"is-into-cars.com":1,"is-into-cartoons.com":1,"is-into-games.com":1,"is-leet.com":1,"is-lost.org":1,"is-not-certified.com":1,"is-saved.org":1,"is-slick.com":1,"is-uberleet.com":1,"is-very-bad.org":1,"is-very-evil.org":1,"is-very-good.org":1,"is-very-nice.org":1,"is-very-sweet.org":1,"is-with-theband.com":1,"isa-geek.com":1,"isa-geek.net":1,"isa-geek.org":1,"isa-hockeynut.com":1,"issmarterthanyou.com":1,"isteingeek.de":1,"istmein.de":1,"kicks-ass.net":1,"kicks-ass.org":1,"knowsitall.info":1,"land-4-sale.us":1,"lebtimnetz.de":1,"leitungsen.de":1,"likes-pie.com":1,"likescandy.com":1,"merseine.nu":1,"mine.nu":1,"misconfused.org":1,"mypets.ws":1,"myphotos.cc":1,"neat-url.com":1,"office-on-the.net":1,"on-the-web.tv":1,"podzone.net":1,"podzone.org":1,"readmyblog.org":1,"saves-the-whales.com":1,"scrapper-site.net":1,"scrapping.cc":1,"selfip.biz":1,"selfip.com":1,"selfip.info":1,"selfip.net":1,"selfip.org":1,"sells-for-less.com":1,"sells-for-u.com":1,"sells-it.net":1,"sellsyourhome.org":1,"servebbs.com":1,"servebbs.net":1,"servebbs.org":1,"serveftp.net":1,"serveftp.org":1,"servegame.org":1,"shacknet.nu":1,"simple-url.com":1,"space-to-rent.com":1,"stuff-4-sale.org":1,"stuff-4-sale.us":1,"teaches-yoga.com":1,"thruhere.net":1,"traeumtgerade.de":1,"webhop.biz":1,"webhop.info":1,"webhop.net":1,"webhop.org":1,"worse-than.tv":1,"writesthisblog.com":1,"ddnss.de":1,"dyn.ddnss.de":1,"dyndns.ddnss.de":1,"dyndns1.de":1,"dyn-ip24.de":1,"home-webserver.de":1,"dyn.home-webserver.de":1,"myhome-server.de":1,"ddnss.org":1,"definima.net":1,"definima.io":1,"ondigitalocean.app":1,"digitaloceanspaces.com":2,"bci.dnstrace.pro":1,"ddnsfree.com":1,"ddnsgeek.com":1,"giize.com":1,"gleeze.com":1,"kozow.com":1,"loseyourip.com":1,"ooguy.com":1,"theworkpc.com":1,"casacam.net":1,"dynu.net":1,"accesscam.org":1,"camdvr.org":1,"freeddns.org":1,"mywire.org":1,"webredirect.org":1,"myddns.rocks":1,"blogsite.xyz":1,"dynv6.net":1,"e4.cz":1,"easypanel.app":1,"easypanel.host":1,"elementor.cloud":1,"elementor.cool":1,"en-root.fr":1,"mytuleap.com":1,"tuleap-partners.com":1,"encr.app":1,"encoreapi.com":1,"onred.one":1,"staging.onred.one":1,"eu.encoway.cloud":1,"eu.org":1,"al.eu.org":1,"asso.eu.org":1,"at.eu.org":1,"au.eu.org":1,"be.eu.org":1,"bg.eu.org":1,"ca.eu.org":1,"cd.eu.org":1,"ch.eu.org":1,"cn.eu.org":1,"cy.eu.org":1,"cz.eu.org":1,"de.eu.org":1,"dk.eu.org":1,"edu.eu.org":1,"ee.eu.org":1,"es.eu.org":1,"fi.eu.org":1,"fr.eu.org":1,"gr.eu.org":1,"hr.eu.org":1,"hu.eu.org":1,"ie.eu.org":1,"il.eu.org":1,"in.eu.org":1,"int.eu.org":1,"is.eu.org":1,"it.eu.org":1,"jp.eu.org":1,"kr.eu.org":1,"lt.eu.org":1,"lu.eu.org":1,"lv.eu.org":1,"mc.eu.org":1,"me.eu.org":1,"mk.eu.org":1,"mt.eu.org":1,"my.eu.org":1,"net.eu.org":1,"ng.eu.org":1,"nl.eu.org":1,"no.eu.org":1,"nz.eu.org":1,"paris.eu.org":1,"pl.eu.org":1,"pt.eu.org":1,"q-a.eu.org":1,"ro.eu.org":1,"ru.eu.org":1,"se.eu.org":1,"si.eu.org":1,"sk.eu.org":1,"tr.eu.org":1,"uk.eu.org":1,"us.eu.org":1,"eurodir.ru":1,"eu-1.evennode.com":1,"eu-2.evennode.com":1,"eu-3.evennode.com":1,"eu-4.evennode.com":1,"us-1.evennode.com":1,"us-2.evennode.com":1,"us-3.evennode.com":1,"us-4.evennode.com":1,"twmail.cc":1,"twmail.net":1,"twmail.org":1,"mymailer.com.tw":1,"url.tw":1,"onfabrica.com":1,"apps.fbsbx.com":1,"ru.net":1,"adygeya.ru":1,"bashkiria.ru":1,"bir.ru":1,"cbg.ru":1,"com.ru":1,"dagestan.ru":1,"grozny.ru":1,"kalmykia.ru":1,"kustanai.ru":1,"marine.ru":1,"mordovia.ru":1,"msk.ru":1,"mytis.ru":1,"nalchik.ru":1,"nov.ru":1,"pyatigorsk.ru":1,"spb.ru":1,"vladikavkaz.ru":1,"vladimir.ru":1,"abkhazia.su":1,"adygeya.su":1,"aktyubinsk.su":1,"arkhangelsk.su":1,"armenia.su":1,"ashgabad.su":1,"azerbaijan.su":1,"balashov.su":1,"bashkiria.su":1,"bryansk.su":1,"bukhara.su":1,"chimkent.su":1,"dagestan.su":1,"east-kazakhstan.su":1,"exnet.su":1,"georgia.su":1,"grozny.su":1,"ivanovo.su":1,"jambyl.su":1,"kalmykia.su":1,"kaluga.su":1,"karacol.su":1,"karaganda.su":1,"karelia.su":1,"khakassia.su":1,"krasnodar.su":1,"kurgan.su":1,"kustanai.su":1,"lenug.su":1,"mangyshlak.su":1,"mordovia.su":1,"msk.su":1,"murmansk.su":1,"nalchik.su":1,"navoi.su":1,"north-kazakhstan.su":1,"nov.su":1,"obninsk.su":1,"penza.su":1,"pokrovsk.su":1,"sochi.su":1,"spb.su":1,"tashkent.su":1,"termez.su":1,"togliatti.su":1,"troitsk.su":1,"tselinograd.su":1,"tula.su":1,"tuva.su":1,"vladikavkaz.su":1,"vladimir.su":1,"vologda.su":1,"channelsdvr.net":1,"u.channelsdvr.net":1,"edgecompute.app":1,"fastly-edge.com":1,"fastly-terrarium.com":1,"fastlylb.net":1,"map.fastlylb.net":1,"freetls.fastly.net":1,"map.fastly.net":1,"a.prod.fastly.net":1,"global.prod.fastly.net":1,"a.ssl.fastly.net":1,"b.ssl.fastly.net":1,"global.ssl.fastly.net":1,"user.fm":2,"fastvps-server.com":1,"fastvps.host":1,"myfast.host":1,"fastvps.site":1,"myfast.space":1,"fedorainfracloud.org":1,"fedorapeople.org":1,"cloud.fedoraproject.org":1,"app.os.fedoraproject.org":1,"app.os.stg.fedoraproject.org":1,"conn.uk":1,"copro.uk":1,"hosp.uk":1,"mydobiss.com":1,"fh-muenster.io":1,"filegear.me":1,"filegear-au.me":1,"filegear-de.me":1,"filegear-gb.me":1,"filegear-ie.me":1,"filegear-jp.me":1,"filegear-sg.me":1,"firebaseapp.com":1,"fireweb.app":1,"flap.id":1,"onflashdrive.app":1,"fldrv.com":1,"fly.dev":1,"edgeapp.net":1,"shw.io":1,"flynnhosting.net":1,"forgeblocks.com":1,"id.forgerock.io":1,"framer.app":1,"framercanvas.com":1,"framer.media":1,"framer.photos":1,"framer.website":1,"framer.wiki":1,"frusky.de":2,"ravpage.co.il":1,"0e.vc":1,"freebox-os.com":1,"freeboxos.com":1,"fbx-os.fr":1,"fbxos.fr":1,"freebox-os.fr":1,"freeboxos.fr":1,"freedesktop.org":1,"freemyip.com":1,"wien.funkfeuer.at":1,"futurecms.at":2,"ex.futurecms.at":2,"in.futurecms.at":2,"futurehosting.at":1,"futuremailing.at":1,"ex.ortsinfo.at":2,"kunden.ortsinfo.at":2,"statics.cloud":2,"independent-commission.uk":1,"independent-inquest.uk":1,"independent-inquiry.uk":1,"independent-panel.uk":1,"independent-review.uk":1,"public-inquiry.uk":1,"royal-commission.uk":1,"campaign.gov.uk":1,"service.gov.uk":1,"api.gov.uk":1,"gehirn.ne.jp":1,"usercontent.jp":1,"gentapps.com":1,"gentlentapis.com":1,"lab.ms":1,"cdn-edges.net":1,"ghost.io":1,"gsj.bz":1,"githubusercontent.com":1,"githubpreview.dev":1,"github.io":1,"gitlab.io":1,"gitapp.si":1,"gitpage.si":1,"glitch.me":1,"nog.community":1,"co.ro":1,"shop.ro":1,"lolipop.io":1,"angry.jp":1,"babyblue.jp":1,"babymilk.jp":1,"backdrop.jp":1,"bambina.jp":1,"bitter.jp":1,"blush.jp":1,"boo.jp":1,"boy.jp":1,"boyfriend.jp":1,"but.jp":1,"candypop.jp":1,"capoo.jp":1,"catfood.jp":1,"cheap.jp":1,"chicappa.jp":1,"chillout.jp":1,"chips.jp":1,"chowder.jp":1,"chu.jp":1,"ciao.jp":1,"cocotte.jp":1,"coolblog.jp":1,"cranky.jp":1,"cutegirl.jp":1,"daa.jp":1,"deca.jp":1,"deci.jp":1,"digick.jp":1,"egoism.jp":1,"fakefur.jp":1,"fem.jp":1,"flier.jp":1,"floppy.jp":1,"fool.jp":1,"frenchkiss.jp":1,"girlfriend.jp":1,"girly.jp":1,"gloomy.jp":1,"gonna.jp":1,"greater.jp":1,"hacca.jp":1,"heavy.jp":1,"her.jp":1,"hiho.jp":1,"hippy.jp":1,"holy.jp":1,"hungry.jp":1,"icurus.jp":1,"itigo.jp":1,"jellybean.jp":1,"kikirara.jp":1,"kill.jp":1,"kilo.jp":1,"kuron.jp":1,"littlestar.jp":1,"lolipopmc.jp":1,"lolitapunk.jp":1,"lomo.jp":1,"lovepop.jp":1,"lovesick.jp":1,"main.jp":1,"mods.jp":1,"mond.jp":1,"mongolian.jp":1,"moo.jp":1,"namaste.jp":1,"nikita.jp":1,"nobushi.jp":1,"noor.jp":1,"oops.jp":1,"parallel.jp":1,"parasite.jp":1,"pecori.jp":1,"peewee.jp":1,"penne.jp":1,"pepper.jp":1,"perma.jp":1,"pigboat.jp":1,"pinoko.jp":1,"punyu.jp":1,"pupu.jp":1,"pussycat.jp":1,"pya.jp":1,"raindrop.jp":1,"readymade.jp":1,"sadist.jp":1,"schoolbus.jp":1,"secret.jp":1,"staba.jp":1,"stripper.jp":1,"sub.jp":1,"sunnyday.jp":1,"thick.jp":1,"tonkotsu.jp":1,"under.jp":1,"upper.jp":1,"velvet.jp":1,"verse.jp":1,"versus.jp":1,"vivian.jp":1,"watson.jp":1,"weblike.jp":1,"whitesnow.jp":1,"zombie.jp":1,"heteml.net":1,"cloudapps.digital":1,"london.cloudapps.digital":1,"pymnt.uk":1,"homeoffice.gov.uk":1,"ro.im":1,"goip.de":1,"run.app":1,"a.run.app":1,"web.app":1,"0emm.com":2,"appspot.com":1,"r.appspot.com":2,"codespot.com":1,"googleapis.com":1,"googlecode.com":1,"pagespeedmobilizer.com":1,"publishproxy.com":1,"withgoogle.com":1,"withyoutube.com":1,"gateway.dev":2,"cloud.goog":1,"translate.goog":1,"usercontent.goog":2,"cloudfunctions.net":1,"blogspot.ae":1,"blogspot.al":1,"blogspot.am":1,"blogspot.ba":1,"blogspot.be":1,"blogspot.bg":1,"blogspot.bj":1,"blogspot.ca":1,"blogspot.cf":1,"blogspot.ch":1,"blogspot.cl":1,"blogspot.co.at":1,"blogspot.co.id":1,"blogspot.co.il":1,"blogspot.co.ke":1,"blogspot.co.nz":1,"blogspot.co.uk":1,"blogspot.co.za":1,"blogspot.com":1,"blogspot.com.ar":1,"blogspot.com.au":1,"blogspot.com.br":1,"blogspot.com.by":1,"blogspot.com.co":1,"blogspot.com.cy":1,"blogspot.com.ee":1,"blogspot.com.eg":1,"blogspot.com.es":1,"blogspot.com.mt":1,"blogspot.com.ng":1,"blogspot.com.tr":1,"blogspot.com.uy":1,"blogspot.cv":1,"blogspot.cz":1,"blogspot.de":1,"blogspot.dk":1,"blogspot.fi":1,"blogspot.fr":1,"blogspot.gr":1,"blogspot.hk":1,"blogspot.hr":1,"blogspot.hu":1,"blogspot.ie":1,"blogspot.in":1,"blogspot.is":1,"blogspot.it":1,"blogspot.jp":1,"blogspot.kr":1,"blogspot.li":1,"blogspot.lt":1,"blogspot.lu":1,"blogspot.md":1,"blogspot.mk":1,"blogspot.mr":1,"blogspot.mx":1,"blogspot.my":1,"blogspot.nl":1,"blogspot.no":1,"blogspot.pe":1,"blogspot.pt":1,"blogspot.qa":1,"blogspot.re":1,"blogspot.ro":1,"blogspot.rs":1,"blogspot.ru":1,"blogspot.se":1,"blogspot.sg":1,"blogspot.si":1,"blogspot.sk":1,"blogspot.sn":1,"blogspot.td":1,"blogspot.tw":1,"blogspot.ug":1,"blogspot.vn":1,"goupile.fr":1,"gov.nl":1,"awsmppl.com":1,"xn--gnstigbestellen-zvb.de":1,"xn--gnstigliefern-wob.de":1,"fin.ci":1,"free.hr":1,"caa.li":1,"ua.rs":1,"conf.se":1,"hs.zone":1,"hs.run":1,"hashbang.sh":1,"hasura.app":1,"hasura-app.io":1,"pages.it.hs-heilbronn.de":1,"hepforge.org":1,"herokuapp.com":1,"herokussl.com":1,"ravendb.cloud":1,"ravendb.community":1,"ravendb.me":1,"development.run":1,"ravendb.run":1,"homesklep.pl":1,"secaas.hk":1,"hoplix.shop":1,"orx.biz":1,"biz.gl":1,"col.ng":1,"firm.ng":1,"gen.ng":1,"ltd.ng":1,"ngo.ng":1,"edu.scot":1,"sch.so":1,"ie.ua":1,"hostyhosting.io":1,"xn--hkkinen-5wa.fi":1,"moonscale.io":2,"moonscale.net":1,"iki.fi":1,"ibxos.it":1,"iliadboxos.it":1,"impertrixcdn.com":1,"impertrix.com":1,"smushcdn.com":1,"wphostedmail.com":1,"wpmucdn.com":1,"tempurl.host":1,"wpmudev.host":1,"dyn-berlin.de":1,"in-berlin.de":1,"in-brb.de":1,"in-butter.de":1,"in-dsl.de":1,"in-dsl.net":1,"in-dsl.org":1,"in-vpn.de":1,"in-vpn.net":1,"in-vpn.org":1,"biz.at":1,"info.at":1,"info.cx":1,"ac.leg.br":1,"al.leg.br":1,"am.leg.br":1,"ap.leg.br":1,"ba.leg.br":1,"ce.leg.br":1,"df.leg.br":1,"es.leg.br":1,"go.leg.br":1,"ma.leg.br":1,"mg.leg.br":1,"ms.leg.br":1,"mt.leg.br":1,"pa.leg.br":1,"pb.leg.br":1,"pe.leg.br":1,"pi.leg.br":1,"pr.leg.br":1,"rj.leg.br":1,"rn.leg.br":1,"ro.leg.br":1,"rr.leg.br":1,"rs.leg.br":1,"sc.leg.br":1,"se.leg.br":1,"sp.leg.br":1,"to.leg.br":1,"pixolino.com":1,"na4u.ru":1,"iopsys.se":1,"ipifony.net":1,"iservschule.de":1,"mein-iserv.de":1,"schulplattform.de":1,"schulserver.de":1,"test-iserv.de":1,"iserv.dev":1,"iobb.net":1,"mel.cloudlets.com.au":1,"cloud.interhostsolutions.be":1,"mycloud.by":1,"alp1.ae.flow.ch":1,"appengine.flow.ch":1,"es-1.axarnet.cloud":1,"diadem.cloud":1,"vip.jelastic.cloud":1,"jele.cloud":1,"it1.eur.aruba.jenv-aruba.cloud":1,"it1.jenv-aruba.cloud":1,"keliweb.cloud":1,"cs.keliweb.cloud":1,"oxa.cloud":1,"tn.oxa.cloud":1,"uk.oxa.cloud":1,"primetel.cloud":1,"uk.primetel.cloud":1,"ca.reclaim.cloud":1,"uk.reclaim.cloud":1,"us.reclaim.cloud":1,"ch.trendhosting.cloud":1,"de.trendhosting.cloud":1,"jele.club":1,"amscompute.com":1,"dopaas.com":1,"paas.hosted-by-previder.com":1,"rag-cloud.hosteur.com":1,"rag-cloud-ch.hosteur.com":1,"jcloud.ik-server.com":1,"jcloud-ver-jpc.ik-server.com":1,"demo.jelastic.com":1,"kilatiron.com":1,"paas.massivegrid.com":1,"jed.wafaicloud.com":1,"lon.wafaicloud.com":1,"ryd.wafaicloud.com":1,"j.scaleforce.com.cy":1,"jelastic.dogado.eu":1,"fi.cloudplatform.fi":1,"demo.datacenter.fi":1,"paas.datacenter.fi":1,"jele.host":1,"mircloud.host":1,"paas.beebyte.io":1,"sekd1.beebyteapp.io":1,"jele.io":1,"cloud-fr1.unispace.io":1,"jc.neen.it":1,"cloud.jelastic.open.tim.it":1,"jcloud.kz":1,"upaas.kazteleport.kz":1,"cloudjiffy.net":1,"fra1-de.cloudjiffy.net":1,"west1-us.cloudjiffy.net":1,"jls-sto1.elastx.net":1,"jls-sto2.elastx.net":1,"jls-sto3.elastx.net":1,"faststacks.net":1,"fr-1.paas.massivegrid.net":1,"lon-1.paas.massivegrid.net":1,"lon-2.paas.massivegrid.net":1,"ny-1.paas.massivegrid.net":1,"ny-2.paas.massivegrid.net":1,"sg-1.paas.massivegrid.net":1,"jelastic.saveincloud.net":1,"nordeste-idc.saveincloud.net":1,"j.scaleforce.net":1,"jelastic.tsukaeru.net":1,"sdscloud.pl":1,"unicloud.pl":1,"mircloud.ru":1,"jelastic.regruhosting.ru":1,"enscaled.sg":1,"jele.site":1,"jelastic.team":1,"orangecloud.tn":1,"j.layershift.co.uk":1,"phx.enscaled.us":1,"mircloud.us":1,"myjino.ru":1,"hosting.myjino.ru":2,"landing.myjino.ru":2,"spectrum.myjino.ru":2,"vps.myjino.ru":2,"jotelulu.cloud":1,"triton.zone":2,"cns.joyent.com":2,"js.org":1,"kaas.gg":1,"khplay.nl":1,"ktistory.com":1,"kapsi.fi":1,"keymachine.de":1,"kinghost.net":1,"uni5.net":1,"knightpoint.systems":1,"koobin.events":1,"oya.to":1,"kuleuven.cloud":1,"ezproxy.kuleuven.be":1,"co.krd":1,"edu.krd":1,"krellian.net":1,"webthings.io":1,"git-repos.de":1,"lcube-server.de":1,"svn-repos.de":1,"leadpages.co":1,"lpages.co":1,"lpusercontent.com":1,"lelux.site":1,"co.business":1,"co.education":1,"co.events":1,"co.financial":1,"co.network":1,"co.place":1,"co.technology":1,"app.lmpm.com":1,"linkyard.cloud":1,"linkyard-cloud.ch":1,"members.linode.com":1,"nodebalancer.linode.com":2,"linodeobjects.com":2,"ip.linodeusercontent.com":1,"we.bs":1,"user.localcert.dev":2,"localzone.xyz":1,"loginline.app":1,"loginline.dev":1,"loginline.io":1,"loginline.services":1,"loginline.site":1,"servers.run":1,"lohmus.me":1,"krasnik.pl":1,"leczna.pl":1,"lubartow.pl":1,"lublin.pl":1,"poniatowa.pl":1,"swidnik.pl":1,"glug.org.uk":1,"lug.org.uk":1,"lugs.org.uk":1,"barsy.bg":1,"barsy.co.uk":1,"barsyonline.co.uk":1,"barsycenter.com":1,"barsyonline.com":1,"barsy.club":1,"barsy.de":1,"barsy.eu":1,"barsy.in":1,"barsy.info":1,"barsy.io":1,"barsy.me":1,"barsy.menu":1,"barsy.mobi":1,"barsy.net":1,"barsy.online":1,"barsy.org":1,"barsy.pro":1,"barsy.pub":1,"barsy.ro":1,"barsy.shop":1,"barsy.site":1,"barsy.support":1,"barsy.uk":1,"magentosite.cloud":2,"mayfirst.info":1,"mayfirst.org":1,"hb.cldmail.ru":1,"cn.vu":1,"mazeplay.com":1,"mcpe.me":1,"mcdir.me":1,"mcdir.ru":1,"mcpre.ru":1,"vps.mcdir.ru":1,"mediatech.by":1,"mediatech.dev":1,"hra.health":1,"miniserver.com":1,"memset.net":1,"messerli.app":1,"cloud.metacentrum.cz":2,"custom.metacentrum.cz":1,"flt.cloud.muni.cz":1,"usr.cloud.muni.cz":1,"meteorapp.com":1,"eu.meteorapp.com":1,"co.pl":1,"azurecontainer.io":2,"azurewebsites.net":1,"azure-mobile.net":1,"cloudapp.net":1,"azurestaticapps.net":1,"1.azurestaticapps.net":1,"2.azurestaticapps.net":1,"3.azurestaticapps.net":1,"4.azurestaticapps.net":1,"5.azurestaticapps.net":1,"6.azurestaticapps.net":1,"7.azurestaticapps.net":1,"centralus.azurestaticapps.net":1,"eastasia.azurestaticapps.net":1,"eastus2.azurestaticapps.net":1,"westeurope.azurestaticapps.net":1,"westus2.azurestaticapps.net":1,"csx.cc":1,"mintere.site":1,"forte.id":1,"mozilla-iot.org":1,"bmoattachments.org":1,"net.ru":1,"org.ru":1,"pp.ru":1,"hostedpi.com":1,"customer.mythic-beasts.com":1,"caracal.mythic-beasts.com":1,"fentiger.mythic-beasts.com":1,"lynx.mythic-beasts.com":1,"ocelot.mythic-beasts.com":1,"oncilla.mythic-beasts.com":1,"onza.mythic-beasts.com":1,"sphinx.mythic-beasts.com":1,"vs.mythic-beasts.com":1,"x.mythic-beasts.com":1,"yali.mythic-beasts.com":1,"cust.retrosnub.co.uk":1,"ui.nabu.casa":1,"cloud.nospamproxy.com":1,"netlify.app":1,"4u.com":1,"ngrok.app":1,"ngrok-free.app":1,"ngrok.dev":1,"ngrok-free.dev":1,"ngrok.io":1,"ap.ngrok.io":1,"au.ngrok.io":1,"eu.ngrok.io":1,"in.ngrok.io":1,"jp.ngrok.io":1,"sa.ngrok.io":1,"us.ngrok.io":1,"ngrok.pizza":1,"torun.pl":1,"nh-serv.co.uk":1,"nfshost.com":1,"developer.app":2,"noop.app":1,"northflank.app":2,"build.run":2,"code.run":2,"database.run":2,"migration.run":2,"noticeable.news":1,"dnsking.ch":1,"mypi.co":1,"n4t.co":1,"001www.com":1,"ddnslive.com":1,"myiphost.com":1,"forumz.info":1,"16-b.it":1,"32-b.it":1,"64-b.it":1,"soundcast.me":1,"tcp4.me":1,"dnsup.net":1,"hicam.net":1,"now-dns.net":1,"ownip.net":1,"vpndns.net":1,"dynserv.org":1,"now-dns.org":1,"x443.pw":1,"now-dns.top":1,"ntdll.top":1,"freeddns.us":1,"crafting.xyz":1,"zapto.xyz":1,"nsupdate.info":1,"nerdpol.ovh":1,"blogsyte.com":1,"brasilia.me":1,"cable-modem.org":1,"ciscofreak.com":1,"collegefan.org":1,"couchpotatofries.org":1,"damnserver.com":1,"ddns.me":1,"ditchyourip.com":1,"dnsfor.me":1,"dnsiskinky.com":1,"dvrcam.info":1,"dynns.com":1,"eating-organic.net":1,"fantasyleague.cc":1,"geekgalaxy.com":1,"golffan.us":1,"health-carereform.com":1,"homesecuritymac.com":1,"homesecuritypc.com":1,"hopto.me":1,"ilovecollege.info":1,"loginto.me":1,"mlbfan.org":1,"mmafan.biz":1,"myactivedirectory.com":1,"mydissent.net":1,"myeffect.net":1,"mymediapc.net":1,"mypsx.net":1,"mysecuritycamera.com":1,"mysecuritycamera.net":1,"mysecuritycamera.org":1,"net-freaks.com":1,"nflfan.org":1,"nhlfan.net":1,"no-ip.ca":1,"no-ip.co.uk":1,"no-ip.net":1,"noip.us":1,"onthewifi.com":1,"pgafan.net":1,"point2this.com":1,"pointto.us":1,"privatizehealthinsurance.net":1,"quicksytes.com":1,"read-books.org":1,"securitytactics.com":1,"serveexchange.com":1,"servehumour.com":1,"servep2p.com":1,"servesarcasm.com":1,"stufftoread.com":1,"ufcfan.org":1,"unusualperson.com":1,"workisboring.com":1,"3utilities.com":1,"bounceme.net":1,"ddns.net":1,"ddnsking.com":1,"gotdns.ch":1,"hopto.org":1,"myftp.biz":1,"myftp.org":1,"myvnc.com":1,"no-ip.biz":1,"no-ip.info":1,"no-ip.org":1,"noip.me":1,"redirectme.net":1,"servebeer.com":1,"serveblog.net":1,"servecounterstrike.com":1,"serveftp.com":1,"servegame.com":1,"servehalflife.com":1,"servehttp.com":1,"serveirc.com":1,"serveminecraft.net":1,"servemp3.com":1,"servepics.com":1,"servequake.com":1,"sytes.net":1,"webhop.me":1,"zapto.org":1,"stage.nodeart.io":1,"pcloud.host":1,"nyc.mn":1,"static.observableusercontent.com":1,"cya.gg":1,"omg.lol":1,"cloudycluster.net":1,"omniwe.site":1,"123hjemmeside.dk":1,"123hjemmeside.no":1,"123homepage.it":1,"123kotisivu.fi":1,"123minsida.se":1,"123miweb.es":1,"123paginaweb.pt":1,"123sait.ru":1,"123siteweb.fr":1,"123webseite.at":1,"123webseite.de":1,"123website.be":1,"123website.ch":1,"123website.lu":1,"123website.nl":1,"service.one":1,"simplesite.com":1,"simplesite.com.br":1,"simplesite.gr":1,"simplesite.pl":1,"nid.io":1,"opensocial.site":1,"opencraft.hosting":1,"orsites.com":1,"operaunite.com":1,"tech.orange":1,"authgear-staging.com":1,"authgearapps.com":1,"skygearapp.com":1,"outsystemscloud.com":1,"webpaas.ovh.net":2,"hosting.ovh.net":2,"ownprovider.com":1,"own.pm":1,"owo.codes":2,"ox.rs":1,"oy.lc":1,"pgfog.com":1,"pagefrontapp.com":1,"pagexl.com":1,"paywhirl.com":2,"bar0.net":1,"bar1.net":1,"bar2.net":1,"rdv.to":1,"art.pl":1,"gliwice.pl":1,"krakow.pl":1,"poznan.pl":1,"wroc.pl":1,"zakopane.pl":1,"pantheonsite.io":1,"gotpantheon.com":1,"mypep.link":1,"perspecta.cloud":1,"lk3.ru":1,"on-web.fr":1,"bc.platform.sh":1,"ent.platform.sh":1,"eu.platform.sh":1,"us.platform.sh":1,"platformsh.site":2,"tst.site":2,"platter-app.com":1,"platter-app.dev":1,"platterp.us":1,"pdns.page":1,"plesk.page":1,"pleskns.com":1,"dyn53.io":1,"onporter.run":1,"co.bn":1,"postman-echo.com":1,"pstmn.io":1,"mock.pstmn.io":1,"httpbin.org":1,"prequalifyme.today":1,"xen.prgmr.com":1,"priv.at":1,"prvcy.page":1,"dweb.link":2,"protonet.io":1,"chirurgiens-dentistes-en-france.fr":1,"byen.site":1,"pubtls.org":1,"pythonanywhere.com":1,"eu.pythonanywhere.com":1,"qoto.io":1,"qualifioapp.com":1,"ladesk.com":1,"qbuser.com":1,"cloudsite.builders":1,"instances.spawn.cc":1,"instantcloud.cn":1,"ras.ru":1,"qa2.com":1,"qcx.io":1,"sys.qcx.io":2,"dev-myqnapcloud.com":1,"alpha-myqnapcloud.com":1,"myqnapcloud.com":1,"quipelements.com":2,"vapor.cloud":1,"vaporcloud.io":1,"rackmaze.com":1,"rackmaze.net":1,"g.vbrplsbx.io":1,"on-k3s.io":2,"on-rancher.cloud":2,"on-rio.io":2,"readthedocs.io":1,"rhcloud.com":1,"app.render.com":1,"onrender.com":1,"firewalledreplit.co":1,"id.firewalledreplit.co":1,"repl.co":1,"id.repl.co":1,"repl.run":1,"resindevice.io":1,"devices.resinstaging.io":1,"hzc.io":1,"wellbeingzone.eu":1,"wellbeingzone.co.uk":1,"adimo.co.uk":1,"itcouldbewor.se":1,"git-pages.rit.edu":1,"rocky.page":1,"xn--90amc.xn--p1acf":1,"xn--j1aef.xn--p1acf":1,"xn--j1ael8b.xn--p1acf":1,"xn--h1ahn.xn--p1acf":1,"xn--j1adp.xn--p1acf":1,"xn--c1avg.xn--p1acf":1,"xn--80aaa0cvac.xn--p1acf":1,"xn--h1aliz.xn--p1acf":1,"xn--90a1af.xn--p1acf":1,"xn--41a.xn--p1acf":1,"180r.com":1,"dojin.com":1,"sakuratan.com":1,"sakuraweb.com":1,"x0.com":1,"2-d.jp":1,"bona.jp":1,"crap.jp":1,"daynight.jp":1,"eek.jp":1,"flop.jp":1,"halfmoon.jp":1,"jeez.jp":1,"matrix.jp":1,"mimoza.jp":1,"ivory.ne.jp":1,"mail-box.ne.jp":1,"mints.ne.jp":1,"mokuren.ne.jp":1,"opal.ne.jp":1,"sakura.ne.jp":1,"sumomo.ne.jp":1,"topaz.ne.jp":1,"netgamers.jp":1,"nyanta.jp":1,"o0o0.jp":1,"rdy.jp":1,"rgr.jp":1,"rulez.jp":1,"s3.isk01.sakurastorage.jp":1,"s3.isk02.sakurastorage.jp":1,"saloon.jp":1,"sblo.jp":1,"skr.jp":1,"tank.jp":1,"uh-oh.jp":1,"undo.jp":1,"rs.webaccel.jp":1,"user.webaccel.jp":1,"websozai.jp":1,"xii.jp":1,"squares.net":1,"jpn.org":1,"kirara.st":1,"x0.to":1,"from.tv":1,"sakura.tv":1,"builder.code.com":2,"dev-builder.code.com":2,"stg-builder.code.com":2,"sandcats.io":1,"logoip.de":1,"logoip.com":1,"fr-par-1.baremetal.scw.cloud":1,"fr-par-2.baremetal.scw.cloud":1,"nl-ams-1.baremetal.scw.cloud":1,"fnc.fr-par.scw.cloud":1,"functions.fnc.fr-par.scw.cloud":1,"k8s.fr-par.scw.cloud":1,"nodes.k8s.fr-par.scw.cloud":1,"s3.fr-par.scw.cloud":1,"s3-website.fr-par.scw.cloud":1,"whm.fr-par.scw.cloud":1,"priv.instances.scw.cloud":1,"pub.instances.scw.cloud":1,"k8s.scw.cloud":1,"k8s.nl-ams.scw.cloud":1,"nodes.k8s.nl-ams.scw.cloud":1,"s3.nl-ams.scw.cloud":1,"s3-website.nl-ams.scw.cloud":1,"whm.nl-ams.scw.cloud":1,"k8s.pl-waw.scw.cloud":1,"nodes.k8s.pl-waw.scw.cloud":1,"s3.pl-waw.scw.cloud":1,"s3-website.pl-waw.scw.cloud":1,"scalebook.scw.cloud":1,"smartlabeling.scw.cloud":1,"dedibox.fr":1,"schokokeks.net":1,"gov.scot":1,"service.gov.scot":1,"scrysec.com":1,"firewall-gateway.com":1,"firewall-gateway.de":1,"my-gateway.de":1,"my-router.de":1,"spdns.de":1,"spdns.eu":1,"firewall-gateway.net":1,"my-firewall.org":1,"myfirewall.org":1,"spdns.org":1,"seidat.net":1,"sellfy.store":1,"senseering.net":1,"minisite.ms":1,"magnet.page":1,"biz.ua":1,"co.ua":1,"pp.ua":1,"shiftcrypto.dev":1,"shiftcrypto.io":1,"shiftedit.io":1,"myshopblocks.com":1,"myshopify.com":1,"shopitsite.com":1,"shopware.store":1,"mo-siemens.io":1,"1kapp.com":1,"appchizi.com":1,"applinzi.com":1,"sinaapp.com":1,"vipsinaapp.com":1,"siteleaf.net":1,"bounty-full.com":1,"alpha.bounty-full.com":1,"beta.bounty-full.com":1,"aeroport.fr":1,"avocat.fr":1,"chambagri.fr":1,"chirurgiens-dentistes.fr":1,"experts-comptables.fr":1,"medecin.fr":1,"notaires.fr":1,"pharmacien.fr":1,"port.fr":1,"veterinaire.fr":1,"small-web.org":1,"vp4.me":1,"snowflake.app":1,"privatelink.snowflake.app":1,"streamlit.app":1,"streamlitapp.com":1,"try-snowplow.com":1,"srht.site":1,"stackhero-network.com":1,"musician.io":1,"novecore.site":1,"static.land":1,"dev.static.land":1,"sites.static.land":1,"storebase.store":1,"vps-host.net":1,"atl.jelastic.vps-host.net":1,"njs.jelastic.vps-host.net":1,"ric.jelastic.vps-host.net":1,"playstation-cloud.com":1,"apps.lair.io":1,"stolos.io":2,"spacekit.io":1,"customer.speedpartner.de":1,"myspreadshop.at":1,"myspreadshop.com.au":1,"myspreadshop.be":1,"myspreadshop.ca":1,"myspreadshop.ch":1,"myspreadshop.com":1,"myspreadshop.de":1,"myspreadshop.dk":1,"myspreadshop.es":1,"myspreadshop.fi":1,"myspreadshop.fr":1,"myspreadshop.ie":1,"myspreadshop.it":1,"myspreadshop.net":1,"myspreadshop.nl":1,"myspreadshop.no":1,"myspreadshop.pl":1,"myspreadshop.se":1,"myspreadshop.co.uk":1,"api.stdlib.com":1,"storipress.app":1,"storj.farm":1,"utwente.io":1,"soc.srcf.net":1,"user.srcf.net":1,"temp-dns.com":1,"supabase.co":1,"supabase.in":1,"supabase.net":1,"su.paba.se":1,"s5y.io":2,"sensiosite.cloud":2,"syncloud.it":1,"dscloud.biz":1,"direct.quickconnect.cn":1,"dsmynas.com":1,"familyds.com":1,"diskstation.me":1,"dscloud.me":1,"i234.me":1,"myds.me":1,"synology.me":1,"dscloud.mobi":1,"dsmynas.net":1,"familyds.net":1,"dsmynas.org":1,"familyds.org":1,"vpnplus.to":1,"direct.quickconnect.to":1,"tabitorder.co.il":1,"mytabit.co.il":1,"mytabit.com":1,"taifun-dns.de":1,"beta.tailscale.net":1,"ts.net":1,"gda.pl":1,"gdansk.pl":1,"gdynia.pl":1,"med.pl":1,"sopot.pl":1,"site.tb-hosting.com":1,"edugit.io":1,"s3.teckids.org":1,"telebit.app":1,"telebit.io":1,"telebit.xyz":2,"firenet.ch":2,"svc.firenet.ch":2,"reservd.com":1,"thingdustdata.com":1,"cust.dev.thingdust.io":1,"cust.disrec.thingdust.io":1,"cust.prod.thingdust.io":1,"cust.testing.thingdust.io":1,"reservd.dev.thingdust.io":1,"reservd.disrec.thingdust.io":1,"reservd.testing.thingdust.io":1,"tickets.io":1,"arvo.network":1,"azimuth.network":1,"tlon.network":1,"torproject.net":1,"pages.torproject.net":1,"bloxcms.com":1,"townnews-staging.com":1,"12hp.at":1,"2ix.at":1,"4lima.at":1,"lima-city.at":1,"12hp.ch":1,"2ix.ch":1,"4lima.ch":1,"lima-city.ch":1,"trafficplex.cloud":1,"de.cool":1,"12hp.de":1,"2ix.de":1,"4lima.de":1,"lima-city.de":1,"1337.pictures":1,"clan.rip":1,"lima-city.rocks":1,"webspace.rocks":1,"lima.zone":1,"transurl.be":2,"transurl.eu":2,"transurl.nl":2,"site.transip.me":1,"tuxfamily.org":1,"dd-dns.de":1,"diskstation.eu":1,"diskstation.org":1,"dray-dns.de":1,"draydns.de":1,"dyn-vpn.de":1,"dynvpn.de":1,"mein-vigor.de":1,"my-vigor.de":1,"my-wan.de":1,"syno-ds.de":1,"synology-diskstation.de":1,"synology-ds.de":1,"typedream.app":1,"pro.typeform.com":1,"uber.space":1,"uberspace.de":2,"hk.com":1,"hk.org":1,"ltd.hk":1,"inc.hk":1,"it.com":1,"name.pm":1,"sch.tf":1,"biz.wf":1,"sch.wf":1,"org.yt":1,"virtualuser.de":1,"virtual-user.de":1,"upli.io":1,"urown.cloud":1,"dnsupdate.info":1,"lib.de.us":1,"2038.io":1,"vercel.app":1,"vercel.dev":1,"now.sh":1,"router.management":1,"v-info.info":1,"voorloper.cloud":1,"neko.am":1,"nyaa.am":1,"be.ax":1,"cat.ax":1,"es.ax":1,"eu.ax":1,"gg.ax":1,"mc.ax":1,"us.ax":1,"xy.ax":1,"nl.ci":1,"xx.gl":1,"app.gp":1,"blog.gt":1,"de.gt":1,"to.gt":1,"be.gy":1,"cc.hn":1,"blog.kg":1,"io.kg":1,"jp.kg":1,"tv.kg":1,"uk.kg":1,"us.kg":1,"de.ls":1,"at.md":1,"de.md":1,"jp.md":1,"to.md":1,"indie.porn":1,"vxl.sh":1,"ch.tc":1,"me.tc":1,"we.tc":1,"nyan.to":1,"at.vg":1,"blog.vu":1,"dev.vu":1,"me.vu":1,"v.ua":1,"vultrobjects.com":2,"wafflecell.com":1,"webhare.dev":2,"reserve-online.net":1,"reserve-online.com":1,"bookonline.app":1,"hotelwithflight.com":1,"wedeploy.io":1,"wedeploy.me":1,"wedeploy.sh":1,"remotewd.com":1,"pages.wiardweb.com":1,"wmflabs.org":1,"toolforge.org":1,"wmcloud.org":1,"panel.gg":1,"daemon.panel.gg":1,"messwithdns.com":1,"woltlab-demo.com":1,"myforum.community":1,"community-pro.de":1,"diskussionsbereich.de":1,"community-pro.net":1,"meinforum.net":1,"affinitylottery.org.uk":1,"raffleentry.org.uk":1,"weeklylottery.org.uk":1,"wpenginepowered.com":1,"js.wpenginepowered.com":1,"wixsite.com":1,"editorx.io":1,"wixstudio.io":1,"wix.run":1,"half.host":1,"xnbay.com":1,"u2.xnbay.com":1,"u2-local.xnbay.com":1,"cistron.nl":1,"demon.nl":1,"xs4all.space":1,"yandexcloud.net":1,"storage.yandexcloud.net":1,"website.yandexcloud.net":1,"official.academy":1,"yolasite.com":1,"ybo.faith":1,"yombo.me":1,"homelink.one":1,"ybo.party":1,"ybo.review":1,"ybo.science":1,"ybo.trade":1,"ynh.fr":1,"nohost.me":1,"noho.st":1,"za.net":1,"za.org":1,"bss.design":1,"basicserver.io":1,"virtualserver.io":1,"enterprisecloud.nu":1}},"./adblockpluscore/data/resources.js":(f,d)=>{d.resources={"blank-text":"data:text/plain,","blank-css":"data:text/css,","blank-js":"data:application/javascript,","blank-html":"data:text/html,<!DOCTYPE html><html><head></head><body></body></html>","blank-mp3":"data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjIwLjEwMAAAAAAAAAAAAAAA//tUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAGAAADAABgYGBgYGBgYGBgYGBgYGBggICAgICAgICAgICAgICAgICgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4P////////////////////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAYAAAAAAAAAAwDVxttG//sUZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZB4P8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZDwP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZFoP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZHgP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sUZJYP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","blank-mp4":"data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAuJtZGF0AAACrwYF//+r3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MCByMzAxMU0gY2RlOWE5MyAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjAgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MCB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0yIGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAACNliIQAK//+9dvzLK5umjbe9jc2CT9EPcfnoOYC2tjtP+go4QAAAwRtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAKAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACLnRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAZAAAADgAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAACgAAAAAAAEAAAAAAaZtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAADIAAAACAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAFRbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABEXN0YmwAAACtc3RzZAAAAAAAAAABAAAAnWF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAZAA4AEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAA3YXZjQwFkAAr/4QAaZ2QACvNlHJ42JwEQAAADABAAAAMDIPEiWWABAAZo6+PLIsD8+PgAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAABAAACAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAALaAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAwAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1OC40NS4xMDA=","1x1-transparent-gif":"data:image/gif;base64,R0lGODlhAQABAIABAAAAAP///yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==","2x2-transparent-png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAC0lEQVQI12NgQAcAABIAAe+JVKQAAAAASUVORK5CYII=","3x2-transparent-png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAC0lEQVQI12NgwAUAABoAASRETuUAAAAASUVORK5CYII=","32x32-transparent-png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGklEQVRYw+3BAQEAAACCIP+vbkhAAQAAAO8GECAAAZf3V9cAAAAASUVORK5CYII="}},"./adblockpluscore/lib/analytics.js":(f,d,c)=>{const{Prefs:h}=c("./src/background/prefs.js"),{MILLIS_IN_DAY:y}=c("./adblockpluscore/lib/time.js");function w(T){if(T=="0")return new Date(0);let I=T.substring(0,4),j=T.substring(4,6),V=T.substring(6,8),C=T.substring(8,10)||"00",q=T.substring(10,12)||"00";return new Date(`${I}-${j}-${V}T${C}:${q}Z`)}function k(T,I){let j=T.endsWith("-E");j&&(T=T.slice(0,-2));try{let V=w(T),C=w(I);C-V>365*y?T=T.substring(0,4):C-V>30*y?T=T.substring(0,6):T=T.substring(0,8)}catch{return null}return j&&(T+="-E"),T}function A(){return!("data"in h.notificationdata)}class S{constructor(){}isTrusted(I){let{trustedHosts:j}=h.analytics||{};if(Array.isArray(j))try{return j.includes(new URL(I).host)}catch{}return!1}getFirstVersion(){let{analytics:I}=h;if(I){let{firstVersion:j="0",currentVersion:V="0"}=I.data||{},C=k(j,V);if(C)return C=="0"&&!A()&&(C="0-E"),C}return null}recordVersion(I){if(!/^(\d{8}|\d{10}|\d{12})$/.test(I))return;let{analytics:j}=h;if(j){j.data||(j.data={});let{data:V}=j;V.currentVersion=I,typeof V.firstVersion>"u"&&(A()||(I+="-E"),V.firstVersion=I),h.analytics=JSON.parse(JSON.stringify(j))}}}d.analytics=new S},"./adblockpluscore/lib/caching.js":(f,d)=>{d.Cache=class extends Map{constructor(h){if(!(h>=1))throw new Error("capacity must be a positive number.");super(),this._capacity=h}set(h,y){if(typeof h>"u")throw new Error("key must not be undefined.");if(typeof y>"u")throw new Error("value must not be undefined.");this.size==this._capacity&&!this.has(h)&&this.clear(),super.set(h,y)}}},"./adblockpluscore/lib/contentTypes.js":(f,d)=>{let c=d.contentTypes={OTHER:1,SCRIPT:2,IMAGE:4,STYLESHEET:8,OBJECT:16,SUBDOCUMENT:32,WEBSOCKET:128,WEBRTC:256,WEBBUNDLE:512,PING:1024,XMLHTTPREQUEST:2048,MEDIA:16384,FONT:32768,POPUP:16777216,CSP:33554432,HEADER:67108864,DOCUMENT:134217728,GENERICBLOCK:268435456,ELEMHIDE:536870912,GENERICHIDE:1073741824};c.BACKGROUND=c.IMAGE,c.XBL=c.OTHER,c.DTD=c.OTHER;const y=~(d.RESOURCE_TYPES=(1<<24)-1)&(1<<31)-1;d.SPECIAL_TYPES=y;const w=c.HEADER|c.CSP;d.CONTEXT_TYPES=w,d.ALLOWING_TYPES=c.DOCUMENT|c.GENERICBLOCK|c.ELEMHIDE|c.GENERICHIDE,d.enumerateTypes=function*(A,S=-1){for(let T=A&S,I=0;T!=0;T>>>=1,I++)T&1&&(yield 1<<I>>>0)}},"./adblockpluscore/lib/dnr/index.js":(f,d,c)=>{const{Pattern:h}=c("./adblockpluscore/lib/patterns.js"),{parseDomains:y,hasWildcard:w}=c("./adblockpluscore/lib/url.js"),{contentTypes:k,RESOURCE_TYPES:A}=c("./adblockpluscore/lib/contentTypes.js"),{generateCSPRules:S,generateAllowingRules:T,generateRedirectRules:I,generateBlockingRules:j,validateRule:V}=c("./adblockpluscore/lib/dnr/rules.js"),{parse:C,FilterParsingError:q}=c("./adblockpluscore/lib/filters/index.js");d.createConverter=G=>L.bind({...G,isRegexSupported:G.isRegexSupported||(()=>!1),modifyRule:G.modifyRule||((F,O)=>F)});async function L(G){const F=C(G);return F instanceof q?F:await R.call(this,F)}async function R(G){let{blocking:F,text:O,regexpSource:N,contentType:E,matchCase:B,domains:M,thirdParty:P,sitekeys:$,header:ee,rewrite:K,csp:X}=G;if($||ee)return new q("filter_unknown_option",{option:$?"sitekey":"header",text:O});try{const Y=new h(N,B);let{pattern:Q}=Y,te=!0,ge;if(B=Y.matchCase,Q){let oe=/^(\|\||[a-zA-Z]*:\/\/)([^*^?/|]*)(.*)$/.exec(Q);oe&&(ge=oe[2].toLowerCase(),Q=oe[1]+ge+oe[3]),Q.startsWith("||*")&&(Q=Q.substr(2))}else Y.regexp&&(te=await this.isRegexSupported({regex:Y.regexp.source,isCaseSensitive:B}));if(!te)return new q("filter_invalid_regexp",{regexp:Y.regexp.source,text:O});const re={blocking:F,regexp:Y.regexp,contentType:E||A,thirdParty:P,rewrite:K,csp:X,domains:M===null?null:y(M.toLowerCase(),"|")};if(re.domains){for(let oe of re.domains.keys())if(w(oe))return[]}let _e;E&k.CSP?_e=S(re,Q,B):F?K?_e=I(re,Q,B):_e=j(re,Q,B):_e=T(re,Q,B);let $e={text:G.text};return _e.map(oe=>this.modifyRule(oe,$e)).map(V)}catch{return new q("filter_invalid_regexp",{regexp:N,text:O})}}d.asDNR=R},"./adblockpluscore/lib/dnr/mapper.js":(f,d)=>{d.DnrMapper=class{constructor(h){this.loader=h,this.map=null}async _loadMapper(){this.map=new Map(await this.loader())}async load(){this.map===null&&await this._loadMapper()}get(h){if(this.map===null)throw new Error("Mapper not loaded.");return this.map.get(h)}}},"./adblockpluscore/lib/dnr/rules.js":(f,d,c)=>{const{contentTypes:h}=c("./adblockpluscore/lib/contentTypes.js"),{resources:y}=c("./adblockpluscore/data/resources.js"),w=1e3;d.GENERIC_PRIORITY=w;const k=1001;d.GENERIC_ALLOW_ALL_PRIORITY=k;const A=2e3;d.SPECIFIC_PRIORITY=A;const S=2001;d.SPECIFIC_ALLOW_ALL_PRIORITY=S;const T=new Map([[h.OTHER,["other","csp_report"]],[h.SCRIPT,["script"]],[h.IMAGE,["image"]],[h.STYLESHEET,["stylesheet"]],[h.OBJECT,["object"]],[h.SUBDOCUMENT,["sub_frame"]],[h.WEBSOCKET,["websocket"]],[h.WEBBUNDLE,["webbundle"]],[h.PING,["ping"]],[h.XMLHTTPREQUEST,["xmlhttprequest"]],[h.MEDIA,["media"]],[h.FONT,["font"]]]);d.requestTypes=T;const I=Array.from(T.keys()).reduce((G,F)=>G|F);d.supportedRequestTypes=I;function j(G){if((G&I)==I)return;let F=[];for(let[O,N]of T)G&O&&(F=F.concat(N));return F}function V(G){let F=[],O=[],N=!0;if(G)for(let[E,B]of G)E==""?N=B:(B?F:O).push(E);return{domains:F,excludedDomains:O,isGenericFilter:N}}function C(G,F,O,N){let E={};F?E.urlFilter=F:G.regexp&&(E.regexFilter=G.regexp.source),N&&(E.isUrlFilterCaseSensitive=N),G.thirdParty!=null&&(E.domainType=G.thirdParty?"thirdParty":"firstParty");let{domains:B,excludedDomains:M,isGenericFilter:P}=V(G.domains),$=[];if(O&&(B.length||M.length)){let ee=O.filter(X=>X=="main_frame"),K=O.filter(X=>X!="main_frame");if(ee.length){let X={resourceTypes:ee,...E};B.length&&(X.requestDomains=B),M.length&&(X.excludedRequestDomains=M),$.push(X)}if(K.length){let X={resourceTypes:K,...E};B.length&&(X.initiatorDomains=B),M.length&&(X.excludedInitiatorDomains=M),$.push(X)}}else{let ee={...E};O&&(ee.resourceTypes=O),B.length&&(ee.initiatorDomains=B),M.length&&(ee.excludedInitiatorDomains=M),$.push(ee)}return{conditions:$,isGenericFilter:P}}d.generateRedirectRules=function(G,F,O){let N=y[G.rewrite];if(!N)return[];let E=j(G.contentType);if(E&&E.length==0)return[];let{conditions:B,isGenericFilter:M}=C(G,F,E,O);return B.map(P=>({priority:M?w:A,condition:P,action:{type:"redirect",redirect:{url:N}}}))},d.generateCSPRules=function(G,F,O){let{conditions:N,isGenericFilter:E}=C(G,F,["main_frame","sub_frame"],O),B;return G.blocking?B=N.map(M=>({action:{type:"modifyHeaders",responseHeaders:[{header:"Content-Security-Policy",operation:"append",value:G.csp}]},condition:M,priority:E?w:A})):B=N.map(M=>({action:{type:"allow"},condition:M,priority:G.contentType&h.GENERICBLOCK?w:A})),B},d.generateBlockingRules=function(G,F,O){let N=j(G.contentType);if(N&&N.length==0)return[];let{conditions:E,isGenericFilter:B}=C(G,F,N,O);return E.map(M=>({priority:B?w:A,condition:M,action:{type:"block"}}))},d.generateAllowingRules=function(G,F,O){let N=[],{contentType:E}=G,B=E&h.GENERICBLOCK;if(E&h.DOCUMENT||B){E&=~h.SUBDOCUMENT;let{conditions:P}=C(G,F,["main_frame","sub_frame"],O);for(let $ of P)N.push({priority:B?k:S,condition:$,action:{type:"allowAllRequests"}})}let M=j(E);if(!M||M.length){let{conditions:P}=C(G,F,M,O);for(let $ of P)N.push({priority:B?w:A,condition:$,action:{type:"allow"}})}return N};function q(G){if(!/^[\x00-\x7F]*$/.test(G))throw new Error(`Invalid ASCII characters found in: "${G}"`)}d.validateIsAsciiOnly=q;function L(G){if(G)for(let F of G)q(F)}function R(G){G.urlFilter&&q(G.urlFilter),G.regexFilter&&q(G.regexFilter),L(G.initiatorDomains),L(G.requestDomains),L(G.domains),L(G.excludedDomains),L(G.excludedInitiatorDomains),L(G.excludedRequestDomains)}d.validateRule=function(G){try{return R(G.condition),G}catch(F){return F}}},"./adblockpluscore/lib/downloader.js":(f,d,c)=>{const{MILLIS_IN_DAY:h}=c("./adblockpluscore/lib/time.js"),{isLocalhost:y}=c("./adblockpluscore/lib/url.js");d.Downloader=class Ev{constructor(k){this.maxAbsenceInterval=1*h,this.minRetryInterval=1*h,this.maxExpirationInterval=14*h,this.maxRedirects=5,this.onExpirationChange=null,this.onDownloadStarted=null,this.onDownloadSuccess=null,this.onDownloadError=null,this.dataSource=k,this._downloading=new Set,this._timeout=0}scheduleChecks(k,A){this.unscheduleChecks();let S=()=>{try{this._doCheck()}finally{this._timeout=setTimeout(S,k)}};this._timeout=setTimeout(S,A)}unscheduleChecks(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0)}_doCheck(){let k=Date.now();for(let A of this.dataSource())A.lastCheck&&k-A.lastCheck>this.maxAbsenceInterval&&(A.softExpiration+=k-A.lastCheck),A.lastCheck=k,A.hardExpiration-k>this.maxExpirationInterval&&(A.hardExpiration=k+this.maxExpirationInterval),A.softExpiration-k>this.maxExpirationInterval&&(A.softExpiration=k+this.maxExpirationInterval),this.onExpirationChange&&this.onExpirationChange(A),!(A.softExpiration>k&&A.hardExpiration>k)&&(A.lastError&&k-A.lastError<this.minRetryInterval||this._download(A,0))}isDownloading(k){return this._downloading.has(k)}download(k){this._download(k,0)}getDownloadUrl(k){const{addonName:A,addonVersion:S,application:T,applicationVersion:I,platform:j,platformVersion:V,manifestVersion:C}=c("./src/background/info.js");let q=k.redirectURL||k.url;q.includes("?")?q+="&":q+="?";let{downloadCount:L,disabled:R}=k;return L>4&&(L="4+"),typeof R>"u"&&(R=!1),q+="addonName="+encodeURIComponent(A)+"&addonVersion="+encodeURIComponent(S)+"&application="+encodeURIComponent(T)+"&applicationVersion="+encodeURIComponent(I)+"&platform="+encodeURIComponent(j)+"&platformVersion="+encodeURIComponent(V)+"&lastVersion="+encodeURIComponent(k.lastVersion)+"&downloadCount="+encodeURIComponent(L)+"&disabled="+String(R)+"&manifestVersion="+encodeURIComponent(C),k.firstVersion&&!k.redirectURL&&(q+="&firstVersion="+encodeURIComponent(k.firstVersion)),q}_download(k,A){if(this.isDownloading(k.originalUrl||k.url))return;let S=this.getDownloadUrl(k),T=0,I=L=>{if(console.warn("Adblock Plus: Downloading URL "+k.url+" failed ("+L+`)
Download address: `+S+`
Server response: `+T),this.onDownloadError){let R=null;A<=this.maxRedirects&&(R=G=>{k.redirectURL=G,this._download(k,A+1)}),this.onDownloadError(k,S,L,T,R)}};if(!Ev.isValidURL(S)){I("synchronize_invalid_url");return}let j=new URL(S),V={cache:"no-store",credentials:"omit",referrer:"no-referrer",method:k.method},C=()=>{this._downloading.delete(k.originalUrl||k.url),I("synchronize_connection_error")},q=L=>{if(this._downloading.delete(k.originalUrl||k.url),typeof L.url=="string"&&j.protocol=="https:"&&new URL(L.url).protocol!=j.protocol){I("synchronize_connection_error");return}if(T=L.status,T!=200){(function(G){let F=new Date(G),N=new Date-F;const E=6*7*24*60*60*1e3;return N>E})(k.lastModified)?I("synchronize_diff_too_old"):I("synchronize_connection_error");return}if(k.method==="HEAD"||k.originalUrl){let R=L.headers.get("Date")||L.headers.get("date");R&&(k.lastVersion=new Date(R).toISOString().replace(/\D/g,"").slice(0,12))}k.disabled||k.downloadCount++,L.text().then(R=>{this.onDownloadSuccess(k,R,I,G=>{if(A>=this.maxRedirects){I("synchronize_connection_error");return}k.redirectURL=G,this._download(k,A+1)})},()=>{I("synchronize_connection_error")})};fetch(j.href,V).then(q,C),this._downloading.add(k.originalUrl||k.url),this.onDownloadStarted&&this.onDownloadStarted(k)}processExpirationInterval(k){k=Math.min(Math.max(k,0),this.maxExpirationInterval);let A=Math.round(k*(Math.random()*.4+.8)),S=k*2,T=Date.now();return[T+A,T+S]}},d.Downloader.isValidURL=function(k){try{k=new URL(k)}catch{return!1}return!(!["https:","data:"].includes(k.protocol)&&!y(k.hostname))},d.Downloadable=class{constructor(k){this.redirectURL=null,this.lastError=0,this.lastCheck=0,this.lastVersion=0,this.firstVersion=null,this.softExpiration=0,this.hardExpiration=0,this.downloadCount=0,this.method="GET",this.url=k,this.originalUrl=null}}},"./adblockpluscore/lib/elemHide.js":(f,d,c)=>{const{domainSuffixes:h,hasWildcard:y,matchesWildcards:w}=c("./adblockpluscore/lib/url.js"),{FiltersByDomain:k,FilterMap:A}=c("./adblockpluscore/lib/filtersByDomain.js"),{Cache:S}=c("./adblockpluscore/lib/caching.js"),{ElemHideExceptions:T}=c("./adblockpluscore/lib/elemHideExceptions.js");class I{constructor(L){if(!(L instanceof T))throw new Error("elemHideExceptions must be an ElemHideExceptions");this.elemHideExceptions=L,this._filtersByDomain=new k,this._filterBySelector=new Map,this._unconditionalSelectors=null,this._defaultStyleSheet=null,this._commonStyleSheet=null,this._styleSheetCache=new S(100),this._filters=new Set,this._exceptionDomains=new Set,this._exceptionDomainsWithWildcards=new Set,this.elemHideExceptions.on("added",this._onExceptionAdded.bind(this))}clear(){this._commonStyleSheet=null;for(let L of[this._styleSheetCache,this._filtersByDomain,this._filterBySelector,this._filters,this._exceptionDomains,this._exceptionDomainsWithWildcards])L.clear();this._unconditionalSelectors=null,this._defaultStyleSheet=null}add(L){if(this._filters.has(L))return;this._styleSheetCache.clear(),this._commonStyleSheet=null;let{domains:R,selector:G}=L;R||this.elemHideExceptions.hasExceptions(G)?this._filtersByDomain.add(L,R):(this._filterBySelector.set(G,L),this._unconditionalSelectors=null,this._defaultStyleSheet=null),this._filters.add(L)}remove(L){if(!this._filters.has(L))return;this._styleSheetCache.clear(),this._commonStyleSheet=null;let{selector:R}=L;this._filterBySelector.get(R)==L?(this._filterBySelector.delete(R),this._unconditionalSelectors=null,this._defaultStyleSheet=null):this._filtersByDomain.remove(L),this._filters.delete(L)}has(L){return this._filters.has(L)}getStyleSheet(L,R=!1,G=!1){let F=null,O=null,N=null;if(R){if(G){let E=this._getConditionalSelectorsWithExceptions(L,!0);O=E.selectors,N=E.exceptions}else O=this._getConditionalSelectors(L,!0);F=C(O)}else{let E=this._getKnownSuffix(L),B=this._getConditionalSelectorsWithExceptions(E,!1);O=B.selectors,N=B.exceptions,F=E==""?this._getCommonStyleSheet():this._getDefaultStyleSheet()+C(O),O=this._getUnconditionalSelectors().concat(O)}return{code:F,selectors:O,exceptions:G?N:null}}_getKnownSuffix(L){for(let R of h(L)){if(this._filtersByDomain.has(R)||this._exceptionDomains.has(R))return R;for(let G of this._exceptionDomainsWithWildcards)if(w(R,G))return R}return""}_getUnconditionalSelectors(){return this._unconditionalSelectors||(this._unconditionalSelectors=[...this._filterBySelector.keys()]),this._unconditionalSelectors}_getConditionalSelectors(L,R){let G=[],F=new Set;for(let O of h(L,!R)){let N=this._filtersByDomain.get(O);if(N)for(let[E,B]of N instanceof A?N.entries():[[N,!0]])if(!B)F.add(E);else{let{selector:M}=E;(F.size==0||!F.has(E))&&!this.elemHideExceptions.getException(M,L)&&G.push(M)}}return G}_getConditionalSelectorsWithExceptions(L,R){let G=[],F=[],O=new Set;for(let N of h(L,!R)){let E=this._filtersByDomain.get(N);if(E){for(let[B,M]of E instanceof A?E.entries():[[E,!0]])if(!M)O.add(B);else if(O.size==0||!O.has(B)){let{selector:P}=B,$=this.elemHideExceptions.getException(P,L);$?F.push($):G.push(P)}}}return{selectors:G,exceptions:F}}_getDefaultStyleSheet(){return this._defaultStyleSheet||(this._defaultStyleSheet=C(this._getUnconditionalSelectors())),this._defaultStyleSheet}_getCommonStyleSheet(){return this._commonStyleSheet||(this._commonStyleSheet=this._getDefaultStyleSheet()+C(this._getConditionalSelectors("",!1))),this._commonStyleSheet}_getDomainSpecificStyleSheet(L){let R=this._styleSheetCache.get(L);return typeof R>"u"&&(R=C(this._getConditionalSelectors(L,!1)),this._styleSheetCache.set(L,R)),R}_onExceptionAdded(L){let{domains:R,selector:G}=L;if(this._styleSheetCache.clear(),this._commonStyleSheet=null,R)for(let O of R.keys())O!=""&&(y(O)?this._exceptionDomainsWithWildcards.add(O):this._exceptionDomains.add(O));let F=this._filterBySelector.get(G);F&&(this._filtersByDomain.add(F),this._filterBySelector.delete(G),this._unconditionalSelectors=null,this._defaultStyleSheet=null)}}d.ElemHide=I,d.rulesFromStyleSheet=function*(L){let R=0;for(;R<L.length;){let G=L.indexOf(`
`,R);yield L.substring(R,G),R=G+1}};function j(q){return q.replace(/[{}]/g,L=>`\\${L.charCodeAt().toString(16)} `)}function V(q,L="{display: none !important;}"){return`${j(q)} ${L}
`}let C=d.createStyleSheet=function(L,R){let G="";for(let F of L)G+=V(F,R);return G}},"./adblockpluscore/lib/elemHideEmulation.js":(f,d,c)=>{const{ElemHideExceptions:h}=c("./adblockpluscore/lib/elemHideExceptions.js");class y extends Set{constructor(k){if(super(),!(k instanceof h))throw new Error("elemHideExceptions must be an ElemHideExceptions");this.elemHideExceptions=k}remove(k){this.delete(k)}getFilters(k){let A=[];for(let S of this)S.isActiveOnDomain(k)&&!this.elemHideExceptions.getException(S.selector,k)&&A.push(S);return A}getRulesForDomain(k){return this.getFilters(k)}}d.ElemHideEmulation=y},"./adblockpluscore/lib/elemHideExceptions.js":(f,d,c)=>{const{EventEmitter:h}=c("./adblockpluscore/lib/events.js");class y extends h{constructor(){super(),this._exceptionsBySelector=new Map,this._exceptions=new Set}clear(){this._exceptionsBySelector.clear(),this._exceptions.clear()}add(k){if(this._exceptions.has(k))return;let{selector:A}=k,S=this._exceptionsBySelector.get(A);S?S.add(k):this._exceptionsBySelector.set(A,new Set([k])),this._exceptions.add(k),this.emit("added",k)}remove(k){if(!this._exceptions.has(k))return;let{selector:A}=k,S=this._exceptionsBySelector.get(A);S.delete(k),S.size==0&&this._exceptionsBySelector.delete(A),this._exceptions.delete(k),this.emit("removed",k)}has(k){return this._exceptions.has(k)}hasExceptions(k){return this._exceptionsBySelector.has(k)}getException(k,A){let S=this._exceptionsBySelector.get(k);if(S){for(let T of S)if(T.isActiveOnDomain(A))return T}return null}}d.ElemHideExceptions=y},"./adblockpluscore/lib/events.js":(f,d)=>{d.EventEmitter=class{constructor(){this._listeners=new Map}on(h,y){let w=this._listeners.get(h);w?w.push(y):this._listeners.set(h,[y])}off(h,y){let w=this._listeners.get(h);if(w)if(w.length>1){let k=w.indexOf(y);k!=-1&&w.splice(k,1)}else w[0]===y&&this._listeners.delete(h)}listeners(h){let y=this._listeners.size>0?this._listeners.get(h):null;return y?y.slice():[]}hasListeners(h){return this._listeners.size>0&&(typeof h>"u"||this._listeners.has(h))}emit(h,...y){let w=this._listeners.size>0?this._listeners.get(h):null;if(w)for(let k of w.slice())k(...y)}}},"./adblockpluscore/lib/features.js":(f,d)=>{d.Features={DEFAULT:0,DNR:1};let c={};(d.resetFeatureFlags=function(){c.example=!1,c.inlineCss=!1,c.eyeometryUcid=!1})(),d.setFeatureFlags=function(y){let w=[];for(let k in y)Object.hasOwnProperty.call(c,k)?c[k]=y[k]:w.push(k);if(w.length>0)throw new Error(`Unknown feature flags: ${w.join(", ")}`)},d.isFeatureEnabled=function(y){if(typeof c[y]>"u")throw new Error(`Unknown feature flag: ${y}`);return c[y]}},"./adblockpluscore/lib/filterClasses.js":(f,d,c)=>{const{contentTypes:h,RESOURCE_TYPES:y,CONTEXT_TYPES:w}=c("./adblockpluscore/lib/contentTypes.js"),{CONTENT_FILTER:k,parse:A,FilterParsingError:S}=c("./adblockpluscore/lib/filters/index.js"),{Pattern:T}=c("./adblockpluscore/lib/patterns.js"),{parseDomains:I,domainSuffixes:j,isValidDomainWildcard:V,hasWildcard:C,matchesWildcards:q}=c("./adblockpluscore/lib/url.js"),{isFeatureEnabled:L}=c("./adblockpluscore/lib/features.js"),{verifyCSSProperties:R}=c("./adblockpluscore/lib/filters/inlineCssValidation.js"),{resources:G}=c("./adblockpluscore/data/resources.js"),F=3;let O=null,N=new Map(Object.keys(G).map(xe=>[xe,G[xe]])),E=d.isActiveFilter=function(he){return he instanceof K},B=d.Filter=class{constructor(he){this.text=he}static useFilterState(he){O=he}get type(){throw new Error("Please define filter type in the subclass")}get requiresPrivilegedSubscription(){return!1}*serialize(){let{text:he}=this;yield"[Filter]",yield"text="+he}toString(){return this.text}},M=new Map;d.Filter.fromText=function(xe){let he=M.get(xe);if(he)return he;if(xe.length===0)he=new $(xe,"filter_empty");else if(xe[0]=="!")he=new ee(xe);else{let Ce=xe.includes("#")?k.exec(xe):null;Ce?he=te.fromText(xe,Ce[1],Ce[2],Ce[3]):he=X.fromText(xe)}if(he.domains)for(let Ce of he.domains.keys())Ce!=""&&(V(Ce)||(he=new $(xe,"filter_invalid_wildcard")));return he.type!=="invalid"&&M.set(he.text,he),he},d.Filter.fromObject=function(xe){let he=B.fromText(xe.text);return E(he)&&O&&O.fromObject(he.text,xe),he};let{normalize:P}=c("./adblockpluscore/lib/filters/index.js");d.Filter.normalize=P;let $=d.InvalidFilter=class extends B{constructor(he,Ce,qe=null){super(he),this.reason=Ce,this.option=qe}get type(){return"invalid"}*serialize(){}},ee=d.CommentFilter=class extends B{constructor(he){super(he)}get type(){return"comment"}*serialize(){}},K=d.ActiveFilter=class extends B{constructor(he,Ce){super(he),this.domainSource=Ce||null,this._domains=Ce?void 0:null}get size(){return 1}*serialize(){O&&(yield*O.serialize(this.text))}get disabled(){return O&&!O.isEnabled(this.text)}set disabled(he){O&&O.setEnabled(this.text,!he)}get disabledSubscriptions(){return O?O.disabledSubscriptions(this.text):new Set}isDisabledForSubscription(he){return O&&O.isDisabledForSubscription(this.text,he)}setDisabledForSubscription(he,Ce){O&&O.setDisabledForSubscription(this.text,he,Ce)}get domainSeparator(){return","}get hitCount(){return O?O.getHitCount(this.text):0}set hitCount(he){O&&O.setHitCount(this.text,he)}get lastHit(){return O?O.getLastHit(this.text):0}set lastHit(he){O&&O.setLastHit(this.text,he)}get domains(){if(typeof this._domains>"u"){let{domainSource:he,domainSeparator:Ce}=this;this._domains=I(he.toLowerCase(),Ce)}return this._domains}get sitekeys(){return null}get sitekeySource(){return null}isActiveOnDomain(he,Ce){if(this.sitekeys&&(!Ce||!this.sitekeys.includes(Ce)))return!1;let{domains:qe}=this;if(!qe)return!0;if(he==null?he="":he[he.length-1]=="."&&(he=he.substring(0,he.length-1)),!he)return qe.get("");for(he of j(he)){let we=qe.get(he);if(typeof we<"u")return we;for(let[Re,Ze]of qe.entries())if(C(Re)&&q(he,Re))return Ze}return qe.get("")}isActiveOnlyOnDomain(he){let{domains:Ce}=this;if(!Ce||Ce.get("")||(he==null?he="":he[he.length-1]=="."&&(he=he.substring(0,he.length-1)),!he))return!1;for(let[qe,we]of Ce)if(we&&qe!=he&&(qe.length<=he.length||!qe.endsWith("."+he)))return!1;return!0}isGeneric(){let{sitekeys:he,domains:Ce}=this;return!(he&&he.length)&&(!Ce||Ce.get(""))}*[Symbol.iterator](){yield this}},X=d.URLFilter=class extends K{constructor(he,Ce,qe,we,Re,Ze,it,De,Ie){super(he,Re),this._sitekeySource=it??null,this._sitekeys=it==null?null:void 0,this.contentType=qe??y,this.thirdParty=Ze??null,this.header=De??null,this.rewrite=Ie??null,this.urlPattern=new T(Ce,we)}get pattern(){return this.urlPattern.pattern}get regexp(){return this.urlPattern.regexp}get matchCase(){return this.urlPattern.matchCase}get domainSeparator(){return"|"}get sitekeys(){return typeof this._sitekeys>"u"&&(this._sitekeys=this._sitekeySource.split("|")),this._sitekeys}get sitekeySource(){return this._sitekeySource}matches(he,Ce,qe){let we=Ce&w,Re=Ce&~w;return(this.contentType&Re)!=0&&(we==0?(this.contentType&w)==0:(this.contentType&we)!=0)&&(this.thirdParty==null||this.thirdParty==he.thirdParty)&&(this.urlPattern.regexp?this.isActiveOnDomain(he.documentHostname,qe)&&this.urlPattern.matchesLocation(he):this.urlPattern.matchesLocation(he)&&this.isActiveOnDomain(he.documentHostname,qe))}};d.URLFilter.fromText=function(xe){let he=A(xe);if(he instanceof S){let fe=null;return he.message=="filter_unknown_option"&&he.detail&&(fe=he.detail.option),new $(xe,he.message,fe)}let{blocking:Ce,text:qe,regexpSource:we,contentType:Re,matchCase:Ze,domains:it,thirdParty:De,sitekeys:Ie,header:nt,rewrite:lt,csp:Ot}=he;try{return Ce?new Y(qe,we,Re,Ze,it,De,Ie,nt,lt,Ot):new Q(qe,we,Re,Ze,it,De,Ie,nt)}catch{return new $(xe,"filter_invalid_regexp")}},X.typeMap=h;let Y=d.BlockingFilter=class extends X{constructor(he,Ce,qe,we,Re,Ze,it,De,Ie,nt){super(he,Ce,qe,we,Re,Ze,it,De,Ie),this.csp=nt??null}get type(){return"blocking"}get requiresPrivilegedSubscription(){return(this.contentType&h.HEADER)!=0}rewriteUrl(he){return N.get(this.rewrite)||he}filterHeaders(he){if(!this.header)return!0;for(let Ce of he)if(Ce.name.toLowerCase()==this.header.name)if(this.header.value){if(Ce.value.includes(this.header.value))return!0}else return!0;return!1}},Q=d.AllowingFilter=class extends X{get type(){return"allowing"}},te=d.ContentFilter=class extends K{constructor(he,Ce,qe){super(he,Ce||null),this.body=qe}};d.ContentFilter.fromText=function(xe,he,Ce,qe){if(he&&/(^|,)~?(,|$)/.test(he))return new $(xe,"filter_invalid_domain");let we=/,[^~][^,.]*\.[^,]/.test(","+he)||(","+he+",").includes(",localhost,");if(Ce=="$"){let nt=new ie(xe,he,qe);return!we&&!nt.script.startsWith("hide-if-classifies")?new $(xe,"filter_snippet_nodomain"):nt}let Re=qe,Ze,it=null,De=!1;if(Re.startsWith("@")&&L("inlineCss"))return new $(xe,"filter_elemhide_invalid_selector");let Ie=/^(.*[^ ]) +{([^{]*)}$/.exec(qe);if(Ie&&([,Re,Ze]=Ie,Ze=Ze.toLowerCase(),De=Ze.includes("remove:true;"),!De)){if(!L("inlineCss"))return new $(xe,"filter_unknown_option");if(it=ge(Ze),!R(it))return new $(xe,"filter_elemhide_invalid_inline_css")}return Ce=="?"?we?new oe(xe,he,Re,De,it):new $(xe,"filter_elemhideemulation_nodomain"):!we&&qe.length<F?new $(xe,"filter_elemhide_not_specific_enough"):Ce=="@"?new $e(xe,he,Re):De||it?new oe(xe,he,Re,De,it):new _e(xe,he,Re)};function ge(xe){const he="!important",Ce=xe.split(";");let qe=Object.create(null);for(const we of Ce){if(!we)continue;let Re=we.indexOf(":"),Ze,it;Re<0?(Ze=we,it=""):(Ze=we.substring(0,Re),it=we.substring(Re+1)),Ze=Ze.trim(),it=it.trim(),it.endsWith(he)&&(it=it.substring(0,it.length-he.length).trimEnd()),qe[Ze]=it}return qe}let re=d.ElemHideBase=class extends te{get selector(){return this.body}},_e=d.ElemHideFilter=class extends re{constructor(he,Ce,qe){super(he,Ce,qe)}get type(){return"elemhide"}},$e=d.ElemHideException=class extends re{constructor(he,Ce,qe){super(he,Ce,qe)}get type(){return"elemhideexception"}},oe=d.ElemHideEmulationFilter=class extends re{constructor(he,Ce,qe,we,Re=null){super(he,Ce,qe),this._remove=we,this._css=Re}get type(){return"elemhideemulation"}get remove(){return this._remove}get css(){return this._css}get requiresPrivilegedSubscription(){return this._css}},ie=d.SnippetFilter=class extends te{get type(){return"snippet"}get requiresPrivilegedSubscription(){return!0}get script(){return this.body}}},"./adblockpluscore/lib/filterEngine.js":(f,d,c)=>{c("./adblockpluscore/lib/polyfill.js");const{parseURL:h}=c("./adblockpluscore/lib/url.js"),{Filter:y}=c("./adblockpluscore/lib/filterClasses.js"),{newDefaultMatcher:w}=c("./adblockpluscore/lib/matcher.js"),{ElemHide:k}=c("./adblockpluscore/lib/elemHide.js"),{ElemHideEmulation:A}=c("./adblockpluscore/lib/elemHideEmulation.js"),{ElemHideExceptions:S}=c("./adblockpluscore/lib/elemHideExceptions.js"),{setRecommendations:T}=c("./adblockpluscore/lib/recommendations.js"),{Snippets:I}=c("./adblockpluscore/lib/snippets.js"),{Features:j}=c("./adblockpluscore/lib/features.js");class V{constructor(q){this.features=q?q.features:j.DEFAULT,q&&q.recommendations&&T(q.recommendations),this.elemHideExceptions=new S,this.elemHide=new k(this.elemHideExceptions),this.elemHideEmulation=new A(this.elemHideExceptions),this.snippets=new I,this.defaultMatcher=w(),this._filterListener=null,this._filterStorage=null,this._initializationPromise=null}initialize(q){if(!this._initializationPromise)if(typeof q>"u"){const{FilterStorage:L}=c("./adblockpluscore/lib/filterStorage.js"),{FilterListener:R}=c("./adblockpluscore/lib/filterListener.js");this._filterStorage=new L({features:this.features}),this._filterListener=new R,this._initializationPromise=this._filterListener.initialize(this,this._filterStorage)}else this._initializationPromise=Promise.resolve().then(()=>{for(let L of q)if(L=y.normalize(L,!0),L){let R=y.fromText(L);R.type!=="invalid"&&this.add(R)}});return this._initializationPromise}get filterStorage(){return this._filterStorage}selectModule(q){switch(q){case"blocking":case"allowing":return this.defaultMatcher;case"elemhide":return this.elemHide;case"elemhideemulation":return this.elemHideEmulation;case"elemhideexception":return this.elemHideExceptions;case"snippet":return this.snippets}return null}add(q){let L=this.selectModule(q.type);L&&L.add(q)}remove(q){let L=this.selectModule(q.type);L&&L.remove(q)}has(q){let L=this.selectModule(q.type);return L?L.has(q):!1}clear(){this.defaultMatcher.clear(),this.elemHide.clear(),this.elemHideEmulation.clear(),this.elemHideExceptions.clear(),this.snippets.clear()}match(q,L,R,G=null,F=!1){typeof q=="string"&&(q=h(q));let O=this.defaultMatcher.match(q,L,R,G,F);return O?O.text:null}}d.FilterEngine=V},"./adblockpluscore/lib/filterListener.js":(f,d,c)=>{const{filterNotifier:h}=c("./adblockpluscore/lib/filterNotifier.js"),{isActiveFilter:y,Filter:w}=c("./adblockpluscore/lib/filterClasses.js");function k(I){return I.valid&&!I.disabled}function A(I,j,V,C=null){if(!y(V))return;let q=!1,L=!1,R=V.requiresPrivilegedSubscription;for(let G of C||j.subscriptions(V.text))if(k(G)&&!V.isDisabledForSubscription(G.url)){if(q=!0,!R)break;if(G.privileged){L=!0;break}}q&&(R&&!L||I.add(V))}function S(I,j,V){if(!y(V))return;let C=V.requiresPrivilegedSubscription;for(let q of j.subscriptions(V.text))if(k(q)&&!V.isDisabledForSubscription(q.url)&&(!C||C&&q.privileged))return;I.remove(V)}class T{constructor(){this._engine=null,this._storage=null,this._isDirty=0}async initialize(j,V){if(j==null||typeof j!="object")throw new Error("engine must be a non-null object.");if(V==null||typeof V!="object")throw new Error("filterStorage must be a non-null object.");if(this._engine!=null||this._storage!=null)throw new Error("Filter listener already initialized.");this._engine=j,this._storage=V,await V.loadFromDisk();let C=Promise.resolve();for(let q of V.subscriptions())k(q)&&await C.then(()=>{for(let L of q.filterText())A(this._engine,V,w.fromText(L),[q])});h.on("filter.added",this._onFilterAdded.bind(this)),h.on("filter.removed",this._onFilterRemoved.bind(this)),h.on("filter.moved",this._onGenericChange.bind(this)),h.on("filterState.enabled",this._onFilterStateEnabled.bind(this)),h.on("filterState.disabledSubscriptions",this._onFilterStateEnabled.bind(this)),h.on("filterState.hitCount",this._onFilterStateHitCount.bind(this)),h.on("filterState.lastHit",this._onFilterStateLastHit.bind(this)),h.on("subscription.added",this._onSubscriptionAdded.bind(this)),h.on("subscription.removed",this._onSubscriptionRemoved.bind(this)),h.on("subscription.disabled",this._onSubscriptionDisabled.bind(this)),h.on("subscription.updated",this._onSubscriptionUpdated.bind(this)),h.on("subscription.title",this._onGenericChange.bind(this)),h.on("subscription.fixedTitle",this._onGenericChange.bind(this)),h.on("subscription.homepage",this._onGenericChange.bind(this)),h.on("subscription.downloadStatus",this._onGenericChange.bind(this)),h.on("subscription.lastCheck",this._onGenericChange.bind(this)),h.on("subscription.errors",this._onGenericChange.bind(this)),h.on("subscription.privileged",this._onGenericChange.bind(this)),h.on("load",this._onLoad.bind(this)),h.on("save",this._onSave.bind(this)),h.emit("ready")}_setDirty(j){j==0&&this._isDirty>0?this._isDirty=1:this._isDirty+=j,this._isDirty>=1&&(this._isDirty=0,this._storage.saveToDisk())}_onSubscriptionAdded(j){if(this._setDirty(1),k(j))for(let V of j.filterText())A(this._engine,this._storage,w.fromText(V),[j])}_onSubscriptionRemoved(j){if(this._setDirty(1),k(j))for(let V of j.filterText())S(this._engine,this._storage,w.fromText(V))}_onSubscriptionDisabled(j,V){if(this._setDirty(1),this._storage.hasSubscription(j))if(V==!1)for(let C of j.filterText())A(this._engine,this._storage,w.fromText(C),[j]);else for(let C of j.filterText())S(this._engine,this._storage,w.fromText(C))}_onSubscriptionUpdated(j,V){if(this._setDirty(1),V&&k(j)&&this._storage.hasSubscription(j)){for(let C of V.removed)S(this._engine,this._storage,w.fromText(C));for(let C of V.added)A(this._engine,this._storage,w.fromText(C),[j])}}_onFilterAdded(j){this._setDirty(1),A(this._engine,this._storage,j)}_onFilterRemoved(j){this._setDirty(1),S(this._engine,this._storage,j)}_onFilterStateEnabled(j,V){this._setDirty(1);let C=w.fromText(j);this._engine.has(C)?S(this._engine,this._storage,C):A(this._engine,this._storage,C)}_onFilterStateHitCount(j,V){V==0?this._setDirty(0):this._setDirty(.002)}_onFilterStateLastHit(){this._setDirty(.002)}_onGenericChange(){this._setDirty(1)}_onLoad(){this._isDirty=0,this._engine.clear();for(let j of this._storage.subscriptions())if(k(j))for(let V of j.filterText())A(this._engine,this._storage,w.fromText(V),[j])}_onSave(){this._isDirty=0}}d.FilterListener=T},"./adblockpluscore/lib/filterNotifier.js":(f,d,c)=>{const{EventEmitter:h}=c("./adblockpluscore/lib/events.js");d.filterNotifier=new h},"./adblockpluscore/lib/filterState.js":(f,d,c)=>{const{filterNotifier:h}=c("./adblockpluscore/lib/filterNotifier.js"),{Filter:y}=c("./adblockpluscore/lib/filterClasses.js");class w{constructor(){this.map=new Map,y.useFilterState(this)}disabledSubscriptions(T){let I=this.map.get(T);return!I||typeof I.disabledSubscriptions!="object"?new Set:I.disabledSubscriptions}resetEnabled(T){this._updateStateObject(T,I=>{I.resetEnabled()})}isDisabledForSubscription(T,I){let j=this.map.get(T);return j?j.isDisabledForSubscription(I):!1}setDisabledForSubscription(T,I,j){this._updateStateObject(T,V=>{V.setDisabledForSubscription(I,j)})}isEnabled(T){let I=this.map.get(T);return I?I.enabled:!0}setEnabled(T,I){this._updateStateObject(T,j=>{j.enabled=I})}toggleEnabled(T){let I=!this.isEnabled(T);this.setEnabled(T,I)}getHitCount(T){let I=this.map.get(T);return I?I.hitCount:0}setHitCount(T,I){this._updateStateObject(T,j=>{j.hitCount=I})}resetHitCount(T){this.setHitCount(T,0)}getLastHit(T){let I=this.map.get(T);return I?I.lastHit:0}setLastHit(T,I){this._updateStateObject(T,j=>{j.lastHit=I})}resetLastHit(T){this.setLastHit(T,0)}registerHit(T){let I=Date.now();this._updateStateObject(T,j=>{j.hitCount++,j.lastHit=I})}resetHits(T){this._updateStateObject(T,I=>{I.hitCount=0,I.lastHit=0})}reset(T){let I=this.map.get(T);I&&(this.map.delete(T),I.enabled!==!0&&h.emit("filterState.enabled",T,!0,I.enabled),I.disabledSubscriptions&&I.disabledSubscriptions.size>0&&h.emit("filterState.disabledSubscriptions",T,new Set,I.disabledSubscriptions),I.hitCount!=0&&h.emit("filterState.hitCount",T,0,I.hitCount),I.lastHit!=0&&h.emit("filterState.lastHit",T,0,I.lastHit))}*serialize(T){let I=this.map.get(T);if(I){if(yield"[Filter]",yield"text="+T,I.disabled)yield"disabled=true";else if(typeof I.disabledSubscriptions=="object")for(let j of I.disabledSubscriptions)yield"disabledSubscriptions[]="+j;I.hitCount!=0&&(yield"hitCount="+I.hitCount),I.lastHit!=0&&(yield"lastHit="+I.lastHit)}}fromObject(T,I){if(!("disabled"in I||"disabledSubscriptions"in I||"hitCount"in I||"lastHit"in I))return;let j=new k;String(I.disabled)=="true"?j.disabled=!0:typeof I.disabledSubscriptions=="object"&&(j.disabledSubscriptions=new Set(I.disabledSubscriptions)),j.hitCount=parseInt(I.hitCount,10)||0,j.lastHit=parseInt(I.lastHit,10)||0,j.isEmpty()||this.map.set(T,j)}_updateStateObject(T,I){let j=this.map.get(T);j||(j=new k,this.map.set(T,j));let V=j.hitCount,C=j.lastHit,q=j.enabled,L=new Set(j.disabledSubscriptions);I(j);let R=j.hitCount,G=j.lastHit,F=j.enabled,O=new Set(j.disabledSubscriptions);j.isEmpty()&&this.map.delete(T),V!==R&&h.emit("filterState.hitCount",T,R,V),C!==G&&h.emit("filterState.lastHit",T,G,C),q!==F&&h.emit("filterState.enabled",T,F,q),A(L,O)||h.emit("filterState.disabledSubscriptions",T,O,L)}}class k{constructor(){this.hitCount=0,this.lastHit=0}isEmpty(){return this.hitCount===0&&this.lastHit===0&&!this.disabled&&!this.disabledSubscriptions}isDisabledForSubscription(T){return this.disabled===!0?!0:this.disabledSubscriptions&&this.disabledSubscriptions.has(T)}setDisabledForSubscription(T,I){delete this.disabled,!(!this.disabledSubscriptions&&!I)&&(this.disabledSubscriptions||(this.disabledSubscriptions=new Set),I?this.disabledSubscriptions.add(T):(this.disabledSubscriptions.delete(T),this.disabledSubscriptions.size===0&&delete this.disabledSubscriptions))}resetEnabled(){delete this.disabled,delete this.disabledSubscriptions}get enabled(){return!this.disabled}set enabled(T){delete this.disabledSubscriptions,this.disabled=!T}}function A(S,T){if(S.size!==T.size)return!1;for(let I of S)if(!T.has(I))return!1;return!0}d.FilterState=w},"./adblockpluscore/lib/filterStorage.js":(f,d,c)=>{const{IO:h}=c("./src/background/io.js"),{Prefs:y}=c("./src/background/prefs.js"),{isActiveFilter:w}=c("./adblockpluscore/lib/filterClasses.js"),{Subscription:k,SpecialSubscription:A}=c("./adblockpluscore/lib/subscriptionClasses.js"),{filterNotifier:S}=c("./adblockpluscore/lib/filterNotifier.js"),{INIParser:T}=c("./adblockpluscore/lib/iniParser.js"),{FilterState:I}=c("./adblockpluscore/lib/filterState.js"),{Synchronizer:j}=c("./adblockpluscore/lib/synchronizer.js"),{Features:V}=c("./adblockpluscore/lib/features.js");class C extends Error{constructor(E,B){super(E),this.detail=B}}d.FilterStorageError=C;let q=new Map,L=Promise.resolve();const R=5;class G{constructor(E){this.initialized=!1,this.firstRun=!1,this.features=E?E.features:V.DEFAULT,k.dnr=(this.features&V.DNR)!=0,this.fileProperties=Object.create(null),this._knownSubscriptions=new Map,this._metadataSubscriptions=new Map,this._saving=!1,this._initSaving(),this._needsSave=!1,this._stats=q,this.synchronizer=new j(this),this.filterState=new I}_initSaving(){if(this._saving){const E=this;this._savingPromise=new Promise((B,M)=>{E._savingPromiseResolve=B,E._savingPromiseReject=M})}else this._savingPromiseResolve&&this._savingPromiseResolve(),this._savingPromise=null,this._savingPromiseResolve=null,this._savingPromiseReject=null}setSaving(E,B=!1){E!=this._saving&&(this._saving=E,B||this._initSaving())}get formatVersion(){return R}static get sourceFile(){return"patterns.ini"}*subscriptions(E=null){if(E==null)yield*this._knownSubscriptions.values();else for(let B of this._knownSubscriptions.values())B.hasFilterText(E)&&(yield B)}getSubscriptionCount(E=null){if(E==null)return this._knownSubscriptions.size;let B=0;for(let M of this._knownSubscriptions.values())M.hasFilterText(E)&&B++;return B}getGroupForFilter(E){let B=null;for(let M of this._knownSubscriptions.values())if(M instanceof A&&!M.disabled&&!M.metadata){if(M.isDefaultFor(E))return M;!B&&(!M.defaults||!M.defaults.length)&&(B=M)}return B}hasSubscription(E){return typeof E=="string"?this._knownSubscriptions.has(E):this._knownSubscriptions.has(E.url)}getSubscription(E){return this._knownSubscriptions.get(E)}addSubscription(E){this._knownSubscriptions.has(E.url)||(this._knownSubscriptions.set(E.url,E),S.emit("subscription.added",E))}removeSubscription(E){this._knownSubscriptions.has(E.url)&&(this._knownSubscriptions.delete(E.url),this._metadataSubscriptions.delete(E.url),k.knownSubscriptions.delete(E.url),S.emit("subscription.removed",E))}_clear(){this._knownSubscriptions.clear(),this._metadataSubscriptions.clear(),k.knownSubscriptions.clear(),this._stats.clear(),this._saving=!1,this._initSaving(),this._needsSave=!1,this.filterState=new I}updateSubscriptionFilters(E,B){let M=E.updateFilterText(B);S.emit("subscription.updated",E,M)}filterExists(E){for(let B of this._knownSubscriptions.values())if(B instanceof A&&!B.disabled&&B.hasFilterText(E.text))return!0;return!1}async addFiltersWithMetadata(E,B){let P=(Array.isArray(E)?E:[E]).filter(ee=>!this.filterExists(ee));if(P.length==0)return null;let $=null;for(let ee of P)$?$.hasFilterText(ee.text)||$.addFilterText(ee.text):$=A.createForFilter(ee);this._metadataSubscriptions.set($.url,$),this.addSubscription($);for(let ee of P)this.filterState.isDisabledForSubscription(ee.text,$.url)&&this.filterState.setDisabledForSubscription(ee.text,$.url,!1);return $.metadata=B,$}async getMetadataForFilter(E){for(let B of this._metadataSubscriptions.values())if(B.hasFilterText(E))return B.metadata;return null}async setMetadataForFilter(E,B){for(let M of this._metadataSubscriptions.values())if(M.hasFilterText(E))return M.metadata=B,M;throw new C("filter_not_found",{text:E})}enableFilter(E,B){this.filterState.isDisabledForSubscription(E,B)&&this.filterState.setDisabledForSubscription(E,B,!1)}async addFilter(E,B,M){if(!B){for(let P of this._knownSubscriptions.values())if(P instanceof A&&!P.disabled&&P.hasFilterText(E.text))return P;B=this.getGroupForFilter(E)}return B?(typeof M>"u"&&(M=B.filterCount),B.insertFilterTextAt(E.text,M),this.enableFilter(E.text,B.url),S.emit("filter.added",E,B,M),B):(B=A.createForFilter(E),this.addSubscription(B),this.enableFilter(E.text,B.url),B)}removeFilter(E,B,M){let P=B?[B]:this._knownSubscriptions.values();for(let $ of P)if($ instanceof A&&($==B||$.hasFilterText(E.text))){let ee=[];if(typeof M>"u"){let K=-1;do K=$.findFilterTextIndex(E.text,K+1),K>=0&&ee.push(K);while(K>=0)}else ee.push(M);for(let K=ee.length-1;K>=0;K--){let X=ee[K],Y=$.filterTextAt(X);Y&&Y==E.text&&($.deleteFilterAt(X),S.emit("filter.removed",E,$,X))}}}moveFilter(E,B,M,P){if(!(B instanceof A))return;let $=B.filterTextAt(M);!$||$!=E.text||(P=Math.min(Math.max(P,0),B.filterCount-1),M!=P&&(B.deleteFilterAt(M),B.insertFilterTextAt(E.text,P),S.emit("filter.moved",E,B,M,P)))}increaseHitCount(E){!y.savestats||!w(E)||this.filterState.registerHit(E.text)}resetHitCounts(E){if(E)for(let B of E)this.filterState.resetHits(B.text);else for(let B of this.filterState.map.keys())this.filterState.resetHits(B)}importData(E){let B=new T(this.filterState);return M=>{if(B.process(M),M===null){let P=new Map,$=new Map;for(let ee of B.subscriptions)Array.isArray(ee.defaults)&&ee.defaults.forEach((K,X,Y)=>{K=="whitelist"&&(Y[X]="allowing")}),P.set(ee.url,ee),ee.metadata&&$.set(ee.url,ee);this.fileProperties=B.fileProperties,this._knownSubscriptions=P,this._metadataSubscriptions=$,E||S.emit("load")}}}async loadFromDisk(){let E=async B=>{try{await this.restoreBackup(B,!0)}catch{}};try{if(!(await F(G.sourceFile)).exists){this.firstRun=!0;return}let M=this.importData(!0);await h.readFromFile(G.sourceFile,M),M(null)}catch(B){console.warn(B),await E(1)}this.initialized=!0,S.emit("load")}static getBackupName(E){let[B,M]=G.sourceFile.split(".",2);return B+"-backup"+E+"."+M}async restoreBackup(E,B){let M=G.getBackupName(E),P=this.importData(B);return await h.readFromFile(M,P),P(null),this.saveToDisk()}*exportData(){let E=[];for(let M of this._knownSubscriptions.values())M instanceof A&&M.filterCount==0||E.push(M);yield"# Adblock Plus preferences",yield"version="+this.formatVersion;let B=new Set;for(let M of E)yield*M.serialize(),yield*M.serializeFilters();for(let M of E)for(let P of M.filterText())B.has(P)||(yield*this.filterState.serialize(P),B.add(P))}async saveToDisk(E=!1){if(this._saving){this._needsSave=!0;return}this.setSaving(!0,E);try{let{patternsbackups:B}=y;if(await(async()=>{if(B<=0||!(await F(G.sourceFile)).exists)return!1;let $=await F(G.getBackupName(1));return!($.exists&&(Date.now()-$.lastModified)/36e5<y.patternsbackupinterval)})())try{let P=B>1?0:1;await O(G.sourceFile,G.getBackupName(P)),B>1&&(L=L.then(()=>new Promise($=>{let ee=async K=>{if(K>0){try{let X=G.getBackupName(K-1),Y=G.getBackupName(K);await O(X,Y)}catch{}ee(K-1)}else $()};ee(B)})))}catch(P){console.warn(P)}}catch(B){console.warn(B)}try{await h.writeToFile(G.sourceFile,this.exportData()),q.set(G.sourceFile,{exists:!0,lastModified:Date.now()}),S.emit("save")}catch(B){console.warn(B),q.delete(G.sourceFile)}this.setSaving(!1,this._needsSave),this._needsSave&&(this._needsSave=!1,this.saveToDisk(!0))}async awaitSavingComplete(){this._saving&&await this._savingPromise}async getBackupFiles(){let E=[],B=async M=>{try{let P=await F(G.getBackupName(M));return P.exists?(E.push({index:M,lastModified:P.lastModified}),B(M+1)):E}catch(P){return console.warn(P),E}};return B(1)}clearStats(){this._stats.clear()}}d.FilterStorage=G;async function F(N){let E=q.get(N);if(E)return E;try{E=await h.statFile(N)}catch{E={exists:!1,lastModified:0}}return q.set(N,E),E}async function O(N,E){await h.renameFile(N,E),q.delete(N),q.set(E,{exists:!0,lastModified:Date.now()})}},"./adblockpluscore/lib/filters/index.js":(f,d,c)=>{const{contentTypes:h,RESOURCE_TYPES:y}=c("./adblockpluscore/lib/contentTypes.js"),w=/^([^/|@"!]*?)#([@?$])?#(.+)$/;d.CONTENT_FILTER=w;const k=/\$(~?[\w-]+(?:=[^,]*)?(?:,~?[\w-]+(?:=[^,]*)?)*)$/;d.FILTER_OPTIONS=k;const A=4,S=/(;|^) ?(base-uri|referrer|report-to|report-uri|upgrade-insecure-requests)\b/i;d.INVALID_CSP=S;class T extends Error{constructor(j,V){super(j),this.detail=V}}d.FilterParsingError=T,d.parse=function(j){if(j.length<1)return new T("filter_empty",{text:j});if(j[0]==="!"||w.test(j))return new T("invalid",{text:j});let V=!0,C=j;j.startsWith("@@")&&(V=!1,j=j.substring(2));let q=null,L=null,R=null,G=null,F=null,O=null,N=null,E=null,B,M=j.includes("$")?k.exec(j):null;if(M){j=M.input.substring(0,M.index),B=M[1].split(",");let $=!1,ee=!1;for(let K of B){let X=null,Y=K.indexOf("=");Y>=0&&(X=K.substring(Y+1),K=K.substring(0,Y));let Q=K[0]=="~";Q&&(K=K.substring(1));let te=K.toUpperCase(),ge=h[te.replace(/-/,"_")];if(ge)if(Q)q==null&&(q=y),q&=~ge;else if(ge===h.CSP){if(V&&!X)return new T("filter_invalid_csp",{text:C});$=!0,O=X}else if(ge===h.HEADER){if(V&&!X)return new T("filter_invalid_header",{text:C});if(ee=!0,X){let re=X.replace(/([^\\])\\x2c/g,"$1,").replace(/\\\\x2c/g,"\\x2c"),_e=re.indexOf("=");if(_e==re.length-1?E={name:re.substring(0,_e).toLowerCase()}:_e>=0?E={name:re.substring(0,_e).toLowerCase(),value:re.substring(_e+1)}:E={name:re.toLowerCase()},E.name.length==0)return new T("filter_invalid_header",{text:C});if(/^\/[\s\S]*\/$/.test(E.value))return new T("filter_invalid_header",{text:C})}}else q|=ge;else switch(te){case"MATCH-CASE":L=!Q;break;case"DOMAIN":if(!X)return new T("filter_unknown_option",{option:K,text:C});R=X;break;case"THIRD-PARTY":F=!Q;break;case"SITEKEY":if(!X)return new T("filter_unknown_option",{option:K,text:C});G=X;break;case"REWRITE":if(X==null)return new T("filter_unknown_option",{option:K,text:C});if(!X.startsWith("abp-resource:"))return new T("filter_invalid_rewrite",{text:C});N=X.substring(13);break;default:return new T("filter_unknown_option",{option:K,text:C})}}($||ee)&&(q==null&&(q=y),$&&(q|=h.CSP),ee&&(q|=h.HEADER))}if(!G&&!R){let $=A,{length:ee}=j;if(ee>0&&j[0]==="|"&&($++,ee>1&&j[1]==="|"&&$++),ee<$&&!j.includes("*"))return new T("filter_url_not_specific_enough",{text:C})}else if(R&&/[^\x00-\x7F]/.test(R))return new T("filter_invalid_domain",{text:C});if(V){if(O&&S.test(O))return new T("filter_invalid_csp",{text:C});if(N)if(j.startsWith("||")){if(!R&&F!=!1)return new T("filter_invalid_rewrite",{text:C})}else if(j.startsWith("*")){if(!R)return new T("filter_invalid_rewrite",{text:C})}else return new T("filter_invalid_rewrite",{text:C})}return{blocking:V,text:C,regexpSource:j,contentType:q,matchCase:L,domains:R,thirdParty:F,sitekeys:G,header:E,rewrite:N,csp:O}},d.normalize=function(I,j=!1){if(I==="")return I;I=I.replace(/[^\S ]+/g,"");const V=B=>B.replace(/ +/g,""),C=B=>{if(!B.includes(":"))return"";let[M,P]=B.split(":");return P=P.replace("!important",""),M.trimStart().trimEnd()+":"+P.trimStart().trimEnd()+";"},q=B=>{const M=B.split(";");let P="";for(const $ of M)$&&(P+=C($));return P};if(j)return I.trim();if(!I.includes(" "))return I;if(/^ *!/.test(I))return I.trim();if(w.test(I)){const B=/^(.*?)(#[@?]?#)(.*) +\{( *.* *: *[^;]+ *(;)? *)\} *$/.exec(I);if(B){const[,ee,K,X,Y]=B;return V(ee)+K+X.trim()+" {"+q(Y)+"}"}const[,M,P,$]=/^(.*?)(#[@?$]?#?)(.*)$/.exec(I);return V(M)+P+$.trim()}let L=V(I);if(!L.includes("$")||!/\b(csp|header)=/i.test(L))return L;let R=k.exec(L);if(!R)return L;let G=L.substring(0,R.index),F=-1,O=-1;do F=G.indexOf("$",F+1),O=I.indexOf("$",O+1);while(F!=-1);let E=I.substring(O+1).split(",");for(let B=0;B<E.length;B++){let M=E[B],P=/^ *(c *s *p|h *e *a *d *e *r) *=/i.exec(M);P?E[B]=V(P[0])+M.substring(P[0].length).trim().replace(/ +/g," "):E[B]=V(M)}return G+"$"+E.join()}},"./adblockpluscore/lib/filters/inlineCssValidation.js":(f,d)=>{d.verifyCSSProperties=function(k){if(Object.keys(k).length==0)return!1;for(let A in k)if(!c(A)||!h(k[A]))return!1;return!0};function c(w){return/^(-?[a-z]+)+$/.test(w)}function h(w){let k=w.split(" ").filter(A=>A.length>0);return k.length==0?!1:k.every(A=>y.some(S=>S instanceof RegExp?S.test(A):S==A))}const y=["inherit","initial","none","revert","revert-layer","unset",/^#[0-9a-f]{3,8}$/,"currentcolor",/^[+-]?(\d+(\.\d+)?|\.\d+)(e[+-]?\d+)?(cm|mm|q|in|pc|pt|px|em|ex|ch|rem|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|%|fr)?$/,"absolute","all","auto","block","both","clip","collapse","contain","dashed","default","dotted","double","element","fit-content","fixed","flex","flow-root","flow","grid","groove","hidden","inline-block","inline-flex","inline-grid","inline-table","inline","inset","left","list-item","max-content","min-content","outset","pointer","relative","ridge","right","ruby","scroll","solid","static","sticky","table-row","table","text","thin","transparent","true","visible"]},"./adblockpluscore/lib/filters/lists.js":(f,d)=>{function c(h){let y=h.split(/[\r\n]+/),w=/\[Adblock(?:\s*Plus\s*([\d.]+)?)?\]/i.exec(y[0]);if(!w)return{error:"synchronize_invalid_data"};let k=w[1],A={redirect:null,homepage:null,title:null,version:null,expires:null,abtest:null,diffurl:null,lastmodified:null};for(let{hasOwnProperty:S}=Object.prototype,T=1;T<y.length;T++){let I=/^\s*!\s*(.*?)\s*:\s*(.*)/.exec(y[T]);if(!I)break;let j=I[1].toLowerCase().replace(/\s/g,"");S.call(A,j)&&(A[j]=I[2],y.splice(T--,1))}return A.lastModified=A.lastmodified,delete A.lastmodified,{lines:y,params:A,minVersion:k}}d.parseFilterList=c},"./adblockpluscore/lib/filtersByDomain.js":(f,d,c)=>{const{hasWildcard:h,matchesWildcards:y}=c("./adblockpluscore/lib/url.js");let w=new Map([["",!0]]),k=d.FilterMap=class extends Map{};d.FiltersByDomain=class extends Map{constructor(S){super(S),this.domainsWithWildcards=new Map}add(S,T=S.domains){for(let[I,j]of T||w)!j&&I==""||(h(I)?this._addToMap(S,I,j,this.domainsWithWildcards):this._addToMap(S,I,j,this))}_addToMap(S,T,I,j){let V=j.get(T,!0);V?V.size==1&&!(V instanceof k)?S!=V&&j.set(T,new k([[V,!0],[S,I]])):V.set(S,I):j.set(T,I?S:new k([[S,!1]]))}has(S){let T=super.has(S);if(!T){for(let I of this.domainsWithWildcards.keys())if(y(S,I)){T=!0;break}}return T}get(S,T){let I=[],j=super.get(S);if(j&&I.push(j),!T)for(let[V,C]of this.domainsWithWildcards.entries())y(S,V)&&I.push(C);if(I.length==0)I=void 0;else if(I.length==1)I=I[0];else{let V=new k;for(let C of I){let q=C instanceof Map?C:new Map([[C,!0]]);for(let[L,R]of q.entries())V.set(L,R)}I=V}return I}clear(){super.clear(),this.domainsWithWildcards.clear()}remove(S,T=S.domains){for(let I of(T||w).keys())h(I)?this._removeFromMap(S,I,this.domainsWithWildcards):this._removeFromMap(S,I,this)}_removeFromMap(S,T,I){let j=I.get(T);if(j)if(j.size>1||j instanceof k){if(j.delete(S),j.size==0)I.delete(T);else if(j.size==1)for(let[V,C]of j.entries()){C&&I.set(T,V);break}}else S==j&&I.delete(T)}}},"./adblockpluscore/lib/index.js":(f,d,c)=>{const{contentTypes:h}=c("./adblockpluscore/lib/contentTypes.js"),{Features:y}=c("./adblockpluscore/lib/features.js"),{FilterEngine:w}=c("./adblockpluscore/lib/filterEngine.js"),{Synchronizer:k}=c("./adblockpluscore/lib/synchronizer.js"),{parseURL:A}=c("./adblockpluscore/lib/url.js");f.exports={contentTypes:h,Features:y,FilterEngine:w,Synchronizer:k,parseURL:A}},"./adblockpluscore/lib/iniParser.js":(f,d,c)=>{const{isActiveFilter:h,Filter:y}=c("./adblockpluscore/lib/filterClasses.js"),{FilterState:w}=c("./adblockpluscore/lib/filterState.js"),{Subscription:k}=c("./adblockpluscore/lib/subscriptionClasses.js");d.INIParser=class{constructor(S){if(!(S instanceof w))throw new Error("filterState must be a FilterState object");this.fileProperties={},this.subscriptions=[],this.filterState=S,this._wantObj=!0,this._curObj=this.fileProperties,this._curSection=null}process(S){let T=null;if(this._wantObj===!0&&(T=/^(\w+)=(.*)$/.exec(S)))this._curObj[T[1]]=T[2];else if(this._wantObj===!0&&(T=/^(\w+)\[]=(.*)$/.exec(S)))this._curObj[T[1]]||(this._curObj[T[1]]=[]),this._curObj[T[1]].push(T[2]);else if(S===null||(T=/^\s*\[(.+)\]\s*$/.exec(S))){if(this._curObj)switch(this._curSection){case"filter":if("text"in this._curObj){let{text:j}=this._curObj;h(y.fromText(j))&&this.filterState.fromObject(j,this._curObj)}break;case"subscription":let I=k.fromObject(this._curObj);I&&this.subscriptions.push(I);break;case"subscription filters":this.subscriptions.length&&this.subscriptions[this.subscriptions.length-1].updateFilterText(this._curObj);break}if(S===null)return;switch(this._curSection=T[1].toLowerCase(),this._curSection){case"filter":case"subscription":this._wantObj=!0,this._curObj={};break;case"subscription filters":this._wantObj=!1,this._curObj=[];break;default:this._wantObj=null,this._curObj=null}}else this._wantObj===!1&&S&&this._curObj.push(S.replace(/\\\[/g,"["))}}},"./adblockpluscore/lib/jsbn.js":(f,d)=>{var c;let h=d.BigInteger=function(le,ye,rt){le!=null&&(typeof le=="number"?this.fromNumber(le,ye,rt):ye==null&&typeof le!="string"?this.fromString(le,256):this.fromString(le,ye))};function y(){return new h(null)}function w(fe,le,ye,rt,Et,ue){for(;--ue>=0;){var Kt=le*this[fe++]+ye[rt]+Et;Et=Math.floor(Kt/67108864),ye[rt++]=Kt&67108863}return Et}function k(fe,le,ye,rt,Et,ue){for(var Kt=le&32767,He=le>>15;--ue>=0;){var Ct=this[fe]&32767,Xt=this[fe++]>>15,me=He*Ct+Xt*Kt;Ct=Kt*Ct+((me&32767)<<15)+ye[rt]+(Et&1073741823),Et=(Ct>>>30)+(me>>>15)+He*Xt+(Et>>>30),ye[rt++]=Ct&1073741823}return Et}function A(fe,le,ye,rt,Et,ue){for(var Kt=le&16383,He=le>>14;--ue>=0;){var Ct=this[fe]&16383,Xt=this[fe++]>>14,me=He*Ct+Xt*Kt;Ct=Kt*Ct+((me&16383)<<14)+ye[rt]+Et,Et=(Ct>>28)+(me>>14)+He*Xt,ye[rt++]=Ct&268435455}return Et}typeof navigator<"u"&&navigator.appName=="Microsoft Internet Explorer"?(h.prototype.am=k,c=30):typeof navigator<"u"&&navigator.appName!="Netscape"?(h.prototype.am=w,c=26):(h.prototype.am=A,c=28),h.prototype.DB=c,h.prototype.DM=(1<<c)-1,h.prototype.DV=1<<c;var S=52;h.prototype.FV=Math.pow(2,S),h.prototype.F1=S-c,h.prototype.F2=2*c-S;var T="0123456789abcdefghijklmnopqrstuvwxyz",I=new Array,j,V;for(j=48,V=0;V<=9;++V)I[j++]=V;for(j=97,V=10;V<36;++V)I[j++]=V;for(j=65,V=10;V<36;++V)I[j++]=V;function C(fe){return T.charAt(fe)}function q(fe,le){var ye=I[fe.charCodeAt(le)];return ye??-1}function L(fe){for(var le=this.t-1;le>=0;--le)fe[le]=this[le];fe.t=this.t,fe.s=this.s}function R(fe){this.t=1,this.s=fe<0?-1:0,fe>0?this[0]=fe:fe<-1?this[0]=fe+DV:this.t=0}function G(fe){var le=y();return le.fromInt(fe),le}function F(fe,le){var ye;if(le==16)ye=4;else if(le==8)ye=3;else if(le==256)ye=8;else if(le==2)ye=1;else if(le==32)ye=5;else if(le==4)ye=2;else{this.fromRadix(fe,le);return}this.t=0,this.s=0;for(var rt=fe.length,Et=!1,ue=0;--rt>=0;){var Kt=ye==8?fe.charCodeAt(rt)&255:q(fe,rt);if(Kt<0){fe.charAt(rt)=="-"&&(Et=!0);continue}Et=!1,ue==0?this[this.t++]=Kt:ue+ye>this.DB?(this[this.t-1]|=(Kt&(1<<this.DB-ue)-1)<<ue,this[this.t++]=Kt>>this.DB-ue):this[this.t-1]|=Kt<<ue,ue+=ye,ue>=this.DB&&(ue-=this.DB)}ye==8&&fe[0]&128&&(this.s=-1,ue>0&&(this[this.t-1]|=(1<<this.DB-ue)-1<<ue)),this.clamp(),Et&&h.ZERO.subTo(this,this)}function O(){for(var fe=this.s&this.DM;this.t>0&&this[this.t-1]==fe;)--this.t}function N(fe){if(this.s<0)return"-"+this.negate().toString(fe);var le;if(fe==16)le=4;else if(fe==8)le=3;else if(fe==256)le=8;else if(fe==2)le=1;else if(fe==32)le=5;else if(fe==4)le=2;else return this.toRadix(fe);var ye=(1<<le)-1,rt,Et=!1,ue="",Kt=this.t,He=this.DB-Kt*this.DB%le;if(Kt-- >0)for(He<this.DB&&(rt=this[Kt]>>He)>0&&(Et=!0,ue=le==8?String.fromCharCode(rt):C(rt));Kt>=0;)He<le?(rt=(this[Kt]&(1<<He)-1)<<le-He,rt|=this[--Kt]>>(He+=this.DB-le)):(rt=this[Kt]>>(He-=le)&ye,He<=0&&(He+=this.DB,--Kt)),rt>0&&(Et=!0),Et&&(ue+=le==8?String.fromCharCode(rt):C(rt));return Et?ue:"0"}function E(){var fe=y();return h.ZERO.subTo(this,fe),fe}function B(){return this.s<0?this.negate():this}function M(fe){var le=this.s-fe.s;if(le!=0)return le;var ye=this.t;if(le=ye-fe.t,le!=0)return le;for(;--ye>=0;)if((le=this[ye]-fe[ye])!=0)return le;return 0}function P(fe){var le=1,ye;return(ye=fe>>>16)!=0&&(fe=ye,le+=16),(ye=fe>>8)!=0&&(fe=ye,le+=8),(ye=fe>>4)!=0&&(fe=ye,le+=4),(ye=fe>>2)!=0&&(fe=ye,le+=2),(ye=fe>>1)!=0&&(fe=ye,le+=1),le}function $(){return this.t<=0?0:this.DB*(this.t-1)+P(this[this.t-1]^this.s&this.DM)}function ee(fe,le){var ye;for(ye=this.t-1;ye>=0;--ye)le[ye+fe]=this[ye];for(ye=fe-1;ye>=0;--ye)le[ye]=0;le.t=this.t+fe,le.s=this.s}function K(fe,le){for(var ye=fe;ye<this.t;++ye)le[ye-fe]=this[ye];le.t=Math.max(this.t-fe,0),le.s=this.s}function X(fe,le){var ye=fe%this.DB,rt=this.DB-ye,Et=(1<<rt)-1,ue=Math.floor(fe/this.DB),Kt=this.s<<ye&this.DM,He;for(He=this.t-1;He>=0;--He)le[He+ue+1]=this[He]>>rt|Kt,Kt=(this[He]&Et)<<ye;for(He=ue-1;He>=0;--He)le[He]=0;le[ue]=Kt,le.t=this.t+ue+1,le.s=this.s,le.clamp()}function Y(fe,le){le.s=this.s;var ye=Math.floor(fe/this.DB);if(ye>=this.t){le.t=0;return}var rt=fe%this.DB,Et=this.DB-rt,ue=(1<<rt)-1;le[0]=this[ye]>>rt;for(var Kt=ye+1;Kt<this.t;++Kt)le[Kt-ye-1]|=(this[Kt]&ue)<<Et,le[Kt-ye]=this[Kt]>>rt;rt>0&&(le[this.t-ye-1]|=(this.s&ue)<<Et),le.t=this.t-ye,le.clamp()}function Q(fe,le){for(var ye=0,rt=0,Et=Math.min(fe.t,this.t);ye<Et;)rt+=this[ye]-fe[ye],le[ye++]=rt&this.DM,rt>>=this.DB;if(fe.t<this.t){for(rt-=fe.s;ye<this.t;)rt+=this[ye],le[ye++]=rt&this.DM,rt>>=this.DB;rt+=this.s}else{for(rt+=this.s;ye<fe.t;)rt-=fe[ye],le[ye++]=rt&this.DM,rt>>=this.DB;rt-=fe.s}le.s=rt<0?-1:0,rt<-1?le[ye++]=this.DV+rt:rt>0&&(le[ye++]=rt),le.t=ye,le.clamp()}function te(fe,le){var ye=this.abs(),rt=fe.abs(),Et=ye.t;for(le.t=Et+rt.t;--Et>=0;)le[Et]=0;for(Et=0;Et<rt.t;++Et)le[Et+ye.t]=ye.am(0,rt[Et],le,Et,0,ye.t);le.s=0,le.clamp(),this.s!=fe.s&&h.ZERO.subTo(le,le)}function ge(fe){for(var le=this.abs(),ye=fe.t=2*le.t;--ye>=0;)fe[ye]=0;for(ye=0;ye<le.t-1;++ye){var rt=le.am(ye,le[ye],fe,2*ye,0,1);(fe[ye+le.t]+=le.am(ye+1,2*le[ye],fe,2*ye+1,rt,le.t-ye-1))>=le.DV&&(fe[ye+le.t]-=le.DV,fe[ye+le.t+1]=1)}fe.t>0&&(fe[fe.t-1]+=le.am(ye,le[ye],fe,2*ye,0,1)),fe.s=0,fe.clamp()}function re(fe,le,ye){var rt=fe.abs();if(!(rt.t<=0)){var Et=this.abs();if(Et.t<rt.t){le!=null&&le.fromInt(0),ye!=null&&this.copyTo(ye);return}ye==null&&(ye=y());var ue=y(),Kt=this.s,He=fe.s,Ct=this.DB-P(rt[rt.t-1]);Ct>0?(rt.lShiftTo(Ct,ue),Et.lShiftTo(Ct,ye)):(rt.copyTo(ue),Et.copyTo(ye));var Xt=ue.t,me=ue[Xt-1];if(me!=0){var Se=me*(1<<this.F1)+(Xt>1?ue[Xt-2]>>this.F2:0),ut=this.FV/Se,Z=(1<<this.F1)/Se,vt=1<<this.F2,Yt=ye.t,Un=Yt-Xt,ke=le??y();for(ue.dlShiftTo(Un,ke),ye.compareTo(ke)>=0&&(ye[ye.t++]=1,ye.subTo(ke,ye)),h.ONE.dlShiftTo(Xt,ke),ke.subTo(ue,ue);ue.t<Xt;)ue[ue.t++]=0;for(;--Un>=0;){var Xe=ye[--Yt]==me?this.DM:Math.floor(ye[Yt]*ut+(ye[Yt-1]+vt)*Z);if((ye[Yt]+=ue.am(0,Xe,ye,Un,0,Xt))<Xe)for(ue.dlShiftTo(Un,ke),ye.subTo(ke,ye);ye[Yt]<--Xe;)ye.subTo(ke,ye)}le!=null&&(ye.drShiftTo(Xt,le),Kt!=He&&h.ZERO.subTo(le,le)),ye.t=Xt,ye.clamp(),Ct>0&&ye.rShiftTo(Ct,ye),Kt<0&&h.ZERO.subTo(ye,ye)}}}function _e(fe){var le=y();return this.abs().divRemTo(fe,null,le),this.s<0&&le.compareTo(h.ZERO)>0&&fe.subTo(le,le),le}function $e(fe){this.m=fe}function oe(fe){return fe.s<0||fe.compareTo(this.m)>=0?fe.mod(this.m):fe}function ie(fe){return fe}function xe(fe){fe.divRemTo(this.m,null,fe)}function he(fe,le,ye){fe.multiplyTo(le,ye),this.reduce(ye)}function Ce(fe,le){fe.squareTo(le),this.reduce(le)}$e.prototype.convert=oe,$e.prototype.revert=ie,$e.prototype.reduce=xe,$e.prototype.mulTo=he,$e.prototype.sqrTo=Ce;function qe(){if(this.t<1)return 0;var fe=this[0];if(!(fe&1))return 0;var le=fe&3;return le=le*(2-(fe&15)*le)&15,le=le*(2-(fe&255)*le)&255,le=le*(2-((fe&65535)*le&65535))&65535,le=le*(2-fe*le%this.DV)%this.DV,le>0?this.DV-le:-le}function we(fe){this.m=fe,this.mp=fe.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<fe.DB-15)-1,this.mt2=2*fe.t}function Re(fe){var le=y();return fe.abs().dlShiftTo(this.m.t,le),le.divRemTo(this.m,null,le),fe.s<0&&le.compareTo(h.ZERO)>0&&this.m.subTo(le,le),le}function Ze(fe){var le=y();return fe.copyTo(le),this.reduce(le),le}function it(fe){for(;fe.t<=this.mt2;)fe[fe.t++]=0;for(var le=0;le<this.m.t;++le){var ye=fe[le]&32767,rt=ye*this.mpl+((ye*this.mph+(fe[le]>>15)*this.mpl&this.um)<<15)&fe.DM;for(ye=le+this.m.t,fe[ye]+=this.m.am(0,rt,fe,le,0,this.m.t);fe[ye]>=fe.DV;)fe[ye]-=fe.DV,fe[++ye]++}fe.clamp(),fe.drShiftTo(this.m.t,fe),fe.compareTo(this.m)>=0&&fe.subTo(this.m,fe)}function De(fe,le){fe.squareTo(le),this.reduce(le)}function Ie(fe,le,ye){fe.multiplyTo(le,ye),this.reduce(ye)}we.prototype.convert=Re,we.prototype.revert=Ze,we.prototype.reduce=it,we.prototype.mulTo=Ie,we.prototype.sqrTo=De;function nt(){return(this.t>0?this[0]&1:this.s)==0}function lt(fe,le){if(fe>4294967295||fe<1)return h.ONE;var ye=y(),rt=y(),Et=le.convert(this),ue=P(fe)-1;for(Et.copyTo(ye);--ue>=0;)if(le.sqrTo(ye,rt),(fe&1<<ue)>0)le.mulTo(rt,Et,ye);else{var Kt=ye;ye=rt,rt=Kt}return le.revert(ye)}function Ot(fe,le){var ye;return fe<256||le.isEven()?ye=new $e(le):ye=new we(le),this.exp(fe,ye)}h.prototype.copyTo=L,h.prototype.fromInt=R,h.prototype.fromString=F,h.prototype.clamp=O,h.prototype.dlShiftTo=ee,h.prototype.drShiftTo=K,h.prototype.lShiftTo=X,h.prototype.rShiftTo=Y,h.prototype.subTo=Q,h.prototype.multiplyTo=te,h.prototype.squareTo=ge,h.prototype.divRemTo=re,h.prototype.invDigit=qe,h.prototype.isEven=nt,h.prototype.exp=lt,h.prototype.toString=N,h.prototype.negate=E,h.prototype.abs=B,h.prototype.compareTo=M,h.prototype.bitLength=$,h.prototype.mod=_e,h.prototype.modPowInt=Ot,h.ZERO=G(0),h.ONE=G(1)},"./adblockpluscore/lib/matcher.js":(f,d,c)=>{const{RESOURCE_TYPES:h,SPECIAL_TYPES:y,ALLOWING_TYPES:w,contentTypes:k,enumerateTypes:A}=c("./adblockpluscore/lib/contentTypes.js"),{compilePatterns:S}=c("./adblockpluscore/lib/patterns.js"),{domainSuffixes:T,URLRequest:I}=c("./adblockpluscore/lib/url.js"),{Filter:j}=c("./adblockpluscore/lib/filterClasses.js"),{FiltersByDomain:V,FilterMap:C}=c("./adblockpluscore/lib/filtersByDomain.js"),{Cache:q}=c("./adblockpluscore/lib/caching.js");let L=(M,P)=>{let $=M.get(P);return $?$ instanceof j?1:$.length:0},R=(M,P)=>{let $=M.get(P);return $?$ instanceof j?[$]:$:Array.prototype};function G(M){return M=="https"||M=="http"||M=="com"||M=="js"}function F(M,P,$){let ee=$.get(P);ee?ee instanceof j?$.set(P,[ee,M]):ee.push(M):$.set(P,M)}function O(M,P,$){let ee=$.get(P);if(ee)if(ee instanceof j)ee==M&&$.delete(P);else{let K=ee.findIndex(X=>X===M);K>=0&&(ee.splice(K,1),ee.length===1&&$.set(P,ee[0]))}}function N(M,P,$,ee,K){if(M.matches(P,$,ee)){if(!K)return M;K.push(M)}return null}d.isSlowFilter=function(P){return!P.urlPattern.hasKeywords()};let E=d.Matcher=class{constructor(){this._keywordByFilter=new Map,this._simpleFiltersByKeyword=new Map,this._complexFiltersByKeyword=new Map,this._compiledPatternsByKeyword=new Map,this._keywordlessCompiledPatterns=!1,this._filterDomainMapsByKeyword=new Map,this._filterMapsByType=new Map}clear(){this._keywordByFilter.clear(),this._simpleFiltersByKeyword.clear(),this._complexFiltersByKeyword.clear(),this._compiledPatternsByKeyword.clear(),this._keywordlessCompiledPatterns=!1,this._filterDomainMapsByKeyword.clear(),this._filterMapsByType.clear()}add(P){if(this._keywordByFilter.has(P))return;let $=this.findKeyword(P),ee=P.contentType==h&&P.isGeneric();if(F(P,$,ee?this._simpleFiltersByKeyword:this._complexFiltersByKeyword),this._keywordByFilter.set(P,$),ee){this._compiledPatternsByKeyword.size>0&&this._compiledPatternsByKeyword.delete($);return}$==""&&(this._keywordlessCompiledPatterns=!1);for(let Y of A(P.contentType,y)){let Q=this._filterMapsByType.get(Y);Q||this._filterMapsByType.set(Y,Q=new Map),F(P,$,Q)}let{domains:K}=P,X=this._filterDomainMapsByKeyword.get($);if(X)X instanceof V||(X=new V([["",X]]),this._filterDomainMapsByKeyword.set($,X));else{if(!K){this._filterDomainMapsByKeyword.set($,P);return}X=new V,this._filterDomainMapsByKeyword.set($,X)}X.add(P,K)}remove(P){let $=this._keywordByFilter.get(P);if(typeof $>"u")return;let ee=P.contentType==h&&P.isGeneric();if(O(P,$,ee?this._simpleFiltersByKeyword:this._complexFiltersByKeyword),this._keywordByFilter.delete(P),ee){this._compiledPatternsByKeyword.size>0&&this._compiledPatternsByKeyword.delete($);return}$==""&&(this._keywordlessCompiledPatterns=!1);for(let X of A(P.contentType,y)){let Y=this._filterMapsByType.get(X);Y&&O(P,$,Y)}let K=this._filterDomainMapsByKeyword.get($);if(K){if(!(K instanceof V)){this._filterDomainMapsByKeyword.delete($);return}if(K.remove(P),K.size==0)this._filterDomainMapsByKeyword.delete($);else if(K.size==1)for(let[X,Y]of K.entries()){X==""&&!(Y instanceof C)&&this._filterDomainMapsByKeyword.set($,Y);break}}}has(P){return this._keywordByFilter.has(P)}findKeyword(P){let $="",ee=P.urlPattern.keywordCandidates();if(!ee)return $;let K=16777215,X=0;for(let Y=0,Q=ee.length;Y<Q;Y++){let te=ee[Y].substring(1);if(G(te))continue;let ge=L(this._simpleFiltersByKeyword,te),re=L(this._complexFiltersByKeyword,te),_e=ge+re;(_e<K||_e==K&&te.length>X)&&($=te,K=_e,X=te.length)}return $}_matchFiltersByDomain(P,$,ee,K,X,Y){let Q=null,te=$.documentHostname||"";for(let ge of T(te,!X)){let re=P.get(ge);if(re){if(re instanceof C){for(let[_e,$e]of re.entries())if(!$e)Q?Q.add(_e):Q=new Set([_e]);else if((!Q||!Q.has(_e))&&N(_e,$,ee,K,Y))return _e}else if((!Q||!Q.has(re))&&N(re,$,ee,K,Y))return re}}return null}_checkEntryMatchSimpleQuickCheck(P,$,ee){let K=this._compiledPatternsByKeyword.get(P);return typeof K>"u"&&(K=S(ee),this._compiledPatternsByKeyword.set(P,K)),!K||K.test($)}_checkEntryMatchSimple(P,$,ee){let K=R(this._simpleFiltersByKeyword,P),{length:X}=K;if(X&&(X===1||this._checkEntryMatchSimpleQuickCheck(P,$,K))){for(let Y of K)if(N(Y,$,h,null,ee))return Y}return null}_checkEntryMatchForType(P,$,ee,K,X,Y){let Q=this._filterMapsByType.get(ee&y);if(Q){for(let te of R(Q,P))if(!(X&&te.isGeneric())&&N(te,$,ee,K,Y))return te}return null}_checkEntryMatchByDomain(P,$,ee,K,X,Y){let Q=this._filterDomainMapsByKeyword.get(P);if(Q){if(Q instanceof V){if(P==""&&!X){let te=this._keywordlessCompiledPatterns;if(te==!1){let ge=Q.get("");ge instanceof C&&(te=S([...ge.keys()])),this._keywordlessCompiledPatterns=te||null}te&&!te.test($)&&(X=!0)}return this._matchFiltersByDomain(Q,$,ee,K,X,Y)}if(!X)return N(Q,$,ee,K,Y)}return null}checkEntryMatch(P,$,ee,K,X,Y){if(!X&&ee&h){let Q=this._checkEntryMatchSimple(P,$,Y);if(Q)return Q}return ee&y&&(!(ee&ee-1)||(ee&h)==k.OTHER)?this._checkEntryMatchForType(P,$,ee,K,X,Y):this._checkEntryMatchByDomain(P,$,ee,K,X,Y)}matchesAny(P,$,ee,K,X){return this.match(P,$,ee,K,X)}match(P,$,ee,K,X){let Y=I.from(P,ee),Q=Y.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g);for(let te=0,ge=Q.length;te<ge;te++){if(G(Q[te]))continue;let re=this.checkEntryMatch(Q[te],Y,$,K,X);if(re)return re}return null}};class B{constructor(){this._blocking=new E,this._allowing=new E,this._resultCache=new q(1e4)}clear(){this._blocking.clear(),this._allowing.clear(),this._resultCache.clear()}add(P){P.type=="allowing"?this._allowing.add(P):this._blocking.add(P),this._resultCache.clear()}remove(P){P.type=="allowing"?this._allowing.remove(P):this._blocking.remove(P),this._resultCache.clear()}has(P){return P.type=="allowing"?this._allowing.has(P):this._blocking.has(P)}findKeyword(P){return P.type=="allowing"?this._allowing.findKeyword(P):this._blocking.findKeyword(P)}_matchInternal(P,$,ee,K,X,Y){let Q=I.from(P,ee),te=Q.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g).filter(ie=>!G(ie)),ge=($&~w)==0,re=null,_e=null,$e=()=>{for(let ie=0,xe=te.length;!re&&ie<xe;ie++)re=this._allowing.checkEntryMatch(te[ie],Q,$,K)},oe=()=>{for(let ie=0,xe=te.length;!_e&&ie<xe;ie++)_e=this._blocking.checkEntryMatch(te[ie],Q,$,K,X)};return Y?($e(),!re&&!ge&&oe()):ge?$e():(oe(),_e&&$e()),re||_e}_searchInternal(P,$,ee,K,X,Y){let Q={},te=Y=="blocking"||Y=="all",ge=Y=="allowing"||Y=="all";te&&(Q.blocking=[]),ge&&(Q.allowing=[]),$&~w||(te=!1);let re=I.from(P,ee),_e=re.lowerCaseHref.match(/[a-z0-9%]{2,}|$/g);for(let $e=0,oe=_e.length;$e<oe;$e++)G(_e[$e])||(te&&this._blocking.checkEntryMatch(_e[$e],re,$,K,X,Q.blocking),ge&&this._allowing.checkEntryMatch(_e[$e],re,$,K,!1,Q.allowing));return Q}matchesAny(P,$,ee,K,X){return this.match(P,$,ee,K,X)}match(P,$,ee,K,X,Y=!1){let Q=`${P} ${$} ${ee} ${K} ${X} ${Y}`,te=this._resultCache.get(Q);return typeof te<"u"||(te=this._matchInternal(P,$,ee,K,X,Y),this._resultCache.set(Q,te)),te}search(P,$,ee,K,X,Y="all"){let Q=`* ${P} ${$} ${ee} ${K} ${X} ${Y}`,te=this._resultCache.get(Q);return typeof te<"u"||(te=this._searchInternal(P,$,ee,K,X,Y),this._resultCache.set(Q,te)),te}isAllowlisted(P,$,ee,K){return!!this._allowing.match(P,$,ee,K)}}d.CombinedMatcher=B,d.newDefaultMatcher=function(){return new B}},"./adblockpluscore/lib/notifications.js":(f,d,c)=>{const{Prefs:h}=c("./src/background/prefs.js"),{MILLIS_IN_MINUTE:y,MILLIS_IN_HOUR:w,MILLIS_IN_DAY:k}=c("./adblockpluscore/lib/time.js"),{Downloader:A,Downloadable:S}=c("./adblockpluscore/lib/downloader.js"),{compareVersions:T}=c("./adblockpluscore/lib/versions.js"),{analytics:I}=c("./adblockpluscore/lib/analytics.js"),{EventEmitter:j}=c("./adblockpluscore/lib/events.js"),V=1*y,C=1*w,q=1*k;let L=(B,M)=>B in h?h[B]:M;const R="en-US";function G(B){switch(B.type){case"information":return 0;case"newtab":case"relentless":return 1;case"critical":return 2}return 0}function F(B="notificationdata"){h[B]=JSON.parse(JSON.stringify(h[B]))}function O(B,M){if(M in B)return B[M];let P=M.substring(0,M.indexOf("-"));return P&&P in B?B[P]:B[R]}function N(B){return!(B.type=="newtab"&&!(B.links&&B.links.length>0))}class E extends j{constructor(){super(),this._started=!1,this.ignored=!1,this.locale=R,this.numBlocked=null,this._showListeners=new Set,this._localNotifications=new Set,this._downloader=new A(this._getDownloadables.bind(this)),this._downloader.onExpirationChange=this._onExpirationChange.bind(this),this._downloader.onDownloadSuccess=this._onDownloadSuccess.bind(this),this._downloader.onDownloadError=this._onDownloadError.bind(this),this._onBlockedTotal=this._onBlockedTotal.bind(this)}start(){this._started||(h.on("blocked_total",this._onBlockedTotal),this._downloader.scheduleChecks(L("notifications_check_interval",C),L("notifications_initial_delay",V)),this._started=!0)}stop(){this._started=!1,this._downloader.unscheduleChecks(),h.off("blocked_total",this._onBlockedTotal)}setLocalNotificationStorage(M){if(this._localNotifications!=M){for(let P of this._localNotifications)M.add(P);this._localNotifications=M}}*_getDownloadables(){let{notificationurl:M,notificationdata:P}=h,$=new S(M);I.isTrusted(M)&&($.firstVersion=I.getFirstVersion()),typeof P.lastError=="number"&&($.lastError=P.lastError),typeof P.lastCheck=="number"&&($.lastCheck=P.lastCheck),typeof P.data=="object"&&"version"in P.data&&($.lastVersion=P.data.version),typeof P.softExpiration=="number"&&($.softExpiration=P.softExpiration),typeof P.hardExpiration=="number"&&($.hardExpiration=P.hardExpiration),typeof P.downloadCount=="number"&&($.downloadCount=P.downloadCount),yield $}_onExpirationChange(M){h.notificationdata.lastCheck=M.lastCheck,h.notificationdata.softExpiration=M.softExpiration,h.notificationdata.hardExpiration=M.hardExpiration,F()}_onDownloadSuccess(M,P,$,ee){try{let X=JSON.parse(P);typeof X.version=="string"&&I.isTrusted(M.redirectURL||M.url)&&I.recordVersion(X.version);let Y=[];for(let Q of X.notifications){if(!N(Q)){console.warn(`Invalid notification with ID "${Q.id}"`);continue}"severity"in Q&&("type"in Q||(Q.type=Q.severity),delete Q.severity),Y.push(Q)}X.notifications=Y,h.notificationdata.data=X}catch(X){console.warn(X),$("synchronize_invalid_data");return}let K=L("notifications_expiration_interval",q);h.notificationdata.lastError=0,h.notificationdata.downloadStatus="synchronize_ok",[h.notificationdata.softExpiration,h.notificationdata.hardExpiration]=this._downloader.processExpirationInterval(K),h.notificationdata.downloadCount=M.downloadCount,F(),this.emit("downloaded"),this.showNext()}_onDownloadError(M,P,$,ee,K){h.notificationdata.lastError=Date.now(),h.notificationdata.downloadStatus=$,F()}_onBlockedTotal(){this.showNext()}addShowListener(M){this._showListeners.add(M)}removeShowListener(M){this._showListeners.delete(M)}shouldIgnoreNotifications(){return this.ignored||h.notifications_ignoredcategories.includes("*")}_getNotifications(){let M=[];return typeof h.notificationdata.data=="object"&&h.notificationdata.data.notifications instanceof Array&&(M=h.notificationdata.data.notifications),[...this._localNotifications,...M]}_getNextToShow(){let M=this._getNotifications();if(M.length==0)return null;const{addonName:P,addonVersion:$,application:ee,applicationVersion:K,platform:X,platformVersion:Y}=c("./src/background/info.js");let{numBlocked:Q}=this;"blocked_total"in h&&(Q=h.blocked_total),h.show_statsinpopup===!1&&(Q=null);let te={extension:re=>re==P,extensionMinVersion:re=>T($,re)>=0,extensionMaxVersion:re=>T($,re)<=0,application:re=>re==ee,applicationMinVersion:re=>T(K,re)>=0,applicationMaxVersion:re=>T(K,re)<=0,platform:re=>re==X,platformMinVersion:re=>T(Y,re)>=0,platformMaxVersion:re=>T(Y,re)<=0,blockedTotalMin:re=>Q!=null&&Q>=re,blockedTotalMax:re=>Q!=null&&Q<=re,locales:re=>re.includes(this.locale)},ge=null;for(let re of M){if(re.type!="critical"){let _e;if(typeof h.notificationdata.shown=="object"&&(_e=h.notificationdata.shown[re.id]),typeof _e<"u"){if(typeof re.interval=="number"){if(_e+re.interval>Date.now())continue}else if(_e)continue}if(re.type!="relentless"&&this.shouldIgnoreNotifications())continue}if(re.targets instanceof Array){let _e=!1;for(let $e of re.targets)if(Object.keys($e).every(ie=>Object.prototype.hasOwnProperty.call(te,ie)&&te[ie]($e[ie]))){_e=!0;break}if(!_e)continue}(!ge||G(re)>G(ge))&&(ge=re)}return ge}showNotification(M,P={}){if(!(P.ignorable&&this.shouldIgnoreNotifications()))for(let $ of this._showListeners)$(M)}showNext(){let M=this._getNextToShow();if(M)for(let P of this._showListeners)P(M)}markAsShown(M){if(!this._getNotifications().some(K=>K.id==M))return;let $=Date.now(),ee=h.notificationdata;if(ee.shown instanceof Array){let K={};for(let X of ee.shown)K[X]=$;ee.shown=K}typeof ee.shown!="object"&&(ee.shown={}),ee.shown[M]=$,F()}getLocalizedTexts(M){let P=["title","message"],$={};for(let ee of P)ee in M&&(typeof M[ee]=="string"?$[ee]=M[ee]:$[ee]=O(M[ee],this.locale));return $}addNotification(M){if(!N(M))throw new Error(`Invalid notification with ID "${M.id}"`);this._localNotifications.add(M)}removeNotification(M){this._localNotifications.delete(M)}toggleIgnoreCategory(M,P){let $=h.notifications_ignoredcategories,ee=$.indexOf(M);ee==-1&&P!=!1?($.push(M),h.notifications_ignoredcategories=$,this.emit("ignored-category-added",M)):ee!=-1&&P!=!0&&($.splice(ee,1),h.notifications_ignoredcategories=$,this.emit("ignored-category-removed",M)),F("notifications_ignoredcategories")}getDownloadCount(){return h.notificationdata.downloadCount||0}getIgnoredCategories(){return h.notifications_ignoredcategories}}d.notifications=new E},"./adblockpluscore/lib/patterns.js":(f,d)=>{let h=/[\x00-\x24\x26-\x2C\x2F\x3A-\x40\x5B-\x5E\x60\x7B-\x7F]/,y=d.filterToRegExp=function(I){return I=I.replace(/\*+/g,"*"),I[0]=="*"&&(I=I.substring(1)),I[I.length-1]=="*"&&(I=I.substring(0,I.length-1)),I.replace(/\^\|$/,"^").replace(/\W/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\^/g,`(?:${h.source}|$)`).replace(/^\\\|\\\|/,"^[\\w\\-]+:\\/+(?:[^\\/]+\\.)?").replace(/^\\\|/,"^").replace(/\\\|$/,"$")},w=new RegExp(y("||")+"$"),k=/[^a-z0-9%*][a-z0-9%]{2,}(?=[^a-z0-9%*])/,A=new RegExp(k,"g");class S{constructor(I,j){this._caseSensitive=I,this._caseInsensitive=j}test(I){return this._caseSensitive&&this._caseSensitive.test(I.href)||this._caseInsensitive&&this._caseInsensitive.test(I.lowerCaseHref)}}d.compilePatterns=function(I){if((Array.isArray(I)?I:[I]).length>100)return null;let V="",C="";for(let R of I){let G=R.urlPattern.regexpSource;R.matchCase?V+=G+"|":C+=G+"|"}let q=null,L=null;try{V&&(q=new RegExp(V.slice(0,-1))),C&&(L=new RegExp(C.slice(0,-1)))}catch{return null}return new S(q,L)},d.Pattern=class{constructor(I,j){this.matchCase=j||!1,this.matchCase||(I=I.toLowerCase()),I.length>=2&&I[0]=="/"&&I[I.length-1]=="/"?(I=I.substring(1,I.length-1),this._regexp=new RegExp(I)):(I=I.replace(/^\*+/,"").replace(/\*+$/,""),this.pattern=I)}isLiteralPattern(){return typeof this.pattern<"u"&&!/[*^|]/.test(this.pattern.replace(/^\|{1,2}/,"").replace(/[|^]$/,""))}get regexp(){return typeof this._regexp>"u"&&(this._regexp=this.isLiteralPattern()?null:new RegExp(y(this.pattern))),this._regexp}get regexpSource(){return this._regexp?this._regexp.source:y(this.pattern)}matchesLocation(I){let j=this.matchCase?I.href:I.lowerCaseHref,V=this.regexp;if(V)return V.test(j);let C=this.pattern,q=C[0]=="|",L=q&&C[1]=="|",R=C[C.length-1]=="^",G=!R&&C[C.length-1]=="|";L?C=C.substr(2):q&&(C=C.substr(1)),(R||G)&&(C=C.slice(0,-1));let F=j.indexOf(C);for(;F!=-1;){if((L?j[F]!="/"&&w.test(j.substring(0,F)):!q||F==0)&&(R?!j[F+C.length]||h.test(j[F+C.length]):!G||F==j.length-C.length)||C=="")return!0;F=j.indexOf(C,F+1)}return!1}hasKeywords(){return this.pattern&&k.test(this.pattern)}keywordCandidates(){return this.pattern?this.pattern.toLowerCase().match(A):null}}},"./adblockpluscore/lib/polyfill.js":()=>{Promise.prototype.finally||(Promise.prototype.finally=function(f){return this.then(f,f)})},"./adblockpluscore/lib/recommendations.js":(f,d,c)=>{class h{constructor(k){this._source=k}get id(){return this._source.id}get requires(){return this._source.requires}get type(){return this._source.type}get languages(){return this._source.languages?[...this._source.languages]:[]}get title(){return this._source.title}get url(){return this._source.url}get homepage(){return this._source.homepage}get mv2URL(){return this._source.mv2_url}get diffURL(){return this._source.diff_url}get expires(){return this._source.expires}get privileged(){return this._source.privileged}}let y=null;d.setRecommendations=function(w){y=w},d.recommendations=function(){return y||(y=c("./adblockpluscore/data/subscriptions.json")),y.map(k=>new h(k))},d.Recommendation=h},"./adblockpluscore/lib/rsa.js":(f,d,c)=>{const h=c("./adblockpluscore/lib/rusha.js"),{BigInteger:y}=c("./adblockpluscore/lib/jsbn.js");let w=d.base64ToArrayBuffer=function(G){let F=atob(G);return Uint8Array.from(F,O=>O.charCodeAt(0))};d.arrayBufferToBase64=function(G){let F="",O=new Uint8Array(G);for(let N=0;N<O.byteLength;N++)F+=String.fromCharCode(O[N]);return btoa(F)},d.verifySignature=async function(G,F,O){let N={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};try{return await crypto.subtle.verify(N,await crypto.subtle.importKey("spki",w(G),N,!0,["verify"]),w(F),new TextEncoder().encode(O))}catch({message:E}){return console.warn("Invalid encrypted signature: "+E),!1}};function k(...R){return{type:48,children:R}}function A(R){return{type:6,content:R}}function S(R){return{type:3,encapsulates:R}}function T(R){return{type:2,out:R}}function I(R){return{type:4,out:R}}let j=k(k(A("*H÷\r"),{}),S(k(T("n"),T("e")))),V=k(k(A("+"),{}),I("sha1"));function C(R,G){let F=0;function O(){return R.charCodeAt(F++)}function N(){let M=O();if(M&128){let P=M&127;if(P>2||P==0)throw"Unsupported length";M=0;for(let $=0;$<P;$++)M+=O()<<(P-1-$)*8;return M}return M}function E(M){let P=O(),$=N();if("type"in M&&M.type!=P)throw"Unexpected type";if("content"in M&&M.content!=R.substring(F,F+$))throw"Unexpected content";if("out"in M&&(B[M.out]=new y(R.substring(F,F+$),256)),"children"in M){let ee,K;for(ee=0,K=F+$;F<K;ee++){if(ee>=M.children.length)throw"Too many children";E(M.children[ee])}if(ee<M.children.length)throw"Too few children";if(F>K)throw"Children too large"}else if("encapsulates"in M){if(O()!=0)throw"Encapsulation expected";E(M.encapsulates)}else F+=$}let B={};if(E(G),F!=R.length)throw"Too much data";return B}function q(R){try{return C(atob(R),j)}catch(G){return console.warn("Invalid RSA public key: "+G),null}}let L;d.verifySignatureSync=function(G,F,O){typeof L>"u"&&(L=new h);let N=q(G);if(!N)return!1;N.e=parseInt(N.e.toString(16),16);let B=new y(atob(F),256).modPowInt(N.e,N.n).toString(256);try{let M=0,P=()=>B.charCodeAt(M++);if(P()!=1)throw"Wrong padding in signature digest";for(;P()==255;);if(B.charCodeAt(M-1)!=0)throw"Wrong padding in signature digest";let{sha1:$}=C(B.substring(M),V),ee=new y(L.digest(O),16);return $.compareTo(ee)==0}catch(M){return console.warn("Invalid encrypted signature: "+M),!1}}},"./adblockpluscore/lib/rusha.js":(f,d,c)=>{(function(){var h={getDataType:function(A){if(typeof A=="string")return"string";if(A instanceof Array)return"array";if(typeof c.g<"u"&&c.g.Buffer&&c.g.Buffer.isBuffer(A))return"buffer";if(A instanceof ArrayBuffer)return"arraybuffer";if(A.buffer instanceof ArrayBuffer)return"view";if(A instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};function y(A){for(var S={fill:0},T=function(K){for(K+=9;K%64>0;K+=1);return K},I=function(K,X){for(var Y=X>>2;Y<K.length;Y++)K[Y]=0},j=function(K,X,Y){K[X>>2]|=128<<24-(X%4<<3),K[((X>>2)+2&-16)+14]=Y/(1<<29)|0,K[((X>>2)+2&-16)+15]=Y<<3},V=function(K,X,Y,Q,te){var ge=this,re,_e=te%4,$e=Q%4,oe=Q-$e;if(oe>0)switch(_e){case 0:K[te+3|0]=ge.charCodeAt(Y);case 1:K[te+2|0]=ge.charCodeAt(Y+1);case 2:K[te+1|0]=ge.charCodeAt(Y+2);case 3:K[te|0]=ge.charCodeAt(Y+3)}for(re=_e;re<oe;re=re+4|0)X[te+re>>2]=ge.charCodeAt(Y+re)<<24|ge.charCodeAt(Y+re+1)<<16|ge.charCodeAt(Y+re+2)<<8|ge.charCodeAt(Y+re+3);switch($e){case 3:K[te+oe+1|0]=ge.charCodeAt(Y+oe+2);case 2:K[te+oe+2|0]=ge.charCodeAt(Y+oe+1);case 1:K[te+oe+3|0]=ge.charCodeAt(Y+oe)}},C=function(K,X,Y,Q,te){var ge=this,re,_e=te%4,$e=Q%4,oe=Q-$e;if(oe>0)switch(_e){case 0:K[te+3|0]=ge[Y];case 1:K[te+2|0]=ge[Y+1];case 2:K[te+1|0]=ge[Y+2];case 3:K[te|0]=ge[Y+3]}for(re=4-_e;re<oe;re=re+=4)X[te+re>>2]=ge[Y+re]<<24|ge[Y+re+1]<<16|ge[Y+re+2]<<8|ge[Y+re+3];switch($e){case 3:K[te+oe+1|0]=ge[Y+oe+2];case 2:K[te+oe+2|0]=ge[Y+oe+1];case 1:K[te+oe+3|0]=ge[Y+oe]}},q=function(K,X,Y,Q,te){var ge=this,re,_e=te%4,$e=Q%4,oe=Q-$e,ie=new Uint8Array(w.readAsArrayBuffer(ge.slice(Y,Y+Q)));if(oe>0)switch(_e){case 0:K[te+3|0]=ie[0];case 1:K[te+2|0]=ie[1];case 2:K[te+1|0]=ie[2];case 3:K[te|0]=ie[3]}for(re=4-_e;re<oe;re=re+=4)X[te+re>>2]=ie[re]<<24|ie[re+1]<<16|ie[re+2]<<8|ie[re+3];switch($e){case 3:K[te+oe+1|0]=ie[oe+2];case 2:K[te+oe+2|0]=ie[oe+1];case 1:K[te+oe+3|0]=ie[oe]}},L=function(K){switch(h.getDataType(K)){case"string":return V.bind(K);case"array":return C.bind(K);case"buffer":return C.bind(K);case"arraybuffer":return C.bind(new Uint8Array(K));case"view":return C.bind(new Uint8Array(K.buffer,K.byteOffset,K.byteLength));case"blob":return q.bind(K)}},R=new Array(256),G=0;G<256;G++)R[G]=(G<16?"0":"")+G.toString(16);var F=function(K){for(var X=new Uint8Array(K),Y=new Array(K.byteLength),Q=0;Q<Y.length;Q++)Y[Q]=R[X[Q]];return Y.join("")},O=function(K){var X;if(K<=65536)return 65536;if(K<16777216)for(X=1;X<K;X=X<<1);else for(X=16777216;X<K;X+=16777216);return X},N=function(K){if(K%64>0)throw new Error("Chunk size must be a multiple of 128 bit");S.maxChunkLen=K,S.padMaxChunkLen=T(K),S.heap=new ArrayBuffer(O(S.padMaxChunkLen+320+20)),S.h32=new Int32Array(S.heap),S.h8=new Int8Array(S.heap),S.core=new y._core({Int32Array,DataView},{},S.heap),S.buffer=null};N(A||65536);var E=function(K,X){var Y=new Int32Array(K,X+320,5);Y[0]=1732584193,Y[1]=-271733879,Y[2]=-1732584194,Y[3]=271733878,Y[4]=-1009589776},B=function(K,X){var Y=T(K),Q=new Int32Array(S.heap,0,Y>>2);return I(Q,K),j(Q,K,X),Y},M=function(K,X,Y){L(K)(S.h8,S.h32,X,Y,0)},P=function(K,X,Y,Q,te){var ge=Y;te&&(ge=B(Y,Q)),M(K,X,Y),S.core.hash(ge,S.padMaxChunkLen)},$=function(K,X){var Y=new Int32Array(K,X+320,5),Q=new Int32Array(5),te=new DataView(Q.buffer);return te.setInt32(0,Y[0],!1),te.setInt32(4,Y[1],!1),te.setInt32(8,Y[2],!1),te.setInt32(12,Y[3],!1),te.setInt32(16,Y[4],!1),Q},ee=this.rawDigest=function(K){var X=K.byteLength||K.length||K.size||0;E(S.heap,S.padMaxChunkLen);var Y=0,Q=S.maxChunkLen;for(Y=0;X>Y+Q;Y+=Q)P(K,Y,Q,X,!1);return P(K,Y,X-Y,X,!0),$(S.heap,S.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(K){return F(ee(K).buffer)}}if(y._core=function(S,T,I){var j=new S.Int32Array(I);function V(C,q){C=C|0,q=q|0;var L=0,R=0,G=0,F=0,O=0,N=0,E=0,B=0,M=0,P=0,$=0,ee=0,K=0,X=0;for(G=j[q+320>>2]|0,O=j[q+324>>2]|0,E=j[q+328>>2]|0,M=j[q+332>>2]|0,$=j[q+336>>2]|0,L=0;(L|0)<(C|0);L=L+64|0){for(F=G,N=O,B=E,P=M,ee=$,R=0;(R|0)<64;R=R+4|0)X=j[L+R>>2]|0,K=((G<<5|G>>>27)+(O&E|~O&M)|0)+((X+$|0)+1518500249|0)|0,$=M,M=E,E=O<<30|O>>>2,O=G,G=K,j[C+R>>2]=X;for(R=C+64|0;(R|0)<(C+80|0);R=R+4|0)X=(j[R-12>>2]^j[R-32>>2]^j[R-56>>2]^j[R-64>>2])<<1|(j[R-12>>2]^j[R-32>>2]^j[R-56>>2]^j[R-64>>2])>>>31,K=((G<<5|G>>>27)+(O&E|~O&M)|0)+((X+$|0)+1518500249|0)|0,$=M,M=E,E=O<<30|O>>>2,O=G,G=K,j[R>>2]=X;for(R=C+80|0;(R|0)<(C+160|0);R=R+4|0)X=(j[R-12>>2]^j[R-32>>2]^j[R-56>>2]^j[R-64>>2])<<1|(j[R-12>>2]^j[R-32>>2]^j[R-56>>2]^j[R-64>>2])>>>31,K=((G<<5|G>>>27)+(O^E^M)|0)+((X+$|0)+1859775393|0)|0,$=M,M=E,E=O<<30|O>>>2,O=G,G=K,j[R>>2]=X;for(R=C+160|0;(R|0)<(C+240|0);R=R+4|0)X=(j[R-12>>2]^j[R-32>>2]^j[R-56>>2]^j[R-64>>2])<<1|(j[R-12>>2]^j[R-32>>2]^j[R-56>>2]^j[R-64>>2])>>>31,K=((G<<5|G>>>27)+(O&E|O&M|E&M)|0)+((X+$|0)-1894007588|0)|0,$=M,M=E,E=O<<30|O>>>2,O=G,G=K,j[R>>2]=X;for(R=C+240|0;(R|0)<(C+320|0);R=R+4|0)X=(j[R-12>>2]^j[R-32>>2]^j[R-56>>2]^j[R-64>>2])<<1|(j[R-12>>2]^j[R-32>>2]^j[R-56>>2]^j[R-64>>2])>>>31,K=((G<<5|G>>>27)+(O^E^M)|0)+((X+$|0)-899497514|0)|0,$=M,M=E,E=O<<30|O>>>2,O=G,G=K,j[R>>2]=X;G=G+F|0,O=O+N|0,E=E+B|0,M=M+P|0,$=$+ee|0}j[q+320>>2]=G,j[q+324>>2]=O,j[q+328>>2]=E,j[q+332>>2]=M,j[q+336>>2]=$}return{hash:V}},f.exports=y,typeof FileReaderSync<"u"){var w=new FileReaderSync,k=new y(4*1024*1024);self.onmessage=function(S){var T,I=S.data.data;try{T=k.digest(I),self.postMessage({id:S.data.id,hash:T})}catch(j){self.postMessage({id:S.data.id,error:j.name})}}}})()},"./adblockpluscore/lib/snippets.js":(f,d,c)=>{const{EventEmitter:h}=c("./adblockpluscore/lib/events.js");let y=new Map([["n",`
`],["r","\r"],["t","	"]]);class w extends h{constructor(){super(),this._filters=new Set}clear(){let{_filters:S}=this;S.size!=0&&(S.clear(),this.emit("snippets.filtersCleared"))}add(S){let{_filters:T}=this,{size:I}=T;T.add(S),I!=T.size&&this.emit("snippets.filterAdded",S)}remove(S){let{_filters:T}=this,{size:I}=T;T.delete(S),I!=T.size&&this.emit("snippets.filterRemoved",S)}has(S){return this._filters.has(S)}getFilters(S){let T=[];for(let I of this._filters)I.isActiveOnDomain(S)&&T.push(I);return T}getFiltersForDomain(S){return this.getFilters(S)}}d.Snippets=w;let k=d.parseScript=function(S){let T=[],I=!1,j=!1,V=null,C=!1,q=[],L="";for(let R of S.trim()+";"){let G=C;if(C=!1,V!=null){if(V+=R,V.length==4){let F=parseInt(V,16);isNaN(F)||(L+=String.fromCodePoint(F)),V=null}}else I?(I=!1,R=="u"?V="":L+=y.get(R)||R):R=="\\"?I=!0:R=="'"?(j=!j,j||(C=!0)):j||R!=";"&&!/\s/.test(R)?L+=R:((L||G)&&(q.push(L),L=""),R==";"&&q.length>0&&(T.push(q),q=[]))}return T};d.compileScript=function(S,T,I,j,V={}){let C=JSON.stringify(T),q=JSON.stringify(I),L=JSON.stringify(V);return`
    "use strict";
    (() => 
    {
      let scripts = ${JSON.stringify([].concat(S).map(k))};

      let isolatedLib = ${C};
      let imports = Object.create(null);
      let injectedSnippetsCount = 0;
      let loadLibrary = new Function("exports", "environment", isolatedLib);
      loadLibrary(imports, ${L});
      const isolatedSnippets = imports.snippets;

      let injectedLib = ${q};
      let injectedSnippetsList = ${JSON.stringify(j)};
      let executable = "(() => {";
      executable += "let environment = ${L.replace(/[\\"]/g,"\\$&")};";
      executable += injectedLib;

      let {hasOwnProperty} = Object.prototype;
      for (let script of scripts)
      {
        for (let [name, ...args] of script)
        {
          if (hasOwnProperty.call(isolatedSnippets, name))
          {
            let value = isolatedSnippets[name];
            if (typeof value == "function")
              value(...args);
          }
          if (injectedSnippetsList.includes(name))
          {
            executable += stringifyFunctionCall(name, ...args);
            injectedSnippetsCount++;
          }
        }
      }

      executable += "})();";

      if (injectedSnippetsCount > 0)
        injectSnippetsInMainContext(executable);

      function stringifyFunctionCall(func, ...params)
      {
        // Call JSON.stringify on the arguments to avoid any arbitrary code
        // execution.
        const f = "snippets['" + func + "']";
        const parameters = params.map(JSON.stringify).join(",");
        return f + "(" + parameters + ");";
      }

      function injectSnippetsInMainContext(exec)
      {
        // injecting phase
        let script = document.createElement("script");
        script.type = "application/javascript";
        script.async = false;

        // Firefox 58 only bypasses site CSPs when assigning to 'src',
        // while Chrome 67 and Microsoft Edge (tested on 44.17763.1.0)
        // only bypass site CSPs when using 'textContent'.
        if (typeof netscape != "undefined" && typeof browser != "undefined")
        {
          let url = URL.createObjectURL(new Blob([exec]));
          script.src = url;
          document.documentElement.appendChild(script);
          URL.revokeObjectURL(url);
        }
        else
        {
          script.textContent = exec;
          document.documentElement.appendChild(script);
        }

        document.documentElement.removeChild(script);
      }
    })();
  `}},"./adblockpluscore/lib/subscriptionClasses.js":(f,d,c)=>{const{recommendations:h}=c("./adblockpluscore/lib/recommendations.js"),{isActiveFilter:y,Filter:w}=c("./adblockpluscore/lib/filterClasses.js"),{filterNotifier:k}=c("./adblockpluscore/lib/filterNotifier.js"),{Downloader:A}=c("./adblockpluscore/lib/downloader.js"),{isHttpOrHttps:S}=c("./adblockpluscore/lib/url.js");let T=null;d._clean=function(){T=null,j=null};function I(){if(T)return T;T=new Map;for(let N of h())C.dnr&&N.url?T.set(N.url,N):N.mv2URL&&T.set(N.mv2URL,N);return T}let j=null;function V(){if(j)return j;j=new Map;for(let N of h())N.mv2URL&&j.set(N.mv2URL,N.url);return j}let C=d.Subscription=class Dm{constructor(E,B){this._url=E,this._urlValid=Dm.isValidURL(E);let M=I().get(E);this._type=M?M.type:null,this._id=M?M.id:null,this._filterText=[],this._filterTextIndex=new Set,this._title=null,B&&(this._title=B),this._privileged=M?M.privileged:!1,this._fixedTitle=!1,this._disabled=!1,Dm.knownSubscriptions.set(E,this)}get id(){return this._id}get url(){return this._url}get valid(){return!0}get type(){return this._type}get privileged(){return this._privileged==null?this._type==="circumvention":this._privileged}set privileged(E){if(E!==this._privileged){let B=this._privileged;this._privileged=E,k.emit("subscription.privileged",this,E,B)}}get title(){return this._title}set title(E){if(E!=this._title){let B=this._title;this._title=E,k.emit("subscription.title",this,E,B)}}get fixedTitle(){return this._fixedTitle}set fixedTitle(E){if(E!=this._fixedTitle){let B=this._fixedTitle;this._fixedTitle=E,k.emit("subscription.fixedTitle",this,E,B)}}get downloadable(){return!1}get hasBundledFilters(){return!1}get disabled(){return this._disabled}set disabled(E){if(E!=this._disabled){let B=this._disabled;this._disabled=E,k.emit("subscription.disabled",this,E,B)}}get filterCount(){return this._filterText.length}filterText(){return this._filterText[Symbol.iterator]()}setParams(E){if(E.homepage){let B;try{B=new URL(E.homepage)}catch{B=null}B&&S(B)&&(this.homepage=B.href)}E.title?(this.title=E.title,this.fixedTitle=!0):this.fixedTitle=!1,E.version&&(this.version=parseInt(E.version,10)),this.type&&(this.abtest=E.abtest),E.diffURL&&(this.diffURL=E.diffURL),E.lastModified&&(this.lastModified=E.lastModified)}setFilterText(E,B=null){if(!Array.isArray(E))throw new Error("setFilterText() must be called with an Array");this._filterText=E.map(M=>w.normalize(M)),this._filterTextIndex=new Set(this._filterText),B&&this.setParams(B)}hasFilterText(E){return this._filterTextIndex.has(E)}filterTextAt(E){return this._filterText[E]||null}findFilterIndex(E,B=0){return this.findFilterTextIndex(E.text,B)}findFilterTextIndex(E,B=0){return this._filterText.indexOf(E,B)}clearFilters(){this._filterText=[],this._filterTextIndex.clear()}addFilter(E){this.addFilterText(E.text)}addFilterText(E){this._filterText.push(E),this._filterTextIndex.add(E)}insertFilterAt(E,B){this.insertFilterTextAt(E.text,B)}insertFilterTextAt(E,B){this._filterText.splice(B,0,E),this._filterTextIndex.add(E)}deleteFilterAt(E){if(E<0)return;let[B]=this._filterText.splice(E,1);this._filterText.includes(B)||this._filterTextIndex.delete(B)}updateFilterText(E){let B=[],M=[];if(this._filterText.length==0)B=[...E];else if(E.length>0)for(let P of E)this._filterTextIndex.has(P)||B.push(P);if(this._filterTextIndex=new Set(E),E.length==0)M=[...this._filterText];else if(this._filterText.length>0)for(let P of this._filterText)this._filterTextIndex.has(P)||M.push(P);return this._filterText=[...E],{added:B,removed:M}}*serialize(){let{url:E,_title:B,_fixedTitle:M,_disabled:P,_id:$}=this;yield"[Subscription]",yield"url="+E,B&&(yield"title="+B),M&&(yield"fixedTitle=true"),P&&(yield"disabled=true"),$&&(yield"id="+$)}*serializeFilters(){let{_filterText:E}=this;yield"[Subscription filters]";for(let B of E)yield B.replace(/\[/g,"\\[")}toString(){return[...this.serialize()].join(`
`)}};d.Subscription.knownSubscriptions=new Map,d.Subscription.dnr=!1,d.Subscription.fromURL=function(N){let E=C.knownSubscriptions.get(N);if(E)return E;if(N[0]!="~"){let B=!0,M=null,P=null,$=!1;if(C.dnr){let ee=V().get(N);if(ee){if(E=C.knownSubscriptions.get(ee),E)return E;N=ee}let K=I().get(N);K&&(M=K.title,B=!1,P={homepage:K.homepage,title:M},K.diffURL&&(P.diffURL=K.diffURL,$=!0))}return B?E=new F(N,M):$?E=new O(N,M,P):E=new G(N,M,P),E}return new q(N)},d.Subscription.fromObject=function(N){let E;return N.url[0]!="~"?("downloadable"in N&&N.downloadable=="false"?"diffURL"in N?E=new O(N.url,N.title):E=new G(N.url,N.title):E=new F(N.url,N.title),E.type&&(E.abtest=N.abtest),"diffURL"in N&&(E.diffURL=N.diffURL),"downloadStatus"in N&&(E._downloadStatus=N.downloadStatus),"lastSuccess"in N&&(E.lastSuccess=parseInt(N.lastSuccess,10)||0),"lastCheck"in N&&(E._lastCheck=parseInt(N.lastCheck,10)||0),"expires"in N&&(E.expires=parseInt(N.expires,10)||0),"softExpiration"in N&&(E.softExpiration=parseInt(N.softExpiration,10)||0),"errors"in N&&(E._errors=parseInt(N.errors,10)||0),"version"in N&&(E.version=parseInt(N.version,10)||0),"requiredVersion"in N&&(E.requiredVersion=N.requiredVersion),"homepage"in N&&(E._homepage=N.homepage),"lastDownload"in N&&(E._lastDownload=parseInt(N.lastDownload,10)||0),"downloadCount"in N&&(E.downloadCount=parseInt(N.downloadCount,10)||0)):(E=new q(N.url,N.title),"defaults"in N&&(E.defaults=N.defaults.split(" ")),"metadata"in N&&(E._metadata=JSON.parse(N.metadata))),"id"in N&&(E._id=N.id),"fixedTitle"in N&&(E._fixedTitle=N.fixedTitle=="true"),"disabled"in N&&(E._disabled=N.disabled=="true"),E},d.Subscription.isValidURL=function(E){return typeof E=="string"&&(E.startsWith("~user~")||A.isValidURL(E))};let q=d.SpecialSubscription=class Cm extends C{constructor(E,B){super(E,B),this.defaults=null,this._metadata=null}get privileged(){return!0}isDefaultFor(E){if(this.defaults&&this.defaults.length){for(let B of this.defaults)if(Cm.defaultsMap.get(B).includes(E.type)||!y(E)&&B=="blocking")return!0}return!1}set metadata(E){let B=this._metadata;this._metadata=E,k.emit("subscription.metadata",this,E,B)}get metadata(){return this._metadata}*serialize(){let{defaults:E,_lastDownload:B,_metadata:M}=this;yield*super.serialize(),E&&(yield"defaults="+E.map(P=>P=="allowing"?"whitelist":P).filter(P=>Cm.defaultsMap.has(P)).join(" ")),M&&(yield"metadata="+JSON.stringify(M)),B&&(yield"lastDownload="+B)}};d.SpecialSubscription.defaultsMap=new Map([["allowing",["allowing"]],["whitelist",["allowing"]],["blocking",["blocking"]],["elemhide",["elemhide","elemhideexception","elemhideemulation"]]]),d.SpecialSubscription.create=function(N){let E;do E="~user~"+Math.round(Math.random()*1e6);while(C.knownSubscriptions.has(E));return new q(E,N)},d.SpecialSubscription.createForFilter=function(N){let E=q.create();E.addFilter(N);for(let[B,M]of q.defaultsMap)M.includes(N.type)&&(E.defaults=[B]);return E.defaults||(E.defaults=["blocking"]),E};let L=d.RegularSubscription=class extends C{constructor(E,B){super(E,B||E),this._homepage=null,this._lastDownload=0;let M=I().get(E);this._languages=M?M.languages:null}get homepage(){return this._homepage}set homepage(E){if(E!=this._homepage){let B=this._homepage;this._homepage=E,k.emit("subscription.homepage",this,E,B)}}get languages(){return this._languages}get lastDownload(){return this._lastDownload}set lastDownload(E){if(E!=this._lastDownload){let B=this._lastDownload;this._lastDownload=E,k.emit("subscription.lastDownload",this,E,B)}}*serialize(){let{_homepage:E,_lastDownload:B}=this;yield*super.serialize(),this.downloadable||(yield"downloadable=false"),E&&(yield"homepage="+E),B&&(yield"lastDownload="+B)}},R=null,G=d.CountableSubscription=class extends L{static useSynchronizer(E){R=E}constructor(E,B,M){super(E,B),M&&this.setParams(M),this._downloadStatus=null,this._lastCheck=0,this._errors=0,this.lastSuccess=0,this.expires=0,this.softExpiration=0,this.version=0,this.requiredVersion=null,this.downloadCount=0}get countable(){return!0}get hasBundledFilters(){return!0}get disabled(){return super.disabled}set disabled(E){let{_disabled:B}=this;super.disabled=E,R&&B&&!E&&R.execute(this)}get downloadStatus(){return this._downloadStatus}set downloadStatus(E){let B=this._downloadStatus;this._downloadStatus=E,k.emit("subscription.downloadStatus",this,E,B)}get lastCheck(){return this._lastCheck}set lastCheck(E){if(E!=this._lastCheck){let B=this._lastCheck;this._lastCheck=E,k.emit("subscription.lastCheck",this,E,B)}}get errors(){return this._errors}set errors(E){if(E!=this._errors){let B=this._errors;this._errors=E,k.emit("subscription.errors",this,E,B)}}*serialize(){let{downloadStatus:E,lastSuccess:B,lastCheck:M,expires:P,softExpiration:$,errors:ee,version:K,requiredVersion:X,downloadCount:Y}=this;yield*super.serialize(),E&&(yield"downloadStatus="+E),B&&(yield"lastSuccess="+B),M&&(yield"lastCheck="+M),P&&(yield"expires="+P),$&&(yield"softExpiration="+$),ee&&(yield"errors="+ee),K&&(yield"version="+K),X&&(yield"requiredVersion="+X),Y&&(yield"downloadCount="+Y)}},F=d.FullUpdatableSubscription=class extends G{constructor(E,B){super(E,B)}get downloadable(){return!0}get hasBundledFilters(){return!1}},O=d.DiffUpdatableSubscription=class extends G{constructor(E,B,M){super(E,B),M&&this.setParams(M)}*serialize(){let{diffURL:E,lastModified:B}=this;yield*super.serialize(),E&&(yield"diffURL="+E),B&&(yield"lastModified="+B)}get downloadable(){return!1}get diffURL(){return this._diffURL}set diffURL(E){let B=this._diffURL;this._diffURL=E,k.emit("subscription.diffURL",this,E,B)}get lastModified(){return this._lastModified}set lastModified(E){let B=this._lastModified;this._lastModified=E,k.emit("subscription.lastModified",this,E,B)}}},"./adblockpluscore/lib/synchronizer.js":(f,d,c)=>{const{Prefs:h}=c("./src/background/prefs.js"),{MILLIS_IN_SECOND:y,MILLIS_IN_MINUTE:w,MILLIS_IN_HOUR:k,MILLIS_IN_DAY:A}=c("./adblockpluscore/lib/time.js"),{Downloader:S,Downloadable:T}=c("./adblockpluscore/lib/downloader.js"),{Filter:I}=c("./adblockpluscore/lib/filterClasses.js"),{filterNotifier:j}=c("./adblockpluscore/lib/filterNotifier.js"),{Subscription:V,CountableSubscription:C}=c("./adblockpluscore/lib/subscriptionClasses.js"),{analytics:q}=c("./adblockpluscore/lib/analytics.js"),{parseFilterList:L}=c("./adblockpluscore/lib/filters/lists.js"),{recommendations:R}=c("./adblockpluscore/lib/recommendations.js"),{isHttpOrHttps:G}=c("./adblockpluscore/lib/url.js"),F=1*w,O=1*k,N=5*A;let E=(M,P)=>M in h?h[M]:P;class B{constructor(P){if(P==null||typeof P!="object")throw Error("filterStorage must be a valid object");this._started=!1,this._downloader=new S(this._getDownloadables.bind(this)),this._downloader.onExpirationChange=this._onExpirationChange.bind(this),this._downloader.onDownloadStarted=this._onDownloadStarted.bind(this),this._downloader.onDownloadSuccess=this._onDownloadSuccess.bind(this),this._downloader.onDownloadError=this._onDownloadError.bind(this),this._filterStorage=P,C.useSynchronizer(this)}start(){this._started||(this._downloader.scheduleChecks(E("subscriptions_check_interval",O),E("subscriptions_initial_delay",F)),this._started=!0)}stop(){this._started=!1,this._downloader.unscheduleChecks()}isExecuting(P){return this._downloader.isDownloading(P)}execute(P,$){this._downloader.download(this._getDownloadable(P,$))}*_getDownloadables(){if(h.subscriptions_autoupdate)for(let P of this._filterStorage.subscriptions())P instanceof C&&(yield this._getDownloadable(P,!1))}_getDownloadable(P,$){let{url:ee,lastDownload:K,lastSuccess:X,lastCheck:Y,version:Q,softExpiration:te,expires:ge,downloadCount:re,disabled:_e,downloadable:$e,countable:oe,diffURL:ie,lastModified:xe}=P,he;return ie?(he=new T(ie),he.originalUrl=ee):he=new T(ee),q.isTrusted(ee)&&(he.firstVersion=q.getFirstVersion()),K!=X&&(he.lastError=K*y),he.lastCheck=Y*y,he.lastVersion=Q,he.softExpiration=te*y,he.hardExpiration=ge*y,he.manual=$,he.downloadCount=re,he.disabled=_e,he.lastModified=xe,!ie&&(_e||oe&&!$e)&&(he.method="HEAD"),he}_onExpirationChange(P){let $=V.fromURL(P.originalUrl||P.url);$.lastCheck=Math.round(P.lastCheck/y),$.softExpiration=Math.round(P.softExpiration/y),$.expires=Math.round(P.hardExpiration/y)}_onDownloadStarted(P){let $=V.fromURL(P.originalUrl||P.url);j.emit("subscription.downloading",$)}_onDownloadSuccess(P,$,ee,K){let X=P.originalUrl!=null,Y=V.fromURL(P.redirectURL||(X?P.originalUrl:P.url));j.emit("subscription.downloading",Y);let Q=P.method==="HEAD",{error:te,lines:ge,params:re,minVersion:_e}=Q||X?{params:{}}:L($);if(te)return ee(te);if(re.redirect)return K(re.redirect);if(P.redirectURL&&P.redirectURL!=P.url){let Ce=V.fromURL(P.originalUrl||P.url);Y.title=Ce.title,Y.disabled=Ce.disabled,Y.lastCheck=Ce.lastCheck;let qe=this._filterStorage.hasSubscription(Ce);qe&&this._filterStorage.removeSubscription(Ce),V.knownSubscriptions.delete(Ce.url),qe&&this._filterStorage.addSubscription(Y)}if(Y.lastSuccess=Y.lastDownload=Math.round(Date.now()/y),Y.downloadStatus="synchronize_ok",Y.downloadCount=P.downloadCount,Y.errors=0,re.homepage){let Ce;try{Ce=new URL(re.homepage)}catch{Ce=null}Ce&&G(Ce)&&(Y.homepage=Ce.href)}re.title?(Y.title=re.title,Y.fixedTitle=!0):Y.fixedTitle=!1,re.version?Y.version=parseInt(re.version,10):Y.version=Q||X?P.lastVersion:0,(re.version||X)&&q.isTrusted(P.redirectURL||P.url)&&q.recordVersion(Y.version.toString()),Y.type&&(Y.abtest=re.abtest);let $e=E("subscriptions_head_expiration_interval",A),oe=E("subscriptions_default_expiration_interval",N),ie=Q?$e:oe;if(X&&(re.expires=[...R()].find(Ce=>Ce.url===P.originalUrl).expires),re.expires){let Ce=/^(\d+)\s*(h)?/.exec(re.expires);if(Ce){let qe=parseInt(Ce[1],10);Ce[2]?ie=qe*k:ie=qe*A}}let[xe,he]=this._downloader.processExpirationInterval(ie);if(Y.softExpiration=Math.round(xe/y),Y.expires=Math.round(he/y),_e?Y.requiredVersion=_e:delete Y.requiredVersion,Q)j.emit("subscription.updated",Y);else if(X){const Ce=JSON.parse($),qe=Ce.filters.add,we=Ce.filters.remove;j.emit("subscription.diffReceived",Y,{added:qe,removed:we})}else V.dnr?j.emit("subscription.fullUpdateReceived",Y,ge):this._processFilters(Y,ge)}_onDownloadError(P,$,ee,K,X){let Y=V.fromURL(P.originalUrl||P.url);if(Y.lastDownload=Math.round(Date.now()/y),Y.downloadStatus=ee,j.emit("subscription.downloading",Y),!P.manual&&(Y.errors++,X&&Y.errors>=h.subscriptions_fallbackerrors&&/^https?:\/\//i.test(Y.url))){Y.errors=0;let Q=h.subscriptions_fallbackurl;const{addonVersion:te}=c("./src/background/info.js");Q=Q.replace(/%VERSION%/g,encodeURIComponent(te)),Q=Q.replace(/%SUBSCRIPTION%/g,encodeURIComponent(Y.url)),Q=Q.replace(/%URL%/g,encodeURIComponent($)),Q=Q.replace(/%ERROR%/g,encodeURIComponent(ee)),Q=Q.replace(/%RESPONSESTATUS%/g,encodeURIComponent(K));let ge={cache:"no-store",credentials:"omit",referrer:"no-referrer",method:P.method};fetch(Q,ge).then(re=>re.text()).then(re=>{if(!this._filterStorage.hasSubscription(Y))return;let _e=/^(\d+)(?:\s+(\S+))?$/.exec(re);if(_e&&_e[1]=="301"&&_e[2]&&/^https?:\/\//i.test(_e[2]))X(_e[2]);else if(_e&&_e[1]=="410"){let $e=`[Adblock]
`+[...Y.filterText()].join(`
`);X("data:text/plain,"+encodeURIComponent($e))}})}}addSubscriptionFilters(P,$,ee){let{error:K,lines:X}=L($);K?ee(K):this._processFilters(P,X)}_processFilters(P,$){$.shift();let ee=[];for(let K of $)K=I.normalize(K),K&&ee.push(K);this._filterStorage.updateSubscriptionFilters(P,ee)}}d.Synchronizer=B},"./adblockpluscore/lib/time.js":(f,d)=>{d.MILLIS_IN_SECOND=1e3,d.MILLIS_IN_MINUTE=6e4,d.MILLIS_IN_HOUR=36e5,d.MILLIS_IN_DAY=864e5,d.MINUTES_IN_HOUR=60,d.MINUTES_IN_DAY=1440},"./adblockpluscore/lib/url.js":(f,d,c)=>{const{Cache:h}=c("./adblockpluscore/lib/caching.js"),{icannPublicSuffixes:y}=c("./adblockpluscore/data/icannPublicSuffixList.js"),{nonIcannPublicSuffixes:w}=c("./adblockpluscore/data/nonIcannPublicSuffixList.js");Object.setPrototypeOf(y,null),Object.setPrototypeOf(w,null);let k=new h(1e3);class A{constructor(R,G,F=""){this._href=R,this._protocol=G,this._hostname=F}get href(){return this._href}get protocol(){return this._protocol}get hostname(){return this._hostname}toString(){return this._href}}let S=d.parseURL=function(R){let G=/^([^:]+:)(?:\/\/(?:[^/]*@)?(\[[^\]]*\]|[^:/]+))?/.exec(R);if(!G)throw new Error(`Failed to parse invalid URL "${R}"`);return new A(R,G[1],G[2])},T=d.domainSuffixes=function*(R,G=!1){if(I(R))yield R;else for(R[R.length-1]=="."&&(R=R.substring(0,R.length-1));R!="";){yield R;let F=R.indexOf(".");R=F==-1?"":R.substr(F+1)}G&&(yield"")};d.isLocalhost=function(R){return R=="localhost"||R=="127.0.0.1"||R=="[::1]"},d.isHttpOrHttps=function(L){const R=L.protocol;return R=="http:"||R=="https:"};function I(L){return L[0]=="["&&L[L.length-1]=="]"?!0:L[L.length-1]>=0&&/^\d+\.\d+\.\d+\.\d+$/.test(L)}function j(L){return/^(((2[0-4]|1[0-9]|[1-9])?[0-9]|25[0-5])\.){4}$/.test(L+".")}d.isValidHostname=function(R){if(j(R)||R[0]=="["&&R[R.length-1]=="]")return!0;if(R[R.length-1]=="."&&(R=R.substring(0,R.length-1)),R.length>253)return!1;let G=R.split(".");for(let[F,O]of G.entries()){if(O=="*"&&F==G.length-1)return!0;if(!/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(O))return!1}return!!/\D/.test(G[G.length-1])};let V=d.getBaseDomain=function(R){let G=[],F=NaN;for(let O of T(R)){G.push(O);let N=y[O];if(typeof N!="number"&&(N=w[O]),typeof N=="number"){F=G.length-1-N;break}}return isNaN(F)?G.length>2?G[G.length-2]:R:F<=0?R:G[F]};function C(L,R){return L[L.length-1]=="."&&(L=L.substring(0,L.length-1)),R[R.length-1]=="."&&(R=R.substring(0,R.length-1)),L==R?!1:!L||!R||I(L)||I(R)?!0:V(L)!=V(R)}let q=d.URLRequest=class{constructor(){}get href(){return this._href}get urlInfo(){return this._urlInfo||(this._urlInfo=S(this._href)),this._urlInfo}get documentHostname(){return this._documentHostname==null?null:this._documentHostname}get thirdParty(){return typeof this._thirdParty>"u"&&(this._thirdParty=this._documentHostname==null?!1:C(this.urlInfo.hostname,this._documentHostname)),this._thirdParty}toString(){return this._href}get lowerCaseHref(){return this._lowerCaseHref==null&&(this._lowerCaseHref=this._href.toLowerCase()),this._lowerCaseHref}};d.URLRequest.from=function(L,R=null){let G=new q;return typeof L=="string"?G._href=L:(G._urlInfo=L instanceof A?L:new A(L.href,L.protocol,L.hostname),G._href=L.href),R!=null&&(G._documentHostname=R),G},d.parseDomains=function(R,G){let F=k.get(R);if(typeof F<"u")return F;if(R[0]!="~"&&!R.includes(G))F=new Map([["",!1],[R,!0]]);else{F=null;let O=!1;for(let N of R.split(G)){if(N=="")continue;let E;N[0]=="~"?(E=!1,N=N.substring(1)):(E=!0,O=!0),F||(F=new Map),F.set(N,E)}F&&F.set("",!O)}return k.set(R,F),F},d.hasWildcard=function(R){return R.includes(".*")},d.matchesWildcards=function(R,G){let F=G.slice(0,-1),O=/^.+(:\d+)$/.exec(R);O&&O.length>1&&(R=R.slice(0,-O[1].length));for(let N of T(R)){if(!N.startsWith(F))continue;let E=N.slice(F.length);if(typeof y[E]=="number")return!0}return!1},d.isValidDomainWildcard=function(R){if(R.includes("?"))return!1;let G=(R.match(/\*/g)||[]).length;if(G>1)return!1;if(G==1){let F=R.indexOf("*");if(F<R.length-1||R.length==1||F>0&&R[F-1]!=".")return!1}return!0},d.stripQuery=function(L){return L.split("?")[0]}},"./adblockpluscore/lib/versions.js":(f,d)=>{function c(h){return h=="*"?1/0:parseInt(h,10)||0}d.compareVersions=function(y,w){let k=/^(.*?)([a-z].*)?$/i,[,A,S]=k.exec(y),[,T,I]=k.exec(w),j=A.split("."),V=T.split(".");for(let C=0;C<j.length||C<V.length;C++){let q=c(j[C])-c(V[C])||0;if(q<0)return-1;if(q>0)return 1}return S==I?0:!S||I&&S>I?1:-1}},"./node_modules/uuid/dist/esm-browser/native.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>y});const y={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},"./node_modules/uuid/dist/esm-browser/regex.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>h});const h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},"./node_modules/uuid/dist/esm-browser/rng.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>w});let h;const y=new Uint8Array(16);function w(){if(!h&&(h=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(y)}},"./node_modules/uuid/dist/esm-browser/stringify.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>A,unsafeStringify:()=>w});var h=c("./node_modules/uuid/dist/esm-browser/validate.js");const y=[];for(let S=0;S<256;++S)y.push((S+256).toString(16).slice(1));function w(S,T=0){return(y[S[T+0]]+y[S[T+1]]+y[S[T+2]]+y[S[T+3]]+"-"+y[S[T+4]]+y[S[T+5]]+"-"+y[S[T+6]]+y[S[T+7]]+"-"+y[S[T+8]]+y[S[T+9]]+"-"+y[S[T+10]]+y[S[T+11]]+y[S[T+12]]+y[S[T+13]]+y[S[T+14]]+y[S[T+15]]).toLowerCase()}function k(S,T=0){const I=w(S,T);if(!(0,h.default)(I))throw TypeError("Stringified UUID is invalid");return I}const A=k},"./node_modules/uuid/dist/esm-browser/v4.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>A});var h=c("./node_modules/uuid/dist/esm-browser/native.js"),y=c("./node_modules/uuid/dist/esm-browser/rng.js"),w=c("./node_modules/uuid/dist/esm-browser/stringify.js");function k(S,T,I){if(h.default.randomUUID&&!T&&!S)return h.default.randomUUID();S=S||{};const j=S.random||(S.rng||y.default)();if(j[6]=j[6]&15|64,j[8]=j[8]&63|128,T){I=I||0;for(let V=0;V<16;++V)T[I+V]=j[V];return T}return(0,w.unsafeStringify)(j)}const A=k},"./node_modules/uuid/dist/esm-browser/validate.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>w});var h=c("./node_modules/uuid/dist/esm-browser/regex.js");function y(k){return typeof k=="string"&&h.default.test(k)}const w=y},"./node_modules/webextension-polyfill/dist/browser-polyfill.js":function(f,d){var c,h,y;(function(w,k){h=[f],c=k,y=typeof c=="function"?c.apply(d,h):c,y!==void 0&&(f.exports=y)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:this,function(w){if(typeof browser>"u"||Object.getPrototypeOf(browser)!==Object.prototype){const k="The message port closed before a response was received.",A="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",S=T=>{const I={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(I).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class j extends WeakMap{constructor(X,Y=void 0){super(Y),this.createItem=X}get(X){return this.has(X)||this.set(X,this.createItem(X)),super.get(X)}}const V=K=>K&&typeof K=="object"&&typeof K.then=="function",C=(K,X)=>(...Y)=>{T.runtime.lastError?K.reject(new Error(T.runtime.lastError.message)):X.singleCallbackArg||Y.length<=1&&X.singleCallbackArg!==!1?K.resolve(Y[0]):K.resolve(Y)},q=K=>K==1?"argument":"arguments",L=(K,X)=>function(Q,...te){if(te.length<X.minArgs)throw new Error(`Expected at least ${X.minArgs} ${q(X.minArgs)} for ${K}(), got ${te.length}`);if(te.length>X.maxArgs)throw new Error(`Expected at most ${X.maxArgs} ${q(X.maxArgs)} for ${K}(), got ${te.length}`);return new Promise((ge,re)=>{if(X.fallbackToNoCallback)try{Q[K](...te,C({resolve:ge,reject:re},X))}catch(_e){console.warn(`${K} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,_e),Q[K](...te),X.fallbackToNoCallback=!1,X.noCallback=!0,ge()}else X.noCallback?(Q[K](...te),ge()):Q[K](...te,C({resolve:ge,reject:re},X))})},R=(K,X,Y)=>new Proxy(X,{apply(Q,te,ge){return Y.call(te,K,...ge)}});let G=Function.call.bind(Object.prototype.hasOwnProperty);const F=(K,X={},Y={})=>{let Q=Object.create(null),te={has(re,_e){return _e in K||_e in Q},get(re,_e,$e){if(_e in Q)return Q[_e];if(!(_e in K))return;let oe=K[_e];if(typeof oe=="function")if(typeof X[_e]=="function")oe=R(K,K[_e],X[_e]);else if(G(Y,_e)){let ie=L(_e,Y[_e]);oe=R(K,K[_e],ie)}else oe=oe.bind(K);else if(typeof oe=="object"&&oe!==null&&(G(X,_e)||G(Y,_e)))oe=F(oe,X[_e],Y[_e]);else if(G(Y,"*"))oe=F(oe,X[_e],Y["*"]);else return Object.defineProperty(Q,_e,{configurable:!0,enumerable:!0,get(){return K[_e]},set(ie){K[_e]=ie}}),oe;return Q[_e]=oe,oe},set(re,_e,$e,oe){return _e in Q?Q[_e]=$e:K[_e]=$e,!0},defineProperty(re,_e,$e){return Reflect.defineProperty(Q,_e,$e)},deleteProperty(re,_e){return Reflect.deleteProperty(Q,_e)}},ge=Object.create(K);return new Proxy(ge,te)},O=K=>({addListener(X,Y,...Q){X.addListener(K.get(Y),...Q)},hasListener(X,Y){return X.hasListener(K.get(Y))},removeListener(X,Y){X.removeListener(K.get(Y))}}),N=new j(K=>typeof K!="function"?K:function(Y){const Q=F(Y,{},{getContent:{minArgs:0,maxArgs:0}});K(Q)});let E=!1;const B=new j(K=>typeof K!="function"?K:function(Y,Q,te){let ge=!1,re,_e=new Promise(xe=>{re=function(he){E||(console.warn(A,new Error().stack),E=!0),ge=!0,xe(he)}}),$e;try{$e=K(Y,Q,re)}catch(xe){$e=Promise.reject(xe)}const oe=$e!==!0&&V($e);if($e!==!0&&!oe&&!ge)return!1;const ie=xe=>{xe.then(he=>{te(he)},he=>{let Ce;he&&(he instanceof Error||typeof he.message=="string")?Ce=he.message:Ce="An unexpected error occurred",te({__mozWebExtensionPolyfillReject__:!0,message:Ce})}).catch(he=>{console.error("Failed to send onMessage rejected reply",he)})};return ie(oe?$e:_e),!0}),M=({reject:K,resolve:X},Y)=>{T.runtime.lastError?T.runtime.lastError.message===k?X():K(new Error(T.runtime.lastError.message)):Y&&Y.__mozWebExtensionPolyfillReject__?K(new Error(Y.message)):X(Y)},P=(K,X,Y,...Q)=>{if(Q.length<X.minArgs)throw new Error(`Expected at least ${X.minArgs} ${q(X.minArgs)} for ${K}(), got ${Q.length}`);if(Q.length>X.maxArgs)throw new Error(`Expected at most ${X.maxArgs} ${q(X.maxArgs)} for ${K}(), got ${Q.length}`);return new Promise((te,ge)=>{const re=M.bind(null,{resolve:te,reject:ge});Q.push(re),Y.sendMessage(...Q)})},$={devtools:{network:{onRequestFinished:O(N)}},runtime:{onMessage:O(B),onMessageExternal:O(B),sendMessage:P.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:P.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},ee={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return I.privacy={network:{"*":ee},services:{"*":ee},websites:{"*":ee}},F(T,$,I)};if(typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");w.exports=S(chrome)}else w.exports=browser})},"./node_modules/pako/dist/pako.esm.mjs":(f,d,c)=>{c.r(d),c.d(d,{Deflate:()=>yp,Inflate:()=>Au,constants:()=>Su,default:()=>Ec,deflate:()=>Eu,deflateRaw:()=>bp,gzip:()=>rs,inflate:()=>Ao,inflateRaw:()=>$s,ungzip:()=>wp});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const h=4,y=0,w=1,k=2;function A(m){let z=m.length;for(;--z>=0;)m[z]=0}const S=0,T=1,I=2,j=3,V=258,C=29,q=256,L=q+1+C,R=30,G=19,F=2*L+1,O=15,N=16,E=7,B=256,M=16,P=17,$=18,ee=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),K=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),X=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Q=512,te=new Array((L+2)*2);A(te);const ge=new Array(R*2);A(ge);const re=new Array(Q);A(re);const _e=new Array(V-j+1);A(_e);const $e=new Array(C);A($e);const oe=new Array(R);A(oe);function ie(m,z,x,ne,de){this.static_tree=m,this.extra_bits=z,this.extra_base=x,this.elems=ne,this.max_length=de,this.has_stree=m&&m.length}let xe,he,Ce;function qe(m,z){this.dyn_tree=m,this.max_code=0,this.stat_desc=z}const we=m=>m<256?re[m]:re[256+(m>>>7)],Re=(m,z)=>{m.pending_buf[m.pending++]=z&255,m.pending_buf[m.pending++]=z>>>8&255},Ze=(m,z,x)=>{m.bi_valid>N-x?(m.bi_buf|=z<<m.bi_valid&65535,Re(m,m.bi_buf),m.bi_buf=z>>N-m.bi_valid,m.bi_valid+=x-N):(m.bi_buf|=z<<m.bi_valid&65535,m.bi_valid+=x)},it=(m,z,x)=>{Ze(m,x[z*2],x[z*2+1])},De=(m,z)=>{let x=0;do x|=m&1,m>>>=1,x<<=1;while(--z>0);return x>>>1},Ie=m=>{m.bi_valid===16?(Re(m,m.bi_buf),m.bi_buf=0,m.bi_valid=0):m.bi_valid>=8&&(m.pending_buf[m.pending++]=m.bi_buf&255,m.bi_buf>>=8,m.bi_valid-=8)},nt=(m,z)=>{const x=z.dyn_tree,ne=z.max_code,de=z.stat_desc.static_tree,pe=z.stat_desc.has_stree,Ve=z.stat_desc.extra_bits,Ne=z.stat_desc.extra_base,an=z.stat_desc.max_length;let Ae,We,Ia,tn,bt,Dn,Ca=0;for(tn=0;tn<=O;tn++)m.bl_count[tn]=0;for(x[m.heap[m.heap_max]*2+1]=0,Ae=m.heap_max+1;Ae<F;Ae++)We=m.heap[Ae],tn=x[x[We*2+1]*2+1]+1,tn>an&&(tn=an,Ca++),x[We*2+1]=tn,!(We>ne)&&(m.bl_count[tn]++,bt=0,We>=Ne&&(bt=Ve[We-Ne]),Dn=x[We*2],m.opt_len+=Dn*(tn+bt),pe&&(m.static_len+=Dn*(de[We*2+1]+bt)));if(Ca!==0){do{for(tn=an-1;m.bl_count[tn]===0;)tn--;m.bl_count[tn]--,m.bl_count[tn+1]+=2,m.bl_count[an]--,Ca-=2}while(Ca>0);for(tn=an;tn!==0;tn--)for(We=m.bl_count[tn];We!==0;)Ia=m.heap[--Ae],!(Ia>ne)&&(x[Ia*2+1]!==tn&&(m.opt_len+=(tn-x[Ia*2+1])*x[Ia*2],x[Ia*2+1]=tn),We--)}},lt=(m,z,x)=>{const ne=new Array(O+1);let de=0,pe,Ve;for(pe=1;pe<=O;pe++)de=de+x[pe-1]<<1,ne[pe]=de;for(Ve=0;Ve<=z;Ve++){let Ne=m[Ve*2+1];Ne!==0&&(m[Ve*2]=De(ne[Ne]++,Ne))}},Ot=()=>{let m,z,x,ne,de;const pe=new Array(O+1);for(x=0,ne=0;ne<C-1;ne++)for($e[ne]=x,m=0;m<1<<ee[ne];m++)_e[x++]=ne;for(_e[x-1]=ne,de=0,ne=0;ne<16;ne++)for(oe[ne]=de,m=0;m<1<<K[ne];m++)re[de++]=ne;for(de>>=7;ne<R;ne++)for(oe[ne]=de<<7,m=0;m<1<<K[ne]-7;m++)re[256+de++]=ne;for(z=0;z<=O;z++)pe[z]=0;for(m=0;m<=143;)te[m*2+1]=8,m++,pe[8]++;for(;m<=255;)te[m*2+1]=9,m++,pe[9]++;for(;m<=279;)te[m*2+1]=7,m++,pe[7]++;for(;m<=287;)te[m*2+1]=8,m++,pe[8]++;for(lt(te,L+1,pe),m=0;m<R;m++)ge[m*2+1]=5,ge[m*2]=De(m,5);xe=new ie(te,ee,q+1,L,O),he=new ie(ge,K,0,R,O),Ce=new ie(new Array(0),X,0,G,E)},fe=m=>{let z;for(z=0;z<L;z++)m.dyn_ltree[z*2]=0;for(z=0;z<R;z++)m.dyn_dtree[z*2]=0;for(z=0;z<G;z++)m.bl_tree[z*2]=0;m.dyn_ltree[B*2]=1,m.opt_len=m.static_len=0,m.sym_next=m.matches=0},le=m=>{m.bi_valid>8?Re(m,m.bi_buf):m.bi_valid>0&&(m.pending_buf[m.pending++]=m.bi_buf),m.bi_buf=0,m.bi_valid=0},ye=(m,z,x,ne)=>{const de=z*2,pe=x*2;return m[de]<m[pe]||m[de]===m[pe]&&ne[z]<=ne[x]},rt=(m,z,x)=>{const ne=m.heap[x];let de=x<<1;for(;de<=m.heap_len&&(de<m.heap_len&&ye(z,m.heap[de+1],m.heap[de],m.depth)&&de++,!ye(z,ne,m.heap[de],m.depth));)m.heap[x]=m.heap[de],x=de,de<<=1;m.heap[x]=ne},Et=(m,z,x)=>{let ne,de,pe=0,Ve,Ne;if(m.sym_next!==0)do ne=m.pending_buf[m.sym_buf+pe++]&255,ne+=(m.pending_buf[m.sym_buf+pe++]&255)<<8,de=m.pending_buf[m.sym_buf+pe++],ne===0?it(m,de,z):(Ve=_e[de],it(m,Ve+q+1,z),Ne=ee[Ve],Ne!==0&&(de-=$e[Ve],Ze(m,de,Ne)),ne--,Ve=we(ne),it(m,Ve,x),Ne=K[Ve],Ne!==0&&(ne-=oe[Ve],Ze(m,ne,Ne)));while(pe<m.sym_next);it(m,B,z)},ue=(m,z)=>{const x=z.dyn_tree,ne=z.stat_desc.static_tree,de=z.stat_desc.has_stree,pe=z.stat_desc.elems;let Ve,Ne,an=-1,Ae;for(m.heap_len=0,m.heap_max=F,Ve=0;Ve<pe;Ve++)x[Ve*2]!==0?(m.heap[++m.heap_len]=an=Ve,m.depth[Ve]=0):x[Ve*2+1]=0;for(;m.heap_len<2;)Ae=m.heap[++m.heap_len]=an<2?++an:0,x[Ae*2]=1,m.depth[Ae]=0,m.opt_len--,de&&(m.static_len-=ne[Ae*2+1]);for(z.max_code=an,Ve=m.heap_len>>1;Ve>=1;Ve--)rt(m,x,Ve);Ae=pe;do Ve=m.heap[1],m.heap[1]=m.heap[m.heap_len--],rt(m,x,1),Ne=m.heap[1],m.heap[--m.heap_max]=Ve,m.heap[--m.heap_max]=Ne,x[Ae*2]=x[Ve*2]+x[Ne*2],m.depth[Ae]=(m.depth[Ve]>=m.depth[Ne]?m.depth[Ve]:m.depth[Ne])+1,x[Ve*2+1]=x[Ne*2+1]=Ae,m.heap[1]=Ae++,rt(m,x,1);while(m.heap_len>=2);m.heap[--m.heap_max]=m.heap[1],nt(m,z),lt(x,an,m.bl_count)},Kt=(m,z,x)=>{let ne,de=-1,pe,Ve=z[0*2+1],Ne=0,an=7,Ae=4;for(Ve===0&&(an=138,Ae=3),z[(x+1)*2+1]=65535,ne=0;ne<=x;ne++)pe=Ve,Ve=z[(ne+1)*2+1],!(++Ne<an&&pe===Ve)&&(Ne<Ae?m.bl_tree[pe*2]+=Ne:pe!==0?(pe!==de&&m.bl_tree[pe*2]++,m.bl_tree[M*2]++):Ne<=10?m.bl_tree[P*2]++:m.bl_tree[$*2]++,Ne=0,de=pe,Ve===0?(an=138,Ae=3):pe===Ve?(an=6,Ae=3):(an=7,Ae=4))},He=(m,z,x)=>{let ne,de=-1,pe,Ve=z[0*2+1],Ne=0,an=7,Ae=4;for(Ve===0&&(an=138,Ae=3),ne=0;ne<=x;ne++)if(pe=Ve,Ve=z[(ne+1)*2+1],!(++Ne<an&&pe===Ve)){if(Ne<Ae)do it(m,pe,m.bl_tree);while(--Ne!==0);else pe!==0?(pe!==de&&(it(m,pe,m.bl_tree),Ne--),it(m,M,m.bl_tree),Ze(m,Ne-3,2)):Ne<=10?(it(m,P,m.bl_tree),Ze(m,Ne-3,3)):(it(m,$,m.bl_tree),Ze(m,Ne-11,7));Ne=0,de=pe,Ve===0?(an=138,Ae=3):pe===Ve?(an=6,Ae=3):(an=7,Ae=4)}},Ct=m=>{let z;for(Kt(m,m.dyn_ltree,m.l_desc.max_code),Kt(m,m.dyn_dtree,m.d_desc.max_code),ue(m,m.bl_desc),z=G-1;z>=3&&m.bl_tree[Y[z]*2+1]===0;z--);return m.opt_len+=3*(z+1)+5+5+4,z},Xt=(m,z,x,ne)=>{let de;for(Ze(m,z-257,5),Ze(m,x-1,5),Ze(m,ne-4,4),de=0;de<ne;de++)Ze(m,m.bl_tree[Y[de]*2+1],3);He(m,m.dyn_ltree,z-1),He(m,m.dyn_dtree,x-1)},me=m=>{let z=4093624447,x;for(x=0;x<=31;x++,z>>>=1)if(z&1&&m.dyn_ltree[x*2]!==0)return y;if(m.dyn_ltree[9*2]!==0||m.dyn_ltree[10*2]!==0||m.dyn_ltree[13*2]!==0)return w;for(x=32;x<q;x++)if(m.dyn_ltree[x*2]!==0)return w;return y};let Se=!1;const ut=m=>{Se||(Ot(),Se=!0),m.l_desc=new qe(m.dyn_ltree,xe),m.d_desc=new qe(m.dyn_dtree,he),m.bl_desc=new qe(m.bl_tree,Ce),m.bi_buf=0,m.bi_valid=0,fe(m)},Z=(m,z,x,ne)=>{Ze(m,(S<<1)+(ne?1:0),3),le(m),Re(m,x),Re(m,~x),x&&m.pending_buf.set(m.window.subarray(z,z+x),m.pending),m.pending+=x},vt=m=>{Ze(m,T<<1,3),it(m,B,te),Ie(m)},Yt=(m,z,x,ne)=>{let de,pe,Ve=0;m.level>0?(m.strm.data_type===k&&(m.strm.data_type=me(m)),ue(m,m.l_desc),ue(m,m.d_desc),Ve=Ct(m),de=m.opt_len+3+7>>>3,pe=m.static_len+3+7>>>3,pe<=de&&(de=pe)):de=pe=x+5,x+4<=de&&z!==-1?Z(m,z,x,ne):m.strategy===h||pe===de?(Ze(m,(T<<1)+(ne?1:0),3),Et(m,te,ge)):(Ze(m,(I<<1)+(ne?1:0),3),Xt(m,m.l_desc.max_code+1,m.d_desc.max_code+1,Ve+1),Et(m,m.dyn_ltree,m.dyn_dtree)),fe(m),ne&&le(m)},Un=(m,z,x)=>(m.pending_buf[m.sym_buf+m.sym_next++]=z,m.pending_buf[m.sym_buf+m.sym_next++]=z>>8,m.pending_buf[m.sym_buf+m.sym_next++]=x,z===0?m.dyn_ltree[x*2]++:(m.matches++,z--,m.dyn_ltree[(_e[x]+q+1)*2]++,m.dyn_dtree[we(z)*2]++),m.sym_next===m.sym_end);var ke=ut,Xe=Z,$t=Yt,St=Un,Pt=vt,dn={_tr_init:ke,_tr_stored_block:Xe,_tr_flush_block:$t,_tr_tally:St,_tr_align:Pt},Pn=(m,z,x,ne)=>{let de=m&65535|0,pe=m>>>16&65535|0,Ve=0;for(;x!==0;){Ve=x>2e3?2e3:x,x-=Ve;do de=de+z[ne++]|0,pe=pe+de|0;while(--Ve);de%=65521,pe%=65521}return de|pe<<16|0};const En=()=>{let m,z=[];for(var x=0;x<256;x++){m=x;for(var ne=0;ne<8;ne++)m=m&1?3988292384^m>>>1:m>>>1;z[x]=m}return z},mn=new Uint32Array(En());var Oe=(m,z,x,ne)=>{const de=mn,pe=ne+x;m^=-1;for(let Ve=ne;Ve<pe;Ve++)m=m>>>8^de[(m^z[Ve])&255];return m^-1},nr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},J={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ha,_tr_stored_block:Za,_tr_flush_block:ar,_tr_tally:to,_tr_align:ds}=dn,{Z_NO_FLUSH:qn,Z_PARTIAL_FLUSH:jr,Z_FULL_FLUSH:na,Z_FINISH:Mr,Z_BLOCK:Do,Z_OK:Ua,Z_STREAM_END:Zn,Z_STREAM_ERROR:gr,Z_DATA_ERROR:ur,Z_BUF_ERROR:yo,Z_DEFAULT_COMPRESSION:Ra,Z_FILTERED:_r,Z_HUFFMAN_ONLY:Tn,Z_RLE:Jo,Z_FIXED:fs,Z_DEFAULT_STRATEGY:Co,Z_UNKNOWN:zn,Z_DEFLATED:cr}=J,Pr=9,rr=15,Oo=8,bo=256+1+29,It=30,Zt=19,Kn=2*bo+1,aa=15,hn=3,Xn=258,Ga=Xn+hn+1,hs=32,Bo=42,Ja=57,$o=69,wo=73,pr=91,Ar=103,Va=113,Qa=666,Fa=1,Ir=2,Lr=3,Hr=4,dr=3,oo=(m,z)=>(m.msg=nr[z],z),vo=m=>m*2-(m>4?9:0),Na=m=>{let z=m.length;for(;--z>=0;)m[z]=0},Cs=m=>{let z,x,ne,de=m.w_size;z=m.hash_size,ne=z;do x=m.head[--ne],m.head[ne]=x>=de?x-de:0;while(--z);z=de,ne=z;do x=m.prev[--ne],m.prev[ne]=x>=de?x-de:0;while(--z)};let xo=(m,z,x)=>(z<<m.hash_shift^x)&m.hash_mask;const Yr=m=>{const z=m.state;let x=z.pending;x>m.avail_out&&(x=m.avail_out),x!==0&&(m.output.set(z.pending_buf.subarray(z.pending_out,z.pending_out+x),m.next_out),m.next_out+=x,z.pending_out+=x,m.total_out+=x,m.avail_out-=x,z.pending-=x,z.pending===0&&(z.pending_out=0))},Nr=(m,z)=>{ar(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,z),m.block_start=m.strstart,Yr(m.strm)},va=(m,z)=>{m.pending_buf[m.pending++]=z},Ro=(m,z)=>{m.pending_buf[m.pending++]=z>>>8&255,m.pending_buf[m.pending++]=z&255},ms=(m,z,x,ne)=>{let de=m.avail_in;return de>ne&&(de=ne),de===0?0:(m.avail_in-=de,z.set(m.input.subarray(m.next_in,m.next_in+de),x),m.state.wrap===1?m.adler=Pn(m.adler,z,de,x):m.state.wrap===2&&(m.adler=Oe(m.adler,z,de,x)),m.next_in+=de,m.total_in+=de,de)},Hi=(m,z)=>{let x=m.max_chain_length,ne=m.strstart,de,pe,Ve=m.prev_length,Ne=m.nice_match;const an=m.strstart>m.w_size-Ga?m.strstart-(m.w_size-Ga):0,Ae=m.window,We=m.w_mask,Ia=m.prev,tn=m.strstart+Xn;let bt=Ae[ne+Ve-1],Dn=Ae[ne+Ve];m.prev_length>=m.good_match&&(x>>=2),Ne>m.lookahead&&(Ne=m.lookahead);do if(de=z,!(Ae[de+Ve]!==Dn||Ae[de+Ve-1]!==bt||Ae[de]!==Ae[ne]||Ae[++de]!==Ae[ne+1])){ne+=2,de++;do;while(Ae[++ne]===Ae[++de]&&Ae[++ne]===Ae[++de]&&Ae[++ne]===Ae[++de]&&Ae[++ne]===Ae[++de]&&Ae[++ne]===Ae[++de]&&Ae[++ne]===Ae[++de]&&Ae[++ne]===Ae[++de]&&Ae[++ne]===Ae[++de]&&ne<tn);if(pe=Xn-(tn-ne),ne=tn-Xn,pe>Ve){if(m.match_start=z,Ve=pe,pe>=Ne)break;bt=Ae[ne+Ve-1],Dn=Ae[ne+Ve]}}while((z=Ia[z&We])>an&&--x!==0);return Ve<=m.lookahead?Ve:m.lookahead},Fo=m=>{const z=m.w_size;let x,ne,de;do{if(ne=m.window_size-m.lookahead-m.strstart,m.strstart>=z+(z-Ga)&&(m.window.set(m.window.subarray(z,z+z-ne),0),m.match_start-=z,m.strstart-=z,m.block_start-=z,m.insert>m.strstart&&(m.insert=m.strstart),Cs(m),ne+=z),m.strm.avail_in===0)break;if(x=ms(m.strm,m.window,m.strstart+m.lookahead,ne),m.lookahead+=x,m.lookahead+m.insert>=hn)for(de=m.strstart-m.insert,m.ins_h=m.window[de],m.ins_h=xo(m,m.ins_h,m.window[de+1]);m.insert&&(m.ins_h=xo(m,m.ins_h,m.window[de+hn-1]),m.prev[de&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=de,de++,m.insert--,!(m.lookahead+m.insert<hn)););}while(m.lookahead<Ga&&m.strm.avail_in!==0)},qr=(m,z)=>{let x=m.pending_buf_size-5>m.w_size?m.w_size:m.pending_buf_size-5,ne,de,pe,Ve=0,Ne=m.strm.avail_in;do{if(ne=65535,pe=m.bi_valid+42>>3,m.strm.avail_out<pe||(pe=m.strm.avail_out-pe,de=m.strstart-m.block_start,ne>de+m.strm.avail_in&&(ne=de+m.strm.avail_in),ne>pe&&(ne=pe),ne<x&&(ne===0&&z!==Mr||z===qn||ne!==de+m.strm.avail_in)))break;Ve=z===Mr&&ne===de+m.strm.avail_in?1:0,Za(m,0,0,Ve),m.pending_buf[m.pending-4]=ne,m.pending_buf[m.pending-3]=ne>>8,m.pending_buf[m.pending-2]=~ne,m.pending_buf[m.pending-1]=~ne>>8,Yr(m.strm),de&&(de>ne&&(de=ne),m.strm.output.set(m.window.subarray(m.block_start,m.block_start+de),m.strm.next_out),m.strm.next_out+=de,m.strm.avail_out-=de,m.strm.total_out+=de,m.block_start+=de,ne-=de),ne&&(ms(m.strm,m.strm.output,m.strm.next_out,ne),m.strm.next_out+=ne,m.strm.avail_out-=ne,m.strm.total_out+=ne)}while(Ve===0);return Ne-=m.strm.avail_in,Ne&&(Ne>=m.w_size?(m.matches=2,m.window.set(m.strm.input.subarray(m.strm.next_in-m.w_size,m.strm.next_in),0),m.strstart=m.w_size,m.insert=m.strstart):(m.window_size-m.strstart<=Ne&&(m.strstart-=m.w_size,m.window.set(m.window.subarray(m.w_size,m.w_size+m.strstart),0),m.matches<2&&m.matches++,m.insert>m.strstart&&(m.insert=m.strstart)),m.window.set(m.strm.input.subarray(m.strm.next_in-Ne,m.strm.next_in),m.strstart),m.strstart+=Ne,m.insert+=Ne>m.w_size-m.insert?m.w_size-m.insert:Ne),m.block_start=m.strstart),m.high_water<m.strstart&&(m.high_water=m.strstart),Ve?Hr:z!==qn&&z!==Mr&&m.strm.avail_in===0&&m.strstart===m.block_start?Ir:(pe=m.window_size-m.strstart,m.strm.avail_in>pe&&m.block_start>=m.w_size&&(m.block_start-=m.w_size,m.strstart-=m.w_size,m.window.set(m.window.subarray(m.w_size,m.w_size+m.strstart),0),m.matches<2&&m.matches++,pe+=m.w_size,m.insert>m.strstart&&(m.insert=m.strstart)),pe>m.strm.avail_in&&(pe=m.strm.avail_in),pe&&(ms(m.strm,m.window,m.strstart,pe),m.strstart+=pe,m.insert+=pe>m.w_size-m.insert?m.w_size-m.insert:pe),m.high_water<m.strstart&&(m.high_water=m.strstart),pe=m.bi_valid+42>>3,pe=m.pending_buf_size-pe>65535?65535:m.pending_buf_size-pe,x=pe>m.w_size?m.w_size:pe,de=m.strstart-m.block_start,(de>=x||(de||z===Mr)&&z!==qn&&m.strm.avail_in===0&&de<=pe)&&(ne=de>pe?pe:de,Ve=z===Mr&&m.strm.avail_in===0&&ne===de?1:0,Za(m,m.block_start,ne,Ve),m.block_start+=ne,Yr(m.strm)),Ve?Lr:Fa)},Wr=(m,z)=>{let x,ne;for(;;){if(m.lookahead<Ga){if(Fo(m),m.lookahead<Ga&&z===qn)return Fa;if(m.lookahead===0)break}if(x=0,m.lookahead>=hn&&(m.ins_h=xo(m,m.ins_h,m.window[m.strstart+hn-1]),x=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),x!==0&&m.strstart-x<=m.w_size-Ga&&(m.match_length=Hi(m,x)),m.match_length>=hn)if(ne=to(m,m.strstart-m.match_start,m.match_length-hn),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=hn){m.match_length--;do m.strstart++,m.ins_h=xo(m,m.ins_h,m.window[m.strstart+hn-1]),x=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=xo(m,m.ins_h,m.window[m.strstart+1]);else ne=to(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(ne&&(Nr(m,!1),m.strm.avail_out===0))return Fa}return m.insert=m.strstart<hn-1?m.strstart:hn-1,z===Mr?(Nr(m,!0),m.strm.avail_out===0?Lr:Hr):m.sym_next&&(Nr(m,!1),m.strm.avail_out===0)?Fa:Ir},Dr=(m,z)=>{let x,ne,de;for(;;){if(m.lookahead<Ga){if(Fo(m),m.lookahead<Ga&&z===qn)return Fa;if(m.lookahead===0)break}if(x=0,m.lookahead>=hn&&(m.ins_h=xo(m,m.ins_h,m.window[m.strstart+hn-1]),x=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=hn-1,x!==0&&m.prev_length<m.max_lazy_match&&m.strstart-x<=m.w_size-Ga&&(m.match_length=Hi(m,x),m.match_length<=5&&(m.strategy===_r||m.match_length===hn&&m.strstart-m.match_start>4096)&&(m.match_length=hn-1)),m.prev_length>=hn&&m.match_length<=m.prev_length){de=m.strstart+m.lookahead-hn,ne=to(m,m.strstart-1-m.prev_match,m.prev_length-hn),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=de&&(m.ins_h=xo(m,m.ins_h,m.window[m.strstart+hn-1]),x=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=hn-1,m.strstart++,ne&&(Nr(m,!1),m.strm.avail_out===0))return Fa}else if(m.match_available){if(ne=to(m,0,m.window[m.strstart-1]),ne&&Nr(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return Fa}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(ne=to(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<hn-1?m.strstart:hn-1,z===Mr?(Nr(m,!0),m.strm.avail_out===0?Lr:Hr):m.sym_next&&(Nr(m,!1),m.strm.avail_out===0)?Fa:Ir},Mo=(m,z)=>{let x,ne,de,pe;const Ve=m.window;for(;;){if(m.lookahead<=Xn){if(Fo(m),m.lookahead<=Xn&&z===qn)return Fa;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=hn&&m.strstart>0&&(de=m.strstart-1,ne=Ve[de],ne===Ve[++de]&&ne===Ve[++de]&&ne===Ve[++de])){pe=m.strstart+Xn;do;while(ne===Ve[++de]&&ne===Ve[++de]&&ne===Ve[++de]&&ne===Ve[++de]&&ne===Ve[++de]&&ne===Ve[++de]&&ne===Ve[++de]&&ne===Ve[++de]&&de<pe);m.match_length=Xn-(pe-de),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=hn?(x=to(m,1,m.match_length-hn),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(x=to(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),x&&(Nr(m,!1),m.strm.avail_out===0))return Fa}return m.insert=0,z===Mr?(Nr(m,!0),m.strm.avail_out===0?Lr:Hr):m.sym_next&&(Nr(m,!1),m.strm.avail_out===0)?Fa:Ir},Os=(m,z)=>{let x;for(;;){if(m.lookahead===0&&(Fo(m),m.lookahead===0)){if(z===qn)return Fa;break}if(m.match_length=0,x=to(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,x&&(Nr(m,!1),m.strm.avail_out===0))return Fa}return m.insert=0,z===Mr?(Nr(m,!0),m.strm.avail_out===0?Lr:Hr):m.sym_next&&(Nr(m,!1),m.strm.avail_out===0)?Fa:Ir};function or(m,z,x,ne,de){this.good_length=m,this.max_lazy=z,this.nice_length=x,this.max_chain=ne,this.func=de}const Sr=[new or(0,0,0,0,qr),new or(4,4,8,4,Wr),new or(4,5,16,8,Wr),new or(4,6,32,32,Wr),new or(4,4,16,16,Dr),new or(8,16,32,32,Dr),new or(8,16,128,128,Dr),new or(8,32,128,256,Dr),new or(32,128,258,1024,Dr),new or(32,258,258,4096,Dr)],Kr=m=>{m.window_size=2*m.w_size,Na(m.head),m.max_lazy_match=Sr[m.level].max_lazy,m.good_match=Sr[m.level].good_length,m.nice_match=Sr[m.level].nice_length,m.max_chain_length=Sr[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=hn-1,m.match_available=0,m.ins_h=0};function Ur(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=cr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Kn*2),this.dyn_dtree=new Uint16Array((2*It+1)*2),this.bl_tree=new Uint16Array((2*Zt+1)*2),Na(this.dyn_ltree),Na(this.dyn_dtree),Na(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(aa+1),this.heap=new Uint16Array(2*bo+1),Na(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bo+1),Na(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ko=m=>{if(!m)return 1;const z=m.state;return!z||z.strm!==m||z.status!==Bo&&z.status!==Ja&&z.status!==$o&&z.status!==wo&&z.status!==pr&&z.status!==Ar&&z.status!==Va&&z.status!==Qa?1:0},gi=m=>{if(ko(m))return oo(m,gr);m.total_in=m.total_out=0,m.data_type=zn;const z=m.state;return z.pending=0,z.pending_out=0,z.wrap<0&&(z.wrap=-z.wrap),z.status=z.wrap===2?Ja:z.wrap?Bo:Va,m.adler=z.wrap===2?0:1,z.last_flush=-2,ha(z),Ua},_o=m=>{const z=gi(m);return z===Ua&&Kr(m.state),z},Pa=(m,z)=>ko(m)||m.state.wrap!==2?gr:(m.state.gzhead=z,Ua),Bs=(m,z,x,ne,de,pe)=>{if(!m)return gr;let Ve=1;if(z===Ra&&(z=6),ne<0?(Ve=0,ne=-ne):ne>15&&(Ve=2,ne-=16),de<1||de>Pr||x!==cr||ne<8||ne>15||z<0||z>9||pe<0||pe>fs||ne===8&&Ve!==1)return oo(m,gr);ne===8&&(ne=9);const Ne=new Ur;return m.state=Ne,Ne.strm=m,Ne.status=Bo,Ne.wrap=Ve,Ne.gzhead=null,Ne.w_bits=ne,Ne.w_size=1<<Ne.w_bits,Ne.w_mask=Ne.w_size-1,Ne.hash_bits=de+7,Ne.hash_size=1<<Ne.hash_bits,Ne.hash_mask=Ne.hash_size-1,Ne.hash_shift=~~((Ne.hash_bits+hn-1)/hn),Ne.window=new Uint8Array(Ne.w_size*2),Ne.head=new Uint16Array(Ne.hash_size),Ne.prev=new Uint16Array(Ne.w_size),Ne.lit_bufsize=1<<de+6,Ne.pending_buf_size=Ne.lit_bufsize*4,Ne.pending_buf=new Uint8Array(Ne.pending_buf_size),Ne.sym_buf=Ne.lit_bufsize,Ne.sym_end=(Ne.lit_bufsize-1)*3,Ne.level=z,Ne.strategy=pe,Ne.method=x,_o(m)},Qs=(m,z)=>Bs(m,z,cr,rr,Oo,Co),ei=(m,z)=>{if(ko(m)||z>Do||z<0)return m?oo(m,gr):gr;const x=m.state;if(!m.output||m.avail_in!==0&&!m.input||x.status===Qa&&z!==Mr)return oo(m,m.avail_out===0?yo:gr);const ne=x.last_flush;if(x.last_flush=z,x.pending!==0){if(Yr(m),m.avail_out===0)return x.last_flush=-1,Ua}else if(m.avail_in===0&&vo(z)<=vo(ne)&&z!==Mr)return oo(m,yo);if(x.status===Qa&&m.avail_in!==0)return oo(m,yo);if(x.status===Bo&&x.wrap===0&&(x.status=Va),x.status===Bo){let de=cr+(x.w_bits-8<<4)<<8,pe=-1;if(x.strategy>=Tn||x.level<2?pe=0:x.level<6?pe=1:x.level===6?pe=2:pe=3,de|=pe<<6,x.strstart!==0&&(de|=hs),de+=31-de%31,Ro(x,de),x.strstart!==0&&(Ro(x,m.adler>>>16),Ro(x,m.adler&65535)),m.adler=1,x.status=Va,Yr(m),x.pending!==0)return x.last_flush=-1,Ua}if(x.status===Ja){if(m.adler=0,va(x,31),va(x,139),va(x,8),x.gzhead)va(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),va(x,x.gzhead.time&255),va(x,x.gzhead.time>>8&255),va(x,x.gzhead.time>>16&255),va(x,x.gzhead.time>>24&255),va(x,x.level===9?2:x.strategy>=Tn||x.level<2?4:0),va(x,x.gzhead.os&255),x.gzhead.extra&&x.gzhead.extra.length&&(va(x,x.gzhead.extra.length&255),va(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(m.adler=Oe(m.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=$o;else if(va(x,0),va(x,0),va(x,0),va(x,0),va(x,0),va(x,x.level===9?2:x.strategy>=Tn||x.level<2?4:0),va(x,dr),x.status=Va,Yr(m),x.pending!==0)return x.last_flush=-1,Ua}if(x.status===$o){if(x.gzhead.extra){let de=x.pending,pe=(x.gzhead.extra.length&65535)-x.gzindex;for(;x.pending+pe>x.pending_buf_size;){let Ne=x.pending_buf_size-x.pending;if(x.pending_buf.set(x.gzhead.extra.subarray(x.gzindex,x.gzindex+Ne),x.pending),x.pending=x.pending_buf_size,x.gzhead.hcrc&&x.pending>de&&(m.adler=Oe(m.adler,x.pending_buf,x.pending-de,de)),x.gzindex+=Ne,Yr(m),x.pending!==0)return x.last_flush=-1,Ua;de=0,pe-=Ne}let Ve=new Uint8Array(x.gzhead.extra);x.pending_buf.set(Ve.subarray(x.gzindex,x.gzindex+pe),x.pending),x.pending+=pe,x.gzhead.hcrc&&x.pending>de&&(m.adler=Oe(m.adler,x.pending_buf,x.pending-de,de)),x.gzindex=0}x.status=wo}if(x.status===wo){if(x.gzhead.name){let de=x.pending,pe;do{if(x.pending===x.pending_buf_size){if(x.gzhead.hcrc&&x.pending>de&&(m.adler=Oe(m.adler,x.pending_buf,x.pending-de,de)),Yr(m),x.pending!==0)return x.last_flush=-1,Ua;de=0}x.gzindex<x.gzhead.name.length?pe=x.gzhead.name.charCodeAt(x.gzindex++)&255:pe=0,va(x,pe)}while(pe!==0);x.gzhead.hcrc&&x.pending>de&&(m.adler=Oe(m.adler,x.pending_buf,x.pending-de,de)),x.gzindex=0}x.status=pr}if(x.status===pr){if(x.gzhead.comment){let de=x.pending,pe;do{if(x.pending===x.pending_buf_size){if(x.gzhead.hcrc&&x.pending>de&&(m.adler=Oe(m.adler,x.pending_buf,x.pending-de,de)),Yr(m),x.pending!==0)return x.last_flush=-1,Ua;de=0}x.gzindex<x.gzhead.comment.length?pe=x.gzhead.comment.charCodeAt(x.gzindex++)&255:pe=0,va(x,pe)}while(pe!==0);x.gzhead.hcrc&&x.pending>de&&(m.adler=Oe(m.adler,x.pending_buf,x.pending-de,de))}x.status=Ar}if(x.status===Ar){if(x.gzhead.hcrc){if(x.pending+2>x.pending_buf_size&&(Yr(m),x.pending!==0))return x.last_flush=-1,Ua;va(x,m.adler&255),va(x,m.adler>>8&255),m.adler=0}if(x.status=Va,Yr(m),x.pending!==0)return x.last_flush=-1,Ua}if(m.avail_in!==0||x.lookahead!==0||z!==qn&&x.status!==Qa){let de=x.level===0?qr(x,z):x.strategy===Tn?Os(x,z):x.strategy===Jo?Mo(x,z):Sr[x.level].func(x,z);if((de===Lr||de===Hr)&&(x.status=Qa),de===Fa||de===Lr)return m.avail_out===0&&(x.last_flush=-1),Ua;if(de===Ir&&(z===jr?ds(x):z!==Do&&(Za(x,0,0,!1),z===na&&(Na(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),Yr(m),m.avail_out===0))return x.last_flush=-1,Ua}return z!==Mr?Ua:x.wrap<=0?Zn:(x.wrap===2?(va(x,m.adler&255),va(x,m.adler>>8&255),va(x,m.adler>>16&255),va(x,m.adler>>24&255),va(x,m.total_in&255),va(x,m.total_in>>8&255),va(x,m.total_in>>16&255),va(x,m.total_in>>24&255)):(Ro(x,m.adler>>>16),Ro(x,m.adler&65535)),Yr(m),x.wrap>0&&(x.wrap=-x.wrap),x.pending!==0?Ua:Zn)},Qo=m=>{if(ko(m))return gr;const z=m.state.status;return m.state=null,z===Va?oo(m,ur):Ua},Wi=(m,z)=>{let x=z.length;if(ko(m))return gr;const ne=m.state,de=ne.wrap;if(de===2||de===1&&ne.status!==Bo||ne.lookahead)return gr;if(de===1&&(m.adler=Pn(m.adler,z,x,0)),ne.wrap=0,x>=ne.w_size){de===0&&(Na(ne.head),ne.strstart=0,ne.block_start=0,ne.insert=0);let an=new Uint8Array(ne.w_size);an.set(z.subarray(x-ne.w_size,x),0),z=an,x=ne.w_size}const pe=m.avail_in,Ve=m.next_in,Ne=m.input;for(m.avail_in=x,m.next_in=0,m.input=z,Fo(ne);ne.lookahead>=hn;){let an=ne.strstart,Ae=ne.lookahead-(hn-1);do ne.ins_h=xo(ne,ne.ins_h,ne.window[an+hn-1]),ne.prev[an&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=an,an++;while(--Ae);ne.strstart=an,ne.lookahead=hn-1,Fo(ne)}return ne.strstart+=ne.lookahead,ne.block_start=ne.strstart,ne.insert=ne.lookahead,ne.lookahead=0,ne.match_length=ne.prev_length=hn-1,ne.match_available=0,m.next_in=Ve,m.input=Ne,m.avail_in=pe,ne.wrap=de,Ua};var Go=Qs,es=Bs,Ki=_o,gs=gi,Sl=Pa,Tl=ei,Xi=Qo,jl=Wi,ti="pako deflate (from Nodeca project)",Rs={deflateInit:Go,deflateInit2:es,deflateReset:Ki,deflateResetKeep:gs,deflateSetHeader:Sl,deflate:Tl,deflateEnd:Xi,deflateSetDictionary:jl,deflateInfo:ti};const Vo=(m,z)=>Object.prototype.hasOwnProperty.call(m,z);var Fs=function(m){const z=Array.prototype.slice.call(arguments,1);for(;z.length;){const x=z.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(const ne in x)Vo(x,ne)&&(m[ne]=x[ne])}}return m},ni=m=>{let z=0;for(let ne=0,de=m.length;ne<de;ne++)z+=m[ne].length;const x=new Uint8Array(z);for(let ne=0,de=0,pe=m.length;ne<pe;ne++){let Ve=m[ne];x.set(Ve,de),de+=Ve.length}return x},ts={assign:Fs,flattenChunks:ni};let ns=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ns=!1}const zr=new Uint8Array(256);for(let m=0;m<256;m++)zr[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;zr[254]=zr[254]=1;var sr=m=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(m);let z,x,ne,de,pe,Ve=m.length,Ne=0;for(de=0;de<Ve;de++)x=m.charCodeAt(de),(x&64512)===55296&&de+1<Ve&&(ne=m.charCodeAt(de+1),(ne&64512)===56320&&(x=65536+(x-55296<<10)+(ne-56320),de++)),Ne+=x<128?1:x<2048?2:x<65536?3:4;for(z=new Uint8Array(Ne),pe=0,de=0;pe<Ne;de++)x=m.charCodeAt(de),(x&64512)===55296&&de+1<Ve&&(ne=m.charCodeAt(de+1),(ne&64512)===56320&&(x=65536+(x-55296<<10)+(ne-56320),de++)),x<128?z[pe++]=x:x<2048?(z[pe++]=192|x>>>6,z[pe++]=128|x&63):x<65536?(z[pe++]=224|x>>>12,z[pe++]=128|x>>>6&63,z[pe++]=128|x&63):(z[pe++]=240|x>>>18,z[pe++]=128|x>>>12&63,z[pe++]=128|x>>>6&63,z[pe++]=128|x&63);return z};const Yi=(m,z)=>{if(z<65534&&m.subarray&&ns)return String.fromCharCode.apply(null,m.length===z?m:m.subarray(0,z));let x="";for(let ne=0;ne<z;ne++)x+=String.fromCharCode(m[ne]);return x};var yi=(m,z)=>{const x=z||m.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(m.subarray(0,z));let ne,de;const pe=new Array(x*2);for(de=0,ne=0;ne<x;){let Ve=m[ne++];if(Ve<128){pe[de++]=Ve;continue}let Ne=zr[Ve];if(Ne>4){pe[de++]=65533,ne+=Ne-1;continue}for(Ve&=Ne===2?31:Ne===3?15:7;Ne>1&&ne<x;)Ve=Ve<<6|m[ne++]&63,Ne--;if(Ne>1){pe[de++]=65533;continue}Ve<65536?pe[de++]=Ve:(Ve-=65536,pe[de++]=55296|Ve>>10&1023,pe[de++]=56320|Ve&1023)}return Yi(pe,de)},Cr=(m,z)=>{z=z||m.length,z>m.length&&(z=m.length);let x=z-1;for(;x>=0&&(m[x]&192)===128;)x--;return x<0||x===0?z:x+zr[m[x]]>z?x:z},Ms={string2buf:sr,buf2string:yi,utf8border:Cr};function qi(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var bi=qi;const wi=Object.prototype.toString,{Z_NO_FLUSH:Il,Z_SYNC_FLUSH:Ps,Z_FULL_FLUSH:Zi,Z_FINISH:Nl,Z_OK:ai,Z_STREAM_END:Dl,Z_DEFAULT_COMPRESSION:Ji,Z_DEFAULT_STRATEGY:vi,Z_DEFLATED:Qi}=J;function so(m){this.options=ts.assign({level:Ji,method:Qi,chunkSize:16384,windowBits:15,memLevel:8,strategy:vi},m||{});let z=this.options;z.raw&&z.windowBits>0?z.windowBits=-z.windowBits:z.gzip&&z.windowBits>0&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bi,this.strm.avail_out=0;let x=Rs.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(x!==ai)throw new Error(nr[x]);if(z.header&&Rs.deflateSetHeader(this.strm,z.header),z.dictionary){let ne;if(typeof z.dictionary=="string"?ne=Ms.string2buf(z.dictionary):wi.call(z.dictionary)==="[object ArrayBuffer]"?ne=new Uint8Array(z.dictionary):ne=z.dictionary,x=Rs.deflateSetDictionary(this.strm,ne),x!==ai)throw new Error(nr[x]);this._dict_set=!0}}so.prototype.push=function(m,z){const x=this.strm,ne=this.options.chunkSize;let de,pe;if(this.ended)return!1;for(z===~~z?pe=z:pe=z===!0?Nl:Il,typeof m=="string"?x.input=Ms.string2buf(m):wi.call(m)==="[object ArrayBuffer]"?x.input=new Uint8Array(m):x.input=m,x.next_in=0,x.avail_in=x.input.length;;){if(x.avail_out===0&&(x.output=new Uint8Array(ne),x.next_out=0,x.avail_out=ne),(pe===Ps||pe===Zi)&&x.avail_out<=6){this.onData(x.output.subarray(0,x.next_out)),x.avail_out=0;continue}if(de=Rs.deflate(x,pe),de===Dl)return x.next_out>0&&this.onData(x.output.subarray(0,x.next_out)),de=Rs.deflateEnd(this.strm),this.onEnd(de),this.ended=!0,de===ai;if(x.avail_out===0){this.onData(x.output);continue}if(pe>0&&x.next_out>0){this.onData(x.output.subarray(0,x.next_out)),x.avail_out=0;continue}if(x.avail_in===0)break}return!0},so.prototype.onData=function(m){this.chunks.push(m)},so.prototype.onEnd=function(m){m===ai&&(this.result=ts.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg};function Ls(m,z){const x=new so(z);if(x.push(m,!0),x.err)throw x.msg||nr[x.err];return x.result}function ys(m,z){return z=z||{},z.raw=!0,Ls(m,z)}function ra(m,z){return z=z||{},z.gzip=!0,Ls(m,z)}var Eo=so,el=Ls,Ha=ys,xi=ra,Te=J,Me={Deflate:Eo,deflate:el,deflateRaw:Ha,gzip:xi,constants:Te};const Ge=16209,tt=16191;var Je=function(z,x){let ne,de,pe,Ve,Ne,an,Ae,We,Ia,tn,bt,Dn,Ca,ga,Wn,La,pa,Vt,ia,$r,xn,be,Ht,wt;const mt=z.state;ne=z.next_in,Ht=z.input,de=ne+(z.avail_in-5),pe=z.next_out,wt=z.output,Ve=pe-(x-z.avail_out),Ne=pe+(z.avail_out-257),an=mt.dmax,Ae=mt.wsize,We=mt.whave,Ia=mt.wnext,tn=mt.window,bt=mt.hold,Dn=mt.bits,Ca=mt.lencode,ga=mt.distcode,Wn=(1<<mt.lenbits)-1,La=(1<<mt.distbits)-1;e:do{Dn<15&&(bt+=Ht[ne++]<<Dn,Dn+=8,bt+=Ht[ne++]<<Dn,Dn+=8),pa=Ca[bt&Wn];t:for(;;){if(Vt=pa>>>24,bt>>>=Vt,Dn-=Vt,Vt=pa>>>16&255,Vt===0)wt[pe++]=pa&65535;else if(Vt&16){ia=pa&65535,Vt&=15,Vt&&(Dn<Vt&&(bt+=Ht[ne++]<<Dn,Dn+=8),ia+=bt&(1<<Vt)-1,bt>>>=Vt,Dn-=Vt),Dn<15&&(bt+=Ht[ne++]<<Dn,Dn+=8,bt+=Ht[ne++]<<Dn,Dn+=8),pa=ga[bt&La];n:for(;;){if(Vt=pa>>>24,bt>>>=Vt,Dn-=Vt,Vt=pa>>>16&255,Vt&16){if($r=pa&65535,Vt&=15,Dn<Vt&&(bt+=Ht[ne++]<<Dn,Dn+=8,Dn<Vt&&(bt+=Ht[ne++]<<Dn,Dn+=8)),$r+=bt&(1<<Vt)-1,$r>an){z.msg="invalid distance too far back",mt.mode=Ge;break e}if(bt>>>=Vt,Dn-=Vt,Vt=pe-Ve,$r>Vt){if(Vt=$r-Vt,Vt>We&&mt.sane){z.msg="invalid distance too far back",mt.mode=Ge;break e}if(xn=0,be=tn,Ia===0){if(xn+=Ae-Vt,Vt<ia){ia-=Vt;do wt[pe++]=tn[xn++];while(--Vt);xn=pe-$r,be=wt}}else if(Ia<Vt){if(xn+=Ae+Ia-Vt,Vt-=Ia,Vt<ia){ia-=Vt;do wt[pe++]=tn[xn++];while(--Vt);if(xn=0,Ia<ia){Vt=Ia,ia-=Vt;do wt[pe++]=tn[xn++];while(--Vt);xn=pe-$r,be=wt}}}else if(xn+=Ia-Vt,Vt<ia){ia-=Vt;do wt[pe++]=tn[xn++];while(--Vt);xn=pe-$r,be=wt}for(;ia>2;)wt[pe++]=be[xn++],wt[pe++]=be[xn++],wt[pe++]=be[xn++],ia-=3;ia&&(wt[pe++]=be[xn++],ia>1&&(wt[pe++]=be[xn++]))}else{xn=pe-$r;do wt[pe++]=wt[xn++],wt[pe++]=wt[xn++],wt[pe++]=wt[xn++],ia-=3;while(ia>2);ia&&(wt[pe++]=wt[xn++],ia>1&&(wt[pe++]=wt[xn++]))}}else if(Vt&64){z.msg="invalid distance code",mt.mode=Ge;break e}else{pa=ga[(pa&65535)+(bt&(1<<Vt)-1)];continue n}break}}else if(Vt&64)if(Vt&32){mt.mode=tt;break e}else{z.msg="invalid literal/length code",mt.mode=Ge;break e}else{pa=Ca[(pa&65535)+(bt&(1<<Vt)-1)];continue t}break}}while(ne<de&&pe<Ne);ia=Dn>>3,ne-=ia,Dn-=ia<<3,bt&=(1<<Dn)-1,z.next_in=ne,z.next_out=pe,z.avail_in=ne<de?5+(de-ne):5-(ne-de),z.avail_out=pe<Ne?257+(Ne-pe):257-(pe-Ne),mt.hold=bt,mt.bits=Dn};const Qe=15,jt=852,Rt=592,Lt=0,cn=1,vn=2,gn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Gt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var On=(m,z,x,ne,de,pe,Ve,Ne)=>{const an=Ne.bits;let Ae=0,We=0,Ia=0,tn=0,bt=0,Dn=0,Ca=0,ga=0,Wn=0,La=0,pa,Vt,ia,$r,xn,be=null,Ht;const wt=new Uint16Array(Qe+1),mt=new Uint16Array(Qe+1);let rn=null,Oa,Ei,Mn;for(Ae=0;Ae<=Qe;Ae++)wt[Ae]=0;for(We=0;We<ne;We++)wt[z[x+We]]++;for(bt=an,tn=Qe;tn>=1&&wt[tn]===0;tn--);if(bt>tn&&(bt=tn),tn===0)return de[pe++]=1<<24|64<<16|0,de[pe++]=1<<24|64<<16|0,Ne.bits=1,0;for(Ia=1;Ia<tn&&wt[Ia]===0;Ia++);for(bt<Ia&&(bt=Ia),ga=1,Ae=1;Ae<=Qe;Ae++)if(ga<<=1,ga-=wt[Ae],ga<0)return-1;if(ga>0&&(m===Lt||tn!==1))return-1;for(mt[1]=0,Ae=1;Ae<Qe;Ae++)mt[Ae+1]=mt[Ae]+wt[Ae];for(We=0;We<ne;We++)z[x+We]!==0&&(Ve[mt[z[x+We]]++]=We);if(m===Lt?(be=rn=Ve,Ht=20):m===cn?(be=gn,rn=Gt,Ht=257):(be=nn,rn=jn,Ht=0),La=0,We=0,Ae=Ia,xn=pe,Dn=bt,Ca=0,ia=-1,Wn=1<<bt,$r=Wn-1,m===cn&&Wn>jt||m===vn&&Wn>Rt)return 1;for(;;){Oa=Ae-Ca,Ve[We]+1<Ht?(Ei=0,Mn=Ve[We]):Ve[We]>=Ht?(Ei=rn[Ve[We]-Ht],Mn=be[Ve[We]-Ht]):(Ei=96,Mn=0),pa=1<<Ae-Ca,Vt=1<<Dn,Ia=Vt;do Vt-=pa,de[xn+(La>>Ca)+Vt]=Oa<<24|Ei<<16|Mn|0;while(Vt!==0);for(pa=1<<Ae-1;La&pa;)pa>>=1;if(pa!==0?(La&=pa-1,La+=pa):La=0,We++,--wt[Ae]===0){if(Ae===tn)break;Ae=z[x+Ve[We]]}if(Ae>bt&&(La&$r)!==ia){for(Ca===0&&(Ca=bt),xn+=Ia,Dn=Ae-Ca,ga=1<<Dn;Dn+Ca<tn&&(ga-=wt[Dn+Ca],!(ga<=0));)Dn++,ga<<=1;if(Wn+=1<<Dn,m===cn&&Wn>jt||m===vn&&Wn>Rt)return 1;ia=La&$r,de[ia]=bt<<24|Dn<<16|xn-pe|0}}return La!==0&&(de[xn+La]=Ae-Ca<<24|64<<16|0),Ne.bits=bt,0};const pn=0,ja=1,Qn=2,{Z_FINISH:$n,Z_BLOCK:Wa,Z_TREES:Gn,Z_OK:Jn,Z_STREAM_END:er,Z_NEED_DICT:Er,Z_STREAM_ERROR:ln,Z_DATA_ERROR:oa,Z_MEM_ERROR:sa,Z_BUF_ERROR:Da,Z_DEFLATED:ca}=J,Ka=16180,An=16181,tr=16182,yr=16183,Zr=16184,Jr=16185,Tr=16186,br=16187,no=16188,bs=16189,Us=16190,io=16191,tl=16192,Cl=16193,nl=16194,al=16195,rl=16196,Ol=16197,ri=16198,Ho=16199,ol=16200,Bl=16201,as=16202,ki=16203,wu=16204,Rl=16205,vu=16206,Fl=16207,_i=16208,se=16209,Fe=16210,Pe=16211,Be=852,Le=592,et=15,at=m=>(m>>>24&255)+(m>>>8&65280)+((m&65280)<<8)+((m&255)<<24);function gt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ct=m=>{if(!m)return 1;const z=m.state;return!z||z.strm!==m||z.mode<Ka||z.mode>Pe?1:0},kt=m=>{if(ct(m))return ln;const z=m.state;return m.total_in=m.total_out=z.total=0,m.msg="",z.wrap&&(m.adler=z.wrap&1),z.mode=Ka,z.last=0,z.havedict=0,z.flags=-1,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new Int32Array(Be),z.distcode=z.distdyn=new Int32Array(Le),z.sane=1,z.back=-1,Jn},Ee=m=>{if(ct(m))return ln;const z=m.state;return z.wsize=0,z.whave=0,z.wnext=0,kt(m)},Ke=(m,z)=>{let x;if(ct(m))return ln;const ne=m.state;return z<0?(x=0,z=-z):(x=(z>>4)+5,z<48&&(z&=15)),z&&(z<8||z>15)?ln:(ne.window!==null&&ne.wbits!==z&&(ne.window=null),ne.wrap=x,ne.wbits=z,Ee(m))},Nt=(m,z)=>{if(!m)return ln;const x=new gt;m.state=x,x.strm=m,x.window=null,x.mode=Ka;const ne=Ke(m,z);return ne!==Jn&&(m.state=null),ne},Dt=m=>Nt(m,et);let xt=!0,Ft,Tt;const At=m=>{if(xt){Ft=new Int32Array(512),Tt=new Int32Array(32);let z=0;for(;z<144;)m.lens[z++]=8;for(;z<256;)m.lens[z++]=9;for(;z<280;)m.lens[z++]=7;for(;z<288;)m.lens[z++]=8;for(On(ja,m.lens,0,288,Ft,0,m.work,{bits:9}),z=0;z<32;)m.lens[z++]=5;On(Qn,m.lens,0,32,Tt,0,m.work,{bits:5}),xt=!1}m.lencode=Ft,m.lenbits=9,m.distcode=Tt,m.distbits=5},_n=(m,z,x,ne)=>{let de;const pe=m.state;return pe.window===null&&(pe.wsize=1<<pe.wbits,pe.wnext=0,pe.whave=0,pe.window=new Uint8Array(pe.wsize)),ne>=pe.wsize?(pe.window.set(z.subarray(x-pe.wsize,x),0),pe.wnext=0,pe.whave=pe.wsize):(de=pe.wsize-pe.wnext,de>ne&&(de=ne),pe.window.set(z.subarray(x-ne,x-ne+de),pe.wnext),ne-=de,ne?(pe.window.set(z.subarray(x-ne,x),0),pe.wnext=ne,pe.whave=pe.wsize):(pe.wnext+=de,pe.wnext===pe.wsize&&(pe.wnext=0),pe.whave<pe.wsize&&(pe.whave+=de))),0},Qt=(m,z)=>{let x,ne,de,pe,Ve,Ne,an,Ae,We,Ia,tn,bt,Dn,Ca,ga=0,Wn,La,pa,Vt,ia,$r,xn,be;const Ht=new Uint8Array(4);let wt,mt;const rn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ct(m)||!m.output||!m.input&&m.avail_in!==0)return ln;x=m.state,x.mode===io&&(x.mode=tl),Ve=m.next_out,de=m.output,an=m.avail_out,pe=m.next_in,ne=m.input,Ne=m.avail_in,Ae=x.hold,We=x.bits,Ia=Ne,tn=an,be=Jn;e:for(;;)switch(x.mode){case Ka:if(x.wrap===0){x.mode=tl;break}for(;We<16;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(x.wrap&2&&Ae===35615){x.wbits===0&&(x.wbits=15),x.check=0,Ht[0]=Ae&255,Ht[1]=Ae>>>8&255,x.check=Oe(x.check,Ht,2,0),Ae=0,We=0,x.mode=An;break}if(x.head&&(x.head.done=!1),!(x.wrap&1)||(((Ae&255)<<8)+(Ae>>8))%31){m.msg="incorrect header check",x.mode=se;break}if((Ae&15)!==ca){m.msg="unknown compression method",x.mode=se;break}if(Ae>>>=4,We-=4,xn=(Ae&15)+8,x.wbits===0&&(x.wbits=xn),xn>15||xn>x.wbits){m.msg="invalid window size",x.mode=se;break}x.dmax=1<<x.wbits,x.flags=0,m.adler=x.check=1,x.mode=Ae&512?bs:io,Ae=0,We=0;break;case An:for(;We<16;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(x.flags=Ae,(x.flags&255)!==ca){m.msg="unknown compression method",x.mode=se;break}if(x.flags&57344){m.msg="unknown header flags set",x.mode=se;break}x.head&&(x.head.text=Ae>>8&1),x.flags&512&&x.wrap&4&&(Ht[0]=Ae&255,Ht[1]=Ae>>>8&255,x.check=Oe(x.check,Ht,2,0)),Ae=0,We=0,x.mode=tr;case tr:for(;We<32;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}x.head&&(x.head.time=Ae),x.flags&512&&x.wrap&4&&(Ht[0]=Ae&255,Ht[1]=Ae>>>8&255,Ht[2]=Ae>>>16&255,Ht[3]=Ae>>>24&255,x.check=Oe(x.check,Ht,4,0)),Ae=0,We=0,x.mode=yr;case yr:for(;We<16;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}x.head&&(x.head.xflags=Ae&255,x.head.os=Ae>>8),x.flags&512&&x.wrap&4&&(Ht[0]=Ae&255,Ht[1]=Ae>>>8&255,x.check=Oe(x.check,Ht,2,0)),Ae=0,We=0,x.mode=Zr;case Zr:if(x.flags&1024){for(;We<16;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}x.length=Ae,x.head&&(x.head.extra_len=Ae),x.flags&512&&x.wrap&4&&(Ht[0]=Ae&255,Ht[1]=Ae>>>8&255,x.check=Oe(x.check,Ht,2,0)),Ae=0,We=0}else x.head&&(x.head.extra=null);x.mode=Jr;case Jr:if(x.flags&1024&&(bt=x.length,bt>Ne&&(bt=Ne),bt&&(x.head&&(xn=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Uint8Array(x.head.extra_len)),x.head.extra.set(ne.subarray(pe,pe+bt),xn)),x.flags&512&&x.wrap&4&&(x.check=Oe(x.check,ne,bt,pe)),Ne-=bt,pe+=bt,x.length-=bt),x.length))break e;x.length=0,x.mode=Tr;case Tr:if(x.flags&2048){if(Ne===0)break e;bt=0;do xn=ne[pe+bt++],x.head&&xn&&x.length<65536&&(x.head.name+=String.fromCharCode(xn));while(xn&&bt<Ne);if(x.flags&512&&x.wrap&4&&(x.check=Oe(x.check,ne,bt,pe)),Ne-=bt,pe+=bt,xn)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=br;case br:if(x.flags&4096){if(Ne===0)break e;bt=0;do xn=ne[pe+bt++],x.head&&xn&&x.length<65536&&(x.head.comment+=String.fromCharCode(xn));while(xn&&bt<Ne);if(x.flags&512&&x.wrap&4&&(x.check=Oe(x.check,ne,bt,pe)),Ne-=bt,pe+=bt,xn)break e}else x.head&&(x.head.comment=null);x.mode=no;case no:if(x.flags&512){for(;We<16;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(x.wrap&4&&Ae!==(x.check&65535)){m.msg="header crc mismatch",x.mode=se;break}Ae=0,We=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),m.adler=x.check=0,x.mode=io;break;case bs:for(;We<32;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}m.adler=x.check=at(Ae),Ae=0,We=0,x.mode=Us;case Us:if(x.havedict===0)return m.next_out=Ve,m.avail_out=an,m.next_in=pe,m.avail_in=Ne,x.hold=Ae,x.bits=We,Er;m.adler=x.check=1,x.mode=io;case io:if(z===Wa||z===Gn)break e;case tl:if(x.last){Ae>>>=We&7,We-=We&7,x.mode=vu;break}for(;We<3;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}switch(x.last=Ae&1,Ae>>>=1,We-=1,Ae&3){case 0:x.mode=Cl;break;case 1:if(At(x),x.mode=Ho,z===Gn){Ae>>>=2,We-=2;break e}break;case 2:x.mode=rl;break;case 3:m.msg="invalid block type",x.mode=se}Ae>>>=2,We-=2;break;case Cl:for(Ae>>>=We&7,We-=We&7;We<32;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if((Ae&65535)!==(Ae>>>16^65535)){m.msg="invalid stored block lengths",x.mode=se;break}if(x.length=Ae&65535,Ae=0,We=0,x.mode=nl,z===Gn)break e;case nl:x.mode=al;case al:if(bt=x.length,bt){if(bt>Ne&&(bt=Ne),bt>an&&(bt=an),bt===0)break e;de.set(ne.subarray(pe,pe+bt),Ve),Ne-=bt,pe+=bt,an-=bt,Ve+=bt,x.length-=bt;break}x.mode=io;break;case rl:for(;We<14;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(x.nlen=(Ae&31)+257,Ae>>>=5,We-=5,x.ndist=(Ae&31)+1,Ae>>>=5,We-=5,x.ncode=(Ae&15)+4,Ae>>>=4,We-=4,x.nlen>286||x.ndist>30){m.msg="too many length or distance symbols",x.mode=se;break}x.have=0,x.mode=Ol;case Ol:for(;x.have<x.ncode;){for(;We<3;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}x.lens[rn[x.have++]]=Ae&7,Ae>>>=3,We-=3}for(;x.have<19;)x.lens[rn[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,wt={bits:x.lenbits},be=On(pn,x.lens,0,19,x.lencode,0,x.work,wt),x.lenbits=wt.bits,be){m.msg="invalid code lengths set",x.mode=se;break}x.have=0,x.mode=ri;case ri:for(;x.have<x.nlen+x.ndist;){for(;ga=x.lencode[Ae&(1<<x.lenbits)-1],Wn=ga>>>24,La=ga>>>16&255,pa=ga&65535,!(Wn<=We);){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(pa<16)Ae>>>=Wn,We-=Wn,x.lens[x.have++]=pa;else{if(pa===16){for(mt=Wn+2;We<mt;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(Ae>>>=Wn,We-=Wn,x.have===0){m.msg="invalid bit length repeat",x.mode=se;break}xn=x.lens[x.have-1],bt=3+(Ae&3),Ae>>>=2,We-=2}else if(pa===17){for(mt=Wn+3;We<mt;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}Ae>>>=Wn,We-=Wn,xn=0,bt=3+(Ae&7),Ae>>>=3,We-=3}else{for(mt=Wn+7;We<mt;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}Ae>>>=Wn,We-=Wn,xn=0,bt=11+(Ae&127),Ae>>>=7,We-=7}if(x.have+bt>x.nlen+x.ndist){m.msg="invalid bit length repeat",x.mode=se;break}for(;bt--;)x.lens[x.have++]=xn}}if(x.mode===se)break;if(x.lens[256]===0){m.msg="invalid code -- missing end-of-block",x.mode=se;break}if(x.lenbits=9,wt={bits:x.lenbits},be=On(ja,x.lens,0,x.nlen,x.lencode,0,x.work,wt),x.lenbits=wt.bits,be){m.msg="invalid literal/lengths set",x.mode=se;break}if(x.distbits=6,x.distcode=x.distdyn,wt={bits:x.distbits},be=On(Qn,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,wt),x.distbits=wt.bits,be){m.msg="invalid distances set",x.mode=se;break}if(x.mode=Ho,z===Gn)break e;case Ho:x.mode=ol;case ol:if(Ne>=6&&an>=258){m.next_out=Ve,m.avail_out=an,m.next_in=pe,m.avail_in=Ne,x.hold=Ae,x.bits=We,Je(m,tn),Ve=m.next_out,de=m.output,an=m.avail_out,pe=m.next_in,ne=m.input,Ne=m.avail_in,Ae=x.hold,We=x.bits,x.mode===io&&(x.back=-1);break}for(x.back=0;ga=x.lencode[Ae&(1<<x.lenbits)-1],Wn=ga>>>24,La=ga>>>16&255,pa=ga&65535,!(Wn<=We);){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(La&&!(La&240)){for(Vt=Wn,ia=La,$r=pa;ga=x.lencode[$r+((Ae&(1<<Vt+ia)-1)>>Vt)],Wn=ga>>>24,La=ga>>>16&255,pa=ga&65535,!(Vt+Wn<=We);){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}Ae>>>=Vt,We-=Vt,x.back+=Vt}if(Ae>>>=Wn,We-=Wn,x.back+=Wn,x.length=pa,La===0){x.mode=Rl;break}if(La&32){x.back=-1,x.mode=io;break}if(La&64){m.msg="invalid literal/length code",x.mode=se;break}x.extra=La&15,x.mode=Bl;case Bl:if(x.extra){for(mt=x.extra;We<mt;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}x.length+=Ae&(1<<x.extra)-1,Ae>>>=x.extra,We-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=as;case as:for(;ga=x.distcode[Ae&(1<<x.distbits)-1],Wn=ga>>>24,La=ga>>>16&255,pa=ga&65535,!(Wn<=We);){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(!(La&240)){for(Vt=Wn,ia=La,$r=pa;ga=x.distcode[$r+((Ae&(1<<Vt+ia)-1)>>Vt)],Wn=ga>>>24,La=ga>>>16&255,pa=ga&65535,!(Vt+Wn<=We);){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}Ae>>>=Vt,We-=Vt,x.back+=Vt}if(Ae>>>=Wn,We-=Wn,x.back+=Wn,La&64){m.msg="invalid distance code",x.mode=se;break}x.offset=pa,x.extra=La&15,x.mode=ki;case ki:if(x.extra){for(mt=x.extra;We<mt;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}x.offset+=Ae&(1<<x.extra)-1,Ae>>>=x.extra,We-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){m.msg="invalid distance too far back",x.mode=se;break}x.mode=wu;case wu:if(an===0)break e;if(bt=tn-an,x.offset>bt){if(bt=x.offset-bt,bt>x.whave&&x.sane){m.msg="invalid distance too far back",x.mode=se;break}bt>x.wnext?(bt-=x.wnext,Dn=x.wsize-bt):Dn=x.wnext-bt,bt>x.length&&(bt=x.length),Ca=x.window}else Ca=de,Dn=Ve-x.offset,bt=x.length;bt>an&&(bt=an),an-=bt,x.length-=bt;do de[Ve++]=Ca[Dn++];while(--bt);x.length===0&&(x.mode=ol);break;case Rl:if(an===0)break e;de[Ve++]=x.length,an--,x.mode=ol;break;case vu:if(x.wrap){for(;We<32;){if(Ne===0)break e;Ne--,Ae|=ne[pe++]<<We,We+=8}if(tn-=an,m.total_out+=tn,x.total+=tn,x.wrap&4&&tn&&(m.adler=x.check=x.flags?Oe(x.check,de,tn,Ve-tn):Pn(x.check,de,tn,Ve-tn)),tn=an,x.wrap&4&&(x.flags?Ae:at(Ae))!==x.check){m.msg="incorrect data check",x.mode=se;break}Ae=0,We=0}x.mode=Fl;case Fl:if(x.wrap&&x.flags){for(;We<32;){if(Ne===0)break e;Ne--,Ae+=ne[pe++]<<We,We+=8}if(x.wrap&4&&Ae!==(x.total&4294967295)){m.msg="incorrect length check",x.mode=se;break}Ae=0,We=0}x.mode=_i;case _i:be=er;break e;case se:be=oa;break e;case Fe:return sa;case Pe:default:return ln}return m.next_out=Ve,m.avail_out=an,m.next_in=pe,m.avail_in=Ne,x.hold=Ae,x.bits=We,(x.wsize||tn!==m.avail_out&&x.mode<se&&(x.mode<vu||z!==$n))&&_n(m,m.output,m.next_out,tn-m.avail_out),Ia-=m.avail_in,tn-=m.avail_out,m.total_in+=Ia,m.total_out+=tn,x.total+=tn,x.wrap&4&&tn&&(m.adler=x.check=x.flags?Oe(x.check,de,tn,m.next_out-tn):Pn(x.check,de,tn,m.next_out-tn)),m.data_type=x.bits+(x.last?64:0)+(x.mode===io?128:0)+(x.mode===Ho||x.mode===nl?256:0),(Ia===0&&tn===0||z===$n)&&be===Jn&&(be=Da),be},Sa=m=>{if(ct(m))return ln;let z=m.state;return z.window&&(z.window=null),m.state=null,Jn},za=(m,z)=>{if(ct(m))return ln;const x=m.state;return x.wrap&2?(x.head=z,z.done=!1,Jn):ln},Or=(m,z)=>{const x=z.length;let ne,de,pe;return ct(m)||(ne=m.state,ne.wrap!==0&&ne.mode!==Us)?ln:ne.mode===Us&&(de=1,de=Pn(de,z,x,0),de!==ne.check)?oa:(pe=_n(m,z,x,x),pe?(ne.mode=Fe,sa):(ne.havedict=1,Jn))};var Br=Ee,Xa=Ke,Ta=kt,yt=Dt,fn=Nt,yn=Qt,ma=Sa,In=za,Bn=Or,qt="pako inflate (from Nodeca project)",un={inflateReset:Br,inflateReset2:Xa,inflateResetKeep:Ta,inflateInit:yt,inflateInit2:fn,inflate:yn,inflateEnd:ma,inflateGetHeader:In,inflateSetDictionary:Bn,inflateInfo:qt};function ea(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wr=ea;const lo=Object.prototype.toString,{Z_NO_FLUSH:zs,Z_FINISH:uo,Z_OK:sl,Z_STREAM_END:xu,Z_NEED_DICT:ku,Z_STREAM_ERROR:ip,Z_DATA_ERROR:lp,Z_MEM_ERROR:up}=J;function Ml(m){this.options=ts.assign({chunkSize:65536,windowBits:15,to:""},m||{});const z=this.options;z.raw&&z.windowBits>=0&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),z.windowBits>=0&&z.windowBits<16&&!(m&&m.windowBits)&&(z.windowBits+=32),z.windowBits>15&&z.windowBits<48&&(z.windowBits&15||(z.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bi,this.strm.avail_out=0;let x=un.inflateInit2(this.strm,z.windowBits);if(x!==sl)throw new Error(nr[x]);if(this.header=new wr,un.inflateGetHeader(this.strm,this.header),z.dictionary&&(typeof z.dictionary=="string"?z.dictionary=Ms.string2buf(z.dictionary):lo.call(z.dictionary)==="[object ArrayBuffer]"&&(z.dictionary=new Uint8Array(z.dictionary)),z.raw&&(x=un.inflateSetDictionary(this.strm,z.dictionary),x!==sl)))throw new Error(nr[x])}Ml.prototype.push=function(m,z){const x=this.strm,ne=this.options.chunkSize,de=this.options.dictionary;let pe,Ve,Ne;if(this.ended)return!1;for(z===~~z?Ve=z:Ve=z===!0?uo:zs,lo.call(m)==="[object ArrayBuffer]"?x.input=new Uint8Array(m):x.input=m,x.next_in=0,x.avail_in=x.input.length;;){for(x.avail_out===0&&(x.output=new Uint8Array(ne),x.next_out=0,x.avail_out=ne),pe=un.inflate(x,Ve),pe===ku&&de&&(pe=un.inflateSetDictionary(x,de),pe===sl?pe=un.inflate(x,Ve):pe===lp&&(pe=ku));x.avail_in>0&&pe===xu&&x.state.wrap>0&&m[x.next_in]!==0;)un.inflateReset(x),pe=un.inflate(x,Ve);switch(pe){case ip:case lp:case ku:case up:return this.onEnd(pe),this.ended=!0,!1}if(Ne=x.avail_out,x.next_out&&(x.avail_out===0||pe===xu))if(this.options.to==="string"){let an=Ms.utf8border(x.output,x.next_out),Ae=x.next_out-an,We=Ms.buf2string(x.output,an);x.next_out=Ae,x.avail_out=ne-Ae,Ae&&x.output.set(x.output.subarray(an,an+Ae),0),this.onData(We)}else this.onData(x.output.length===x.next_out?x.output:x.output.subarray(0,x.next_out));if(!(pe===sl&&Ne===0)){if(pe===xu)return pe=un.inflateEnd(this.strm),this.onEnd(pe),this.ended=!0,!0;if(x.avail_in===0)break}}return!0},Ml.prototype.onData=function(m){this.chunks.push(m)},Ml.prototype.onEnd=function(m){m===sl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ts.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg};function Rn(m,z){const x=new Ml(z);if(x.push(m),x.err)throw x.msg||nr[x.err];return x.result}function df(m,z){return z=z||{},z.raw=!0,Rn(m,z)}var cp=Ml,pp=Rn,dp=df,fp=Rn,hp=J,mp={Inflate:cp,inflate:pp,inflateRaw:dp,ungzip:fp,constants:hp};const{Deflate:kc,deflate:ff,deflateRaw:_u,gzip:_c}=Me,{Inflate:hf,inflate:mf,inflateRaw:Qr,ungzip:gp}=mp;var yp=kc,Eu=ff,bp=_u,rs=_c,Au=hf,Ao=mf,$s=Qr,wp=gp,Su=J,Ec={Deflate:yp,deflate:Eu,deflateRaw:bp,gzip:rs,Inflate:Au,inflate:Ao,inflateRaw:$s,ungzip:wp,constants:Su}},"./src/all/errors.js":(f,d,c)=>{c.r(d),c.d(d,{ignoreNoConnectionError:()=>k});const h="Could not establish connection. Receiving end does not exist.",y="A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received",w="Message manager disconnected";function k(A){return A.catch(S=>{if(!(typeof S=="object"&&(S.message==h||S.message==y||S.message==w)))throw S})}},"./src/all/experiment-validation.js":(f,d,c)=>{c.r(d),c.d(d,{validateExperimentData:()=>w});const h="1";function y(k){let A=[];const S=(L,R,G)=>{const F=typeof R[L]=="string";return F||A.push(`\`${G}.${L}\` is not a string`),F},T=(L,R,G)=>{typeof R[L]<"u"&&typeof R[L]!="string"&&A.push(`\`${G}.${L}\` is not a string`)},I=(L,R,G)=>{typeof R[L]<"u"&&typeof R[L]!="boolean"&&A.push(`\`${G}.${L}\` is not a boolean`)},j=(L,R,G)=>{const F=typeof R[L]=="object";return F||A.push(`\`${G}.${L}\` is not an object`),F};function V(L){return typeof L=="number"&&L>=0&&L<=1e3}if(typeof k!="object")return A.push("root data is not an object"),A;if(k.schemaId!==h)return A.push(`This system only supports a schemaId of '${h}'`),A;if(!Array.isArray(k.experiments))return A.push("`experiments` is not an array"),A;let C=new Set,q=new Map;return k.experiments.forEach((L,R)=>{const G=`experiments[${R}]`;if(S("experimentId",L,G)&&(C.has(L.experimentId)&&A.push(`\`${G}.experimentId\` ${L.experimentId} appears as the experiment ID on a previous experiment`),C.add(L.experimentId)),T("name",L,G),T("description",L,G),I("enabled",L,G),!Array.isArray(L.variants)){A.push(`\`${G}.variants\` is not an array`);return}let F=new Set,O=[];L.variants.forEach((N,E)=>{const B=`${G}.variants[${E}]`;if(S("variantId",N,B)&&(F.has(N.variantId)&&A.push(`\`${B}.variantId\` ${N.variantId} appears as the variantId on a previous variant in this experiment`),F.add(N.variantId)),T("name",N,B),j("flags",N,B)&&Object.keys(N.flags).forEach(K=>{q.has(K)?q.get(K)!==L.experimentId&&A.push(`\`${B}.flag[${K}] appears in multiple experiments`):q.set(K,L.experimentId)}),!Array.isArray(N.mods)||N.mods.length!==2){A.push(`\`${B}.mods\` is not a two element array`);return}const[M,P]=N.mods,$=V(M),ee=V(P);if($||A.push(`\`${B}.mods[0]\` is not a number between 0 and 1000`),ee||A.push(`\`${B}.mods[1]\` is not a number between 0 and 1000`),$&&ee)if(M>=P)A.push(`\`${B}.mods[0]\` is not smaller than \`${B}.mods[1]\``);else{for(const[K,X]of O)M<X&&K<P&&A.push(`Mod ranges [${K}-${X}] and [${M}-${P}] overlap in experiment '${L.experimentId}'`);O.push([M,P])}})}),A}function w(k){const A=y(k);return{errors:A.length===0?null:A}}},"./src/all/scheduler.js":(f,d,c)=>{c.r(d),c.d(d,{Scheduler:()=>w});var h=c("./adblockpluscore/lib/time.js");const y=h.MILLIS_IN_HOUR;class w{constructor(A){this.config=A,this.checkInProgress=!1,this.stopped=!1,this._check=async()=>{this.checkInProgress=!0;let S;try{S=await this._callListenerIfItsTime()}finally{typeof S>"u"&&(S=this.config.errorRetryDelay),S>y&&(S=y),this.stopped||(this.timeout=setTimeout(this._check,S)),this.checkInProgress=!1}},this._check()}async _callListenerIfItsTime(){let A=await this.config.getNextTimestamp(),S=Date.now();return A&&S<A?A-S:await this.config.listener()?this.config.interval:this.config.errorRetryDelay}stop(){this.stopped||(this.stopped=!0,this.timeout&&(clearTimeout(this.timeout),this.timeout=null))}checkNow(){!this.stopped&&!this.checkInProgress&&(clearTimeout(this.timeout),this._check())}}},"./src/background/allowlisting.js":(f,d,c)=>{c.r(d),c.d(d,{allowlistPage:()=>K,default:()=>Y});var h=c("./src/background/webext-browser.js"),y=c("./adblockpluscore/lib/contentTypes.js"),w=c("./adblockpluscore/lib/url.js"),k=c("./adblockpluscore/lib/time.js"),A=c("./adblockpluscore/lib/rsa.js"),S=c("./src/background/core.js"),T=c("./src/background/frame-state.js"),I=c("./src/background/filters.js"),j=c("./src/background/types.js"),V=c("./src/background/info.js"),C=c("./src/background/prefs.js");const q=5*k.MILLIS_IN_MINUTE;let L=function(Q,te){let ge=null;return te&&te.expiresAt&&(ge={expiresAt:te.expiresAt}),I.default.add([`@@||${Q}^$document`],ge)},R=()=>{},G=[],F=Promise.resolve(),O={name:"RSASSA-PKCS1-v1_5",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-512"}};function N(Q,te){let ge=`${Q},${te}`;return new TextEncoder().encode(ge)}async function E(Q,te,ge){return crypto.subtle.verify(O,ge,te,Q)}function B(Q){if(typeof Q!="number"||isNaN(Q))return!1;let te=Date.now(),ge=Q>te+q,re=Q<te-k.MILLIS_IN_HOUR-q;return!ge&&!re}async function M(Q,te,ge){if(typeof ge!="string")return!1;await F;let re=N(Q,te),_e=(0,A.base64ToArrayBuffer)(ge);for(let $e of G)if(await E(re,_e,$e))return!0;return!1}function P(Q){if(!Q)return!0;const te=Object.keys(Q);if(te.length!==1||te[0]!=="expiresAt"||!Number.isInteger(Q.expiresAt))return!1;const ge=Date.now(),re=ge+k.MILLIS_IN_DAY-q,_e=ge+365*k.MILLIS_IN_DAY+q;return!(Q.expiresAt<re||Q.expiresAt>_e)}async function $(Q,te){if(await L(Q,te),h.default.declarativeNetRequest&&(0,V.isEdge)()){const ge=C.Prefs.edge_one_click_allowlisting_delay;await new Promise(re=>setTimeout(re,ge))}return!0}function ee(Q){return R(Q),!1}async function K(Q,te,ge,re,_e){let $e=(0,T.getFrameInfo)(Q,te);if(!$e)return ee({reason:"invalid_frame",request:{domain:null,timestamp:ge,signature:re}});let oe=$e.hostname,ie={domain:oe,timestamp:ge,signature:re};if(te!=0)return ee({reason:"invalid_frame",request:ie});let xe=(0,w.parseURL)($e.url);return S.filterEngine.defaultMatcher.isAllowlisted(`${xe.protocol}//${oe}`,y.contentTypes.DOCUMENT,oe,$e.sitekey)?ee({reason:"already_allowlisted",request:ie}):P(_e)?B(ge)?await M(oe,ge,re)?await $(oe,_e):ee({reason:"invalid_signature",request:ie}):ee({reason:"invalid_timestamp",request:ie}):ee({reason:"invalid_options",request:ie})}async function X(Q){let te=[];for(let ge of Q){let re=(0,A.base64ToArrayBuffer)(ge),_e=await crypto.subtle.importKey("spki",re,O,!1,["verify"]);te.push(_e)}G=te}const Y={async setAuthorizedKeys(Q){let te=X(Q);return F=te.catch(()=>{}),await te},setAllowlistingCallback(Q){L=Q},onUnauthorized:new j.EventDispatcher(Q=>{R=Q},()=>{R=()=>{}})}},"./src/background/browser-features.js":(f,d,c)=>{c.r(d),c.d(d,{isRunningInServiceWorker:()=>w});var h=c("./src/background/webext-browser.js");let y=h.default.runtime.getManifest();function w(){return!!(y.background&&y.background.service_worker)}},"./src/background/callbacks.js":(f,d,c)=>{c.r(d),c.d(d,{premiumStatusCallback:()=>h,setPremiumStatusCallback:()=>y});let h;function y(w){h=w}},"./src/background/cdp-encryption.js":(f,d,c)=>{c.r(d),c.d(d,{AES_LENGTH:()=>j,AESkeyToBinary:()=>q,createAESKey:()=>C,decryptAES:()=>G,decryptRSA:()=>I,encryptAES:()=>R,encryptRSA:()=>T,generateAESNonce:()=>L,importRSAPublicKey:()=>S});var h=c("./adblockpluscore/lib/rsa.js");const y={name:"RSA-OAEP",hash:"SHA-256"},w="-----BEGIN PUBLIC KEY-----",k="-----END PUBLIC KEY-----";function A(F){return Uint8Array.from(F,O=>O.charCodeAt(0))}async function S(F){const O=F.substring(w.length,F.length-k.length-1);return await crypto.subtle.importKey("spki",(0,h.base64ToArrayBuffer)(O),y,!0,["encrypt"])}async function T(F,O){return await crypto.subtle.encrypt(y,F,typeof O=="string"?A(O):O)}async function I(F,O){return await crypto.subtle.decrypt(y,F,O)}const j=256,V={name:"AES-GCM",length:j};async function C(){return await crypto.subtle.generateKey(V,!0,["encrypt","decrypt"])}async function q(F){return await crypto.subtle.exportKey("raw",F)}function L(){return crypto.getRandomValues(new Uint8Array(16))}async function R(F,O,N){const E={name:"AES-GCM",iv:F};return await crypto.subtle.encrypt(E,O,typeof N=="string"?A(N):N)}async function G(F,O,N){const E={name:"AES-GCM",iv:F};return await crypto.subtle.decrypt(E,O,N)}},"./src/background/cdp-metrics-uploader.js":(f,d,c)=>{c.r(d),c.d(d,{requestPublicKey:()=>M,reset:()=>$e,start:()=>_e,stop:()=>oe,upload:()=>te});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./node_modules/uuid/dist/esm-browser/v4.js"),w=c("./node_modules/pako/dist/pako.esm.mjs"),k=c("./adblockpluscore/lib/time.js"),A=c("./src/background/info.js"),S=c("./src/all/scheduler.js"),T=c("./src/background/subscriptions.js"),I=c("./src/background/debugging.js"),j=c("./src/background/experiments.js"),V=c("./src/background/telemetry.js"),C=c("./src/background/cdp.js"),q=c("./src/background/callbacks.js"),L=c("./src/background/cdp-encryption.js"),R=c("./src/background/persistence.js");const F=h.runtime.getManifest().version,O="ewe:cdp-metrics-uploader-3",N=new R.PersistentState(O,h.storage.local);let E,B=null;async function M(){const ie=await fetch(E.publicKeyUrl);if(!ie.ok)throw new Error(`Failed to get public key: ${ie.status}`);const xe=await ie.text(),he=ie.headers.get("PubKey-Id");if(!he)throw new Error("Failed to get public key: no pubkey-id");return{publicKey:xe,keyId:he}}async function P(ie){return w.default.gzip(ie,{level:9}).buffer}async function $(ie,xe){(0,I.trace)({publicKeyPem:ie});const he=await(0,L.importRSAPublicKey)(ie),Ce=await(0,L.createAESKey)(),qe=await(0,L.AESkeyToBinary)(Ce),we=(0,L.generateAESNonce)(),Re=await(0,L.encryptRSA)(he,qe),Ze=new Uint8Array(Re),it=await(0,L.encryptAES)(we,Ce,xe),De=new Uint8Array(it),Ie=new Uint8Array(Ze.length+we.length+De.length);Ie.set(Ze),Ie.set(we,Ze.length),Ie.set(De,Ze.length+we.length);const nt=btoa(String.fromCharCode.apply(null,Ie));return(0,I.debug)(()=>nt),nt}async function ee(){const ie=await j.default.getAssignments();return Object.entries(ie).map(xe=>({experiment_id:xe[0],variant_id:xe[1]}))}async function K(ie,xe,he,Ce){(0,I.trace)({publicKey:ie,keyId:xe,utid:Ce});const qe=N.getState(),we={public_key_id:xe,addon_name:A.sdkName,addon_version:A.sdkVersion,application:A.application,application_version:A.applicationVersion,extension_name:h.runtime.id,extension_version:F,utid:Ce,ucid:qe.ucid,encryption_scheme:`rsa:2048:aes:${L.AES_LENGTH}`,aa_active:await(0,T.hasAcceptableAdsEnabled)(),experiments:await ee()};if(q.premiumStatusCallback){const Re=await(0,q.premiumStatusCallback)();Re&&(we.premium_status=Re)}if(qe.lastPing){const Re=await P(he);we.encrypted_data=await $(ie,Re),we.last_ping=new Date(qe.lastPing).toISOString()}return(0,I.debug)(()=>"CDP payload: "+JSON.stringify(we)),we}function X(){const ie=N.getState(),xe=Date.now();let he,Ce=0;do Ce+=1,he=(ie.lastPing||xe)+Ce*k.MILLIS_IN_DAY;while(he<xe);return he}async function Y(ie){(0,I.trace)({});const xe=N.getState();xe.nextPing=X(),ie&&(xe.lastPing=Date.now()),xe.lastError&&delete xe.lastError,Q(xe)&&delete xe.lastDomainStats,xe.lastUtid&&delete xe.lastUtid,xe.retryCounter&&delete xe.retryCounter,await N.save()}function Q(ie){return Object.prototype.hasOwnProperty.call(ie,"lastDomainStats")}async function te(){if((0,I.trace)({}),await C.default.isOptOut())return(0,I.warn)("CDP opted out, skipping"),!1;const ie=N.getState();let xe,he;try{if(Q(ie)?(xe=ie.lastDomainStats,he=ie.lastUtid,(0,I.warn)("Resending payload "+he)):(ie.lastPing?(xe=(0,C.getDomainStats)(),await(0,C.clearData)()):xe=null,he=(0,y.default)(),(0,I.debug)("New payload "+he)),!ie.lastPing||xe&&xe.length>9){const{publicKey:qe,keyId:we}=await M(),Re=await K(qe,we,xe,he);await(0,V.postWithBearerToken)(E.pingUrl,E.bearer,{payload:Re}),await Y(!0)}else(0,I.warn)("No data to upload, skipping"),await Y(!1)}catch(Ce){return(0,I.error)(`CDP error: ${Ce.message} for payload with utid=${he}`),ie.retryCounter=(ie.retryCounter||0)+1,ie.retryCounter>=3?((0,I.error)("Retried sending too much times"),await Y(!0),await N.save(),!0):(ie.lastError=Date.now(),Q(ie)||(ie.lastDomainStats=xe,ie.lastUtid=he),await N.save(),!1)}return!0}function ge(ie){B||(B=new S.Scheduler({interval:0,errorRetryDelay:ie,listener:()=>te(),async getNextTimestamp(){let xe=N.getState(),he=xe.lastError,Ce=Date.now();if(he){let qe=he+ie;(0,I.warn)(`CDP ping retrying in ${ie} millis`);let we=Ce+ie;return qe>we&&(xe.lastError=Ce,await N.save()),qe}return xe.nextPing?xe.nextPing:(xe.nextPing=X(),await N.save(),0)}}))}async function re(){N.getState().ucid||(N.getState().ucid=(0,y.default)(),await N.save())}async function _e(ie,xe=1*k.MILLIS_IN_HOUR){if(!ie.pingUrl)throw new Error("No CDP `pingUrl` provided");if(!ie.publicKeyUrl)throw new Error("No CDP `publicKeyUrl` provided");if(!ie.bearer)throw new Error("No CDP `bearer` provided");E=ie,N.clearState(),await N.load(),await re(),ge(xe)}async function $e(){oe(),N.clearState(),await N.save()}function oe(){B&&(B.stop(),B=null)}},"./src/background/cdp-processor.js":(f,d,c)=>{c.r(d),c.d(d,{SpecialDomainsProcessor:()=>y});var h=c("./adblockpluscore/lib/url.js");class y{constructor(){this.restoreConfig()}restoreConfig(){this.setConfig(["search.yahoo.com"])}setConfig(k){this.specialDomains=k}shouldProcess(k){return(0,h.isHttpOrHttps)(k)}getSiteId(k){for(const A of(0,h.domainSuffixes)(k))if(this.specialDomains.includes(A))return A;return(0,h.getBaseDomain)(k)}}},"./src/background/cdp.js":(f,d,c)=>{c.r(d),c.d(d,{CdpEventDispatcher:()=>Y,EVENT_BLOCKING:()=>R,EVENT_PAGE_VIEW:()=>q,EVENT_SESSION_START:()=>L,_awaitSavingComplete:()=>re,_restoreConfig:()=>M,_setConfig:()=>B,clearActivity:()=>ie,clearData:()=>he,clearExpiredActivity:()=>xe,default:()=>Kt,getData:()=>oe,getDomainStats:()=>rt,log:()=>N,markActive:()=>Ie,setData:()=>_e,setDataArray:()=>$e,setLoadDelay:()=>E,shouldNotifyActive:()=>nt,start:()=>ue,stop:()=>le});var h=c("./src/background/webext-browser.js"),y=c("./src/background/prefs.js"),w=c("./src/background/frame-state.js"),k=c("./src/background/diagnostics.js"),A=c("./src/background/persistence.js"),S=c("./src/background/debugging.js"),T=c("./src/background/info.js"),I=c("./src/background/domains-trimming.js"),j=c("./adblockpluscore/lib/url.js"),V=c("./src/background/cdp-processor.js"),C=c("./src/background/callbacks.js");const q="page_view",L="session_start",R="blocking";let G=0,F=[],O=new V.SpecialDomainsProcessor;function N(He){(0,S.debug)(He)}function E(He){G=He}function B(He){O.setConfig(He)}function M(){O&&O.restoreConfig()}let P;function $(){P=new Map([[q,new A.PersistentState("ewe:cdp-page-view",h.default.storage.local)],[L,new A.PersistentState("ewe:cdp-session",h.default.storage.local)],[R,new A.PersistentState("ewe:cdp-blocking",h.default.storage.local)]]);for(const He of P.values())He.doDebounce()}$();let ee;function K(){ee=new A.PersistentState("ewe:cdp-activity",h.default.storage.local),ee.doDebounce()}K();let X=new Map;class Y{addListener(Ct,Xt={}){X.set(Ct,Xt)}removeListener(Ct){X.delete(Ct)}}async function Q(He,Ct,Xt){for(const[me,Se]of X)Se.eventType&&Se.eventType!=He||Se.siteId&&Se.siteId!=Ct||await me({eventType:He,siteId:Ct,timeStamp:Xt})}async function te(He,Ct,Xt){(0,S.trace)({eventType:He,siteId:Ct,timeStamp:Xt}),N(`count(${He}, ${Ct}, ${Xt})`);const me=P.get(He);let Se=Et(me.getState()[Ct]);me.getState()[Ct]=Se+1,Ot()&&await me.save(),await Q(He,Ct,Xt)}async function ge({request:He}){if(Ze())return;const Ct=O.getSiteId(new URL(He.url).hostname);Ct&&await te(R,Ct,Date.now())}async function re(){for(const He of P.values())await He.awaitSavingComplete();await ee.awaitSavingComplete()}async function _e(He,Ct,Xt){(0,S.trace)({eventType:He,domain:Ct});const me=P.get(He);me.getState()[Ct]=Xt,await me.save()}async function $e(He,Ct,Xt){const me=P.get(He);for(let Se=0;Se<Ct.length;Se++){const ut=Ct[Se],Z=Xt[Se];me.getState()[ut]=Z}await me.save()}function oe(He,Ct){(0,S.trace)({eventType:He,siteId:Ct}),N(`getData(${He}, ${Ct})`);let Xt=Et(P.get(He).getState()[Ct]);return(0,S.debug)("counter="+Xt),Xt}async function ie(){(0,S.trace)({}),N("clearActivity"),ee.clearState(),await ee.save()}async function xe(){(0,S.trace)({});let He=ee.getState(),Ct=!1;for(const Xt of Object.keys(He)){const me=He[Xt];Date.now()-me>y.Prefs.cdp_session_expiration_interval&&((0,S.debug)(()=>`Remove expired session for ${Xt}`),delete He[Xt],Ct=!0)}Ct&&await ee.save()}async function he(){(0,S.trace)({}),N("clearData()");for(const He of P.values())He.clearState(),await He.save()}let Ce;function qe(He,Ct){if((0,S.trace)(He),Ze())return;if(!Ot()){(0,S.warn)(()=>`Deferring browser event: ${JSON.stringify(He)}`),F.push({details:He,doMarkActive:Ct});return}if(He.frameId!=w.TOP_LEVEL_FRAME_ID)return;let Xt;try{Xt=new URL(He.url)}catch(Z){(0,S.error)(Z.message);return}if(!(0,j.isHttpOrHttps)(Xt)){(0,S.warn)(`Ignore ${(0,j.stripQuery)(He.url)}`);return}const me=O.getSiteId(Xt.hostname);if(!me)return;N(`handleBrowserEvent() url*=${(0,j.stripQuery)(He.url)}, hostname=${Xt.hostname}, siteId=${me}`);const Se=Re(me),ut=Date.now();return te(q,me,ut),Ct&&De(me),Se&&te(L,me,ut),me}function we(He){qe(He,!0)}function Re(He){(0,S.trace)({siteId:He});const Ct=ee.getState()[He];if(!Ct)return N(`New session for ${He}`),!0;const Xt=Date.now()-Ct;return Xt>y.Prefs.cdp_session_expiration_interval?(N(`Session expired for ${He} (lastActive=${Ct}, actuallyPassed=${Xt})`),!0):(N(`Pending session for ${He} (lastActive=${Ct}, actuallyPassed=${Xt})`),!1)}function Ze(){return y.Prefs.cdp_opt_in_out==y.CDP_OPTED_OUT||y.Prefs.cdp_opt_in_out==y.CDP_OPTED_OUT_BY_USER}function it(He){qe(He,!1)}async function De(He){const Ct=Date.now();ee.getState()[He]=Ct,N(`markActiveForSiteId siteId=${He}, now=${Ct}`),await ee.save()}async function Ie(He,Ct){(0,S.trace)({tabId:He,frameId:Ct});const Xt=(0,w.getFrameInfo)(He,Ct);if(!Xt)return;const me=O.getSiteId(Xt.hostname);if(N(`markActive() hostname=${Xt.hostname}, siteId=${me}`),!me)return;const Se=Date.now(),ut=Re(me);await De(me),ut&&(te(q,me,Se),te(L,me,Se))}function nt(He,Ct){if((0,S.trace)({tabId:He,frameId:Ct}),Ze())return!1;let Xt=(0,w.getFrameInfo)(He,Ct);return Xt?O.shouldProcess(new URL(Xt.url)):!1}async function lt(){for(const He of P.values())await He.load()}function Ot(){for(const He of P.values())if(!He.loaded)return!1;return!0}function fe(){if(F.length>0){for(const He of F)qe(He.details,He.doMarkActive);(0,S.warn)(`Processed ${F.length} deferred events`),F=[]}}function le(){Ce&&(Ce=null,new k.BlockableEventDispatcher().removeListener(ge,{filterType:"blocking"}),h.default.webNavigation.onBeforeNavigate.removeListener(we),h.default.webNavigation.onHistoryStateUpdated.removeListener(it),$(),K())}const ye=new Map([[L,"s"],[q,"p"]]);function rt(He=[ye.get(L),ye.get(q)],Ct=92160){const Xt=new Set;for(const[Z,vt]of P){const Yt=ye.get(Z);if(He.includes(Yt))for(const Un of Object.keys(vt.getState()))Xt.add(Un)}function me(Z){return Et(P.get(L).getState()[Z])}const Se=Array.from(Xt).sort((Z,vt)=>me(vt)-me(Z)),ut=new I.MaxLengthMetricsDict(Ct,He,null);for(const Z of Se)for(const[vt,Yt]of P){const Un=ye.get(vt);if(!He.includes(Un))continue;const ke=Yt.getState()[Z];ut.addMetric(Z,Un,Et(ke))}return ut.serialize()}function Et(He){return He?Array.isArray(He)?He.length:He:0}async function ue(){return Ce||(Ce=(async()=>{(0,T.isFirefox)()&&y.Prefs.cdp_opt_in_out==y.CDP_OPTED_IN&&(y.Prefs.cdp_opt_in_out=y.CDP_OPTED_OUT),new k.BlockableEventDispatcher().addListener(ge,{filterType:"blocking"}),h.default.webNavigation.onBeforeNavigate.addListener(we),h.default.webNavigation.onHistoryStateUpdated.addListener(it);async function He(){await lt(),await ee.load(),await xe(),fe()}G==0?await He():setTimeout(He,G)})()),Ce}const Kt={onCdpItem:new Y,async setOptOut(He){y.Prefs.cdp_opt_in_out=He?y.CDP_OPTED_OUT_BY_USER:y.CDP_OPTED_IN_BY_USER},async isOptOut(){return y.Prefs.cdp_opt_in_out==y.CDP_OPTED_OUT||y.Prefs.cdp_opt_in_out==y.CDP_OPTED_OUT_BY_USER},setPremiumStatusCallback:C.setPremiumStatusCallback}},"./src/background/content-filter.js":(f,d,c)=>{c.r(d),c.d(d,{applyContentFilters:()=>O,injectCSS:()=>N,removeCSS:()=>E,setSnippetLibrary:()=>L});var h=c("./src/background/webext-browser.js"),y=c("./adblockpluscore/lib/elemHide.js"),w=c("./adblockpluscore/lib/contentTypes.js"),k=c("./adblockpluscore/lib/snippets.js"),A=c("./src/background/core.js"),S=c("./src/background/frame-state.js"),T=c("./src/background/diagnostics.js"),I=c("./src/background/debugging.js"),j=c("./src/background/set-operations.js"),V=c("./src/background/cdp.js");let C,q;function L({isolatedCode:B,injectedCode:M}){C=B,q=M}function R(B,M){let P=(0,j.arraysDiff)(B.selectors,M.selectors);M.removedSelectors=P.removed,M.addedSelectors=P.added,M.removedCode=(0,y.createStyleSheet)(M.removedSelectors),M.addedCode=(0,y.createStyleSheet)(M.addedSelectors)}function G(B,M,P){let $=(P.allowlisted&w.contentTypes.GENERICHIDE)!=0,ee=(0,T.tracingEnabled)(B),K;M&&!(M.allowlisted&w.contentTypes.DOCUMENT)&&!(M.allowlisted&w.contentTypes.ELEMHIDE)?K=A.filterEngine.elemHide.getStyleSheet(M.hostname,$,ee):K={selectors:[]};let X;if(!(P.allowlisted&w.contentTypes.DOCUMENT)&&!(P.allowlisted&w.contentTypes.ELEMHIDE)?X=A.filterEngine.elemHide.getStyleSheet(P.hostname,$,I.trace):X={selectors:[]},R(K,X),I.debugOptions.elemHide){let Y="{";for(let[Q,te]of I.debugOptions.cssProperties)Y+=`${Q}: ${te} !important;`;Y+="}",X.code=(0,y.createStyleSheet)(X.selectors,Y),X.removedCode=(0,y.createStyleSheet)(X.removedSelectors,Y),X.addedCode=(0,y.createStyleSheet)(X.addedSelectors,Y)}return X}async function F(B,M,P,$){if(!C||!q){console.warn("Snippets are not initialized. Use `setSnippetLibrary()` to initialize snippets.");return}let ee={tabId:B,frameIds:[M]},K=A.filterEngine.snippets.getFilters($.hostname),X=K.map(({script:oe})=>oe),Y={};I.debugOptions.elemHide&&(Y.debugCSSProperties=I.debugOptions.snippetsCssProperties);let Q=[],te=[],ge=[];for(let oe of X)for(let[ie,...xe]of(0,k.parseScript)(oe)){if(C.has(ie)){let he=C.get(ie);he&&Q.push(he),te.push([ie,...xe])}q.has(ie)&&ge.push([ie,...xe])}function re(){const oe=JSON.stringify([Y,...ge]);let ie=JSON.stringify(q.toString());return ie=`"(${ie.slice(1,-1)}).apply(null,${JSON.stringify(oe).slice(1,-1)});"`,`function injectSnippetsInMainContext(executable)
        {
          // injecting phases
          let script = document.createElement("script");
          script.type = "application/javascript";
          script.async = false;

          // Firefox 58 only bypasses site CSPs when assigning to 'src',
          // while Chrome 67 and Microsoft Edge (tested on 44.17763.1.0)
          // only bypass site CSPs when using 'textContent'.
          if (typeof netscape != "undefined" && typeof browser != "undefined")
          {
            let url = URL.createObjectURL(new Blob([executable]));
            script.src = url;
            document.documentElement.appendChild(script);
            URL.revokeObjectURL(url);
          }
          else
          {
            script.textContent = executable;
            document.documentElement.appendChild(script);
          }

          document.documentElement.removeChild(script);
        };
        {
          const executable = ${ie};
          injectSnippetsInMainContext(executable);
        }`}let _e=[];if(h.default.scripting&&h.default.scripting.executeScript){if(te.length>0){if(Q.length){let oe=[];for(let ie of Q)(0,I.debug)(()=>`Execute dependency script ${ie}`),oe.push(h.default.scripting.executeScript({target:ee,world:"ISOLATED",func:ie}));await Promise.all(oe)}(0,I.debug)(()=>`Execute isolated script ${C}`),_e.push(h.default.scripting.executeScript({target:ee,world:"ISOLATED",func:C,args:[Y,...te]}))}if(ge.length>0)if(Object.values(h.default.scripting.ExecutionWorld).includes("MAIN"))(0,I.debug)(()=>`Execute main script ${q}`),_e.push(h.default.scripting.executeScript({target:ee,world:"MAIN",injectImmediately:!0,func:q,args:[Y,...ge]}));else{const oe=re();(0,I.debug)(()=>`Execute main script ${oe}`),_e.push(h.default.tabs.executeScript(B,{frameId:M,code:oe,matchAboutBlank:!0,runAt:"document_start"}))}}else{if(te.length>0){const oe=JSON.stringify([Y,...te]);let ie="";if(Q.length)for(const xe of Q)ie+=`(${xe})();`;ie+=`(${C}).apply(null,${oe})`,(0,I.debug)(()=>`Execute isolated script ${ie}`),_e.push(h.default.tabs.executeScript(B,{frameId:M,code:ie,matchAboutBlank:!0,runAt:"document_start"}))}if(ge.length>0){const oe=re();(0,I.debug)(()=>`Execute main script ${oe}`),_e.push(h.default.tabs.executeScript(B,{frameId:M,code:oe,matchAboutBlank:!0,runAt:"document_start"}))}}let $e={tabId:B,frameId:M,url:$.url};Promise.all(_e).then(()=>K.forEach(oe=>{(0,T.logItem)($e,oe,{docDomain:$.hostname,method:"snippet"})}),()=>{})}async function O(B,M,P,$){const ee=(0,S.getFrameInfo)(B,M);(0,I.trace)({tabId:B,frameId:M,previousFrame:P,frame:ee});const K=[];let X;if(ee){let te=G(B,P,ee);if((0,I.debug)(()=>JSON.stringify(te)),P&&!(P.allowlisted&w.contentTypes.DOCUMENT)&&await E(B,M,te.removedCode),!$&&!(ee.allowlisted&w.contentTypes.DOCUMENT)&&F(B,M,P,ee),!(ee.allowlisted&w.contentTypes.DOCUMENT)&&!(ee.allowlisted&w.contentTypes.ELEMHIDE)){N(B,M,te.addedCode);let ge=A.filterEngine.elemHideEmulation.getFilters(ee.hostname);for(const{selector:re,text:_e,remove:$e,css:oe}of ge)K.push({selector:re,text:_e,remove:$e,css:oe});if((0,T.tracingEnabled)(B)){X=[];for(let re of te.addedSelectors)X.push([re,null]);for(let re of te.exceptions)X.push([re.selector,re.text])}}}else(0,I.warn)("No frame info");let Y;I.debugOptions.elemHide&&(Y=I.debugOptions.cssProperties);const Q=(0,V.shouldNotifyActive)(B,M);return{emulatedPatterns:K,cssProperties:Y,tracedSelectors:X,notifyActive:Q}}function N(B,M,P){let $;h.default.scripting&&h.default.scripting.insertCSS?$=h.default.scripting.insertCSS({target:{tabId:B,frameIds:[M]},css:P,origin:"USER"}):$=h.default.tabs.insertCSS(B,{code:P,cssOrigin:"user",frameId:M,matchAboutBlank:!0,runAt:"document_start"}),$.catch(()=>{})}async function E(B,M,P){let $;h.default.scripting&&h.default.scripting.removeCSS?$=h.default.scripting.removeCSS({target:{tabId:B,frameIds:[M]},css:P,origin:"USER"}):h.default.tabs.removeCSS?$=h.default.tabs.removeCSS(B,{code:P,cssOrigin:"user",frameId:M,matchAboutBlank:!0}):$=Promise.resolve();try{await $}catch{}}},"./src/background/content-message-deferrer.js":(f,d,c)=>{c.r(d),c.d(d,{_awaitSavingComplete:()=>B,_doSaveDeferredMessages:()=>N,_getDeferredMessages:()=>I,_loadDeferredMessages:()=>O,_saveDeferredMessages:()=>E,getDeferredMessages:()=>j,onContentHelloReceived:()=>L,sendContentMessage:()=>C,start:()=>M});var h=c("./src/background/webext-browser.js"),y=c("./src/background/browser-features.js"),w=c("./src/all/errors.js"),k=c("./src/background/debugging.js"),A=c("./src/background/persistence.js");let S=new A.PersistentState("ewe:deferred-content-messages"),T;function I(){return S}function j(P,$){const ee=S.getState()[P];return ee?ee[$]:null}async function V(P,$,ee){const K=()=>((0,k.trace)({tabId:P,frameId:$,message:ee}),h.default.tabs.sendMessage(P,ee,{frameId:$}));await K().catch(async X=>{(0,k.warn)(`Failed to send the message: ${X.message}, retrying`),await(0,w.ignoreNoConnectionError)(K())})}async function C(P,$,ee){(0,k.trace)({tabId:P,frameId:$,message:ee});let K=j(P,$);K?(K.push(ee),(0,k.debug)(()=>"Deferred the message: "+JSON.stringify(ee)),E()):await V(P,$,ee)}function q(P,$){(0,k.trace)({tabId:P,frameId:$});let ee=S.getState()[P];ee&&(delete ee[$],Object.keys(ee).length==0&&delete S.getState()[P],E())}async function L(P,$){(0,k.trace)({tabId:P,frameId:$});const ee=j(P,$);if(ee){q(P,$);for(const K of ee)await V(P,$,K);E()}}function R(P,$){let ee=S.getState()[P];ee||(ee={},S.getState()[P]=ee);let K=ee[$];K||(K=[],ee[$]=K)}function G(P){(0,k.trace)({details:P}),R(P.tabId,P.frameId)}function F(P){(0,k.trace)({tabId:P}),delete S.getState()[P],E()}async function O(){await S.load()}function N(){S.save()}function E(){(0,y.isRunningInServiceWorker)()&&N()}async function B(){await S.awaitSavingComplete()}async function M(){T||(h.default.webNavigation.onBeforeNavigate.addListener(G),h.default.tabs.onRemoved.addListener(F),T=(0,y.isRunningInServiceWorker)()?O():Promise.resolve(null)),await T}},"./src/background/core.js":(f,d,c)=>{c.r(d),c.d(d,{filterEngine:()=>w});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./adblockpluscore/lib/index.js");let w=new y.FilterEngine(function(){let k;return h.declarativeNetRequest&&(k=y.Features.DNR),{features:k}}())},"./src/background/debugging.js":(f,d,c)=>{c.r(d),c.d(d,{LOG_COLOR_BLUE:()=>P,LOG_COLOR_BLUE_BRIGHT:()=>K,LOG_COLOR_CYAN:()=>ee,LOG_COLOR_GREEN:()=>B,LOG_COLOR_MAGENTA:()=>$,LOG_COLOR_RED:()=>E,LOG_COLOR_YELLOW:()=>M,LOG_LEVEL_DEBUG:()=>G,LOG_LEVEL_ERROR:()=>O,LOG_LEVEL_INFO:()=>R,LOG_LEVEL_TRACE:()=>N,LOG_LEVEL_WARNING:()=>F,debug:()=>xe,debugOptions:()=>Re,default:()=>Ot,emitLogEvent:()=>oe,error:()=>qe,info:()=>ie,loadDebugOptions:()=>nt,log:()=>he,saveDebugOptions:()=>Ie,trace:()=>we,warn:()=>Ce});var h=c("./src/background/webext-browser.js"),y=c("./adblockpluscore/lib/filterStorage.js"),w=c("./src/background/io.js"),k=c("./src/background/info.js"),A=c("./src/background/core.js"),S=c("./src/background/prefs.js"),T=c("./src/background/sitekey.js"),I=c("./src/background/content-message-deferrer.js"),j=c("./src/background/cdp.js"),V=c("./src/background/subscriptions.js");let C={elemHide:!1,cssProperties:[["background","#e67370"],["outline","solid red"]],snippetsCssProperties:[["background","repeating-linear-gradient(to bottom, #e67370 0,#e67370 9px, white 9px, white 10px)"],["outline","solid red"]]},q=[];class L{addListener(le){q.push(le)}removeListener(le){let ye=q.findIndex(rt=>rt==le);ye!=-1&&q.splice(ye,1)}}const R=0,G=1,F=2,O=3,N=4,E="\x1B[31m",B="\x1B[32m",M="\x1B[33m",P="\x1B[34m",$="\x1B[35m",ee="\x1B[36m",K="\x1B[94m",X=new Map([[G,P],[F,M],[O,E],[N,P]]);class Y{constructor(le){this._wrappedListener=le,this._events=[];let ye=this;this._listener=rt=>{ye._events.push(rt)}}print(){for(let le of this._events)this._wrappedListener(le)}clear(){this._events=[]}getListener(){return this._listener}}class Q{constructor(le=!0,ye=!0,rt=X){this._printTimeStamp=le,this._colorize=ye,this._levelToColor=rt,this._listener=({message:Et,level:ue,timeStamp:Kt,color:He})=>{let Ct=He||this._levelToColor.get(ue),Xt=this._colorize?this.colorizeMessage(Et,Ct):Et,me=this._printTimeStamp?`${this.formatTime(Kt)}: ${Xt}`:Xt;switch(ue){case R:console.info(me);break;case F:console.warn(me);break;case O:console.error(me);break;case G:case N:console.debug(me);break}}}colorizeMessage(le,ye){return ye?`${ye}${le}\x1B[0m`:le}padStartZero(le,ye=2){return String(le).padStart(ye,"0")}formatTime(le){return this.padStartZero(le.getHours())+":"+this.padStartZero(le.getMinutes())+":"+this.padStartZero(le.getSeconds())+"."+this.padStartZero(le.getMilliseconds(),3)}getListener(){return this._listener}}const te=new Q,ge=new Y(te.getListener());function re(){return new Error().stack.split(`
`).slice(3).map(le=>le.trim().replace("at ",""))}function _e(fe){return typeof fe=="string"?fe:fe()}function $e(fe,le,ye){if(q.length){const rt=_e(fe);oe({message:rt,level:le,color:ye})}}function oe({message:fe,level:le,color:ye,timeStamp:rt=new Date}){for(let Et of q)Et({message:fe,level:le,timeStamp:rt,color:ye})}function ie(fe,le){$e(fe,R,le)}function xe(fe,le){$e(fe,G,le)}function he(fe,le){$e(fe,R,le)}function Ce(fe,le){$e(fe,F,le)}function qe(fe,le){$e(fe,O,le)}function we(fe,le){if(q.length){let ye=re();ye.push(JSON.stringify(fe));const rt=ye.join(`
	`);$e(rt,N,le)}}let Re;const Ze="ewe:debugOptions";let it=Promise.resolve(null),De=h.default.storage.local;async function Ie(){await it;let fe={};fe[Ze]=JSON.stringify(Re),it=De.set(fe),await it}async function nt(){let fe=await De.get(Ze);if(!fe||!fe[Ze]){Re=JSON.parse(JSON.stringify(C));return}Re=JSON.parse(fe[Ze])}let lt;const Ot={get addonInfo(){return{name:k.addonName,version:k.addonVersion,bundledSubscriptions:k.addonBundledSubscriptions,bundledSubscriptionsPath:k.addonBundledSubscriptionsPath,manifestVersion:k.manifestVersion}},async setElementHidingDebugMode(fe){await this.start(),Re.elemHide=fe,await Ie()},async setElementHidingDebugStyle(fe,le){await this.start(),fe&&(Re.cssProperties=fe),le&&(Re.snippetsCssProperties=le),await Ie()},async clearDebugOptions(){await this.start(),Re=JSON.parse(JSON.stringify(C)),await Ie()},async isInFilterStorage(fe){let le=[];return await w.IO.readFromFile(y.FilterStorage.sourceFile,ye=>le.push(ye)),le.some(ye=>ye.includes(fe))},validateSubscriptions:V.validate,async ensureEverythingHasSaved(){await S.awaitSavingComplete(),await A.filterEngine.filterStorage.awaitSavingComplete(),await T._awaitSavingComplete(),await I._awaitSavingComplete(),await j._awaitSavingComplete()},async start(){return lt||(lt=nt()),lt},async ensureSaved(){await it},onLogEvent:new L,ConsoleLogger:Q,CONSOLE_LOGGER:te,OnRequestLogger:Y,ON_REQUEST_CONSOLE_LOGGER:ge}},"./src/background/diagnostics.js":(f,d,c)=>{c.r(d),c.d(d,{BlockableEventDispatcher:()=>I,logHiddenElements:()=>V,logItem:()=>j,loggingEnabled:()=>C,tracingEnabled:()=>q});var h=c("./adblockpluscore/lib/filterClasses.js"),y=c("./adblockpluscore/lib/url.js"),w=c("./src/background/core.js"),k=c("./src/background/filters.js"),A=c("./src/background/frame-state.js");let S=[],T={includeElementHiding:!1,includeUnmatched:!1,filterType:"blocking",tabId:null};class I{addListener(R,G){S.push({listener:R,options:{...T,...G}})}removeListener(R,G){let{includeElementHiding:F,includeUnmatched:O,filterType:N,tabId:E}={...T,...G},B=S.findIndex(M=>M.listener==R&&M.options.includeElementHiding==F&&M.options.includeUnmatched==O&&M.options.filterType==N&&M.options.tabId==E);B!=-1&&S.splice(B,1)}}function j(L,R,G={}){for(let{listener:F,options:O}of S){let{includeElementHiding:N,includeUnmatched:E,filterType:B,tabId:M}=O;M!=null&&M!=L.tabId||R&&(!N&&(R.type=="elemhide"||R.type=="elemhideexception"||R.type=="elemhideemulation")||B!="all"&&B=="allowing"!=(R.type=="allowing"||R.type=="elemhideexception"))||!E&&!R||F({request:L,filter:R&&(0,k.convertFilter)(R),matchInfo:G})}}function V(L,R,G){let F={tabId:G.tab.id,frameId:G.frameId,url:G.url||A.BLANK_PAGE_URL},{hostname:O}=(0,y.parseURL)(F.url),N={docDomain:O,method:"elemhide"};if(L.length>0){let E=[];for(let B of w.filterEngine.filterStorage.subscriptions())if(!B.disabled)for(let M of B.filterText()){let P=h.Filter.fromText(M);P instanceof h.ElemHideFilter&&L.includes(P.selector)&&P.isActiveOnDomain(O)&&!E.includes(P.text)&&(E.push(P.text),j(F,P,N))}}for(let E of R)j(F,h.Filter.fromText(E),N)}function C(L){return S.some(({options:R})=>R.tabId==null||R.tabId==L)}function q(L){return S.some(({options:R})=>R.includeElementHiding&&(R.tabId==null||R.tabId==L))}},"./src/background/dnr-filters.js":(f,d,c)=>{c.r(d),c.d(d,{_dnrDiffSubscriptionUpdate:()=>oe,addFilters:()=>lt,clearIsDnrSubscriptionUpdating:()=>Q,clearRulesetUpdates:()=>we,disableDynamicRules:()=>P,dnrDiffSubscriptionUpdate:()=>ge,dynamicRulesAvailable:()=>nt,enableAllDisabledStaticRules:()=>_e,enableFilters:()=>Kt,getDynamicFilters:()=>He,getDynamicUserFilters:()=>Ct,getMetadataForFilter:()=>fe,init:()=>Re,isDnrSubscriptionUpdating:()=>Y,migrateCustomFilters:()=>Xt,removeAllDynamicFilters:()=>he,removeOrDisableFilters:()=>le,removeSubscriptionsDynamicFilters:()=>re,setMetadataForFilter:()=>Ot,testSetDynamicRulesAvailable:()=>Ie,validateFilter:()=>xe});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./src/background/subscriptions-utils.js"),w=c("./adblockpluscore/lib/filterClasses.js"),k=c("./adblockpluscore/lib/subscriptionClasses.js"),A=c("./adblockpluscore/lib/url.js"),S=c("./adblockpluscore/lib/filterNotifier.js"),T=c("./src/background/core.js"),I=c("./adblockpluscore/lib/dnr/index.js"),j=c("./adblockpluscore/lib/dnr/mapper.js"),V=c("./src/background/subscriptions.js"),C=c("./src/background/filters.js"),q=c("./src/background/initializer.js"),L=c("./src/background/debugging.js"),R=c("./src/background/types.js"),G=c("./src/background/prefs.js"),F=c("./src/background/info.js");const O="The number of disabled static rules exceeds the disabled rule count limit.";let N=1,E=new Map,B,M=()=>Promise.resolve({});h.declarativeNetRequest&&(M=(0,I.createConverter)({async isRegexSupported(me){return(await h.declarativeNetRequest.isRegexSupported(me)).isSupported}}));async function P(me){let Se=$(me),{removedDynamicFilters:ut,removeRuleIds:Z}=K(me,[...Se.keys()]);ut.forEach(vt=>E.delete(vt)),qe(),await h.declarativeNetRequest.updateDynamicRules({removeRuleIds:Z})}function $(me){let Se=new Set;for(let[ut,Z]of E.entries())Z&&Z.subscriptionIds&&Z.subscriptionIds.indexOf(me)!==-1&&Se.add(ut);return Se}function ee(me,Se){let ut=0;for(let Z of Se){let vt=E.get(Z);vt&&vt.ruleIds&&vt.subscriptionIds&&vt.subscriptionIds.length==1&&vt.subscriptionIds[0]==me&&(ut+=vt.ruleIds.length)}return ut}function K(me,Se){let ut=Se.filter(vt=>{let Yt=E.get(vt);if(Yt&&Yt.subscriptionIds){let Un=Yt.subscriptionIds.indexOf(me);return Un!==-1&&Yt.subscriptionIds.splice(Un,1),Yt.subscriptionIds.length==0}return!1}),Z=ut.flatMap(vt=>{let Yt=E.get(vt);return Yt?Yt.ruleIds:[]});return{removedDynamicFilters:ut,removeRuleIds:Z}}let X=new Set;function Y(me){return X.has(me)}function Q(){X.clear()}async function te(me,Se){(0,L.debug)("Full update started"),Se.shift();let ut=[];for(let Z of Se)Z=w.Filter.normalize(Z),Z&&ut.push(Z);try{await $e(me,ut)}catch(Z){(0,L.error)(`Failed to full update: ${Z.message}`),Z.type===C.ERROR_TOO_MANY_FILTERS?(me.downloadStatus="synchronize_too_many_filters",Z.rulesAvailable=await nt()):me.downloadStatus="synchronize_dnr_error"}finally{(0,L.debug)("Full update finished")}}async function ge(me,Se){if((0,L.debug)("Diff update started"),Y(me.url)){(0,L.debug)(`Already updating ${me.url}, skipping`);return}X.add(me.url);try{await oe(me,Se)}catch(ut){(0,L.error)(`Failed to diff update: ${ut.message}`),ut.type===C.ERROR_TOO_MANY_FILTERS?(me.downloadStatus="synchronize_diff_too_many_filters",ut.rulesAvailable=await nt()):me.downloadStatus="synchronize_diff_error"}finally{X.delete(me.url),(0,L.debug)("Diff update finished")}}async function re(){for(let me of T.filterEngine.filterStorage.subscriptions())me instanceof k.DiffUpdatableSubscription&&await P(me.id)}async function _e(){let me=[];for(let Se of T.filterEngine.filterStorage.subscriptions()){if(!Se.hasBundledFilters||!Se.id)continue;let ut=await h.declarativeNetRequest.getDisabledRuleIds({rulesetId:Se.id});await h.declarativeNetRequest.updateStaticRules({rulesetId:Se.id,disableRuleIds:me,enableRuleIds:ut})}}async function $e(me,Se){await q.default.start();let ut=await it(Se,me.url),Z=$(me.url);Z.size!=0&&(ut.relateToThisSubscription.forEach(St=>Z.delete(St)),ut.relateToOtherSubscriptions.forEach(St=>Z.delete(St)));let vt=[...Z.keys()],Yt=ee(me.url,vt);if(ut.add.length-Yt>await nt())throw new R.FilterError(C.ERROR_TOO_MANY_FILTERS);for(let St of ut.relateToOtherSubscriptions)E.get(St).subscriptionIds.push(me.url);let{removeRuleIds:Un}=K(me.url,vt),ke=await V.default.has(me.url)&&!me.disabled,Xe=ke?ut.add:void 0;await h.declarativeNetRequest.updateDynamicRules({addRules:Xe,removeRuleIds:Un}),ke&&ut.details.forEach(St=>{let{useFilterEngine:Pt,filter:dn,ruleIds:kn,enabled:Pn}=St;Ce(kn),E.set(dn.text,{ruleIds:kn,useFilterEngine:Pt,enabled:Pn,metadata:{},subscriptionIds:[me.url]})}),qe();let $t=me.updateFilterText(Se);S.filterNotifier.emit("subscription.updated",me,$t)}async function oe(me,Se){if(!h.declarativeNetRequest||!Se||!me.type)return;let ut=!me.downloadable,{added:Z,removed:vt}=Se;await q.default.start();let Yt=null,Un=null,ke=new Set;ut&&(Yt=new j.DnrMapper(async()=>await(0,y.getSubscriptionRulesetMap)(me.id)),Un=await h.declarativeNetRequest.getDisabledRuleIds({rulesetId:me.id}),ke=$(me.id));let Xe=await it(Z,me.id,Yt);ke.size!=0&&(Xe.relateToThisSubscription.forEach(Pn=>ke.delete(Pn)),Xe.relateToOtherSubscriptions.forEach(Pn=>ke.delete(Pn)));let $t=vt.concat(...ke.keys()),St=ee(me.url,$t);if(Xe.add.length-St>await nt())throw new R.FilterError(C.ERROR_TOO_MANY_FILTERS);if(ut){vt.length>0&&await Yt.load();let Pn=vt.flatMap(mn=>{let ot=Yt.get(mn);return ot||[]});Pn.length==0&&(Pn=void 0);let En=[...Xe.staticRulesToEnable];En.push(...Un);try{await h.declarativeNetRequest.updateStaticRules({rulesetId:me.id,disableRuleIds:Pn,enableRuleIds:En})}catch(mn){throw mn.message==O?new R.FilterError(C.ERROR_TOO_MANY_FILTERS):mn}}for(let Pn of Xe.relateToOtherSubscriptions)E.get(Pn).subscriptionIds.push(me.id);let{removedDynamicFilters:Pt,removeRuleIds:dn}=K(me.id,$t);dn.length==0&&(dn=void 0);let kn=await V.default.has(me.url)&&!me.disabled;await h.declarativeNetRequest.updateDynamicRules({addRules:kn?Xe.add:void 0,removeRuleIds:dn}),Pt.forEach(Pn=>E.delete(Pn)),kn&&Xe.details.forEach(Pn=>{let{useFilterEngine:En,filter:mn,ruleIds:ot,enabled:Oe}=Pn;Ce(ot),E.set(mn.text,{ruleIds:ot,useFilterEngine:En,enabled:Oe,metadata:{},subscriptionIds:[me.id]})}),await ie(me,Se),qe()}async function ie(me,Se){let{filterText:ut}=await(0,y.getFilterText)(me);for(let vt of Se.removed){let Yt=ut.indexOf(vt);Yt>=0&&ut.splice(Yt,1)}for(let vt of Se.added)ut.push(vt);let Z=me.updateFilterText(ut);S.filterNotifier.emit("subscription.updated",me,Z)}function xe(me){if(me instanceof w.InvalidFilter)return new R.FilterError("invalid_filter",me.reason,me.option);if((0,w.isActiveFilter)(me)&&me.domains){for(let Se of me.domains.keys())if(Se&&!(0,A.isValidHostname)(Se))return new R.FilterError("invalid_domain",Se)}return null}async function he(){if(!h.declarativeNetRequest)return;E=new Map,G.Prefs.dynamic_filters=[];let me=await h.declarativeNetRequest.getDynamicRules();if(me.length!=0)return await h.declarativeNetRequest.updateDynamicRules({removeRuleIds:me.map(Se=>Se.id)}),me}function Ce(me){if(me)for(let Se of me)N<Se&&(N=Se)}function qe(){let me=[];me.push(...E),G.Prefs.dynamic_filters=me}function we(){G.Prefs.ruleset_updates=[]}function Re(){return B||(B=(async()=>{if(!h.declarativeNetRequest)return;let me=G.Prefs.dynamic_filters;Array.isArray(me)&&me.length>0?E=new Map(me):await he();for(let{ruleIds:Se}of E.values())Ce(Se);S.filterNotifier.on("subscription.diffReceived",ge),S.filterNotifier.on("subscription.fullUpdateReceived",te)})()),B}async function Ze(me){let Se=[],ut=[];if(me instanceof w.URLFilter&&!me.sitekeys){let Z=await M(me.text);if(Z.name=="Error"){let{option:vt}=Z.detail;throw new R.FilterError(Z.message,Z.detail.text,vt)}for(let vt of Z){let Yt=++N;vt.id=Yt,Se.push(Yt),ut.push(vt)}}return{filterRules:ut,ruleIds:Se}}async function it(me,Se=null,ut=null){let Z=[],vt=[],Yt=[],Un=[],ke=[],Xe=[],$t=new Set;me=me.map(St=>w.Filter.normalize(St));for(let St of me){if($t.has(St))continue;let Pt=E.get(St),dn=Pt!=null;if(Pt&&((Pt.subscriptionIds||[null]).includes(Se)?Un.push(St):ke.push(St)),ut){await ut.load();let En=ut.get(St);En&&(Xe.push(...En),dn=!0)}if(dn)continue;let kn=w.Filter.fromText(St),Pn=xe(kn);if(Pn){Yt.push(Pn);continue}if(!T.filterEngine.filterStorage.filterState.isEnabled(St))Z.push({filter:kn,ruleIds:[],enabled:!1});else try{let{filterRules:En,ruleIds:mn}=await Ze(kn);En&&vt.push(...En),Z.push({filter:kn,ruleIds:mn,enabled:!0})}catch(En){Yt.push(En)}$t.add(St)}return{add:vt,invalid:Yt,relateToThisSubscription:Un,relateToOtherSubscriptions:ke,staticRulesToEnable:Xe,details:Z}}const De="EWE:Dynamic_Rules_Limit";async function Ie(me){await h.storage.session.set({[De]:me})}async function nt(){let{declarativeNetRequest:me}=h;if(!me)return 1/0;let Se=await h.storage.session.get(De),ut=Se[De]>0?Se[De]:(0,F.isFirefox)()||(0,F.getBrowserVersion)()[0]<121?me.MAX_NUMBER_OF_DYNAMIC_AND_SESSION_RULES:me.MAX_NUMBER_OF_DYNAMIC_RULES,Z=(await me.getDynamicRules()).length+(await me.getSessionRules()).length;return ut-Z}async function lt(me,Se){await Re();let ut=await it(me);if(ut.invalid.length>0)throw ut.invalid[0];if(ut.add.length>0){if(ut.add.length>await nt())throw new R.FilterError(C.ERROR_TOO_MANY_FILTERS);await h.declarativeNetRequest.updateDynamicRules({addRules:ut.add})}let Z;for(let vt of ut.relateToOtherSubscriptions){Z=await T.filterEngine.filterStorage.addFilter(w.Filter.fromText(vt),Z);let Yt=E.get(vt);Yt.subscriptionIds||(Yt.subscriptionIds=[]),Yt.subscriptionIds.push(null)}for(let vt of ut.details){let{filter:Yt,ruleIds:Un,enabled:ke}=vt;Z=await T.filterEngine.filterStorage.addFilter(Yt,Z),Ce(Un),E.set(Yt.text,{ruleIds:Un,enabled:ke,metadata:Se,subscriptionIds:[null]})}return qe(),{added:ut.details.map(vt=>vt.filter.text).concat(ut.relateToOtherSubscriptions),exists:ut.relateToThisSubscription}}function Ot(me,Se){let ut=E.get(me);if(!ut)throw new R.FilterError(C.ERROR_FILTER_NOT_FOUND);let Z=ut.metadata;ut.metadata=Se,C.onChangedFilter.emit({...w.Filter.fromText(me),metadata:Se,oldMetadata:Z},"metadata"),qe()}function fe(me){let Se=E.get(me);if(!Se)return null;let ut=Se.metadata;return typeof ut<"u"?ut:null}async function le(me,Se=!0){await Re();let{dynamicFilterTexts:ut}=ue(me);await rt(ut,Se),await ye(me,Se)}async function ye(me,Se){let ut=new Map,Z=new Map;for(let vt of me)for(let Yt of T.filterEngine.filterStorage.subscriptions(vt)){if(Yt instanceof k.SpecialSubscription||!Yt.id)continue;let Un=ut.get(Yt.id);Un||(Un=new j.DnrMapper(async()=>await(0,y.getSubscriptionRulesetMap)(Yt.id)),await Un.load(),ut.set(Yt.id,Un));try{let ke=Un.get(vt);ke&&ke.length&&Z.set(Yt.id,ke)}catch{}}for(const[vt,Yt]of Z.entries()){let Un=Se?void 0:Yt,ke=Se?Yt:void 0;await h.declarativeNetRequest.updateStaticRules({rulesetId:vt,disableRuleIds:Un,enableRuleIds:ke})}}async function rt(me,Se=!0){let ut=[];for(let Z of me){let vt=E.get(Z);if(Se){if(T.filterEngine.filterStorage.removeFilter(w.Filter.fromText(Z)),vt){vt.subscriptionIds||(vt.subscriptionIds=[]);let Yt=vt.subscriptionIds.indexOf(null);if(Yt!==-1&&vt.subscriptionIds.splice(Yt,1),vt.subscriptionIds&&vt.subscriptionIds.length==0){for(let Un of vt.ruleIds)ut.push(Un);E.delete(Z)}else vt.enabled||await Kt([Z])}}else{for(let Yt of vt.ruleIds)ut.push(Yt);T.filterEngine.filterStorage.filterState.setEnabled(Z,!1),vt.enabled=!1,vt.ruleIds=[],E.set(Z,vt)}}ut.length>0&&await h.declarativeNetRequest.updateDynamicRules({removeRuleIds:ut}),qe()}async function Et(me){let Se=[];for(let ut of me){let Z=w.Filter.normalize(ut),vt=E.get(Z);if(!vt||vt.enabled)continue;let Yt=w.Filter.fromText(Z);T.filterEngine.filterStorage.filterState.setEnabled(Yt.text,!0);let{filterRules:Un,ruleIds:ke}=await Ze(Yt);Se.push(...Un),Ce(ke),E.set(Yt.text,{ruleIds:ke,enabled:!0})}Se.length!=0&&(await h.declarativeNetRequest.updateDynamicRules({addRules:Se}),qe())}function ue(me){let Se=[],ut=[],Z=me.map(vt=>w.Filter.normalize(vt));for(let vt of Z)E.has(vt)?Se.push(vt):ut.push(vt);return{dynamicFilterTexts:Se,staticFilterTexts:ut}}async function Kt(me){await Re();let{dynamicFilterTexts:Se,staticFilterTexts:ut}=ue(me);await Et(Se),await ye(ut,!0)}async function He(){return await Re(),E}async function Ct(){await Re();let me=new Map;for(let[Se,ut]of E.entries())(!ut.subscriptionIds||ut.subscriptionIds.includes(null))&&me.set(Se,ut);return me}async function Xt(){let me=[];for(let Se of T.filterEngine.filterStorage.subscriptions())if(Se instanceof k.SpecialSubscription)for(let ut of Se.filterText())me.push({text:ut,metadata:Se.metadata,disabled:T.filterEngine.filterStorage.filterState.isDisabledForSubscription(ut,Se.url)});for(let Se of me)try{T.filterEngine.filterStorage.removeFilter(w.Filter.fromText(Se.text)),await lt([Se.text],Se.metadata),Se.disabled&&await(0,C.disableFilter)(Se.text)}catch(ut){let Z=G.Prefs.migration_filter_errors;Array.isArray(Z)||(Z=[]),Z.push({error:ut.message,filter:Se}),G.Prefs.migration_filter_errors=Z}}},"./src/background/dnr-request-reporter.js":(f,d,c)=>{c.r(d),c.d(d,{start:()=>G});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./src/background/diagnostics.js"),w=c("./src/background/core.js"),k=c("./src/background/initializer.js"),A=c("./src/background/request-filter.js"),S=c("./adblockpluscore/lib/contentTypes.js"),T=c("./adblockpluscore/lib/filterClasses.js"),I=c("./adblockpluscore/lib/url.js"),j=c("./src/background/debugging.js");function V(F){let O=(0,A.getRequestContentType)(F);if(F.type=="main_frame"||F.type=="sub_frame"){let P=(0,A.getParentFrameInfoFromWebrequestDetails)(F),{hostname:$}=P||{},ee=F.documentUrl||(0,A.sanitizeInitiator)(F.initiator),K=(0,I.parseURL)(ee||F.url),X=$||K.hostname,Y=F.type=="main_frame"?null:X,Q=w.filterEngine.defaultMatcher.match(F.url,S.contentTypes.GENERICBLOCK,X,null),te=w.filterEngine.defaultMatcher.match(F.url,S.contentTypes.DOCUMENT,X,null);return!te&&P&&P.allowingDocumentFilter&&(te=P.allowingDocumentFilter),{allowingDocumentFilter:te,specificOnly:!!Q,docDomain:Y,contentType:O}}let N=(0,A.getFrameInfoFromWebrequestDetails)(F);if(!N){let P=null,$=!1,ee=null,K=F.documentUrl||(0,A.sanitizeInitiator)(F.initiator);return K&&(ee=(0,I.parseURL)(K).hostname,P=w.filterEngine.defaultMatcher.match(K,S.contentTypes.DOCUMENT,ee,null),$=!!w.filterEngine.defaultMatcher.match(K,S.contentTypes.GENERICBLOCK,ee,null)),{allowingDocumentFilter:P,specificOnly:$,docDomain:ee,contentType:O}}let E=N.allowingDocumentFilter,B=(N.allowlisted&S.contentTypes.GENERICBLOCK)!=0,M=N.hostname;return{allowingDocumentFilter:E,specificOnly:B,docDomain:M,contentType:O}}async function C(F){if((0,j.trace)({details:F}),!(0,y.loggingEnabled)(F.tabId)||(await k.default.start(),!F.redirectUrl.startsWith("data:")))return;let{allowingDocumentFilter:O,specificOnly:N,docDomain:E,contentType:B}=V(F);if(O)return;let M=w.filterEngine.defaultMatcher.search(F.url,B,E,null,N,"blocking");for(let P of M.blocking)if(P instanceof T.BlockingFilter&&typeof P.rewrite=="string"){let $=P.rewriteUrl(F.url);if($==F.redirectUrl){let ee={docDomain:E,specificOnly:N,method:"request",rewrittenUrl:$};(0,y.logItem)(F,P,ee);return}}}async function q(F){if((0,j.trace)({details:F}),!(0,y.loggingEnabled)(F.tabId))return;await k.default.start();let{allowingDocumentFilter:O,specificOnly:N,docDomain:E,contentType:B}=V(F);if(O)return;let M=w.filterEngine.defaultMatcher.search(F.url,B,E,null,N,"blocking");for(let P of M.blocking){let $={docDomain:E,specificOnly:N,method:"request"};if(P instanceof T.BlockingFilter&&typeof P.rewrite!="string"){(0,y.logItem)(F,P,$);return}}}async function L(F){if((0,j.trace)({details:F}),!(0,y.loggingEnabled)(F.tabId))return;await k.default.start();let{allowingDocumentFilter:O,specificOnly:N,docDomain:E,contentType:B}=V(F);if(O){(0,y.logItem)(F,O,{docDomain:E,method:"allowing",specificOnly:N});return}let M=w.filterEngine.defaultMatcher.match(F.url,B,E,null,N,!0);if(M){let $={docDomain:E,specificOnly:N,method:"request"};M instanceof T.AllowingFilter&&(0,y.logItem)(F,M,$);return}if(F.type=="main_frame"||F.type=="sub_frame"){let $=S.contentTypes.CSP|(0,A.getRequestContentType)(F),ee=(0,I.parseURL)(F.url).hostname,K={docDomain:E||ee,specificOnly:N,method:"csp"},X=w.filterEngine.defaultMatcher.match(F.url,$,E,null,N,!0);if(X&&X instanceof T.AllowingFilter){(0,y.logItem)(F,X,K);return}let Y=w.filterEngine.defaultMatcher.search(F.url,$,ee,null,N,"blocking"),Q=!1;for(let te of Y.blocking)F.responseHeaders.some(re=>re.name.toLowerCase()=="content-security-policy"&&re.value==te.csp)&&((0,y.logItem)(F,te,K),Q=!0);if(Q)return}let P={docDomain:E,method:"unmatched",specificOnly:N};(0,y.logItem)(F,null,P)}let R=!1;function G(){if(!h.declarativeNetRequest||R)return;let F={types:Object.values(h.webRequest.ResourceType),urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]};h.webRequest.onBeforeRedirect.addListener(C,F),h.webRequest.onErrorOccurred.addListener(q,F),h.webRequest.onCompleted.addListener(L,F,["responseHeaders"]),R=!0}},"./src/background/domains-trimming.js":(f,d,c)=>{c.r(d),c.d(d,{MaxLengthMetricsDict:()=>w});const h="UNKNOWN",y=25;class w{constructor(A,S,T=2){if(!S||S.length==0)throw new Error("No metrics");this.metrics=S,this.maxLength=A,this.metricsDict=new Map,this.space=T,this.indentationLength=this.space?typeof this.space=="number"?this.space:this.space.length:0,this.newLineLength=this.indentationLength>0?1:0,this.length=9+this.indentationLength*2+(this.indentationLength>0?1:0),this._calcMetricsLength()}_calcLineLength(A,S){return this.indentationLength*3+2+A.length+1+(this.indentationLength>0?1:0)+S.length}_calcMetricsLength(){this.metricsLength=0;for(const A of this.metrics)this.metricsLength+=this._calcLineLength(A,"0");this.metrics.length>1&&(this.metricsLength+=this.metrics.length-1,this.newLineLength>0&&(this.metricsLength+=this.metrics.length-1))}_calcAdditionalLength(A){return(this.metricsDict.size>0?1:this.newLineLength)+this.newLineLength+this.indentationLength*2+1+this.newLineLength+this._calcLineLength("i",`"${A}"`)+1+this.newLineLength+this.metricsLength+this.indentationLength*2+this.newLineLength+1}addMetric(A,S,T){if(!this.metrics.includes(S))throw new Error("Unknown metric");if(!this.metricsDict.has(A)){this.metricsDict.size==0&&(this.length+=(this.indentationLength>0?1:0)*2);const j=this._calcAdditionalLength(A);if(A.length>y||this.length+j>this.maxLength?(A=h,this.metricsDict.has(A)||(this.length+=this._calcAdditionalLength(A))):this.length+=j,!this.metricsDict.has(A)){let V={};for(const C of this.metrics)V[C]=0;this.metricsDict.set(A,V)}}let I=this.metricsDict.get(A);I[S]+=T}getLength(){return this.length}serialize(){let A=[];for(const[T,I]of this.metricsDict)A.push({i:T,...I});return JSON.stringify({ds:A},null,this.space)}}},"./src/background/experiments.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>K,reset:()=>M,setSeed:()=>F,start:()=>B,stop:()=>P});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./node_modules/uuid/dist/esm-browser/v4.js"),w=c("./adblockpluscore/lib/events.js"),k=c("./adblockpluscore/lib/time.js"),A=c("./src/background/persistence.js"),S=c("./src/background/types.js"),T=c("./src/all/scheduler.js"),I=c("./src/all/experiment-validation.js");let j=new w.EventEmitter,V=new A.PersistentState("ewe:split_experiments",h.storage.local),C,q,L=new S.EventDispatcher(X=>{j.on("updated",async()=>{X(await E())})});async function R(X){const Y=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(X)),Q=new Uint8Array(Y);return btoa(String.fromCharCode(...Q)).substring(0,8)}async function G(X){const Y=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(X)),te=new DataView(Y).getUint32(0),ge=Math.pow(2,32);return Math.floor(te*1e3/ge)}async function F(X){const Y=await V.getStateLoaded();Y.seed=X,Y.etag=null,await V.save()}async function O(){const X=await V.getStateLoaded();return X.seed||(X.seed=(0,y.default)(),await V.save()),X.seed}async function N(X){const Y=await O(),Q={},te={};for(const ge of X){if(ge.enabled===!1)continue;const re=await G(`${Y}:${ge.experimentId}`);for(const _e of ge.variants)if(re>=_e.mods[0]&&re<_e.mods[1]){Object.assign(Q,_e.flags),te[ge.experimentId]=_e.variantId;break}}return{flags:Q,assignments:te}}async function E(){const X=await V.getStateLoaded(),Y=X.assignments||{};return(X.rawData||{experiments:[]}).experiments.map(ge=>{const re=ge.variants.map(_e=>({id:_e.variantId,assigned:Y[ge.experimentId]===_e.variantId}));return{id:ge.experimentId,variants:re}})}function B(X,Y=10*k.MILLIS_IN_MINUTE,Q=k.MILLIS_IN_HOUR){q||(C=X,q=new T.Scheduler({async listener(){return await ee(),!0},async getNextTimestamp(){const te=await V.getStateLoaded();let ge=te.lastDownloaded,re=te.lastNetworkError;if(re){let _e=new Date(re).getTime()+Q,$e=Date.now(),oe=$e+Q;return _e>oe&&(_e=oe,te.lastNetworkError=new Date($e).toISOString(),await V.save()),_e}else if(ge)return new Date(ge).getTime()+Y;return null},interval:Y,errorRetryDelay:Q}))}async function M(){P(),V.clearState(),await V.save()}function P(){q&&(q.stop(),q=null)}async function $(){const X=await V.getStateLoaded(),Y={};X.etag&&(Y["if-none-match"]=X.etag);try{const Q=await fetch(C,{headers:Y}),te=Q.headers.get("date"),ge=Q.headers.get("etag");if(Q.status===304)return{cacheFresh:!0,date:te,etag:ge};if(!Q.ok)return{downloadError:!0};const re=await Q.json(),_e=await R(JSON.stringify(re));return{newExperimentData:re,date:te,etag:ge,revisionId:_e}}catch{return{downloadError:!0}}}async function ee(){const X=await V.getStateLoaded();if(!C){X.lastNetworkError=new Date().toISOString(),await V.save();return}const{downloadError:Y,cacheFresh:Q,newExperimentData:te,date:ge,etag:re,revisionId:_e}=await $();if(Y){X.lastNetworkError=new Date().toISOString(),await V.save();return}if(delete X.lastNetworkError,ge?X.lastDownloaded=new Date(ge).toISOString():X.lastDownloaded=new Date().toISOString(),Q){await V.save();return}X.etag=re,X.rawData=te;const{errors:$e}=(0,I.validateExperimentData)(te);if($e&&$e.length>0){X.errors=$e,await V.save();return}X.errors=[],X.revisionId=_e;const{flags:oe,assignments:ie}=await N(te.experiments);X.flags=oe,X.assignments=ie,await V.save(),j.emit("updated")}const K={async sync(){await ee()},async getSyncStatus(){const X=await V.getStateLoaded();return{errors:X.errors||[],lastDownloaded:X.lastDownloaded,lastNetworkError:X.lastNetworkError}},async getFlag(X){const Y=await V.getStateLoaded();return Y&&Y.overrides&&typeof Y.overrides[X]<"u"?Y.overrides[X]:Y&&Y.flags&&typeof Y.flags[X]<"u"?Y.flags[X]:null},async overrideFlag(X,Y){const Q=await V.getStateLoaded();Q.overrides||(Q.overrides={}),Q.overrides[X]=Y,await V.save()},async clearFlagOverrides(){const X=await V.getStateLoaded();X.overrides={},await V.save()},async getAssignments(){return(await V.getStateLoaded()).assignments||{}},async getExperiments(){return E()},async getRevisionId(){return(await V.getStateLoaded()).revisionId||null},onChanged:L}},"./src/background/filters.js":(f,d,c)=>{c.r(d),c.d(d,{ERROR_FILTER_NOT_FOUND:()=>F,ERROR_TOO_MANY_FILTERS:()=>O,convertFilter:()=>N,default:()=>_e,deferredStart:()=>Ce,disableFilter:()=>P,onChangedFilter:()=>ee,removeTabExpirationFilters:()=>he,start:()=>qe});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./adblockpluscore/lib/url.js"),w=c("./adblockpluscore/lib/filterClasses.js"),k=c("./adblockpluscore/lib/subscriptionClasses.js"),A=c("./adblockpluscore/lib/matcher.js"),S=c("./adblockpluscore/lib/filterNotifier.js"),T=c("./adblockpluscore/lib/contentTypes.js"),I=c("./adblockpluscore/lib/time.js"),j=c("./src/background/initializer.js"),V=c("./src/background/core.js"),C=c("./src/background/types.js"),q=c("./src/background/frame-state.js"),L=c("./src/background/dnr-filters.js"),R=c("./src/background/prefs.js"),G=c("./src/all/scheduler.js");const F="filter_not_found",O="too_many_filters";function N(we){return{text:we.text,enabled:typeof we.disabled>"u"?null:!we.disabled,slow:we instanceof w.URLFilter&&(0,A.isSlowFilter)(we),type:we.type,thirdParty:we.thirdParty!=null?we.thirdParty:null,selector:we.selector||null,csp:we.csp||null,remove:we.remove||void 0,css:we.css||void 0}}function E(we){return Re=>we(N(Re))}function B(we){return Re=>{if(Re instanceof k.SpecialSubscription)for(let Ze of Re.filterText())we(N(w.Filter.fromText(Ze)))}}async function M(we){Array.isArray(we)||(we=[we]),h.declarativeNetRequest&&await(0,L.removeOrDisableFilters)(we,!1);for(let Re of we){let Ze=w.Filter.normalize(Re);V.filterEngine.filterStorage.filterState.setEnabled(Ze,!1)}}const P=M;let $=new C.EventDispatcher(we=>{S.filterNotifier.on("filterState.enabled",(Re,Ze)=>{we({...N(w.Filter.fromText(Re)),enabled:Ze},"enabled")}),S.filterNotifier.on("subscription.metadata",(Re,Ze,it)=>{for(let De of Re.filterText())we({...N(w.Filter.fromText(De)),metadata:Ze,oldMetadata:it},"metadata")})}),ee=$,K=async function(){const we=(await re.getUserFilters()).filter(Re=>Re.type==="allowing");return await Promise.all(we.flatMap(async Re=>{const Ze=await re.getMetadata(Re.text);return{filterText:Re.text,metadata:Ze}}))},X=async function(){return(await K()).filter(Re=>Re.metadata&&typeof Re.metadata.expiresByTabId<"u")},Y=async function(we){return(await K()).filter(it=>it.metadata&&it.metadata.expiresByTabId===we).map(it=>it.filterText)},Q=async function(we,Re){if(we===h.tabs.TAB_ID_NONE||!Re.url||!Re.status||(await re.getAllowingFilters(we)).length)return;const Ze=await Y(we);await re.remove(Ze)},te=async function(we){if(we===h.tabs.TAB_ID_NONE)return;const Re=await Y(we);await re.remove(Re)},ge=async function(){h.tabs.onUpdated.removeListener(Q),h.tabs.onRemoved.removeListener(te),h.tabs.onUpdated.addListener(Q),h.tabs.onRemoved.addListener(te)};const re={async add(we,Re){if(Array.isArray(we)||(we=[we]),h.declarativeNetRequest){const nt=await(0,L.addFilters)(we,Re);return xe(Re),nt}let{filterStorage:Ze}=V.filterEngine,it=[],De=[],Ie=[];for(let nt of we){if(it.includes(nt)||De.includes(nt))continue;let lt=w.Filter.normalize(nt),Ot=w.Filter.fromText(lt),fe=(0,L.validateFilter)(Ot);if(fe)throw fe;Ze.filterExists(Ot)?De.push(nt):(Ie.push(Ot),it.push(nt))}if(Re)try{await Ze.addFiltersWithMetadata(Ie,Re),xe(Re)}catch(nt){throw new C.FilterError(nt.message)}else for(let nt of Ie)await Ze.addFilter(nt);return{added:it,exists:De}},async setMetadata(we,Re){if(h.declarativeNetRequest){(0,L.setMetadataForFilter)(we,Re),xe(Re);return}let{filterStorage:Ze}=V.filterEngine;try{await Ze.setMetadataForFilter(we,Re),xe(Re)}catch(it){if(it.message==F){let De=w.Filter.fromText(w.Filter.normalize(we));if(Ze.filterExists(De)){await Ze.removeFilter(De),await this.add([we],Re);return}}throw new C.FilterError(it.message)}},async getMetadata(we){return h.declarativeNetRequest?(0,L.getMetadataForFilter)(we):await V.filterEngine.filterStorage.getMetadataForFilter(we)},async getUserFilters(){let we=[];for(let Re of V.filterEngine.filterStorage.subscriptions())if(Re instanceof k.SpecialSubscription)for(let Ze of Re.filterText())we.push(N(w.Filter.fromText(Ze)));if(h.declarativeNetRequest){for(let[Re,Ze]of(await(0,L.getDynamicUserFilters)()).entries())if(!we.find(it=>it.text==Re)){let it=N(w.Filter.fromText(Re));it.enabled=it.type=="comment"?null:Ze.enabled,we.push(it)}}return we},async getAllowingFilters(we,Re={}){let{frameId:Ze,types:it}={frameId:0,types:["document"],...Re},De=new Set,Ie=it.reduce((nt,lt)=>nt|T.contentTypes[lt.toUpperCase()],0);for(let nt=(0,q.getFrameInfo)(we,Ze);nt;nt=nt.parent){let Ot=nt.parent&&nt.parent.hostname||nt.hostname,fe=V.filterEngine.defaultMatcher.search(nt.url,Ie,Ot,nt.sitekey,!1,"allowing");for(let le of fe.allowing)De.add(le.text)}return Array.from(De)},async isResourceAllowlisted(we,Re,Ze,it=0){let De=T.contentTypes[Re.toUpperCase()],Ie=(0,q.getFrameInfo)(Ze,it)||{},nt=V.filterEngine.defaultMatcher,lt=Ie.hostname||(0,y.parseURL)(we).hostname;if(nt.isAllowlisted(we,De,lt,Ie.sitekey))return!0;for(;Ie&&Ie.url;Ie=Ie.parent)if(lt=Ie.parent&&Ie.parent.hostname||Ie.hostname,nt.isAllowlisted(Ie.url,T.contentTypes.DOCUMENT,lt,Ie.sitekey))return!0;return!1},async enable(we){Array.isArray(we)||(we=[we]),h.declarativeNetRequest&&await(0,L.enableFilters)(we);for(let Re of we){let Ze=w.Filter.normalize(Re);V.filterEngine.filterStorage.filterState.setEnabled(Ze,!0)}},disable:M,async remove(we){if(Array.isArray(we)||(we=[we]),h.declarativeNetRequest){await(0,L.removeOrDisableFilters)(we,!0);return}for(let Re of we){let Ze=w.Filter.normalize(Re);V.filterEngine.filterStorage.removeFilter(w.Filter.fromText(Ze))}},validate(we){let Re=w.Filter.normalize(we),Ze=w.Filter.fromText(Re);return(0,L.validateFilter)(Ze)},normalize(we){return w.Filter.normalize(we)},onAdded:new C.EventDispatcher(we=>{S.filterNotifier.on("filter.added",E(we)),S.filterNotifier.on("subscription.added",B(we))}),onChanged:$,onRemoved:new C.EventDispatcher(we=>{S.filterNotifier.on("filter.removed",E(we)),S.filterNotifier.on("subscription.removed",B(we))}),onRenewed:new C.EventDispatcher(we=>{S.filterNotifier.on("filter.renewed",(Re,Ze)=>we({...N(Re),metadata:Ze}))}),onExpired:new C.EventDispatcher(we=>{S.filterNotifier.on("filter.expired",(Re,Ze)=>we({...N(Re),metadata:Ze}))}),async getMigrationErrors(){let we=R.Prefs.migration_filter_errors;return Array.isArray(we)||(we=[]),we},async clearMigrationErrors(){R.Prefs.migration_filter_errors=[]}},_e=re;async function $e(){try{const we=await re.getUserFilters(),Re=Date.now(),Ze=[];for(const it of we){const De=await re.getMetadata(it.text)||{},{expiresAt:Ie}=De;Ie&&Re>Ie&&(Ze.push(it.text),S.filterNotifier.emit("filter.expired",it,De))}await re.remove(Ze)}catch(we){console.error("Error while removing expired filters:",we)}}async function oe(we){await j.default.start();const{frameId:Re,tabId:Ze}=we;if((0,q.isTopLevelFrameId)(Re))try{const it=await re.getAllowingFilters(Ze),De=Date.now();for(const Ie of it){const nt=await re.getMetadata(Ie)||{},{expiresAt:lt,autoExtendMs:Ot}=nt;if(Ot&&lt&&De<lt){const le={...nt,expiresAt:De+Ot};await re.setMetadata(Ie,le),S.filterNotifier.emit("filter.renewed",w.Filter.fromText(w.Filter.normalize(Ie)),le)}}}catch(it){console.error("Error while extending expiry for filters:",it)}}let ie;function xe(we){ie&&we&&we.expiresAt&&ie.checkNow()}const he=async function(){const we=await X();for(const Re of we){const Ze=Re.metadata.expiresByTabId;await h.tabs.get(Ze).catch(()=>{})||await re.remove(Re.filterText)}};function Ce(){he(),ge()}function qe(){ie||(h.webNavigation.onCompleted.addListener(oe),ie=new G.Scheduler({interval:0,listener:()=>$e(),async getNextTimestamp(){await j.default.start();const we=await re.getUserFilters();let Re=Date.now()+I.MILLIS_IN_HOUR;for(const Ze of we){const it=await re.getMetadata(Ze.text)||{},{expiresAt:De}=it;De&&De<Re&&(Re=De)}return Re}}))}},"./src/background/frame-state.js":(f,d,c)=>{c.r(d),c.d(d,{BLANK_PAGE_URL:()=>V,TOP_LEVEL_FRAME_ID:()=>C,_clear:()=>Q,getFrameInfo:()=>_e,isTopLevelFrameId:()=>q,isValidChildFrameId:()=>R,isValidFrameId:()=>L,onSitekeyReceived:()=>P,start:()=>$e});var h=c("./src/background/webext-browser.js"),y=c("./adblockpluscore/lib/url.js"),w=c("./adblockpluscore/lib/contentTypes.js"),k=c("./src/background/core.js"),A=c("./src/background/diagnostics.js"),S=c("./src/background/sitekey.js"),T=c("./src/background/content-filter.js"),I=c("./src/background/debugging.js"),j=c("./src/all/errors.js");const V="about:blank",C=0;function q(oe){return oe==C}function L(oe){return oe>=C}function R(oe){return oe>C}let G=new Map,F;class O{constructor(ie,xe,he,Ce){this.tabId=ie,this.frameId=xe,this.parent=he,E(this,Ce),B(this)}}function N(oe,ie){for(let xe in w.contentTypes)if(oe&ie.contentType&w.contentTypes[xe])return xe.toLowerCase()}function E(oe,ie){let{allowlisted:xe,sitekey:he,allowingDocumentFilter:Ce,hostname:qe}=oe.parent||{},we=(0,y.parseURL)(ie);oe.url=ie,oe.hostname=we.hostname||qe||"";let Re=(0,S.getSitekey)(oe.tabId,oe.frameId,ie);oe.sitekey=Re||he,oe.headersReceived=!!Re||Re===null,oe.allowlisted=xe||0,oe.allowingDocumentFilter=Ce}function B(oe){let{tabId:ie,frameId:xe,url:he}=oe,Ce={tabId:ie,frameId:xe,url:he},we={docDomain:oe.parent&&oe.parent.hostname||oe.hostname,method:"allowing"};for(;;){let Re=~oe.allowlisted&w.ALLOWING_TYPES;(0,I.debug)(`Check match tabId=${ie}, url=${oe.url}, typeMask=${Re}, docDomain=${we.docDomain}, sitekey=${oe.sitekey}`);let Ze=k.filterEngine.defaultMatcher.match(oe.url,Re,we.docDomain,oe.sitekey);if(!Ze){(0,I.debug)(`No filter for tabId=${ie},frameId=${xe}`);break}oe.allowlisted|=Ze.contentType&w.ALLOWING_TYPES,Ze.contentType&w.contentTypes.DOCUMENT&&(oe.allowingDocumentFilter=Ze);let it=N(Re,Ze);(0,I.debug)(`Allowing tabId=${ie}, frameId=${xe} due to ${Ze.text}`),(0,A.logItem)(Ce,Ze,{...we,allowingReason:it})}}async function M(){let oe=await h.default.tabs.query({});await Promise.all(oe.map(({id:ie})=>h.default.webNavigation.getAllFrames({tabId:ie}).then(xe=>{if(!xe)return;xe.sort((Ce,qe)=>Ce.frameId-qe.frameId);let he=new Map;G.set(ie,he);for(let{frameId:Ce,parentFrameId:qe,url:we}of xe){let Re=L(qe)?he.get(qe):null;R(qe)&&!Re&&(Re=he.get(C)),we||(we=V),he.set(Ce,new O(ie,Ce,Re,we))}})))}function P(oe,ie,xe,he){(0,I.trace)({tabId:oe,frameId:ie,url:xe,sitekey:he});let Ce=_e(oe,ie);Ce||(Ce=$({tabId:oe,frameId:ie,url:xe}));let qe=Ce.url==xe;qe&&(Ce.headersReceived=!0),he&&qe&&Ce.sitekey!=he&&(Ce.sitekey=he,B(Ce))}function $({tabId:oe,frameId:ie,parentFrameId:xe=-1,url:he},{historyStateUpdated:Ce=!1,errorOccurred:qe=!1}={}){he||(he=V);let we=G.get(oe);(!we||q(ie)&&!Ce)&&(we=new Map,G.set(oe,we));let Re=we.get(ie),Ze=L(xe)?we.get(xe):null;return R(xe)&&!Ze&&(Ze=we.get(C)),qe&&(Re?he=Re.url:Ze&&(he=Ze.url)),(!Re||q(ie)||Re.url!=he||Re.parent!=Ze)&&(Re=new O(oe,ie,Ze,he),we.set(ie,Re)),Re}function ee(oe){(0,I.trace)({details:oe});let ie=G.get(oe.tabId);if(ie){let xe=ie.get(oe.frameId);xe&&xe.url!=oe.url&&(xe.isChangingURL=!0,E(xe,oe.url))}oe.url=="about:srcdoc"&&$(oe)}function K(oe){(0,I.trace)({details:oe});let ie=$(oe);B(ie),ie.isChangingURL=!1}function X(oe){(0,I.trace)({details:oe}),R(oe.frameId)&&typeof oe.parentFrameId=="number"&&$(oe,{errorOccurred:!0})}async function Y(oe){(0,I.trace)({details:oe});let ie=_e(oe.tabId,oe.frameId);$(oe,{historyStateUpdated:!0});let xe=await(0,T.applyContentFilters)(oe.tabId,oe.frameId,ie,!0);try{await(0,j.ignoreNoConnectionError)(h.default.tabs.sendMessage(oe.tabId,{type:"ewe:apply-content-features",...xe},{frameId:oe.frameId}))}catch(he){console.error(he)}}function Q(){G.clear()}function te(oe){G.delete(oe),(0,S.clearTabSitekeys)(oe)}function ge(oe){(0,I.trace)({tabId:oe}),te(oe)}function re(oe,ie){(0,I.trace)({addedTabId:oe,removedTabId:ie}),te(ie)}function _e(oe,ie,{parentFrameId:xe,initiator:he,documentUrl:Ce}={}){if(he&&oe==-1)return new O(oe,ie,null,he);let qe=G.get(oe);if(qe){let we=qe.get(ie);if(we)return we}if(Ce&&typeof xe=="number")return $({tabId:oe,frameId:ie,parentFrameId:xe,url:Ce})}async function $e(){F||((0,S.addListener)(P),h.default.webNavigation.onBeforeNavigate.addListener(ee),h.default.webNavigation.onCommitted.addListener(K),h.default.webNavigation.onErrorOccurred.addListener(X),h.default.webNavigation.onHistoryStateUpdated.addListener(Y),h.default.tabs.onRemoved.addListener(ge),h.default.tabs.onReplaced.addListener(re),F=M()),await F}},"./src/background/idb.js":(f,d,c)=>{c.r(d),c.d(d,{openDatabase:()=>w});const h="EWE",y=1;function w(){return new Promise((k,A)=>{let S=indexedDB.open(h,y);S.onupgradeneeded=T=>{let I=T.target.result;I.createObjectStore("file-entries"),I.createObjectStore("file-contents",{autoIncrement:!0})},S.onsuccess=T=>k(T.target.result),S.onerror=T=>A(T.target.error)})}},"./src/background/index.js":(f,d,c)=>{c.r(d),c.d(d,{allowlisting:()=>K.default,cdp:()=>he,checkAndInitSubscriptions:()=>lt,clearSkipInitRulesets:()=>Re,debugging:()=>oe,experiments:()=>Ce,filters:()=>_e,notifications:()=>X.notifications,reporting:()=>$e,snippets:()=>qe,start:()=>it,subscriptions:()=>re,telemetry:()=>ie,testing:()=>xe});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./src/background/initializer.js"),w=c("./src/background/message-responder.js"),k=c("./src/background/content-message-deferrer.js"),A=c("./src/background/popup-blocker-background-page.js"),S=c("./src/background/popup-blocker-service-worker.js"),T=c("./src/background/request-filter.js"),I=c("./src/background/dnr-request-reporter.js"),j=c("./src/background/sitekey.js"),V=c("./src/background/telemetry.js"),C=c("./src/background/subscriptions.js"),q=c("./src/background/debugging.js"),L=c("./src/background/filters.js"),R=c("./src/background/reporting.js"),G=c("./src/background/testing.js"),F=c("./src/background/prefs.js"),O=c("./src/background/cdp.js"),N=c("./src/background/cdp-metrics-uploader.js"),E=c("./src/background/experiments.js"),B=c("./src/background/content-filter.js"),M=c("./src/background/info.js"),P=c("./src/background/core.js"),$=c("./src/background/dnr-filters.js"),ee=c("./src/background/browser-features.js"),K=c("./src/background/allowlisting.js"),X=c("./src/background/notifications.js");async function Y(){await y.default.start()}async function Q(){h.declarativeNetRequest&&(await F.awaitSavingComplete(),await P.filterEngine.filterStorage.awaitSavingComplete(),await j._awaitSavingComplete(),await k._awaitSavingComplete(),await O._awaitSavingComplete())}function te(Ot){return Ot.constructor&&Ot.constructor.name==="AsyncFunction"}function ge(Ot){return new Proxy(Ot,{get(fe,le,ye){return typeof fe[le]=="function"&&te(fe[le])?async function(...rt){q.debug(()=>"API call: "+JSON.stringify({method:le,args:[...rt]}),q.LOG_COLOR_CYAN),await Y();let Et=await fe[le](...rt);return await Q(),Et}:fe[le]}})}const re=ge(C.default),_e=ge(L.default),$e=ge(R.default),oe=ge(q.default),ie=ge(V.default),xe=ge(G.default),he=ge(O.default),Ce=ge(E.default);let qe={setLibrary:B.setSnippetLibrary};const we="ewe:skip_init_rulesets";async function Re(){await h.storage.local.remove(we)}async function Ze(Ot){let fe=h.runtime.getManifest();Ot.reason!=h.runtime.OnInstalledReason.UPDATE||!Ot.previousVersion||Ot.previousVersion==fe.version||await Re()}async function it(Ot){let fe=[],le=(0,M.setAddonInfo)(Ot);if(le.warnings&&fe.push(...le.warnings),De(),h.declarativeNetRequest){h.runtime.onInstalled.addListener(Ze);let Et=await(0,C.validate)(Ot.bundledSubscriptions,Ot.bundledSubscriptionsPath);Et&&fe.push(...Et)}await Ie(Ot);let{filterStorage:ye}=P.filterEngine,rt={foundSubscriptions:ye.getSubscriptionCount()!=0,foundStorage:!ye.firstRun,warnings:fe};if(h.declarativeNetRequest){let Et=await nt();await lt(Et)}return Ot&&Ot.telemetry&&await V.start(Ot.telemetry),Ot&&Ot.cdp&&await N.start(Ot.cdp),L.deferredStart(),rt}function De(){w.start(),k.start(),(0,ee.isRunningInServiceWorker)()&&S.start(),h.declarativeNetRequest&&I.start(),j.start(),L.start()}async function Ie(Ot){await y.default.start(),(0,ee.isRunningInServiceWorker)()||A.start(),h.declarativeNetRequest||T.start(),P.filterEngine.filterStorage.synchronizer.start(),Ot&&Ot.experiments&&Ot.experiments.url&&E.start(Ot.experiments.url)}async function nt(){return F.Prefs.migration_state!==F.MIGRATED_TO_MV3?(await(0,C.migrate)(),F.Prefs.migration_state===F.MIGRATED_TO_MV2&&await(0,$.migrateCustomFilters)(),F.Prefs.migration_state=F.MIGRATED_TO_MV3,!0):!1}async function lt(Ot){if((await h.storage.local.get([we]))[we]){await(0,C.ensureDNRRulesetsEnabled)();return}Ot||(await(0,$.clearRulesetUpdates)(),await(0,$.removeSubscriptionsDynamicFilters)(),await(0,$.enableAllDisabledStaticRules)()),await(0,C.recoverMigrationErrorSubscriptions)(),await(0,C.updateSubscriptionInformation)(),await(0,C.ensureDNRRulesetsEnabled)(),await C.default.sync(),await h.storage.local.set({[we]:!0})}},"./src/background/info.js":(f,d,c)=>{c.r(d),c.d(d,{addonBundledSubscriptions:()=>S,addonBundledSubscriptionsPath:()=>T,addonName:()=>k,addonVersion:()=>A,application:()=>I,applicationVersion:()=>j,getBrowserVersion:()=>G,initializeDefaultAddonInfo:()=>N,isEdge:()=>O,isFirefox:()=>F,manifestVersion:()=>q,platform:()=>V,platformVersion:()=>C,sdkName:()=>L,sdkVersion:()=>R,setAddonInfo:()=>B});var h=c("./src/background/webext-browser.js"),y=c("./adblockpluscore/lib/recommendations.js"),w=c("./adblockpluscore/lib/features.js");let k,A,S,T,I,j,V,C,q,L="eyeo-webext-ad-filtering-solution",R="1.23.1";N();function G(){return j.split(".").map(M=>parseInt(M,10))}function F(){return I.includes("firefox")}function O(){return I.includes("edg")}function N(){let M=h.default.runtime.getManifest();if(k=M.short_name||M.name,A=M.version,I="unknown",j="0",C="0",q=String(M.manifest_version),typeof netscape<"u"){V="gecko";let P=/\brv:([^;)]+)/.exec(navigator.userAgent);P&&(C=P[1]),h.default.runtime.getBrowserInfo().then($=>{I=$.name.toLowerCase(),j=$.version})}else V="chromium",E()}function E(){let M=/(\S+)\/(\S+)(?:\s*\(.*?\))?/g,P;for(;P=M.exec(navigator.userAgent);){let[,$,ee]=P;$=="Mozilla"||$=="AppleWebKit"||$=="Safari"||$=="Chrome"&&(C=ee,I!="unknown")||(I=$=="OPR"?"opera":$.toLowerCase(),j=ee)}}function B(M){let P=[];if(h.default.declarativeNetRequest){if(!M)throw new Error("No addonInfo provided to EWE.start");if(!M.bundledSubscriptions)throw new Error("No `bundledSubscriptions` provided");if(!M.bundledSubscriptionsPath)throw new Error("No `bundledSubscriptionsPath` provided")}if(!M)return{warnings:P};if(M.name&&(k=M.name),M.version&&(A=M.version),M.manifestVersion&&(q=M.manifestVersion),S=M.bundledSubscriptions,T=M.bundledSubscriptionsPath,S&&S.length>0&&(0,y.setRecommendations)(S),M.featureFlags)try{w.setFeatureFlags(M.featureFlags)}catch($){P.push($.message)}return{warnings:P}}},"./src/background/initializer.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>j});var h=c("./src/background/core.js"),y=c("./src/background/frame-state.js"),w=c("./src/background/io.js"),k=c("./src/background/dnr-filters.js"),A=c("./src/background/prefs.js"),S=c("./src/background/debugging.js"),T=c("./src/background/cdp.js");let I;const j={start(){return I||(I=(async()=>{await w.IO.initialize(),await S.default.start(),await(0,A.init)(),await h.filterEngine.initialize(),await y.start(),await(0,k.init)(),await T.start()})()),I}}},"./src/background/io-bsl.js":(f,d,c)=>{c.r(d),c.d(d,{IO:()=>S});var h=c("./src/background/webext-browser.js");const y="ewe:file:";function w(T){return y+T}async function k(T){let I=w(T),V=(await h.default.storage.local.get(I))[I];if(V)return V;throw{type:"NoSuchFile"}}function A(T,I){return h.default.storage.local.set({[w(T)]:{content:Array.from(I),lastModified:Date.now()}})}let S={async readFromFile(T,I){let j=await k(T);for(let V of j.content)I(V)},writeToFile(T,I){return A(T,I)},async renameFile(T,I){let j=await k(T);await h.default.storage.local.set({[w(I)]:j}),await h.default.storage.local.remove(w(T))},async statFile(T){try{return{exists:!0,lastModified:(await k(T)).lastModified}}catch(I){if(I.type=="NoSuchFile")return Promise.resolve({exists:!1});throw I}},async fixPrefixes(){let T=await h.default.storage.local.get();for(let I in T){let j=T[I];for(let V of["abp:file:","file:"])if(I.startsWith(V)){let C={};C[y+I.substring(V.length)]=j,await h.default.storage.local.set(C),await h.default.storage.local.remove(I)}}},async initialize(){await this.fixPrefixes()}}},"./src/background/io-idb.js":(f,d,c)=>{c.r(d),c.d(d,{IO:()=>T,getDatabase:()=>S});var h=c("./src/background/idb.js");let y;function w(I,j,V){j.get(I).onsuccess=C=>{let q=C.target.result;q&&V.delete(q.content)}}function k(I,j,V,C){return new Promise((q,L)=>{let R=new TextEncoder().encode(Array.from(V).join(`
`)),G=I.transaction(["file-entries","file-contents"],"readwrite"),F=G.objectStore("file-entries"),O=G.objectStore("file-contents");w(j,F,O),O.add(R).onsuccess=N=>{let E=N.target.result;F.put({lastModified:C,content:E},j)},G.oncomplete=()=>q(),G.onerror=G.onabort=N=>L(N.target.error)})}async function A(I){y=I}function S(){if(!y)throw new Error("Database hasn't been opened. Did you call start()?");return y}let T={async readFromFile(I,j){let V=await new Promise((L,R)=>{let F=S().transaction(["file-entries","file-contents"],"readonly"),O=F.objectStore("file-entries"),N=F.objectStore("file-contents");O.get(I).onsuccess=E=>{let B=E.target.result;if(!B){R(new Error("File does not exist"));return}N.get(B.content).onsuccess=M=>{L(M.target.result)}},F.onerror=F.onabort=E=>R(E.target.error)}),C=new TextDecoder,q=0;for(;;){let L=V.indexOf(10,q+1e3),R=L!=-1?L:V.length,G=C.decode(V.subarray(q,R));for(let F of G.split(`
`))j(F);if(L==-1)break;q=L+1}},async writeToFile(I,j){await k(S(),I,j,Date.now())},renameFile(I,j){return new Promise((V,C)=>{let L=S().transaction(["file-entries","file-contents"],"readwrite"),R=L.objectStore("file-entries"),G=L.objectStore("file-contents");R.get(I).onsuccess=F=>{let O=F.target.result;if(!O){C(new Error("File does not exist"));return}w(j,R,G),R.put(O,j),R.delete(I)},L.oncomplete=()=>V(),L.onerror=L.onabort=F=>C(F.target.error)})},statFile(I){return new Promise((j,V)=>{let q=S().transaction(["file-entries"],"readonly"),L=q.objectStore("file-entries");L.get(I).onsuccess=R=>{let G=R.target.result,F=!1,O;G&&(F=!0,O=G.lastModified),j({exists:F,lastModified:O})},q.onerror=q.onabort=R=>V(R.target.error)})},async initialize(){let I=await(0,h.openDatabase)();await A(I)}}},"./src/background/io.js":(f,d,c)=>{c.r(d),c.d(d,{IO:()=>T,readFileContent:()=>S});var h=c("./src/background/webext-browser.js"),y=c("./src/background/io-idb.js"),w=c("./src/background/io-bsl.js");let k,A;function S(I){const j=h.default.runtime.getURL(I);return fetch(j).then(V=>V.text())}let T={async readFromFile(I,j){return k.readFromFile(I,j)},async writeToFile(I,j){return k.writeToFile(I,j)},renameFile(I,j){return k.renameFile(I,j)},statFile(I){return k.statFile(I)},initialize(){return A||(A=(async()=>{k=y.IO;try{await k.initialize()}catch(I){if(I instanceof DOMException&&I.name=="InvalidStateError"){k=w.IO;try{await k.initialize()}catch{throw A=null,I}}else throw I.message.includes("Internal error opening backing store for indexedDB.open")?(A=null,new Error("IndexedDB init error",{cause:I})):(A=null,I)}})()),A}}},"./src/background/message-responder.js":(f,d,c)=>{c.r(d),c.d(d,{start:()=>L});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./src/background/initializer.js"),w=c("./src/background/content-filter.js"),k=c("./adblockpluscore/lib/elemHide.js"),A=c("./src/background/subscribe-links.js"),S=c("./src/background/diagnostics.js"),T=c("./src/background/allowlisting.js"),I=c("./src/background/debugging.js"),j=c("./src/background/content-message-deferrer.js"),V=c("./src/background/cdp.js");async function C(R,G){switch((0,I.trace)({message:R,sender:{tabId:G.tab?G.tab.id:null,frameId:G.frameId,url:G.url}}),await y.default.start(),R.type){case"ewe:content-hello":return G.tab?((0,j.onContentHelloReceived)(G.tab.id,G.frameId),{...await(0,w.applyContentFilters)(G.tab.id,G.frameId)}):void 0;case"ewe:subscribe-link-clicked":(0,A.subscribeLinkClicked)(R.url,R.title);break;case"ewe:trace-elem-hide":(0,S.logHiddenElements)(R.selectors,R.filters,G);break;case"ewe:inject-css":let O=(0,k.createStyleSheet)([R.selector]);(0,w.injectCSS)(G.tab.id,G.frameId,O);break;case"ewe:allowlist-page":const{timestamp:N,signature:E,options:B}=R;return(0,T.allowlistPage)(G.tab.id,G.frameId,N,E,B);case"ewe:cdp-session-active":await(0,V.markActive)(G.tab.id,G.frameId);break}}function q(R,G){return typeof R=="object"&&R!=null&&R.type&&R.type.startsWith("ewe:")?C(R,G):!1}function L(){h.runtime.onMessage.addListener(q)}},"./src/background/notifications.js":(f,d,c)=>{c.r(d),c.d(d,{notifications:()=>T});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./src/background/prefs.js"),w=c("./adblockpluscore/lib/notifications.js");const k="ewe:notifications";class A{constructor(){this.local=new Set,this.loaded=this.load()}add(j){this.local.add(j),this.save()}delete(j){let V=this.local.delete(j);return V&&this.save(),V}[Symbol.iterator](){return this.local[Symbol.iterator]()}async load(){let V=(await h.storage.session.get([k]))[k]||[];for(let C of V)this.local.add(C)}async save(){await this.loaded,this.debounceTimer||(this.debounceTimer=setTimeout(()=>{this.debounceTimer=null,this.saveImmediate()},0))}async saveImmediate(){await h.storage.session.set({[k]:[...this.local]})}}h.storage.session&&w.notifications.setLocalNotificationStorage(new A);let S=["start","shouldIgnoreNotifications","showNotification","showNext","markAsShown","toggleIgnoreCategory","getDownloadCount","getIgnoredCategories"],T=new Proxy(w.notifications,{get(I,j,V){return S.includes(j)?async function(...C){return await(0,y.init)(),I[j](...C)}:I[j]}})},"./src/background/persistence.js":(f,d,c)=>{c.r(d),c.d(d,{PersistentState:()=>w});var h=c("./src/background/webext-browser.js"),y=c("./src/background/set-operations.js");class w{constructor(A,S=h.default.storage.session){this.storageKey=A,this.storage=S,this.activeSaveActions=new Set,this.loaded=!1,this.debounce=!1,this.debounceInterval=0,this.untilLoaded=null,this.clearState()}doDebounce(){this.debounce=!0}setDebounceInterval(A){this.debounceInterval=A}clearState(){this.state={}}async getStateLoaded(){return this.untilLoaded?await this.untilLoaded:await this.load(),this.state}getState(){return this.state}async load(A){this.untilLoaded=this._load(A),await this.untilLoaded}async save(){this.debounce?this.debounceTimer||(this.debounceTimer=setTimeout(()=>{this.debounceTimer=null,this.saveImmediate()},this.debounceInterval)):await this.saveImmediate()}async saveImmediate(){let A={};return A[this.storageKey]=this.state,this._trackSaving(this.storage.set(A).catch(S=>console.error("Failed to save the state for",this.storageKey,": "+S.message)))}async awaitSavingComplete(){if(Promise.allSettled){await Promise.allSettled(this.activeSaveActions);return}for(let A of this.activeSaveActions)try{await A}catch{}}async _load(A=null){let S=await this.storage.get(this.storageKey);if(!S||!S[this.storageKey]){this.loaded=!0;return}let T=S[this.storageKey];A&&A(T),this.state=(0,y.mergeObjects)(T,this.state),this.loaded=!0}_trackSaving(A){return this.activeSaveActions.add(A),A.finally(()=>this.activeSaveActions.delete(A)),A}}},"./src/background/popup-blocker-background-page.js":(f,d,c)=>{c.r(d),c.d(d,{start:()=>F});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./adblockpluscore/lib/filterClasses.js"),w=c("./adblockpluscore/lib/contentTypes.js"),k=c("./src/background/core.js"),A=c("./src/background/diagnostics.js"),S=c("./src/background/frame-state.js"),T=c("./src/background/debugging.js");let I=new Map;function j(O){I.delete(O),I.size==0&&(h.webRequest.onBeforeRequest.removeListener(C),h.webNavigation.onBeforeNavigate.removeListener(C),h.webNavigation.onCompleted.removeListener(q),h.tabs.onRemoved.removeListener(L))}function V(O,N,E){let{docDomain:B,sitekey:M,specificOnly:P}=E,$=k.filterEngine.defaultMatcher.match(N||S.BLANK_PAGE_URL,w.contentTypes.POPUP,B,M,P);$&&((0,A.logItem)({tabId:E.tabId,frameId:0,url:N},$,{docDomain:B,specificOnly:P,method:"popup"}),$ instanceof y.BlockingFilter&&h.tabs.remove(O).catch(()=>{}),j(O))}function C({frameId:O,tabId:N,url:E}){if((0,T.trace)({frameId:O,tabId:N,url:E}),!(0,S.isTopLevelFrameId)(O))return;let B=I.get(N);B&&V(N,E,B)}function q({frameId:O,tabId:N,url:E}){(0,T.trace)({frameId:O,tabId:N,url:E}),(0,S.isTopLevelFrameId)(O)&&E!=S.BLANK_PAGE_URL&&j(N)}function L(O){(0,T.trace)({tabId:O}),j(O)}function R({tabId:O,url:N,sourceTabId:E,sourceFrameId:B}){(0,T.trace)({tabId:O,url:N,sourceTabId:E,sourceFrameId:B});let M=(0,S.getFrameInfo)(E,B)||{};if(M.allowlisted&w.contentTypes.DOCUMENT)return;I.size==0&&(h.webRequest.onBeforeRequest.addListener(C,{urls:["http://*/*","https://*/*"],types:["main_frame"]}),h.webNavigation.onBeforeNavigate.addListener(C),h.webNavigation.onCompleted.addListener(q),h.tabs.onRemoved.addListener(L));let P={tabId:E,specificOnly:!!(M.allowlisted&w.contentTypes.GENERICBLOCK),docDomain:M.hostname,sitekey:M.sitekey};I.set(O,P),V(O,N,P)}function G({id:O,url:N,openerTabId:E}){(0,T.trace)({id:O,url:N,openerTabId:E}),E&&R({tabId:O,url:N,sourceTabId:E,sourceFrameId:0})}function F(){h.webNavigation.onCreatedNavigationTarget.addListener(R),typeof netscape<"u"&&h.tabs.onCreated.addListener(G)}},"./src/background/popup-blocker-service-worker.js":(f,d,c)=>{c.r(d),c.d(d,{start:()=>O});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./adblockpluscore/lib/filterClasses.js"),w=c("./adblockpluscore/lib/contentTypes.js"),k=c("./src/background/core.js"),A=c("./src/background/initializer.js"),S=c("./src/background/diagnostics.js"),T=c("./src/background/frame-state.js"),I=c("./src/background/debugging.js");const j="ewe:popupBlocker:loadingPopups";class V{constructor(){this.openerPromiseMap={},this.loaded=(async()=>{let E=await h.storage.session.get([j]);this.openerMap=E[j]||{}})()}async saveMap(){await h.storage.session.set({[j]:this.openerMap})}set(E,B){this.openerPromiseMap[E]||this.openerMap&&this.openerMap[E]||(this.openerPromiseMap[E]=B,B.then(async M=>{await this.loaded,delete this.openerPromiseMap[E],M&&(this.openerMap[E]=M,await this.saveMap())}))}async get(E){let B=this.openerPromiseMap[E];return B?await B:(await this.loaded,this.openerMap[E])}has(E){return Object.hasOwnProperty.call(this.openerPromiseMap,E)||this.openerMap&&Object.hasOwnProperty.call(this.openerMap,E)}async remove(E){this.openerPromiseMap[E]&&delete this.openerPromiseMap[E],await this.loaded,this.openerMap[E]&&(delete this.openerMap[E],await this.saveMap())}}let C;async function q(N,E,B){await A.default.start();let{docDomain:M,sitekey:P,specificOnly:$}=B;if(!C.has(N))return;let ee=k.filterEngine.defaultMatcher.match(E||T.BLANK_PAGE_URL,w.contentTypes.POPUP,M,P,$);ee&&((0,S.logItem)({tabId:B.tabId,frameId:0,url:E},ee,{docDomain:M,specificOnly:$,method:"popup"}),ee instanceof y.BlockingFilter&&h.tabs.remove(N).catch(()=>{}),await C.remove(N))}async function L({frameId:N,tabId:E,url:B}){if((0,I.trace)({frameId:N,tabId:E,url:B}),!(0,T.isTopLevelFrameId)(N))return;let M=await C.get(E);M&&await q(E,B,M)}async function R({frameId:N,tabId:E,url:B}){if((0,I.trace)({frameId:N,tabId:E,url:B}),!(0,T.isTopLevelFrameId)(N)||B==T.BLANK_PAGE_URL)return;let M=await C.get(E);M&&(await q(E,B,M),await C.remove(E))}async function G(N){(0,I.trace)({tabId:N}),await C.remove(N)}async function F({tabId:N,url:E,sourceTabId:B,sourceFrameId:M}){(0,I.trace)({tabId:N,url:E,sourceTabId:B,sourceFrameId:M});let P=(async()=>{await A.default.start();let ee=(0,T.getFrameInfo)(B,M)||{};return ee.allowlisted&w.contentTypes.DOCUMENT?void 0:{tabId:B,specificOnly:!!(ee.allowlisted&w.contentTypes.GENERICBLOCK),docDomain:ee.hostname,sitekey:ee.sitekey}})();C.set(N,P);let $=await P;$&&await q(N,E,$)}function O(){C=new V,h.webNavigation.onCreatedNavigationTarget.addListener(F),h.webRequest.onBeforeRequest.addListener(L,{urls:["http://*/*","https://*/*"],types:["main_frame"]}),h.webNavigation.onBeforeNavigate.addListener(L),h.webNavigation.onCommitted.addListener(L),h.webNavigation.onCompleted.addListener(R),h.tabs.onRemoved.addListener(G)}},"./src/background/prefs.js":(f,d,c)=>{c.r(d),c.d(d,{CDP_OPTED_IN:()=>I,CDP_OPTED_IN_BY_USER:()=>V,CDP_OPTED_OUT:()=>j,CDP_OPTED_OUT_BY_USER:()=>C,MIGRATED_TO_MV2:()=>A,MIGRATED_TO_MV3:()=>T,MIGRATED_TO_MV3_WITHOUT_DIFF:()=>S,Prefs:()=>L,awaitSavingComplete:()=>P,defaults:()=>q,init:()=>Y,migratePrefs:()=>ee});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./adblockpluscore/lib/events.js"),w=c("./adblockpluscore/lib/time.js"),k=c("./src/background/io-idb.js");const A=0,S=1,T=2,I=0,j=1,V=2,C=3,q=Object.create({analytics:{trustedHosts:["adblockplus.org","notification.adblockplus.org","easylist-downloads.adblockplus.org"]},dynamic_filters:[],notificationdata:{},notifications_ignoredcategories:[],notificationurl:"https://notification.adblockplus.org/notification.json",notifications_initial_delay:1e3,patternsbackupinterval:24,patternsbackups:0,ruleset_updates:[],savestats:!1,show_statsinpopup:!0,subscriptions_autoupdate:!0,subscriptions_fallbackerrors:5,subscriptions_fallbackurl:"https://adblockplus.org/getSubscription?version=%VERSION%&url=%SUBSCRIPTION%&downloadURL=%URL%&error=%ERROR%&responseStatus=%RESPONSESTATUS%",subscriptions_initial_delay:1e3,subscriptions_check_interval:1*w.MILLIS_IN_HOUR,migration_filter_errors:[],migration_subscription_errors:[],migration_state:A,edge_one_click_allowlisting_delay:2*w.MILLIS_IN_SECOND,cdp_opt_in_out:I,cdp_session_expiration_interval:30*w.MILLIS_IN_MINUTE,telemetry_opt_out:!0});let L={on(Q,te){G.on(Q,te)},off(Q,te){G.off(Q,te)}};const R="abp:pref:";let G=new y.EventEmitter,F=new Map,O;function N(Q){return Q.startsWith(R)?Q.substr(R.length):null}function E(Q){return`${R}${Q}`}let B=new Set;function M(Q){return B.add(Q),Q.finally(()=>B.delete(Q)),Q}async function P(){if(Promise.allSettled){await Promise.allSettled(B);return}for(let Q of B)try{await Q}catch{}}function $(Q){Object.defineProperty(L,Q,{get(){if(F.has(Q))return F.get(Q);let te=q[Q];return Array.isArray(te)||typeof te=="object"&&te!==null?JSON.parse(JSON.stringify(te)):te},set(te){let ge=E(Q);if(te===q[Q]){F.delete(Q),M(h.storage.local.remove(ge));return}F.set(Q,te),M(h.storage.local.set({[ge]:te}))},enumerable:!0})}async function ee(Q){return new Promise((te,ge)=>{let re=Q.transaction(["prefs"],"readwrite");re.oncomplete=()=>te(),re.onerror=re.onabort=$e=>ge($e.target.error);let _e;try{_e=re.objectStore("prefs")}catch{return}_e.getAll().onsuccess=$e=>{for(let{name:oe,value:ie}of $e.target.result)K(oe,ie);_e.clear()}})}function K(Q,te){let ge=E(Q);F.set(Q,te),M(h.storage.local.set({[ge]:te}))}async function X(){let Q=Object.keys(Object.getPrototypeOf(q));Q.forEach($);let te=await h.storage.local.get(Q.map(E));for(let ge in te)F.set(N(ge),te[ge])}async function Y(){return O||(O=(async()=>{try{let Q=(0,k.getDatabase)();await ee(Q)}catch{}await X()})()),O}},"./src/background/reporting.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>T});var h=c("./adblockpluscore/lib/analytics.js"),y=c("./adblockpluscore/lib/contentTypes.js"),w=c("./src/background/diagnostics.js"),k=c("./src/background/request-filter.js"),A=c("./src/background/subscribe-links.js");let S=new Map;for(let I of k.resourceTypes){let j=Object.keys(y.contentTypes).find(V=>y.contentTypes[V]===I[1]);S.set(I[0].toLowerCase(),j.toLowerCase())}const T={getFirstVersion:h.analytics.getFirstVersion,onBlockableItem:new w.BlockableEventDispatcher,contentTypesMap:S,onSubscribeLinkClicked:A.onSubscribeLinkClicked}},"./src/background/request-filter.js":(f,d,c)=>{c.r(d),c.d(d,{getFrameInfoFromWebrequestDetails:()=>E,getParentFrameInfoFromWebrequestDetails:()=>B,getRequestContentType:()=>G,resourceTypes:()=>L,sanitizeInitiator:()=>N,start:()=>$e});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./adblockpluscore/lib/filterClasses.js"),w=c("./adblockpluscore/lib/contentTypes.js"),k=c("./adblockpluscore/lib/filterNotifier.js"),A=c("./adblockpluscore/lib/url.js"),S=c("./src/background/core.js"),T=c("./src/background/frame-state.js"),I=c("./src/background/diagnostics.js"),j=c("./src/background/sitekey.js"),V=c("./src/background/debugging.js"),C=c("./src/background/content-message-deferrer.js");const q=new URL(h.runtime.getURL("")).protocol;let L=new Map;for(let oe in w.contentTypes)L.set(oe.toLowerCase(),w.contentTypes[oe]);L.set("sub_frame",w.contentTypes.SUBDOCUMENT),L.set("beacon",w.contentTypes.PING),L.set("imageset",w.contentTypes.IMAGE),L.set("object_subrequest",w.contentTypes.OBJECT),L.set("main_frame",w.contentTypes.DOCUMENT);let R=new Map([[w.contentTypes.IMAGE,"img,input"],[w.contentTypes.MEDIA,"audio,video"],[w.contentTypes.SUBDOCUMENT,"frame,iframe,object,embed"],[w.contentTypes.OBJECT,"object,embed"]]);function G(oe){let ie=L.get(oe.type)||w.contentTypes.OTHER;return ie==w.contentTypes.DOCUMENT?w.contentTypes.OTHER:ie}function F(oe){return oe.type=="sub_frame"?oe.parentFrameId:oe.frameId}function O(oe){return oe.type=="sub_frame"?oe.frameAncestors?oe.frameAncestors.length>1?oe.frameAncestors[1].frameId:-1:null:oe.parentFrameId}function N(oe){return oe=="null"?null:oe}function E(oe){let ie=oe.tabId,xe=F(oe),he=O(oe),Ce=N(oe.initiator)||oe.documentUrl,qe=oe.documentUrl||N(oe.initiator),we=(0,T.getFrameInfo)(ie,xe,{initiator:Ce,parentFrameId:he,documentUrl:qe});return!we||we.isChangingURL?null:we}function B(oe){if(!(0,T.isValidFrameId)(oe.parentFrameId))return null;let ie=(0,T.getFrameInfo)(oe.tabId,oe.parentFrameId);return!ie&&(0,T.isValidChildFrameId)(oe.parentFrameId)&&(ie=(0,T.getFrameInfo)(oe.tabId,0)),ie}let M=new Set,P=new Set;class ${register(){this.listener||(this.listener=this.filter.bind(this),this.event.addListener(this.listener,...this.eventArgs))}unregister(){this.listener&&(this.event.removeListener(this.listener),this.listener=null)}getDocDomain(ie,xe){return ie=="main_frame"?null:xe}getInitiator(ie){return N(ie.initiator)||ie.documentUrl}getDocumentUrl(ie){return ie.documentUrl||N(ie.initiator)}collapse(ie){let xe=R.get(G(ie)),he=F(ie);xe&&he!=-1?(0,C.sendContentMessage)(ie.tabId,he,{type:"ewe:collapse",selector:xe,url:ie.url}):(0,V.warn)("No selector or frameId",JSON.stringify(ie))}block(ie,xe,he){let Ce=(()=>{if(typeof xe.rewrite=="string"){let qe=xe.rewriteUrl(ie.url);if(qe!=ie.url)return he.rewrittenUrl=qe,{redirectUrl:qe}}else return this.collapse(ie),{cancel:!0}})();return(0,I.logItem)(ie,xe,he),Ce}allow(ie,xe,he){M.add(ie.requestId),(0,I.logItem)(ie,xe,he)}match(ie,xe,he,Ce,qe){}filter(ie){if(M.has(ie.requestId))return;let xe=this.getInitiator(ie);if(xe&&xe.startsWith(q))return this.allow(ie,null,{method:"allowing",allowingReason:"extensionInitiated"});let he=E(ie);if(!he)return;let Ce=(he.allowlisted&w.contentTypes.GENERICBLOCK)!=0,qe=this.getDocDomain(ie.type,he.hostname);if(he.allowlisted&w.contentTypes.DOCUMENT)return this.allow(ie,he.allowingDocumentFilter,{docDomain:qe,method:"allowing",specificOnly:Ce});let we=G(ie);return this.match(ie,he,Ce,we,qe)}}class ee extends ${getDocumentUrl(ie){return ie.documentUrl}getFrameInfo(ie){let xe=super.getFrameInfo(ie);if(xe){if(!xe.headersReceived)return null;let{documentUrl:he}=ie,Ce=N(ie.initiator);if(he&&xe.url!=he||Ce&&xe.hostname!=(0,A.parseURL)(Ce).hostname)return null}return xe}match(ie,xe,he,Ce,qe){let we=S.filterEngine.defaultMatcher.match(ie.url,Ce,qe,xe.sitekey,he,!0);if(we){let Re={docDomain:qe,specificOnly:he,method:"request"};return we instanceof y.BlockingFilter?this.block(ie,we,Re):this.allow(ie,we,Re)}}}ee.prototype.event=h.webRequest.onBeforeRequest,ee.prototype.eventArgs=[{types:Object.values(h.webRequest.ResourceType).filter(oe=>oe!="main_frame"),urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]},["blocking"]];class K extends ${match(ie,xe,he,Ce,qe){let we=S.filterEngine.defaultMatcher,Re=we.match(ie.url,Ce,qe,xe.sitekey,he,!0);if(Re){let lt={docDomain:qe,specificOnly:he,method:"request"};return Re instanceof y.BlockingFilter?this.block(ie,Re,lt):this.allow(ie,Re,lt)}let Ze={docDomain:qe,specificOnly:he,method:"header"},it=w.contentTypes.HEADER|Ce,De=we.match(ie.url,it,qe,xe.sitekey,he,!0);if(De&&De instanceof y.AllowingFilter)return this.allow(ie,De,Ze);let nt=we.search(ie.url,it,qe,xe.sitekey,he,"blocking").blocking.find(lt=>lt.filterHeaders(ie.responseHeaders));if(nt)return this.block(ie,nt,Ze)}}K.prototype.event=h.webRequest.onHeadersReceived,K.prototype.eventArgs=[{types:Object.values(h.webRequest.ResourceType).filter(oe=>oe!="main_frame"),urls:["http://*/*","https://*/*"]},h.declarativeNetRequest?["responseHeaders"]:["blocking","responseHeaders"]];class X extends ${filter(ie){let{requestId:xe,tabId:he,frameId:Ce,responseHeaders:qe,url:we,type:Re}=ie;if(M.has(xe))return;let Ze=this.getInitiator(ie);if(Ze&&Ze.startsWith(q))return this.allow(ie,null,{method:"allowing",allowingReason:"extensionInitiated"});let it=B(ie),{hostname:De,sitekey:Ie}=it||{},nt=S.filterEngine.defaultMatcher,lt=(0,A.parseURL)(we),Ot=De||lt.hostname,fe=(0,j.setSitekeyFromHeaders)(he,Ce,we,qe)||Ie,le=nt.match(we,w.contentTypes.GENERICBLOCK,Ot,fe),ye=nt.match(we,w.contentTypes.DOCUMENT,Ot,fe),rt=!!le,Et=this.getDocDomain(Re,De);if(ye)return this.allow(ie,ye,{docDomain:Et,method:"allowing",specificOnly:rt});let ue=w.contentTypes.CSP|G(ie),Kt={docDomain:Et||lt.hostname,specificOnly:rt,method:"csp"},He=nt.match(we,ue,Et,fe,rt,!0);if(He&&He instanceof y.AllowingFilter)return this.allow(ie,He,Kt);let Ct=nt.search(we,ue,Ot,fe,rt,"blocking");if(Ct.blocking.length>0){P.add(xe);for(let Xt of Ct.blocking)(0,I.logItem)(ie,Xt,Kt),qe.push({name:"Content-Security-Policy",value:Xt.csp})}return{responseHeaders:qe}}}X.prototype.event=h.webRequest.onHeadersReceived,X.prototype.eventArgs=[{types:["main_frame","sub_frame"],urls:["http://*/*","https://*/*"]},h.declarativeNetRequest?["responseHeaders"]:["blocking","responseHeaders"]];class Y extends ${filter(ie){let{requestId:xe,tabId:he,frameId:Ce,url:qe,type:we}=ie,Re=M.delete(xe),Ze=P.delete(xe);if(!(Re||Ze))if(we=="main_frame"||we=="sub_frame"){let it=B(ie),{hostname:De,sitekey:Ie}=it||{},nt=De||(0,A.parseURL)(qe).hostname,lt=(0,j.getSitekey)(he,Ce,qe)||Ie,Ot=S.filterEngine.defaultMatcher,le=!!Ot.match(qe,w.contentTypes.GENERICBLOCK,nt,lt);if((0,T.isTopLevelFrameId)(Ce)&&Ot.match(qe,w.contentTypes.POPUP,nt,lt,le))return;let ye={docDomain:this.getDocDomain(we,nt),method:"unmatched",specificOnly:le};(0,I.logItem)(ie,null,ye)}else{let it=E(ie);if(!it)return;let De=(it.allowlisted&w.contentTypes.GENERICBLOCK)!=0,Ie={docDomain:this.getDocDomain(we,it.hostname),method:"unmatched",specificOnly:De};(0,I.logItem)(ie,null,Ie)}}}Y.prototype.event=h.webRequest.onCompleted,Y.prototype.eventArgs=[{types:Object.values(h.webRequest.ResourceType),urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]}];class Q extends ${filter(ie){M.delete(ie.requestId),P.delete(ie.requestId)}}Q.prototype.event=h.webRequest.onErrorOccurred,Q.prototype.eventArgs=[{types:Object.values(h.webRequest.ResourceType),urls:["http://*/*","https://*/*","ws://*/*","wss://*/*"]}];let te=[new ee,new K,new X,new Y,new Q];function ge(){h.webNavigation.onBeforeNavigate.removeListener(ge),h.webRequest.handlerBehaviorChanged()}function re(){h.webNavigation.onBeforeNavigate.addListener(ge)}const _e=["subscription.added","subscription.removed","subscription.updated","subscription.disabled","filter.added","filter.removed","filterState.enabled"];function $e(){if(!h.declarativeNetRequest){for(let oe of te)oe.register();for(let oe of _e)k.filterNotifier.listeners(oe).includes(re)||k.filterNotifier.on(oe,re)}}},"./src/background/set-operations.js":(f,d,c)=>{c.r(d),c.d(d,{arraysDiff:()=>h,filtersUpdateDiff:()=>y,mergeObjects:()=>w});function h(k,A){const S=new Set(k),T=new Set(A),I=k.filter(V=>!T.has(V));return{added:A.filter(V=>!S.has(V)),removed:I}}function y(k,A){let S=h(k.added,A.added),T=h(k.removed,A.removed),I=S.added.concat(T.removed),j=T.added.concat(S.removed);return{added:I,removed:j}}function w(k,A){if(k instanceof Array)return[...k,...A];if(!(k instanceof Object))return A;let S={};for(let[T,I]of Object.entries(k))S[T]=I;for(let[T,I]of Object.entries(A)){let j=S[T];S[T]=j?w(j,I):I}return S}},"./src/background/sitekey.js":(f,d,c)=>{c.r(d),c.d(d,{_awaitSavingComplete:()=>Y,_doSaveSitekeys:()=>K,_getSitekeySignature:()=>F,_getSitekeys:()=>V,_loadSitekeys:()=>ee,_saveSitekeys:()=>X,_setSitekey:()=>O,addListener:()=>R,clearAllSitekeys:()=>N,clearTabSitekeys:()=>E,getSitekey:()=>G,setSitekeyFromHeaders:()=>B,start:()=>Q});var h=c("./adblockpluscore/lib/rsa.js"),y=c("./src/background/webext-browser.js"),w=c("./src/background/browser-features.js"),k=c("./src/background/debugging.js"),A=c("./src/background/persistence.js");const S=0;let T=new A.PersistentState("ewe:sitekeys",y.default.storage.local),I,j=[];function V(){return T}function C(te,ge,re,_e){for(let $e of j)$e(te,ge,re,_e)}function q(){for(let[te,ge]of Object.entries(T.getState()))for(let[re,_e]of Object.entries(ge))for(let[$e,oe]of Object.entries(_e))C(te,re,$e,oe.sitekey)}function L({tabId:te,frameId:ge,url:re,responseHeaders:_e,frameType:$e}){(0,k.trace)({tabId:te,frameId:ge,url:re,responseHeaders:_e,frameType:$e}),ge==S&&($e==null||$e=="outermost_frame")&&E(te);let oe=B(te,ge,re,_e);oe&&C(te,ge,re,oe)}function R(te){j.push(te)}function G(te,ge,re){let _e=T.getState()[te];if(!_e)return null;let $e=_e[ge];if(!$e)return null;let oe=$e[re];return oe?oe.sitekey:null}function F(te,ge,re){return T.getState()[te][ge][re].signature}function O(te,ge,re,_e,$e){let oe=T.getState()[te];oe||(oe={},T.getState()[te]=oe);let ie=oe[ge];ie||(ie={},oe[ge]=ie),ie[re]={sitekey:_e,signature:$e}}function N(te=!0){T.clearState(),te&&X()}function E(te){delete T.getState()[te],X()}function B(te,ge,re,_e){let $e=M(_e),oe=$e?$e.sitekey:null,ie=G(te,ge,re);return ie&&ie.sitekey&&oe==ie.sitekey?ie.sitekey:oe&&P(oe,$e.signature,re)?(O(te,ge,re,oe,$e.signature),X(),oe):(O(te,ge,re,null,null),X(),null)}function M(te){for(let ge of te)if(ge.name.toLowerCase()=="x-adblock-key"&&ge.value){let re=ge.value.split("_");return re.length<2?null:{sitekey:re[0].replace(/=/g,""),signature:re[1]}}return null}function P(te,ge,re){let _e=new URL(re),$e=[_e.pathname+_e.search,_e.host,navigator.userAgent].join("\0");return(0,h.verifySignatureSync)(te,ge,$e)}function $(te){for(let[ge,re]of Object.entries(te)){for(let[_e,$e]of Object.entries(re)){for(let[oe,ie]of Object.entries($e))try{ie.sitekey===null||P(ie.sitekey,ie.signature,oe)||delete $e[oe]}catch{delete $e[oe]}Object.keys($e).length==0&&delete re[_e]}Object.keys(re).length==0&&delete te[ge]}}async function ee(te=!0){await T.load(te?$:null),q()}function K(){T.save()}function X(){(0,w.isRunningInServiceWorker)()&&K()}async function Y(){await T.awaitSavingComplete()}async function Q(){I||(y.default.webRequest.onHeadersReceived.addListener(L,{urls:["http://*/*","https://*/*"],types:["main_frame","sub_frame"]},["responseHeaders"]),I=(0,w.isRunningInServiceWorker)()?ee():Promise.resolve(null)),await I}},"./src/background/subscribe-links.js":(f,d,c)=>{c.r(d),c.d(d,{onSubscribeLinkClicked:()=>k,subscribeLinkClicked:()=>w});var h=c("./src/background/types.js");let y;function w(A,S){y&&y({url:A,title:S})}let k=new h.EventDispatcher(A=>{y=A},()=>{y=null})},"./src/background/subscriptions-utils.js":(f,d,c)=>{c.r(d),c.d(d,{getFilterText:()=>q,getSubscriptionRulesetMap:()=>C,rulesetExistsInManifest:()=>T,subscriptionFileExists:()=>I});var h=c("./src/background/webext-browser.js"),y=c("./src/background/persistence.js"),w=c("./adblockpluscore/lib/filters/lists.js"),k=c("./src/background/io.js"),A=c("./src/background/info.js");function S(L){let R=h.default.runtime.getManifest();return R.declarative_net_request&&R.declarative_net_request.rule_resources?R.declarative_net_request.rule_resources.find(G=>G.id==L):null}function T(L){return!!S(L)}async function I(L,R){let G=`${R}/${L.id}`;return V(G)}let j=new y.PersistentState("ewe:fileExistsCache");async function V(L){j.loaded||await j.load();let R=j.getState();if(typeof R[L]>"u"){const G=h.default.runtime.getURL(L);let F;try{F=(await fetch(G,{method:"HEAD"})).ok}catch{F=!1}R[L]=F,await j.save()}return R[L]}async function C(L){let R=S(L);if(!R)throw Error(`Subscription ${L} not found.`);const G=h.default.runtime.getURL(R.path+".map");return await(await fetch(G)).json()}async function q(L){let R=`${A.addonBundledSubscriptionsPath}/${L.id}`,G=await(0,k.readFileContent)(R),{lines:F,params:O,error:N}=(0,w.parseFilterList)(G);if(N)throw new Error(N);if(!F)throw new Error("invalid filter list");return F.shift(),{filterText:F,params:O}}},"./src/background/subscriptions-validator.js":(f,d,c)=>{c.r(d),c.d(d,{validate:()=>y});var h=c("./src/background/subscriptions-utils.js");async function y(w,k){let A=[];for(let S of w)await(0,h.subscriptionFileExists)(S,k)||A.push(`No subscription content file for ID=${S.id}`),(0,h.rulesetExistsInManifest)(S.id)||A.push(`No ruleset with ID=${S.id} declared in the manifest`);return A}},"./src/background/subscriptions.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>it,ensureDNRRulesetsEnabled:()=>Ze,getDefaultSubscriptions:()=>X,hasAcceptableAdsEnabled:()=>K,isSynchronizing:()=>xe,migrate:()=>Re,recoverMigrationErrorSubscriptions:()=>$e,saveMigrationError:()=>we,updateSubscriptionInformation:()=>oe,validate:()=>ge});var h=c("./src/background/webext-browser.js"),y=c("./src/background/subscriptions-validator.js"),w=c("./src/background/subscriptions-utils.js"),k=c("./adblockpluscore/lib/subscriptionClasses.js"),A=c("./adblockpluscore/lib/filterNotifier.js"),S=c("./adblockpluscore/lib/recommendations.js"),T=c("./adblockpluscore/lib/filterClasses.js"),I=c("./src/background/info.js"),j=c("./src/background/initializer.js"),V=c("./src/background/core.js"),C=c("./src/background/types.js"),q=c("./src/background/filters.js"),L=c("./src/background/dnr-filters.js"),R=c("./src/background/prefs.js");const G="0798B6A2-94A4-4ADF-89ED-BEC112FC4C7F",F="https://easylist-downloads.adblockplus.org/exceptionrules.txt",O="https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt",N="F12E0801-A00B-49DE-B1E3-52C9C4F90C8C",E="https://easylist-downloads.adblockplus.org/exceptionrules-privacy-friendly.txt",B="https://easylist-downloads.adblockplus.org/v3/full/exceptionrules-privacy-friendly.txt";function M(De){const{id:Ie,disabled:nt,downloadStatus:lt,homepage:Ot,version:fe,lastDownload:le,lastSuccess:ye,softExpiration:rt,expires:Et,title:ue,url:Kt,downloadable:He,downloadCount:Ct,diffURL:Xt,privileged:me,lastModified:Se}=De;let ut=De instanceof k.FullUpdatableSubscription||De instanceof k.DiffUpdatableSubscription;return{id:Ie,enabled:!nt,privileged:me,homepage:Ot,downloadable:He,updatable:ut,diffURL:Xt,title:ue,url:Kt,downloadCount:Ct,version:fe,downloading:xe(Kt),downloadStatus:lt,lastSuccess:ye,lastDownload:le,softExpiration:rt,expires:Et,lastModified:Se}}function P({id:De,languages:Ie,title:nt,requires:lt,type:Ot,url:fe,mv2URL:le}){return h.default.declarativeNetRequest?{id:De,languages:Ie,title:nt,requires:lt,type:Ot,url:fe,mv2URL:le}:{id:De,languages:Ie,title:nt,requires:lt,type:Ot,url:le}}function $(De){let Ie=k.Subscription.fromURL(De);return V.filterEngine.filterStorage.hasSubscription(Ie)&&Ie instanceof k.RegularSubscription?Ie:null}function ee(De){return Ie=>{Ie instanceof k.RegularSubscription&&De(M(Ie))}}async function K(){const De=[F,O,E,B];for(let Ie of await ie())if(Ie.enabled&&De.includes(Ie.url))return!0;return!1}function X(De){let Ie=!1,nt=!1,lt=!1,Ot=!1;De||(h.default.i18n.getUILanguage?De=h.default.i18n.getUILanguage():De=navigator.language);let fe=De.split("-")[0],le=(h.default.runtime.getManifest().default_locale||"en").split("_")[0],ye=[],rt=[],Et=[],ue=[];for(let He of(0,S.recommendations)())switch(He.type){case"ads":He.languages.includes(fe)&&(Ie=!0,ye.push(He)),He.languages.includes(le)&&(nt=!0,rt.push(He));break;case"circumvention":ue.push(He),Ot=!0;break;case"allowing":Et.push(He),lt=!0;break}ye.length==0&&(ye=rt);let Kt=Et.find(He=>He.id==G);return Kt&&(Et=[Kt]),ue.unshift(...Et),ue.unshift(...ye),{chosenSubscriptions:ue,hasAA:lt,hasAntiCV:Ot,hasCurrentLang:Ie,hasDefaultLang:nt}}function Y(){let{filterStorage:De}=V.filterEngine;for(let Ie of De.subscriptions())if(h.default.declarativeNetRequest&&Ie instanceof k.CountableSubscription||Ie instanceof k.FullUpdatableSubscription&&Ie.url!=F||Ie instanceof k.SpecialSubscription&&Ie.filterCount>0)return!1;return!0}async function Q(De){if(h.default.declarativeNetRequest&&(0,w.rulesetExistsInManifest)(De))try{await h.default.declarativeNetRequest.updateEnabledRulesets({enableRulesetIds:[De]})}catch(Ie){throw Ie.message=`${Ie.message} (enableRuleset: ${De})`,Ie}}async function te(De){if(h.default.declarativeNetRequest&&(0,w.rulesetExistsInManifest)(De)){await h.default.declarativeNetRequest.updateEnabledRulesets({disableRulesetIds:[De]}),await(0,L.disableDynamicRules)(De);let Ie=await h.default.declarativeNetRequest.getDisabledRuleIds({rulesetId:De});await h.default.declarativeNetRequest.updateStaticRules({rulesetId:De,enableRuleIds:Ie})}}async function ge(De,Ie){return(0,y.validate)(De,Ie)}async function re(De){let Ie=$(De);if(!Ie)throw new Error(`Subscription does not exist: ${De}`);h.default.declarativeNetRequest&&(Ie instanceof k.FullUpdatableSubscription?await(0,L.disableDynamicRules)(Ie.url):await te(Ie.id)),V.filterEngine.filterStorage.removeSubscription(Ie)}async function _e(De){let Ie=I.addonBundledSubscriptions.find(lt=>lt.mv2_url==De.url),nt=Ie?Ie.url:De.url;await he(nt,{downloadCount:De.downloadCount,version:De.version}),De.enabled||await Ce(nt)}async function $e(){let De=[],Ie=R.Prefs.migration_subscription_errors;Array.isArray(Ie)||(Ie=[]);for(let nt=0;nt<Ie.length;nt++){let lt=Ie[nt];try{await _e(lt.subscription),De.push(nt)}catch{}}De.length>0&&(Ie=Ie.filter((nt,lt)=>!De.includes(lt)),R.Prefs.migration_subscription_errors=Ie)}async function oe(){let De=[];for(let Ie of V.filterEngine.filterStorage.subscriptions())if(Ie instanceof k.RegularSubscription){let nt=I.addonBundledSubscriptions.find(lt=>lt.url==Ie.url);if(Ie.hasBundledFilters)if(nt){try{let{filterText:lt}=await(0,w.getFilterText)(nt);Ie.setFilterText(lt)}catch{}Ie.diffURL=nt.diff_url,Ie.title=nt.title,Ie.homepage=nt.homepage}else De.push(Ie.url);else nt&&(await re(Ie.url),await he(nt.url,{downloadCount:Ie.downloadCount,version:Ie.version}),Ie.enabled||await Ce(nt.url))}for(let Ie of De)await re(Ie)}function ie(){let De=[];for(let Ie of V.filterEngine.filterStorage.subscriptions())Ie instanceof k.RegularSubscription&&De.push(M(Ie));return De}function xe(De){return V.filterEngine.filterStorage.synchronizer.isExecuting(De)||(0,L.isDnrSubscriptionUpdating)(De)}async function he(De,Ie={}){if(!k.Subscription.isValidURL(De))throw new Error(`Invalid subscription URL provided: ${De}`);let{filterStorage:nt}=V.filterEngine,lt=k.Subscription.fromURL(De);if(h.default.declarativeNetRequest&&!lt.downloadable){let Ot=I.addonBundledSubscriptions.find(ye=>ye.url==De),fe,le;try{({filterText:fe,params:le}=await(0,w.getFilterText)(Ot))}catch{}fe&&lt.setFilterText(fe),le&&lt.setParams(le)}"title"in Ie&&(lt.title=Ie.title),"homepage"in Ie&&(lt.homepage=Ie.homepage),"downloadCount"in Ie&&(lt.downloadCount=Ie.downloadCount),"version"in Ie&&(lt.version=Ie.version),"lastDownload"in Ie&&(lt.lastDownload=Ie.lastDownload),"privileged"in Ie&&(lt.privileged=Ie.privileged),"diffURL"in Ie&&(lt.diffURL=Ie.diffURL),"lastModified"in Ie&&(lt.lastModified=Ie.lastModified),nt.addSubscription(lt),h.default.declarativeNetRequest&&!lt.downloadable&&await Q(lt.id),!lt.lastDownload&&!xe(lt.url)&&nt.synchronizer.execute(lt)}async function Ce(De){let Ie=$(De);if(!Ie)throw new Error(`Subscription does not exist: ${De}`);Ie.disabled=!0,h.default.declarativeNetRequest&&(Ie instanceof k.FullUpdatableSubscription?await(0,L.disableDynamicRules)(Ie.url):await te(Ie.id))}function qe(){if(h.default.runtime.getManifest().manifest_version==2)return!1;for(let De of V.filterEngine.filterStorage.subscriptions())if(De.downloadable)return!0;return!1}function we(De,Ie){let nt=R.Prefs.migration_subscription_errors;nt.push({subscription:De,error:Ie}),R.Prefs.migration_subscription_errors=nt}async function Re(){if(await j.default.start(),!qe())return;let De=await ie();for(let Ie of De)if(Ie.downloadable){await re(Ie.url);try{_e(Ie)}catch(nt){we(Ie,nt.message)}}}async function Ze(){if(h.default.declarativeNetRequest){let De=await h.default.declarativeNetRequest.getEnabledRulesets();for(let Ie of V.filterEngine.filterStorage.subscriptions())!De.includes(Ie.id)&&!Ie.disabled&&Q(Ie.id)}}const it={get ACCEPTABLE_ADS_URL(){return h.default.declarativeNetRequest?O:F},ACCEPTABLE_ADS_ID:G,get ACCEPTABLE_ADS_PRIVACY_URL(){return h.default.declarativeNetRequest?B:E},ACCEPTABLE_ADS_PRIVACY_ID:N,add:he,async addDefaults(De,Ie=!1){let nt=[];if(Ie||Y()){let lt=X(De);if(!lt.hasDefaultLang)throw Error("No default language subscription");if(!lt.hasAntiCV)throw Error("No anti-circumvention subscription");if(!lt.hasAA)throw Error("No allowing subscription");nt.push(...lt.chosenSubscriptions)}for(let lt of nt)await this.add(h.default.declarativeNetRequest?lt.url:lt.mv2URL)},async getDownloadable(){return ie().map(Ie=>(delete Ie.updatable,Ie))},async getSubscriptions(){return ie().map(Ie=>(delete Ie.downloadable,Ie))},async getForFilter(De){return De?Array.from(V.filterEngine.filterStorage.subscriptions(De),M):[]},async getFilters(De){let Ie=$(De);return Ie?Array.from(Ie.filterText(),nt=>(0,q.convertFilter)(T.Filter.fromText(nt))):[]},async has(De){return $(new URL(De).href)!=null},async enable(De){let Ie=$(De);if(!Ie)throw new Error(`Subscription does not exist: ${De}`);h.default.declarativeNetRequest&&await Q(Ie.id),Ie.disabled=!1},disable:Ce,remove:re,async sync(De){let Ie=[],{filterStorage:nt}=V.filterEngine;if(De){let lt=$(De);if(!lt)throw new Error(`Subscription does not exist: ${De}`);Ie.push(lt)}else for(let lt of nt.subscriptions())lt instanceof k.RegularSubscription&&Ie.push(lt);for(let lt of Ie)xe(lt.url)||nt.synchronizer.execute(lt,!0)},getRecommendations(){return Array.from((0,S.recommendations)(),P)},hasAcceptableAdsEnabled:K,async getMigrationErrors(){let De=R.Prefs.migration_subscription_errors;return Array.isArray(De)||(De=[]),De},async clearMigrationErrors(){R.Prefs.migration_subscription_errors=[]},onAdded:new C.EventDispatcher(De=>{A.filterNotifier.on("subscription.added",ee(De))}),onChanged:new C.EventDispatcher(De=>{function Ie(lt){return lt=="disabled"&&(lt="enabled"),Ot=>{Ot instanceof k.RegularSubscription&&$(Ot.url)&&De(M(Ot),lt)}}let nt=["disabled","title","homepage","lastDownload","downloadStatus","downloading","privileged","lastModified"];for(let lt of nt)A.filterNotifier.on(`subscription.${lt}`,Ie(lt));A.filterNotifier.on("subscription.updated",Ie(null))}),onRemoved:new C.EventDispatcher(De=>{A.filterNotifier.on("subscription.removed",ee(De))})}},"./src/background/telemetry.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>K,postWithBearerToken:()=>P,reset:()=>N,start:()=>O,stop:()=>E});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js"),y=c("./node_modules/uuid/dist/esm-browser/v4.js"),w=c("./adblockpluscore/lib/time.js"),k=c("./src/background/prefs.js"),A=c("./src/background/info.js"),S=c("./src/background/subscriptions.js"),T=c("./src/background/types.js"),I=c("./src/all/scheduler.js"),j=c("./src/background/initializer.js"),V=c("./src/background/debugging.js"),C=c("./src/background/experiments.js"),q=c("./src/background/callbacks.js");const L="ewe:telemetry";let R=null,G=new T.EventDispatcher(X=>{});async function F(){await h.storage.local.remove(L)}async function O(X,Y=12*w.MILLIS_IN_HOUR,Q=1*w.MILLIS_IN_HOUR){if(!X.url)throw new Error("No telemetry `url` provided");if(!X.bearer)throw new Error("No telemetry `bearer` provided");R||(await(0,k.init)(),R=new I.Scheduler({interval:Y,errorRetryDelay:Q,listener:()=>M(X),async getNextTimestamp(){if(k.Prefs.telemetry_opt_out)return Date.now()+w.MILLIS_IN_DAY;let ge=(await h.storage.local.get([L]))[L],re=ge&&ge.lastPing,_e=ge&&ge.lastError;if(_e){let $e=new Date(_e).getTime()+Q,oe=Date.now(),ie=oe+Q;return $e>ie&&($e=ie,await h.storage.local.set({[L]:{...ge,lastError:new Date(oe).toISOString()}})),$e}else if(re)return new Date(re).getTime()+Y;return null}}))}async function N(){E(),await h.storage.local.remove(L)}function E(){R&&(R.stop(),R=null)}function B(X){return X&&X.split("T")[0]+"T00:00:00Z"}async function M(X){if((0,V.trace)({telemetry:X}),await j.default.start(),k.Prefs.telemetry_opt_out)return!1;const Q=(await h.storage.local.get([L]))[L];let te=await ee();Q&&(te.first_ping=B(Q.firstPing),te.last_ping=B(Q.lastPing),te.previous_last_ping=B(Q.previousLastPing),te.last_ping_tag=Q.lastPingTag),te.ucid=Q&&Q.ucid||(0,y.default)();let ge;try{if(ge=(await P(X.url,X.bearer,{payload:te})).token,!ge)throw new Error("Telemetry server response did not include a token.")}catch(_e){(0,V.error)(`Telemetry error: ${_e.message}`);let $e=new Date().toISOString();return await h.storage.local.set({[L]:{...Q,lastError:$e}}),G.emit({message:_e.message,lastError:$e}),!1}let re={firstPing:Q&&Q.firstPing||ge,lastPing:ge,previousLastPing:Q&&Q.lastPing,lastPingTag:(0,y.default)(),ucid:te.ucid};return await h.storage.local.set({[L]:re}),!0}async function P(X,Y,Q){(0,V.trace)({url:X,bearer:Y,body:Q});const te=await fetch(X,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(Q)});if(!te.ok)throw new Error(`Telemetry server responded with error status ${te.status}.`);return await te.json()}async function $(){const X=await C.default.getAssignments();return Object.entries(X).map(Y=>({experiment_id:Y[0],variant_id:Y[1]}))}async function ee(){let X,Y;if(navigator.userAgentData){const te=await navigator.userAgentData.getHighEntropyValues(["platform","platformVersion"]);X=te.platform,Y=te.platformVersion}else X=(await h.runtime.getPlatformInfo()).os;const Q={platform:X,platform_version:Y,application:A.application,application_version:A.applicationVersion,addon_name:A.sdkName,addon_version:A.sdkVersion,extension_name:A.addonName,extension_version:A.addonVersion,aa_active:await(0,S.hasAcceptableAdsEnabled)(),experiments:await $()};if(q.premiumStatusCallback){const te=await(0,q.premiumStatusCallback)();te&&(Q.premium_status=te)}return Q}const K={onError:G,async setOptOut(X){k.Prefs.telemetry_opt_out=X,R&&!X&&R.checkNow(),X&&await F()}}},"./src/background/testing.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>X});var h=c("./src/background/webext-browser.js"),y=c("./adblockpluscore/lib/subscriptionClasses.js"),w=c("./adblockpluscore/lib/recommendations.js"),k=c("./adblockpluscore/lib/notifications.js"),A=c("./adblockpluscore/lib/features.js"),S=c("./src/background/core.js"),T=c("./src/background/prefs.js"),I=c("./src/background/debugging.js"),j=c("./src/background/subscriptions.js"),V=c("./src/background/index.js"),C=c("./src/background/initializer.js"),q=c("./src/background/info.js"),L=c("./src/background/dnr-filters.js"),R=c("./src/background/subscriptions-utils.js"),G=c("./src/background/io.js"),F=c("./adblockpluscore/lib/filterStorage.js"),O=c("./src/background/telemetry.js"),N=c("./src/background/cdp-metrics-uploader.js"),E=c("./src/background/cdp-encryption.js"),B=c("./src/background/filters.js"),M=c("./src/background/sitekey.js"),P=c("./src/background/content-message-deferrer.js"),$=c("./src/background/cdp.js"),ee=c("./src/background/frame-state.js"),K=c("./src/background/experiments.js");const X={...M,async _setPrefs(Y,Q){await(0,T.init)(),T.Prefs[Y]=Q},async _getPrefs(Y){return await(0,T.init)(),T.Prefs[Y]},_restartSynchronizer(){let{filterStorage:Y}=S.filterEngine;Y.synchronizer.stop(),Y.synchronizer.start()},async _setSubscriptionProperties(Y,Q){let te=y.Subscription.fromURL(Y);for(let ge in Q)te[ge]=Q[ge];await S.filterEngine.filterStorage.saveToDisk(),await I.default.ensureEverythingHasSaved()},_setSubscriptions(Y){(0,q.setAddonInfo)({bundledSubscriptions:Y,bundledSubscriptionsPath:q.addonBundledSubscriptionsPath}),(0,w.setRecommendations)(Y),(0,y._clean)()},_setRecommendations(Y){const Q=Y?Y.map(te=>te._source):null;(0,w.setRecommendations)(Q)},_recommendations(){return(0,w.recommendations)()},_getDefaultSubscriptions:j.getDefaultSubscriptions,_setAddonInfo:q.setAddonInfo,_resetDefaultAddonInfo:q.initializeDefaultAddonInfo,_setFeatureFlags:A.setFeatureFlags,_resetFeatureFlags:A.resetFeatureFlags,async _isFeatureEnabled(Y){return await C.default.start(),(0,A.isFeatureEnabled)(Y)},async _removeAllSubscriptions(){for(let Q of await j.default.getSubscriptions())await j.default.remove(Q.url);await(0,L.removeAllDynamicFilters)(),(0,L.clearIsDnrSubscriptionUpdating)();const{filterStorage:Y}=S.filterEngine;Y._clear(),await Y.saveToDisk(),S.filterEngine.clear()},async _dnrDiffSubscriptionUpdate(Y,Q){await this._waitForInitialization();const{filterStorage:te}=S.filterEngine;let ge=te.getSubscription(Y);ge||(ge=y.Subscription.fromURL(Y)),await(0,L.dnrDiffSubscriptionUpdate)(ge,Q)},getSubscriptionRulesetMap:R.getSubscriptionRulesetMap,async getDynamicFilters(){await(0,T.init)();let Y=await(0,L.getDynamicFilters)();return Array.from(Y.entries())},dynamicRulesAvailable:L.dynamicRulesAvailable,testSetDynamicRulesAvailable:L.testSetDynamicRulesAvailable,async _clearNotifications(){await(0,T.init)();for(let Y of k.notifications._localNotifications)k.notifications.removeNotification(Y);T.Prefs.notificationdata={},T.Prefs.notifications_ignoredcategories=[],await(0,T.awaitSavingComplete)()},enableDebugOutput(Y){let Q=I.default.ON_REQUEST_CONSOLE_LOGGER.getListener();Y?I.default.onLogEvent.addListener(Q):I.default.onLogEvent.removeListener(Q)},CONSOLE_LOGGER:I.default.logger,_log:I.log,_debug:I.debug,_info:I.info,_warn:I.warn,_error:I.error,_trace:I.trace,_clearDebugLog(){I.default.ON_REQUEST_CONSOLE_LOGGER.clear()},_printDebugLog(){I.default.ON_REQUEST_CONSOLE_LOGGER.print()},async _clearStorage(){await G.IO.initialize();let Y=F.FilterStorage.sourceFile,Q="removed.tmp";if((await G.IO.statFile(Y)).exists){const{filterStorage:ge}=S.filterEngine;await G.IO.renameFile(Y,Q),ge.clearStats(),await ge.loadFromDisk()}},async _waitForInitialization(){await C.default.start()},clearIsDnrSubscriptionUpdating:L.clearIsDnrSubscriptionUpdating,isSynchronizing:j.isSynchronizing,stopTelemetry:O.stop,startTelemetry:O.start,resetTelemetry:O.reset,stopCdpMetricsUploader:N.stop,startCdpMetricsUploader:N.start,resetCdpMetricsUploader:N.reset,stopCdp:$.stop,startCdp:$.start,setCdpLoadDelay:$.setLoadDelay,_setCdpConfig:$._setConfig,_restoreCdpConfig:$._restoreConfig,_setCdpData:$.setData,_setCdpDataArray:$.setDataArray,_getCdpData:$.getData,_clearCdpData:$.clearData,_clearCdpActivity:$.clearActivity,_getCdpDomainStats:$.getDomainStats,_importRSAPublicKey:E.importRSAPublicKey,_requestPublicKey:N.requestPublicKey,_uploadCdp:N.upload,clearSkipInitRulesets:V.clearSkipInitRulesets,checkAndInitSubscriptions:V.checkAndInitSubscriptions,_cleanSubscriptionClassesCache:y._clean,removeTabExpirationFilters:B.removeTabExpirationFilters,async _isContentHelloReceived(Y,Q){return!(0,P.getDeferredMessages)(Y,Q)},async _saveSubscriptionMigrationError(Y,Q){await C.default.start(),(0,j.saveMigrationError)(Y,Q)},async _saveSessionStorage(Y,Q){let te={};te[Y]=Q,await h.default.storage.session.set(te)},async _removeSessionStorage(Y){await h.default.storage.session.remove(Y)},async getDynamicRules(){return await h.default.declarativeNetRequest.getDynamicRules()},_clearFrameState:ee._clear,restartExperiments(Y,Q,te){K.stop(),K.start(Y,Q,te)},setExperimentsSeed:K.setSeed,resetExperimentData:K.reset}},"./src/background/types.js":(f,d,c)=>{c.r(d),c.d(d,{BlockableEventDispatcher:()=>h.BlockableEventDispatcher,EventDispatcher:()=>y,FilterError:()=>w});var h=c("./src/background/diagnostics.js");class y{constructor(A,S){this._listeners=new Set,this._initialized=!1;let T=(...I)=>{for(let j of this._listeners)j(...I)};this._initialize=A.bind(null,T),this._finalize=S&&S.bind(null,T)}addListener(A){this._initialized||(this._initialize(),this._initialized=!0),this._listeners.add(A)}removeListener(A){this._listeners.delete(A),this._initialized&&this._finalize&&this._listeners.size==0&&(this._finalize(),this._initialized=!1)}emit(...A){for(let S of this._listeners)S(...A)}}class w extends Error{constructor(A,S,T=null){super(JSON.stringify({type:A,reason:S,option:T})),this.name="FilterError",this.type=A,this.reason=S,this.option=T}}},"./src/background/webext-browser.js":(f,d,c)=>{c.r(d),c.d(d,{default:()=>y});var h=c("./node_modules/webextension-polyfill/dist/browser-polyfill.js");const y=h},"./adblockpluscore/data/subscriptions.json":f=>{f.exports=JSON.parse(`[{"id":"B7D76369-DD19-4602-80E8-2E32DDB490AC","type":"ads","languages":["id","ms"],"title":"ABPindo+EasyList","homepage":"http://abpindo.blogspot.com/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A4A32212-E6BD-45F6-AD0F-E0FD18E8537B"],"url":"https://easylist-downloads.adblockplus.org/v3/full/abpindo+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abpindo+easylist.txt"},{"id":"1C571EC7-6E52-47CC-B04A-4B3008D0AEBE","type":"ads","languages":["vi"],"title":"ABPVN List+EasyList","homepage":"http://abpvn.com/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","03648752-31EE-4FD0-85C1-20B07C5551C3"],"url":"https://easylist-downloads.adblockplus.org/v3/full/abpvn+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abpvn+easylist.txt"},{"id":"E22C3B40-DC90-49D7-8BF5-E60904AB159A","type":"ads","languages":["bg"],"title":"Bulgarian list+EasyList","homepage":"https://stanev.org/abp/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1638B159-F64A-4307-84E7-16AB08ED409E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/bulgarian_list+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/bulgarian_list+easylist.txt"},{"id":"96932CD9-6DDF-4D97-B92F-FDF747B6FAA2","type":"ads","languages":["no","nb","nn","da","is","fo","kl","sv","fi"],"title":"Dandelion Sprout's Nordic Filters+EasyList","homepage":"https://github.com/DandelionSprout/adfilt","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","6D489E8D-E61C-444C-BBC5-44741773ADC2"],"url":"https://easylist-downloads.adblockplus.org/v3/full/dandelion_sprouts_nordic_filters+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/dandelion_sprouts_nordic_filters+easylist.txt"},{"id":"8C13E995-8F06-4927-BEA7-6C845FB7EEBF","type":"ads","languages":["en"],"title":"EasyList","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylist.txt"},{"id":"9BD3EA2F-889D-4CC3-B680-CF484F2BD1B9","type":"ads","languages":["zh"],"title":"EasyList China+EasyList","homepage":"https://github.com/easylist/easylistchina/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1D7F590C-B752-4BA0-9473-6A26DE1326B1"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistchina+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt"},{"id":"4B6CE485-30AB-4213-AD17-504B3F2D2825","type":"ads","languages":["cs","sk"],"title":"EasyList Czech and Slovak+EasyList","homepage":"https://adblock.sk/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2D8C4D88-34A0-4259-9098-30D28BA674BC"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistczechslovak+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistczechslovak+easylist.txt"},{"id":"A4B88FB6-E5E5-417F-8A49-20B8244995FD","type":"ads","languages":["nl"],"title":"EasyList Dutch+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","CB94E27D-6CD1-4DB9-83D9-6B7F1A3555F6"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistdutch+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistdutch+easylist.txt"},{"id":"0CD3D105-D3B3-4652-8489-94163DE9A08F","type":"ads","languages":["de"],"title":"EasyList Germany+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","4337FB2B-A95C-44D5-B78D-11AD40F7711B"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistgermany+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistgermany+easylist.txt"},{"id":"07549D8B-F06F-4D9D-A567-929AA59E9D1D","type":"ads","languages":["he"],"title":"EasyList Hebrew+EasyList","homepage":"https://github.com/easylist/EasyListHebrew","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","AE0D9320-665E-407D-B692-1A85AE481F34"],"url":"https://easylist-downloads.adblockplus.org/v3/full/israellist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/israellist+easylist.txt"},{"id":"BBC07C05-66F1-42EC-BD4D-7AD495FAC84B","type":"ads","languages":["it"],"title":"EasyList Italy+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2F0A4F0D-DF16-40D0-B0E0-5EB6791EC119"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistitaly+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistitaly+easylist.txt"},{"id":"CBE50FA2-DE3F-480C-B1D7-04289391C033","type":"ads","languages":["lt"],"title":"EasyList Lithuania+EasyList","homepage":"https://github.com/EasyList-Lithuania/easylist_lithuania","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","E89B3C08-2DED-40EA-8EE1-339B90D7B451"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistlithuania+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistlithuania+easylist.txt"},{"id":"3D2C09D0-DF1C-4C8E-9947-A23DCEAF8F8B","type":"ads","languages":["pl"],"title":"EasyList Polish+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9F743FCD-801B-41D0-830F-5A4EA995216E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistpolish+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistpolish+easylist.txt"},{"id":"14DF7BE6-9675-4E07-987A-D8A1000F9FEF","type":"ads","languages":["pt"],"title":"EasyList Portuguese+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A41441EE-BF7C-4A48-9A43-42CCEA2B2A1D"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistportuguese+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistportuguese+easylist.txt"},{"id":"C3D13A19-3E8D-41F5-AD64-0F3B36DDE128","type":"ads","languages":["es"],"title":"EasyList Spanish+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","C8C1AA76-15B4-4CA3-8A9C-AD38D6AFCAEC"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easylistspanish+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easylistspanish+easylist.txt"},{"id":"25A31255-AB36-48A4-9086-06192DE71119","type":"ads","languages":["bn","gu","hi","pa","as","mr","ml","te","kn","or","ne","si"],"title":"IndianList+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9FAA2906-CD5C-4520-BDC4-4E098B7EA228"],"url":"https://easylist-downloads.adblockplus.org/v3/full/indianlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/indianlist+easylist.txt"},{"id":"2708BCB7-2E45-41BC-B517-1730CF532F89","type":"ads","languages":["ko"],"title":"KoreanList+EasyList","homepage":"https://easylist.to/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","BCE2062F-0D99-4861-A1F7-E3DFEA6DAB69"],"url":"https://easylist-downloads.adblockplus.org/v3/full/koreanlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/koreanlist+easylist.txt"},{"id":"950C88EA-2DD1-42E3-B2A2-2DF2ED15563A","type":"ads","languages":["lv"],"title":"Latvian List+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=99-latvian-list","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","51893C6C-F39E-43C5-A2EF-9545E388A2CE"],"url":"https://easylist-downloads.adblockplus.org/v3/full/latvianlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/latvianlist+easylist.txt"},{"id":"684A25C6-6B5D-458A-8A2B-BAC0A12B0B15","type":"ads","languages":["ar"],"title":"Liste AR+Liste FR+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=98","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E","3D60E303-1141-4775-B800-834177922876"],"url":"https://easylist-downloads.adblockplus.org/v3/full/liste_ar+liste_fr+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/liste_ar+liste_fr+easylist.txt"},{"id":"2CEA1481-C29C-44F1-A084-A2A019533797","type":"ads","languages":["fr"],"title":"Liste FR+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=98","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E"],"url":"https://easylist-downloads.adblockplus.org/v3/full/liste_fr+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/liste_fr+easylist.txt"},{"id":"EEEF75EC-B2B4-49F4-BC49-17B08266F334","type":"ads","languages":["ro"],"title":"ROList+EasyList","homepage":"https://zoso.ro/rolist/","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","99166908-5FDA-4F9E-8C4C-70BB4DEEFC08"],"url":"https://easylist-downloads.adblockplus.org/v3/full/rolist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/rolist+easylist.txt"},{"id":"1B5F78CA-8B30-4BDF-B0A3-451CB2202984","type":"ads","languages":["ru","uk"],"title":"RuAdList+EasyList","homepage":"https://forums.lanik.us/viewforum.php?f=102","includes":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","879ECB9D-8935-4506-939E-5BBB7DD09402"],"url":"https://easylist-downloads.adblockplus.org/v3/full/ruadlist+easylist.txt","mv2_url":"https://easylist-downloads.adblockplus.org/ruadlist+easylist.txt"},{"id":"0798B6A2-94A4-4ADF-89ED-BEC112FC4C7F","type":"allowing","title":"Allow nonintrusive advertising","homepage":"https://acceptableads.com/","url":"https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt","mv2_url":"https://easylist-downloads.adblockplus.org/exceptionrules.txt"},{"id":"D4028CDD-3D39-4624-ACC7-8140F4EC3238","type":"circumvention","title":"ABP filters","homepage":"https://github.com/abp-filters/abp-filters-anti-cv","url":"https://easylist-downloads.adblockplus.org/v3/full/abp-filters-anti-cv.txt","mv2_url":"https://easylist-downloads.adblockplus.org/abp-filters-anti-cv.txt"},{"id":"2090F374-29D9-4202-B2CE-139D6492D95E","type":"cookies","title":"I don't care about cookies","homepage":"https://www.i-dont-care-about-cookies.eu/","url":"https://easylist-downloads.adblockplus.org/v3/full/i_dont_care_about_cookies.txt","mv2_url":"https://easylist-downloads.adblockplus.org/i_dont_care_about_cookies.txt"},{"id":"5BD2BB73-459D-4A74-AF9D-A10157268350","type":"notifications","title":"Fanboy's Notifications Blocking List","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/fanboy-notifications.txt","mv2_url":"https://easylist-downloads.adblockplus.org/fanboy-notifications.txt"},{"id":"D72B6F06-52B2-4FED-96A2-1BF59CDD7AEC","type":"privacy","title":"EasyPrivacy","homepage":"https://easylist.to/","requires":["8C13E995-8F06-4927-BEA7-6C845FB7EEBF"],"url":"https://easylist-downloads.adblockplus.org/v3/full/easyprivacy.txt","mv2_url":"https://easylist-downloads.adblockplus.org/easyprivacy.txt"},{"id":"0A679439-445F-4DE7-84B9-88341F6DA520","type":"social","title":"Fanboy's Social Blocking List","homepage":"https://easylist.to/","url":"https://easylist-downloads.adblockplus.org/v3/full/fanboy-social.txt","mv2_url":"https://easylist-downloads.adblockplus.org/fanboy-social.txt"}]`)}},o={};function l(f){var d=o[f];if(d!==void 0)return d.exports;var c=o[f]={exports:{}};return a[f].call(c.exports,c,c.exports,l),c.exports}l.d=(f,d)=>{for(var c in d)l.o(d,c)&&!l.o(f,c)&&Object.defineProperty(f,c,{enumerable:!0,get:d[c]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(f,d)=>Object.prototype.hasOwnProperty.call(f,d),l.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var p=l("./src/background/index.js");return p})())})(_v);var Ea=_v.exports;const sO=K2(Ea),iO=q2({__proto__:null,default:sO},[Ea]);/*!
 * This file is part of eyeo's Anti-Circumvention Snippets module (@eyeo/snippets),
 * Copyright (C) 2006-present eyeo GmbH
 * 
 * @eyeo/snippets is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 * 
 * @eyeo/snippets is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with @eyeo/snippets.  If not, see <http://www.gnu.org/licenses/>.
 */const v1=(n,...e)=>{const a=Proxy,{apply:o,bind:l,call:p}=Function,f=p.bind(o),d=p.bind(l),c=p.bind(p),h={get:(Te,Me)=>d(p,Te[Me])},y=Te=>new a(Te,h),w={get:(Te,Me)=>d(Te[Me],Te)},k=Te=>new a(Te,w),{assign:A,defineProperties:S,freeze:T,getOwnPropertyDescriptor:I,getOwnPropertyDescriptors:j,getPrototypeOf:V}=k(Object),{hasOwnProperty:C}=y({}),{species:q}=Symbol,L={get(Te,Me){const Ge=Te[Me];class tt extends Ge{}const Je=j(Ge.prototype);delete Je.constructor,T(S(tt.prototype,Je));const Qe=j(Ge);return delete Qe.length,delete Qe.prototype,Qe[q]={value:tt},T(S(tt,Qe))}},R=Te=>new a(Te,L),G=typeof n<"u"?n:{};typeof globalThis>"u"&&(window.globalThis=window);const{apply:F,ownKeys:O}=k(Reflect),N="world"in G,E=N&&G.world==="ISOLATED",B=N&&G.world==="MAIN",M=typeof chrome=="object"&&!!chrome.runtime,P=typeof browser=="object"&&!!browser.runtime,$=!B&&(E||M||P),ee=Te=>$?Te:K(Te,ge(Te)),{create:K,defineProperties:X,defineProperty:Y,freeze:Q,getOwnPropertyDescriptor:te,getOwnPropertyDescriptors:ge}=k(Object),re=k(globalThis),_e=$?globalThis:R(globalThis),{Map:$e,RegExp:oe,Set:ie,WeakMap:xe,WeakSet:he}=_e,Ce=(Te,Me,Ge=null)=>{const tt=O(Me);for(const Je of O(Te)){if(tt.includes(Je))continue;const Qe=te(Te,Je);if(Ge&&"value"in Qe){const{value:jt}=Qe;typeof jt=="function"&&(Qe.value=Ge(jt))}Y(Me,Je,Qe)}},qe=Te=>{const Me=_e[Te];class Ge extends Me{}const{toString:tt,valueOf:Je}=Me.prototype;X(Ge.prototype,{toString:{value:tt},valueOf:{value:Je}});const Qe=Te.toLowerCase(),jt=Rt=>function(){const Lt=F(Rt,this,arguments);return typeof Lt===Qe?new Ge(Lt):Lt};return Ce(Me,Ge,jt),Ce(Me.prototype,Ge.prototype,jt),Ge},we=Q({frozen:new xe,hidden:new he,iframePropertiesToAbort:{read:new ie,write:new ie},abortedIframes:new xe}),Re=new oe("^[A-Z]"),Ze=$&&(M&&chrome||P&&browser)||void 0;var it=new Proxy(new $e([["chrome",Ze],["browser",Ze],["isExtensionContext",$],["variables",we],["console",ee(console)],["document",globalThis.document],["JSON",ee(JSON)],["Map",$e],["Math",ee(Math)],["Number",$?Number:qe("Number")],["RegExp",oe],["Set",ie],["String",$?String:qe("String")],["WeakMap",xe],["WeakSet",he],["MouseEvent",MouseEvent]]),{get(Te,Me){if(Te.has(Me))return Te.get(Me);let Ge=globalThis[Me];return typeof Ge=="function"&&(Ge=(Re.test(Me)?_e:re)[Me]),Te.set(Me,Ge),Ge},has:(Te,Me)=>Te.has(Me)});const De={WeakSet,WeakMap,WeakValue:class{has(){return!1}set(){}}},{apply:Ie}=Reflect,{Map:nt,WeakMap:lt,WeakSet:Ot,setTimeout:fe}=it;let le=!0,ye=Te=>{Te.clear(),le=!le};var rt=(function(Te){const{WeakSet:Me,WeakMap:Ge,WeakValue:tt}=this||De,Je=new Me,Qe=new Ge,jt=new tt;return function(Rt){if(Je.has(Rt))return Rt;if(Qe.has(Rt))return Qe.get(Rt);if(jt.has(Rt))return jt.get(Rt);const Lt=Ie(Te,this,arguments);return Je.add(Lt),Lt!==Rt&&(typeof Rt=="object"&&Rt?Qe:jt).set(Rt,Lt),Lt}}).bind({WeakMap:lt,WeakSet:Ot,WeakValue:class extends nt{set(Te,Me){return le&&(le=!le,fe(ye,0,this)),super.set(Te,Me)}}});const{concat:Et,includes:ue,join:Kt,reduce:He,unshift:Ct}=y([]),Xt=R(globalThis),{Map:me,WeakMap:Se}=Xt,ut=new me,Z=Te=>{const Me=(tt=>{const Je=[];let Qe=tt;for(;Qe;){if(ut.has(Qe))Ct(Je,ut.get(Qe));else{const jt=j(Qe);ut.set(Qe,jt),Ct(Je,jt)}Qe=V(Qe)}return Ct(Je,{}),f(A,null,Je)})(typeof Te=="function"?Te.prototype:Te),Ge={get(tt,Je){if(Je in Me){const{value:Qe,get:jt}=Me[Je];if(jt)return c(jt,tt);if(typeof Qe=="function")return d(Qe,tt)}return tt[Je]},set(tt,Je,Qe){if(Je in Me){const{set:jt}=Me[Je];if(jt)return c(jt,tt,Qe),!0}return tt[Je]=Qe,!0}};return tt=>new a(tt,Ge)},{isExtensionContext:vt,Array:Yt,Number:Un,String:ke,Object:Xe}=it,{isArray:$t}=Yt,{getOwnPropertyDescriptor:St,setPrototypeOf:Pt}=Xe,{toString:dn}=Xe.prototype,{slice:kn}=ke.prototype,{get:Pn}=St(Node.prototype,"nodeType"),En=vt?{}:{Attr:Z(Attr),CanvasRenderingContext2D:Z(CanvasRenderingContext2D),CSSStyleDeclaration:Z(CSSStyleDeclaration),Document:Z(Document),Element:Z(Element),HTMLCanvasElement:Z(HTMLCanvasElement),HTMLElement:Z(HTMLElement),HTMLImageElement:Z(HTMLImageElement),HTMLScriptElement:Z(HTMLScriptElement),MutationRecord:Z(MutationRecord),Node:Z(Node),ShadowRoot:Z(ShadowRoot),get CSS2Properties(){return En.CSSStyleDeclaration}},mn=(Te,Me)=>{if(Me!=="Element"&&Me in En)return En[Me](Te);if($t(Te))return Pt(Te,Yt.prototype);const Ge=(tt=>c(kn,c(dn,tt),8,-1))(Te);if(Ge in En)return En[Ge](Te);if(Ge in it)return Pt(Te,it[Ge].prototype);if("nodeType"in Te)switch(c(Pn,Te)){case 1:if(!(Me in En))throw new Error("unknown hint "+Me);return En[Me](Te);case 2:return En.Attr(Te);case 3:return En.Node(Te);case 9:return En.Document(Te)}throw new Error("unknown brand "+Ge)};var ot=vt?Te=>Te===window||Te===globalThis?it:Te:rt((Te,Me="Element")=>{if(Te===window||Te===globalThis)return it;switch(typeof Te){case"object":return Te&&mn(Te,Me);case"string":return new ke(Te);case"number":return new Un(Te);default:throw new Error("unsupported value")}});let Oe=!1;function nr(){return Oe}let{console:J,document:ha,getComputedStyle:Za,isExtensionContext:ar,variables:to,Array:ds,MutationObserver:qn,Object:jr,XPathEvaluator:na,XPathExpression:Mr,XPathResult:Do}=ot(window);const{querySelectorAll:Ua}=ha,Zn=Ua&&d(Ua,ha);function gr(Te,Me=!1){try{const Ge=navigator.userAgent.includes("Firefox")?Te.openOrClosedShadowRoot:browser.dom.openOrClosedShadowRoot(Te);return Ge===null&&nr()&&!Me&&J.log("Shadow root not found or not added in element yet",Te),Ge}catch(Ge){return nr()&&!Me&&J.log("Error while accessing shadow root",Te,Ge),null}}function ur(Te,Me=!1){return _r(Te,Zn.bind(ha),ha,Me)}function yo(Te,Me,Ge,tt){const Je=Me.getAttribute("xlink:href")||Me.getAttribute("href");if(Je){const jt=Zn(Je)[0];if(!jt&&nr())return J.log("No elements found matching",Je),!1;if(!(Qe=Te)||Qe.length===0||Qe.every(Lt=>Lt.trim()==="")){const Lt=tt.length>0?tt:[];return Ge.push({element:jt,rootParents:[...Lt,Me]}),!1}const Rt=jt.querySelectorAll.bind(jt);return{nextBoundElement:jt,nestedSelectorsString:Te.join("^^"),next$$:Rt}}var Qe}function Ra(Te,Me){const Ge=gr(Me);if(Ge){const{querySelectorAll:tt}=Ge,Je=tt&&d(tt,Ge).bind(Ge);return{nextBoundElement:Me,nestedSelectorsString:":host "+Te.join("^^"),next$$:Je}}return!1}function _r(Te,Me,Ge,tt,Je=[]){if(Te.includes("^^")){const[jt,Rt,...Lt]=Te.split("^^");let cn,vn;switch(Rt){case"svg":vn=yo;break;case"sh":vn=Ra;break;default:return nr()&&J.log(Rt,` is not supported. Supported commands are: 
^^sh^^
^^svg^^`),[]}cn=jt.trim()===""?[Ge]:Me(jt);const gn=[];for(const Gt of cn){const nn=vn(Lt,Gt,gn,Je);if(!nn)continue;const{next$$:jn,nestedSelectorsString:Jt,nextBoundElement:On}=nn,pn=_r(Jt,jn,On,tt,[...Je,Gt]);pn&&gn.push(...pn)}return gn}const Qe=Me(Te);return tt?[...Qe].map(jt=>({element:jt,rootParents:Je.length>0?Je:[]})):Qe}function Tn(Te,Me,Ge=[]){if(Me.includes("^^svg^^")&&(Me=Me.split("^^svg^^")[0]),Me.includes("^^sh^^")){const tt=Me.split("^^sh^^"),Je=tt.length-1;return Me=`:host ${tt[Je]}`,Je===Ge.length?Te.closest(Me):Ge[Je].closest(Me)}return Ge[0]?Ge[0].closest(Me):Te.closest(Me)}const{assign:Jo,setPrototypeOf:fs}=jr;class Co extends Mr{evaluate(...Me){return fs(f(super.evaluate,this,Me),Do.prototype)}}class zn extends na{createExpression(...Me){return fs(f(super.createExpression,this,Me),Co.prototype)}}function cr(Te){if(to.hidden.has(Te))return!1;(function(Qe){ar&&typeof checkElement=="function"&&checkElement(Qe)})(Te),to.hidden.add(Te);let{style:Me}=ot(Te),Ge=ot(Me,"CSSStyleDeclaration"),tt=ot([]),{debugCSSProperties:Je}=G;for(let[Qe,jt]of Je||[["display","none"]])Ge.setProperty(Qe,jt,"important"),tt.push([Qe,Ge.getPropertyValue(Qe)]);return new qn(()=>{for(let[Qe,jt]of tt){let Rt=Ge.getPropertyValue(Qe),Lt=Ge.getPropertyPriority(Qe);Rt==jt&&Lt=="important"||Ge.setProperty(Qe,jt,"important")}}).observe(Te,{attributes:!0,attributeFilter:["style"]}),!0}function Pr(Te){let Me=Te;if(Me.startsWith("xpath(")&&Me.endsWith(")")){let Ge=Me.slice(6,-1),tt=new zn().createExpression(Ge,null),Je=Do.ORDERED_NODE_SNAPSHOT_TYPE;return Qe=>{if(!Qe)return;let jt=tt.evaluate(ha,Je,null),{snapshotLength:Rt}=jt;for(let Lt=0;Lt<Rt;Lt++)Qe(jt.snapshotItem(Lt))}}return Ge=>ur(Te).forEach(Ge)}function rr(Te,Me,Ge,tt){let Je;Ge==null&&(Ge=Me);const Qe=()=>{for(const{element:jt,rootParents:Rt}of ur(Ge,!0)){const Lt=Tn(ot(jt),Me,Rt);Lt&&Te(jt,Lt,Rt)&&(Je(),cr(Lt)&&typeof tt=="function"&&tt(Lt))}};return Jo(new qn(Qe),{race(jt){Je=jt,this.observe(ha,{childList:!0,characterData:!0,subtree:!0}),Qe()}})}function Oo(Te,Me,Ge,tt){let Je=ot(Me,"CSSStyleDeclaration");if(Je.getPropertyValue("display")=="none")return!1;let Qe=Je.getPropertyValue("visibility");if(Qe=="hidden"||Qe=="collapse")return!1;if(!Ge||Te==Ge)return!0;let jt=ot(Te).parentElement;if(!jt){if(!tt||!tt.length)return!0;jt=tt[tt.length-1],tt=tt.slice(0,-1)}return Oo(jt,Za(jt),Ge,tt)}function Ln(Te){let Me=Za(Te),{cssText:Ge}=Me;if(Ge)return Ge;for(let tt of Me)Ge+=`${tt}: ${Me[tt]}; `;return ot(Ge).trim()}let{Array:Hn,Math:bo,RegExp:It}=ot(window);function Zt(Te){let{length:Me}=Te;if(Me>1&&Te[0]==="/"){let Ge=Te[Me-1]==="/";if(Ge||Me>2&&ot(Te).endsWith("/i")){let tt=[ot(Te).slice(1,Ge?-1:-2)];return Ge||tt.push("i"),new It(...tt)}}return new It(ot(Te).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))}function Kn(Te){return ot(Hn.from(Te)).map(Me=>`'${Me}'`).join(" ")}function aa(Te){return Te.reduce((Me,Ge)=>Me+function(tt,Je=2){let Qe=ot(tt).toString(16);return Qe.length<Je&&(Qe=ot("0").repeat(Je-Qe.length)+Qe),Qe}(Ge),"")}let{Math:hn,setInterval:Xn,performance:Ga}=ot(window);const hs={mark(){},end(){},toString:()=>"{mark(){},end(){}}"};let Bo=!0;function Ja(Te,Me=10){if(Bo)return hs;function Ge(){let tt=ot([]);for(let{name:Je,duration:Qe}of Ga.getEntriesByType("measure"))tt.push({name:Je,duration:Qe});tt.length&&Ga.clearMeasures()}return Ja[Te]||(Ja[Te]=Xn(Ge,hn.round(6e4/hn.min(60,Me)))),{mark(){Ga.mark(Te)},end(tt=!1){Ga.measure(Te,Te);const Je=Ga.getEntriesByName(Te,"measure"),Qe=Je.length>0?Je[Je.length-1]:null;console.log("PROFILER:",Qe),Ga.clearMarks(Te),tt&&(clearInterval(Ja[Te]),delete Ja[Te],Ge())}}}const{console:$o}=ot(window),wo=()=>{};function pr(...Te){let{mark:Me,end:Ge}=Ja("log");if(nr()){const tt=["%c DEBUG","font-weight: bold;"],Je=Te.indexOf("error"),Qe=Te.indexOf("warn"),jt=Te.indexOf("success"),Rt=Te.indexOf("info");Je!==-1?(tt[0]+=" - ERROR",tt[1]+="color: red; border:2px solid red",ot(Te).splice(Je,1)):Qe!==-1?(tt[0]+=" - WARNING",tt[1]+="color: orange; border:2px solid orange ",ot(Te).splice(Qe,1)):jt!==-1?(tt[0]+=" - SUCCESS",tt[1]+="color: green; border:2px solid green",ot(Te).splice(jt,1)):Rt!==-1&&(tt[1]+="color: black;",ot(Te).splice(Rt,1)),ot(Te).unshift(...tt)}Me(),$o.log(...Te),Ge()}function Ar(Te){return d(nr()?pr:wo,null,Te)}let{Array:Va,Error:Qa,Map:Fa,parseInt:Ir}=ot(window),Lr=null,Hr=null;function dr(Te,Me){if(Lr===null)return wo;let Ge=Lr,{participants:tt}=Ge;return tt.set(Je,Me),Je;function Je(){if(!(Ge.winners<1)){if(Ar("race")("success",`${Te} won the race`),Ge===Lr)Hr.push(Je);else if(tt.delete(Je),--Ge.winners<1){for(let Qe of tt.values())Qe();tt.clear()}}}}const oo={get(Te,Me){const Ge=Te;for(;!C(Te,Me);)Te=V(Te);const{get:tt,set:Je}=I(Te,Me);return function(){return arguments.length?f(Je,Ge,arguments):c(tt,Ge)}}};let{parseFloat:vo,variables:Na,clearTimeout:Cs,fetch:mi,setTimeout:xo,Array:Yr,Error:Nr,Map:va,Object:Ro,ReferenceError:ms,Set:Hi,WeakMap:Fo}=ot(window);var qr;function Wr(Te,Me,Ge){var tt,Je;Ge?Ge==="load"?(Te("info","Waiting until window.load"),window.addEventListener("load",()=>{Te("info","Window.load fired."),Me()})):Ge==="loading"||Ge==="interactive"||Ge==="complete"?(Te("info","Waiting document state until :",Ge),document.addEventListener("readystatechange",()=>{Te("info","Document state changed:",document.readyState),document.readyState===Ge&&Me()})):(Te("info","Waiting until ",Ge," event is triggered on document"),(tt=document,Je=Ge,new Promise(Qe=>{const jt=()=>{tt.removeEventListener(Je,jt),Qe()};tt.addEventListener(Je,jt)})).then(()=>{Te("info",Ge," is triggered on document, starting the snippet"),Me()}).catch(Qe=>{Te("error","There was an error while waiting for the event.",Qe)})):Me()}qr=window,new a(qr,oo),ot(/^\d+$/);let Dr=new va;function Mo(Te,{as:Me="arrayBuffer",cleanup:Ge=6e4}={}){let tt=Me+":"+Te,Je=Dr.get(tt)||{remove:()=>Dr.delete(tt),result:null,timer:0};return Cs(Je.timer),Je.timer=xo(Je.remove,Ge),Je.result||(Je.result=mi(Te).then(Qe=>Qe[Me]()).catch(Je.remove),Dr.set(tt,Je)),Je.result}let{MutationObserver:Os,WeakSet:or,getComputedStyle:Sr}=ot(window),{getComputedStyle:Kr,MutationObserver:Ur,Uint8Array:ko}=ot(window);const{parseFloat:gi,Math:_o,MutationObserver:Pa,WeakSet:Bs}=ot(window),{min:Qs}=_o,ei=(Te,Me)=>{const Ge=Te.length+1,tt=Me.length+1,Je=[[0]];let Qe=0,jt=0;for(;++Qe<tt;)Je[0][Qe]=Qe;for(Qe=0;++Qe<Ge;){const Rt=Te[jt];let Lt=0,cn=0;for(Je[Qe]=[Qe];++Lt<tt;)Je[Qe][Lt]=Qs(Je[jt][Lt]+1,Je[Qe][cn]+1,Je[jt][cn]+(Rt!=Me[cn])),++cn;++jt}return Je[Ge-1][tt-1]};let{getComputedStyle:Qo,Map:Wi,WeakSet:Go,parseFloat:es,DOMMatrix:Ki,Math:gs}=ot(window);const{ELEMENT_NODE:Sl,TEXT_NODE:Tl}=Node;let{MutationObserver:Xi,WeakSet:jl,getComputedStyle:ti}=ot(window),{getComputedStyle:Rs,MutationObserver:Vo,WeakSet:Fs}=ot(window),{MutationObserver:ni,WeakSet:ts}=ot(window);const{ELEMENT_NODE:ns}=Node;let{MutationObserver:zr,WeakSet:sr}=ot(window);const{ELEMENT_NODE:Yi}=Node;let{getComputedStyle:yi,MutationObserver:Cr,DOMParser:Ms,Math:qi,Node:bi,Map:wi}=ot(window),{parseInt:Il,setTimeout:Ps,Error:Zi,MouseEvent:Nl,MutationObserver:ai,WeakSet:Dl}=ot(window);const Ji=["auxclick","click","dblclick","gotpointercapture","lostpointercapture","mouseenter","mousedown","mouseleave","mousemove","mouseout","mouseover","mouseup","pointerdown","pointerenter","pointermove","pointerover","pointerout","pointerup","pointercancel","pointerleave"];let{isNaN:vi,MutationObserver:Qi,parseInt:so,parseFloat:Ls,setTimeout:ys}=ot(window);const ra={log:pr,race:function(Te,Me="1"){switch(Te){case"start":Lr={winners:Ir(Me,10)||1,participants:new Fa},Hr=new Va;break;case"end":case"finish":case"stop":Lr=null;for(let Ge of Hr)Ge();Hr=null;break;default:throw new Qa(`Invalid action: ${Te}`)}},debug:function(){Oe=!0},profile:function(){Bo=!1},"hide-if-matches-xpath":function(Te,Me,Ge){const{mark:tt,end:Je}=Ja("hide-if-matches-xpath"),Qe=Kn(arguments),jt=Ar("hide-if-matches-xpath");Wr(jt,()=>{const Rt=Lt=>{const cn=Pr(`xpath(${Te})`),vn=new ts,gn=Jt=>{vn.add(Jt),jn(),ot(Jt).nodeType===ns?cr(Jt):ot(Jt).textContent="",jt("success","Matched: ",Jt,`
FILTER: hide-if-matches-xpath`,Qe)},Gt=()=>{tt(),cn(Jt=>{if(vn.has(Jt))return!1;Me?Pr(`xpath(${Me})`)(On=>{if(!On.contains(Jt))return!1;gn(Jt)}):gn(Jt)}),Je()},nn=new ni(Gt),jn=dr("hide-if-matches-xpath",()=>nn.disconnect());nn.observe(Lt,{characterData:!0,childList:!0,subtree:!0}),Gt()};if(Me){let Lt,cn=0;const vn=Pr(`xpath(${Me})`),gn=()=>{vn(Gt=>{Rt(Gt),cn++}),cn>0&&Lt.disconnect()};Lt=new ni(gn),Lt.observe(document,{characterData:!0,childList:!0,subtree:!0}),gn()}else Rt(document)},Ge)},"hide-if-matches-computed-xpath":function(Te,Me,Ge,tt){const{mark:Je,end:Qe}=Ja("hide-if-matches-computed-xpath"),jt=Kn(arguments),Rt=Ar("hide-if-matches-computed-xpath");if(!Me||!Te)return void Rt("error","No query or searchQuery provided.");const Lt=vn=>{const gn=(pn=>Te.replace("{{}}",pn))(vn);Rt("info","Starting hiding elements that match query: ",gn);const Gt=Pr(`xpath(${gn})`),nn=new sr,jn=()=>{Je(),Gt(pn=>{if(nn.has(pn))return!1;nn.add(pn),On(),ot(pn).nodeType===Yi?cr(pn):ot(pn).textContent="",Rt("success","Matched: ",pn,`
FILTER: hide-if-matches-computed-xpath`,jt)}),Qe()},Jt=new zr(jn),On=dr("hide-if-matches-computed-xpath",()=>Jt.disconnect());Jt.observe(document,{characterData:!0,childList:!0,subtree:!0}),jn()},cn=Zt(Ge);Wr(Rt,()=>{if(Me){Rt("info","Started searching for: ",Me);const vn=new sr;let gn;const Gt=Pr(`xpath(${Me})`),nn=()=>{Gt(jn=>{if(vn.has(jn))return!1;if(vn.add(jn),Rt("info","Found node: ",jn),jn.innerHTML){Rt("info","Searching in: ",jn.innerHTML);const Jt=jn.innerHTML.match(cn);if(Jt&&Jt.length){let On="";On=Jt[1]?Jt[1]:Jt[0],Rt("info","Matched search query: ",On),Lt(On)}}})};gn=new zr(nn),gn.observe(document,{characterData:!0,childList:!0,subtree:!0}),nn()}},tt)},"hide-if-contains":function(Te,Me="*",Ge=null){const tt=Kn(arguments),Je=Ar("hide-if-contains"),{mark:Qe,end:jt}=Ja("hide-if-contains");let Rt=Zt(Te);const Lt=rr(cn=>Rt.test(ot(cn).textContent),Me,Ge,cn=>{Qe(),Je("success","Matched: ",cn,`
FILTER: hide-if-contains`,tt),jt()});Lt.race(dr("hide-if-contains",()=>{Lt.disconnect()}))},"hide-if-contains-similar-text":function(Te,Me,Ge=null,tt=0,Je=0){const Qe=new Bs,jt=Kn(arguments),Rt=Ar("hide-if-contains-similar-text"),{mark:Lt,end:cn}=Ja("hide-if-contains-similar-text"),vn=ot(Te),{length:gn}=vn,Gt=gn+gi(tt)||0,nn=ot([...vn]).sort(),jn=gi(Je)||1/0;Ge==null&&(Ge=Me),Rt("info","Looking for similar text: "+vn);const Jt=()=>{Lt();for(const{element:ja,rootParents:Qn}of ur(Ge,!0)){if(Qe.has(ja))continue;Qe.add(ja);const{innerText:$n}=ot(ja),Wa=Qs(jn,$n.length-Gt+1);for(let Gn=0;Gn<Wa;Gn++){const Jn=ot($n).substr(Gn,Gt);if(ei(nn,ot([...Jn]).sort())-tt<=0){const er=Tn(ot(ja),Me,Qn);if(Rt("success","Found similar text: "+vn,er,`
FILTER: hide-if-contains-similar-text`,jt),er){pn(),cr(er);break}}}}cn()};let On=new Pa(Jt),pn=dr("hide-if-contains-similar-text",()=>On.disconnect());On.observe(document,{childList:!0,characterData:!0,subtree:!0}),Jt()},"hide-if-contains-visible-text":function(Te,Me,Ge=null,...tt){const{mark:Je,end:Qe}=Ja("hide-if-contains-visible-text"),jt=Kn(arguments);let Rt=ot([]);const Lt=new Wi([["-snippet-box-margin","2"],["-disable-bg-color-check","false"],["-check-is-contained","false"],["-pseudo-box-margin","2"],["-ignore-padding","false"]]);for(let ln of tt){ln=ot(ln);let oa=ln.indexOf(":");if(oa<0)continue;let sa=ln.slice(0,oa).trim().toString(),Da=ln.slice(oa+1).trim().toString();sa&&Da&&(Lt.has(sa)?Lt.set(sa,Da):Rt.push([sa,Da]))}let cn=ot([["opacity","0"],["font-size","0px"],["color","rgba(0, 0, 0, 0)"]]),vn=new Wi(cn.concat(Rt));function gn(ln,oa,{bgColorCheck:sa=!0,pseudoElemCheck:Da=!1}={}){oa||(oa=Qo(ln)),oa=ot(oa);for(const[An,tr]of vn)if(Zt(tr).test(oa.getPropertyValue(An)))return!1;const ca=oa.getPropertyValue("color");if(sa&&oa.getPropertyValue("background-color")===ca)return!1;if(!Da){const An=Qo(ln,"::first-line");if(An)return gn(ln,An,{bgColorCheck:sa,pseudoElemCheck:!0})}const Ka=oa.getPropertyValue("text-shadow");return!ca.includes("rgba(0, 0, 0, 0)")||Ka!=="none"&&!Ka.includes("rgba(0, 0, 0, 0)")}function Gt(ln,oa=null){let sa=Qo(ln,oa).transform;return sa==="none"&&(sa="matrix(1, 0, 0, 1, 0, 0)"),new Ki(sa)}function nn(ln,oa,sa,{bgColorCheck:Da=!0,translateThresh:ca=2}={}){let Ka=Qo(ln,oa);if(!Oo(ln,Ka)||!gn(ln,Ka,{bgColorCheck:Da}))return"";let{content:An}=ot(Ka);if(An&&An!=="none"){let tr=ot([]);const yr=Gt(ln,oa),Zr=sa.multiply(yr),Jr=gs.atan2(Zr.b,Zr.a)*(180/gs.PI);return gs.abs(Jr)>5||gs.abs(Zr.e)>ca||gs.abs(Zr.f)>ca?"":(An=ot(An).trim().replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,Tr=>""+(tr.push(ot(Tr).slice(1,-1))-1)),An=An.replace(/\s*attr\(\s*([^\s,)]+)[^)]*?\)\s*/g,(Tr,br)=>ot(ln).getAttribute(br)||""),An.replace(/\x01(\d+)/g,(Tr,br)=>tr[br]))}return""}function jn(ln,oa,{boxMargin:sa=2,ignorePadding:Da=!1}={}){let ca=ot(ln).getBoundingClientRect();if(Da){const Jr=Qo(ln),Tr=es(Jr.paddingTop)||0,br=es(Jr.paddingRight)||0,no=es(Jr.paddingBottom)||0,bs=es(Jr.paddingLeft)||0;ca={left:ca.left+bs,right:ca.right-br,top:ca.top+Tr,bottom:ca.bottom-no}}const Ka=ot(oa).getBoundingClientRect(),An=Ka.left-sa,tr=Ka.right+sa,yr=Ka.top-sa,Zr=Ka.bottom+sa;return An<=ca.left&&ca.left<=tr&&yr<=ca.top&&ca.top<=Zr&&yr<=ca.bottom&&ca.bottom<=Zr&&An<=ca.right&&ca.right<=tr}function Jt(ln,oa,sa,Da,ca,Ka,An,{boxMargin:tr=2,bgColorCheck:yr,checkIsContained:Zr,translateThresh:Jr}={}){let Tr=!sa;if(Tr&&(sa=Qo(ln)),!Oo(ln,sa,Tr&&oa,Ka))return"";Da||ot(sa).getPropertyValue("overflow-x")!=="hidden"&&ot(sa).getPropertyValue("overflow-y")!=="hidden"||(Da=ln);let br=nn(ln,":before",An=An?An.multiply(Gt(ln)):Gt(ln),{bgColorCheck:yr,translateThresh:Jr});for(let no of function(bs,Us=!0){const io=gr(bs,Us);return io?io.childNodes:ot(bs).childNodes}(ot(ln)))switch(ot(no).nodeType){case Sl:br+=Jt(no,ln,Qo(no),Da,ca,Ka,An,{boxMargin:tr,bgColorCheck:yr,checkIsContained:Zr,translateThresh:Jr});break;case Tl:if(Da)jn(ln,Da,{boxMargin:tr,ignorePadding:$n})&&gn(ln,sa,{bgColorCheck:yr})&&(br+=ot(no).nodeValue);else if(gn(ln,sa,{bgColorCheck:yr})){if(Zr&&!jn(ln,ca,{boxMargin:tr,ignorePadding:$n}))continue;br+=ot(no).nodeValue}}return br+=nn(ln,":after",An,{bgColorCheck:yr,translateThresh:Jr}),br}const On=Lt.get("-snippet-box-margin"),pn=es(On)||0,ja=Lt.get("-disable-bg-color-check")!=="true",Qn=Lt.get("-check-is-contained")==="true",$n=Lt.get("-ignore-padding")==="true",Wa=Lt.get("-pseudo-box-margin"),Gn=es(Wa)||0;let Jn=Zt(Te),er=new Go;const Er=rr((ln,oa,sa)=>{if(Je(),er.has(ln))return!1;er.add(ln);let Da=Jt(ln,oa,null,null,ln,sa,null,{boxMargin:pn,bgColorCheck:ja,checkIsContained:Qn,translateThresh:Gn}),ca=Jn.test(Da);return nr()&&Da.length&&(ca?pr("success",ca,Jn,Da,`
FILTER: hide-if-contains-visible-text`,jt):pr("info",ca,Jn,Da)),Qe(),ca},Me,Ge);Er.race(dr("hide-if-contains-visible-text",()=>{Er.disconnect()}))},"hide-if-contains-and-matches-style":function(Te,Me="*",Ge=null,tt=null,Je=null,Qe,jt=null,Rt=null){const Lt=Kn(arguments),cn=Ar("hide-if-contains-and-matches-style"),{mark:vn,end:gn}=Ja("hide-if-contains-and-matches-style"),Gt=new or,nn=nr()&&new or;Ge==null&&(Ge=Me);const jn=Zt(Te),Jt=tt?Zt(tt):null,On=Je?Zt(Je):null;Wr(cn,()=>{const pn=()=>{if(vn(),!(jt&&window.innerWidth<jt||Rt&&window.innerWidth>Rt)){for(const{element:$n,rootParents:Wa}of ur(Ge,!0))if(!Gt.has($n)&&jn.test(ot($n).textContent))if(!On||On.test(Ln($n))){const Gn=Tn(ot($n),Me,Wa);if(!Gn)continue;if(!Jt||Jt.test(Ln(Gn)))Qn(),cr(Gn),Gt.add($n),cn("success","Matched: ",Gn,"which contains: ",$n,`
FILTER: hide-if-contains-and-matches-style`,Lt);else{if(!nn||nn.has(Gn))continue;cn("info",`In this element the searchStyle matched but style didn't:
`,Gn,Sr(Gn),Lt),nn.add(Gn)}}else{if(!nn||nn.has($n))continue;cn("info",`In this element the searchStyle didn't match:
`,$n,Sr($n),Lt),nn.add($n)}gn()}},ja=new Os(pn),Qn=dr("hide-if-contains-and-matches-style",()=>ja.disconnect());ja.observe(document,{childList:!0,characterData:!0,subtree:!0}),pn()},Qe)},"hide-if-has-and-matches-style":function(Te,Me="*",Ge=null,tt=null,Je=null,Qe=null,jt=null,Rt=null){const Lt=Kn(arguments),cn=Ar("hide-if-has-and-matches-style"),{mark:vn,end:gn}=Ja("hide-if-has-and-matches-style"),Gt=new jl,nn=nr()&&new jl;Ge==null&&(Ge=Me);const jn=tt?Zt(tt):null,Jt=Je?Zt(Je):null;Wr(cn,()=>{const On=()=>{if(vn(),!(jt&&window.innerWidth<jt||Rt&&window.innerWidth>Rt)){for(const{element:Qn,rootParents:$n}of ur(Ge,!0))if(!Gt.has(Qn))if(!ot(Qn).querySelector(Te)||Jt&&!Jt.test(Ln(Qn))){if(!nn||nn.has(Qn))continue;cn("info",`In this element the searchStyle didn't match:
`,Qn,ti(Qn),...arguments),nn.add(Qn)}else{const Wa=Tn(ot(Qn),Me,$n);if(!Wa||jn&&!jn.test(Ln(Wa))){if(!nn||nn.has(Wa))continue;cn("info",`In this element the searchStyle matchedbut style didn't:
`,Wa,ti(Wa),...arguments),nn.add(Wa)}else ja(),cr(Wa),Gt.add(Qn),cn("success","Matched: ",Wa,"which contains: ",Qn,`
FILTER: hide-if-has-and-matches-style`,Lt)}gn()}},pn=new Xi(On),ja=dr("hide-if-has-and-matches-style",()=>pn.disconnect());pn.observe(document,{childList:!0,subtree:!0}),On()},Qe)},"hide-if-labelled-by":function(Te,Me,Ge=null){const{mark:tt,end:Je}=Ja("hide-if-labelled-by");let Qe=Ge==null,jt=Zt(Te),Rt=new Fs,Lt=()=>{tt();for(const{element:gn,rootParents:Gt}of ur(Me,!0)){let nn=Qe?gn:Tn(ot(gn),Ge,Gt);if(!nn||!Oo(gn,Rs(gn),nn))continue;let jn=ot(gn).getAttribute("aria-labelledby"),Jt=()=>{Rt.has(nn)||jt.test(ot(gn).getAttribute("aria-label")||"")&&(vn(),Rt.add(nn),cr(nn))};if(jn)for(let On of ot(jn).split(/\s+/)){let pn=ot(document).getElementById(On);pn?!Rt.has(pn)&&jt.test(pn.innerText)&&(vn(),Rt.add(pn),cr(nn)):Jt()}else Jt()}Je()},cn=new Vo(Lt),vn=dr("hide-if-labelled-by",()=>cn.disconnect());cn.observe(document,{characterData:!0,childList:!0,subtree:!0}),Lt()},"hide-if-contains-image":function(Te,Me,Ge){Ge==null&&(Ge=Me);let tt=Zt(Te);const Je=Kn(arguments),Qe=Ar("hide-if-contains-image"),{mark:jt,end:Rt}=Ja("hide-if-contains-image");let Lt=()=>{jt();for(const{element:gn,rootParents:Gt}of ur(Ge,!0)){let nn=Kr(gn),jn=ot(nn["background-image"]).match(/^url\("(.*)"\)$/);jn&&Mo(jn[1]).then(Jt=>{if(tt.test(aa(new ko(Jt)))){let On=Tn(ot(gn),Me,Gt);On&&(vn(),cr(On),Qe("success","Matched: ",On,`
FILTER: hide-if-contains-image`,Je))}})}Rt()},cn=new Ur(Lt),vn=dr("hide-if-contains-image",()=>cn.disconnect());cn.observe(document,{childList:!0,subtree:!0}),Lt()},"hide-if-svg-contains":function(Te,Me,Ge,...tt){Ge==null&&(Ge=Me);const Je=Zt(Te);let Qe=ot([]);const jt=Kn(arguments),Rt=Ar("hide-if-svg-contains"),{mark:Lt,end:cn}=Ja("hide-if-svg-contains"),vn=new wi([["-position-threshold","500"],["-disable-contained-check","false"]]);for(let pn of tt){pn=ot(pn);let ja=pn.indexOf(":");if(ja<0)continue;let Qn=pn.slice(0,ja).trim().toString(),$n=pn.slice(ja+1).trim().toString();Qn&&$n&&(vn.has(Qn)?vn.set(Qn,$n):Qe.push([Qn,$n]))}let gn=ot([["display","none"],["visibility","hidden"],["opacity","0"],["fill","none"],["color","rgba(0, 0, 0, 0)"],["font-size","0"]]),Gt=new wi(gn.concat(Qe)),nn=async()=>{Lt();for(const{element:pn,rootParents:ja}of ur(Ge,!0)){let Qn=!1;try{const $n=ot(yi(pn).backgroundImage).match(/url\("?(.+?)"?\)/);if(!$n)continue;const Wa=$n[1],Gn=await Mo(Wa,{as:"text"}),Jn=new Ms().parseFromString(Gn,"image/svg+xml");if(Jn.querySelector("parsererror")){Rt("warn","Failed to parse SVG content for element:",pn);continue}const er=Jn.querySelectorAll("text, tspan");for(const Er of er)if(On(Er,Je)){Qn=!0,Rt("Condition met: Text found visible in SVG of element",pn);break}}catch($n){Rt("warn","An error occurred while processing element:",pn,$n);continue}if(Qn){const $n=Tn(ot(pn),Me,ja);$n&&(Jt(),cr($n),Rt("success","Matched: ",$n,`
FILTER: hide-if-svg-contains`,jt))}}cn()},jn=new Cr(nn),Jt=dr("hide-if-svg-contains",()=>jn.disconnect());function On(pn,ja){if(!ja.test(pn.textContent))return!1;const{ELEMENT_NODE:Qn}=bi,$n=parseFloat(vn.get("-position-threshold"))||0,Wa=vn.get("-disable-contained-check")==="true";let Gn=pn;for(;Gn&&Gn.nodeType===Qn;){let Jn=yi(Gn);Jn=ot(Jn);for(const[er,Er]of Gt)if(Er!==null){const ln=Zt(Er),oa=Jn.getPropertyValue(er)||Gn.getAttribute(er);if(ln.test(oa))return!1}if(!Wa){const er=parseFloat(Gn.getAttribute("x"))||0,Er=parseFloat(Gn.getAttribute("y"))||0,ln=parseFloat(Gn.getAttribute("dx"))||0,oa=parseFloat(Gn.getAttribute("dy"))||0,sa=Gn.getAttribute("transform");let Da=0,ca=0;if(sa){const tr=/translate\((-?\d*\.?\d+)\s+(-?\d*\.?\d+)\)/,yr=sa.match(tr);yr&&yr.length===3&&(Da=parseFloat(yr[1]),ca=parseFloat(yr[2]))}const Ka=er+ln+Da,An=Er+oa+ca;if(qi.abs(Ka)>$n||qi.abs(An)>$n)return!1}Gn=Gn.parentElement}return!0}jn.observe(document,{childList:!0,subtree:!0}),nn()},"simulate-mouse-event":function(...Te){const Me=Kn(arguments),Ge=Ar("simulate-mouse-event"),{mark:tt,end:Je}=Ja("simulate-mouse-event");if(Te.length<1)throw new Zi("[simulate-mouse-event snippet]: No selector provided.");Te.length>7&&(Te=Te.slice(0,7));const Qe=ot([]);function jt(){return Qe.forEach(Gt=>{Gt.found||function(nn){let jn=nn;if(jn.startsWith("xpath(")&&jn.endsWith(")")){let Jt=Pr(nn);return()=>{let On=ot([]);return Jt(pn=>On.push(pn)),On}}return()=>ds.from(ur(nn))}(Gt.selector)().length>0&&(Gt.found=!0)}),Qe.every(Gt=>Gt.found)}function Rt(Gt,nn,jn){Gt&&nn&&(nn==="click"&&Gt.click?(Gt.click(),Ge("success",`Clicked on this node:
`,Gt,`
with a delay of`,jn,"ms",`n
FILTER: simulate-mouse-event ${Me}`)):(Gt.dispatchEvent(new Nl(nn,{bubbles:!0,cancelable:!0})),Ge("success","A",nn,"event was dispatched with a delay of",jn,`ms on this node:
`,Gt,`n
FILTER: simulate-mouse-event ${Me}`)))}ot(Te).forEach(Gt=>{const nn=function(jn){if(!jn)return null;const Jt={selector:"",continue:!1,trigger:!1,event:"click",delay:"500",clicked:!1,found:!1},On=jn.split("$");let pn=[];On.length>=2&&(pn=On[1].toLowerCase().split(",")),[Jt.selector]=On;for(const ja of pn)if(ja==="trigger")Jt.trigger=!0;else if(ja==="continue")Jt.continue=!0;else if(ja.startsWith("event")){const Qn=ja.toLowerCase().split("=");Qn[1]?Jt.event=Qn[1]:Jt.event="click"}else if(ja.startsWith("delay")){const Qn=ja.toLowerCase().split("=");Qn[1]?Jt.delay=Qn[1]:Jt.delay="500"}return Ji.includes(Jt.event)||Ge("warn",Jt.event,` might be misspelled, check for typos.
`,"These are the supported events:",Ji),Jt}(Gt);Qe.push(nn)});let Lt=!1;const[cn]=Qe.slice(-1);cn.trigger=!0;let vn=new Dl;function gn(){if(tt(),Lt||(Lt=jt()),Lt)for(const Gt of Qe){const nn=Pr(Gt.selector),jn=Il(Gt.delay,10);Gt.trigger&&nn(Jt=>{vn.has(Jt)||(vn.add(Jt),Gt.continue?setInterval(()=>{Qe.forEach(On=>{On.found=!1,On.clicked=!1}),jt()&&Rt(Jt,Gt.event,Gt.delay)},jn):Ps(()=>{Rt(Jt,Gt.event,Gt.delay)},jn))})}Je()}new ai(gn).observe(document,{childList:!0,subtree:!0}),gn()},"skip-video":function(Te,Me,...Ge){const tt=Kn(arguments),Je=new Map([["-max-attempts","10"],["-retry-ms","10"],["-run-once","false"],["-wait-until",""],["-skip-to","-0.1"],["-stop-on-video-end","false"],["-start-from","0"],["-mute-video-when-skipping","true"]]);for(let Gn of Ge){Gn=ot(Gn);let Jn=Gn.indexOf(":");if(Jn<0)continue;let er=Gn.slice(0,Jn).trim().toString(),Er=Gn.slice(Jn+1).trim().toString();er&&Er&&Je.has(er)&&Je.set(er,Er)}const Qe=Je.get("-max-attempts"),jt=so(Qe||10,10),Rt=Je.get("-retry-ms"),Lt=so(Rt||10,10),cn=Je.get("-run-once")==="true",vn=Je.get("-skip-to"),gn=Ls(vn||-.1),Gt=Je.get("-start-from"),nn=so(Gt||0,10),jn=Je.get("-wait-until"),Jt=Je.get("-stop-on-video-end")==="true",On=Je.get("-mute-video-when-skipping")!=="false",pn=Ar("skip-video"),{mark:ja,end:Qn}=Ja("skip-video"),$n=Pr(`xpath(${Me})`);let Wa=!1;Wr(pn,()=>{ja();const Gn=new WeakSet,Jn=(ln=0)=>{Wa&&cn?er&&er.disconnect():$n(oa=>{let sa,Da=Gn.has(oa);Da||(pn("info","Matched:",oa," for selector: ",Me),pn("info","Running video skipping logic."));const ca=ur(Te);let Ka=!1;for(const An of ca){if(!An||vi(An.duration)||vi(An.currentTime))continue;Ka=!0;const tr=An.duration-An.currentTime<.5;!(An.duration>0&&An.currentTime<An.duration)||Jt&&tr||(On&&(An.muted=!0,Da||pn("success","Muted video...")),nn<=1e3*An.currentTime&&(gn<=0?An.currentTime=An.duration+gn:An.currentTime+=gn,sa!==An.duration&&(pn("success","Skipped video, currentTime: ",An.currentTime,"s.",`
FILTER: skip-video`,tt),Gn.add(oa),sa=An.duration),An.paused&&An.play(),Wa=!0,Er()))}!Ka&&ln<jt&&ys(()=>{const An=ln+1;pn("info","Running video skipping logic. Attempt: ",An),Jn(An)},Lt)})},er=new Qi(Jn),Er=dr("skip-video",()=>er.disconnect());er.observe(document,{characterData:!0,childList:!0,subtree:!0}),Jn(),Qn()},jn)}};let{MutationObserver:Eo}=ot(window);const{ELEMENT_NODE:el}=Node;ra["hide-if-matches-xpath3"]=function(Te,Me){let{mark:Ge,end:tt}=Ja("hide-if-matches-xpath3");const Je=cn=>cn===""&&"http://www.w3.org/1999/xhtml";function Qe(cn){return fontoxpath.evaluateXPathToNodes(cn,document,null,null,{language:fontoxpath.evaluateXPath.XQUERY_3_1_LANGUAGE,namespaceResolver:Je})}const jt=Kn(arguments);let Rt=Ar("hide-if-matches-xpath3");const Lt=cn=>{const vn=new WeakSet,gn=()=>{Ge();const jn=Qe(Te);for(const Jt of ot(jn)){if(vn.has(Jt))return!1;vn.add(Jt),nn(),ot(Jt).nodeType===el?cr(Jt):ot(Jt).textContent="",Rt("success","Matched: ",Jt,`
FILTER: hide-if-matches-xpath3`,jt)}tt()},Gt=new Eo(gn),nn=dr("hide-if-matches-xpath3",()=>Gt.disconnect());Gt.observe(cn,{characterData:!0,childList:!0,subtree:!0}),gn()};if(Me){let cn,vn=0;const gn=Qe(Me),Gt=()=>{for(const nn of ot(gn))Lt(nn),vn++;vn>0&&cn.disconnect()};cn=new Eo(Gt),cn.observe(document,{characterData:!0,childList:!0,subtree:!0}),Gt()}else Lt(document)};const Ha=ra;let xi;for(const[Te,...Me]of e)if(Ha.hasOwnProperty(Te))try{xi=Ha[Te].apply(xi,Me)}catch(Ge){console.error(Ge)}xi=void 0},Av=new Map([["log",null],["race",null],["debug",null],["profile",null],["hide-if-matches-xpath",null],["hide-if-matches-computed-xpath",null],["hide-if-contains",null],["hide-if-contains-similar-text",null],["hide-if-contains-visible-text",null],["hide-if-contains-and-matches-style",null],["hide-if-has-and-matches-style",null],["hide-if-labelled-by",null],["hide-if-contains-image",null],["hide-if-svg-contains",null],["simulate-mouse-event",null],["skip-video",null],["hide-if-matches-xpath3",function(){var n,e,a,o,l,p;n=this,function(f){function d(F,O,N,E){const B={op:O,func:N,data:E};return F.push(B),B}function c(F,O){return F}class h{constructor(){this.program=[]}test(O,N){return d(this.program,5,O,N===void 0?null:N)}jump(O){return d(this.program,3,null,O)}record(O,N){return d(this.program,4,N===void 0?c:N,O)}bad(O=1){return d(this.program,1,null,O)}accept(){return d(this.program,0,null,null)}fail(O){return d(this.program,2,O||null,null)}}class y{constructor(O,N,E){this.programLength=O,this.maxFromByPc=N,this.maxSurvivorFromByPc=E}static fromProgram(O){const N=O.length,E=[],B=[];return O.forEach(M=>{E.push(0),B.push(0)}),O.forEach((M,P)=>{switch(M.op){case 2:if(M.func===null)return;if(P+1>=N)throw new Error("Invalid program: program could run past end");E[P+1]+=1;break;case 1:case 4:if(P+1>=N)throw new Error("Invalid program: program could run past end");E[P+1]+=1;break;case 3:M.data.forEach($=>{if($<0||$>=N)throw new Error("Invalid program: program could run past end");E[$]+=1});break;case 5:if(P+1>=N)throw new Error("Invalid program: program could run past end");B[P+1]+=1;break;case 0:B[P]+=1}}),new y(N,E,B)}static createStub(O){const N=[],E=[];for(let B=0;B<O;++B)N.push(O),E.push(O);return new y(O,N,E)}}class w{constructor(O){this.acceptingTraces=O,this.success=O.length>0}}const k=255;class A{constructor(O){this.t=0,this.i=0,this.h=new Uint16Array(O),this.l=new Uint8Array(O)}getBadness(O){return this.l[O]}add(O,N){this.l[O]=N>k?k:N;const E=function(B,M,P,$,ee){let K=$,X=ee;for(;K<X;){const Y=K+X>>>1;P<M[B[Y]]?X=Y:K=Y+1}return K}(this.h,this.l,N,this.i,this.t);this.h.copyWithin(E+1,E,this.t),this.h[E]=O,this.t+=1}reschedule(O,N){const E=Math.max(this.l[O],N>k?k:N);if(this.l[O]!==E){const B=this.h.indexOf(O,this.i);if(B<0||B>=this.t)return void(this.l[O]=E);this.h.copyWithin(B,B+1,this.t),this.t-=1,this.add(O,E)}}getNextPc(){return this.i>=this.t?null:this.h[this.i++]}reset(){this.t=0,this.i=0,this.l.fill(0)}}class S{constructor(O){this.o=[];let N=O.length;O.forEach(E=>{this.o.push(E>0?N:-1),N+=E}),this.u=new Uint16Array(N)}clear(){this.u.fill(0,0,this.o.length)}add(O,N){const E=this.u[N],B=this.o[N];this.u[N]+=1,this.u[B+E]=O}has(O){return this.u[O]>0}forEach(O,N){const E=this.u[O],B=this.o[O];for(let M=B;M<B+E;++M)N(this.u[M])}}function T(F,O,N=!1){return F===null?O:Array.isArray(F)?(F.indexOf(O)===-1&&(N&&(F=F.slice()),F.push(O)),F):F===O?F:[F,O]}class I{constructor(O,N){this.prefixes=O,this.record=N}}function j(F,O){let N;if(O===null){if(!Array.isArray(F))return F;N=F}else N=F===I.EMPTY?[]:Array.isArray(F)?F:[F];return new I(N,O)}I.EMPTY=new I([],null);class V{constructor(O){this.p=[],this.v=[];for(let N=0;N<O;++N)this.p.push(0),this.v.push(null)}mergeTraces(O,N,E,B,M,P){let $=!1;return E.forEach(N,ee=>{const K=this.trace(ee,B,M,P);var X,Y,Q;Y=K,Q=$,O=(X=O)===null?Y:Y===null?X:Array.isArray(Y)?Y.reduce((te,ge)=>T(te,ge,te===Y),X):T(X,Y,Q),$=O===K}),O}trace(O,N,E,B){switch(this.p[O]){case 2:return this.v[O];case 1:return null}this.p[O]=1;let M=null;const P=N[O];if(P!==null)M=P;else if(!E.has(O))throw new Error(`Trace without source at pc ${O}`);if(M=this.mergeTraces(M,O,E,N,E,B),M!==null){const $=B[O];$!==null&&(M=j(M,$))}return this.v[O]=M,this.p[O]=2,M}buildSurvivorTraces(O,N,E,B,M){for(let P=0,$=O.length;P<$;++P){if(!E.has(P)){N[P]=null;continue}this.v.fill(null),this.p.fill(0);const ee=this.mergeTraces(null,P,E,O,B,M);if(ee===null)throw new Error(`No non-cyclic paths found to survivor ${P}`);N[P]=j(ee,null)}this.v.fill(null)}}class C{constructor(O){this.g=[],this.k=[],this.m=[],this.A=new S(O.maxFromByPc),this.T=new S(O.maxSurvivorFromByPc),this.S=new V(O.programLength);for(let N=0;N<O.programLength;++N)this.g.push(null),this.k.push(null),this.m.push(null);this.k[0]=I.EMPTY}reset(O){this.A.clear(),this.T.clear(),this.g.fill(null),O&&(this.k.fill(null),this.m.fill(null),this.k[0]=I.EMPTY)}record(O,N){this.g[O]=N}has(O){return this.A.has(O)||this.k[O]!==null}add(O,N){this.A.add(O,N)}hasSurvivor(O){return this.T.has(O)}addSurvivor(O,N){this.T.add(O,N)}buildSurvivorTraces(){const O=this.k;this.S.buildSurvivorTraces(O,this.m,this.T,this.A,this.g),this.k=this.m,this.m=O}getTraces(O){const N=O.reduce((E,B)=>T(E,this.k[B]),null);return N===null?[]:Array.isArray(N)?N:[N]}}class q{constructor(O){this.I=[],this.M=new A(O.programLength),this.N=new A(O.programLength),this.j=new C(O)}reset(){this.M.reset(),this.M.add(0,0),this.I.length=0,this.j.reset(!0)}getNextThreadPc(){return this.M.getNextPc()}step(O,N,E){const B=this.j.has(N);this.j.add(O,N);const M=this.M.getBadness(O)+E;B?this.M.reschedule(N,M):this.M.add(N,M)}stepToNextGeneration(O,N){const E=this.j.hasSurvivor(N);this.j.addSurvivor(O,N);const B=this.M.getBadness(O);E?this.N.reschedule(N,B):this.N.add(N,B)}accept(O){this.I.push(O),this.j.addSurvivor(O,O)}fail(O){}record(O,N){this.j.record(O,N)}nextGeneration(){this.j.buildSurvivorTraces(),this.j.reset(!1);const O=this.M;O.reset(),this.M=this.N,this.N=O}getAcceptingTraces(){return this.j.getTraces(this.I)}}class L{constructor(O){this.P=[],this.U=O,this.G=y.fromProgram(O),this.P.push(new q(this.G))}execute(O,N){const E=this.P.pop()||new q(this.G);E.reset();const B=O.length;let M,P=-1;do{let ee=E.getNextThreadPc();if(ee===null)break;for(++P,M=P>=B?null:O[P];ee!==null;){const K=this.U[ee];switch(K.op){case 0:M===null?E.accept(ee):E.fail(ee);break;case 2:{const X=K.func;if(X===null||X(N)){E.fail(ee);break}E.step(ee,ee+1,0);break}case 1:E.step(ee,ee+1,K.data);break;case 5:if(M===null){E.fail(ee);break}if(!(0,K.func)(M,K.data,N)){E.fail(ee);break}E.stepToNextGeneration(ee,ee+1);break;case 3:{const X=K.data,Y=X.length;if(Y===0){E.fail(ee);break}for(let Q=0;Q<Y;++Q)E.step(ee,X[Q],0);break}case 4:{const X=(0,K.func)(K.data,P,N);X!=null&&E.record(ee,X),E.step(ee,ee+1,0);break}}ee=E.getNextThreadPc()}E.nextGeneration()}while(M!==null);const $=new w(E.getAcceptingTraces());return E.reset(),this.P.push(E),$}}function R(F){const O=new h;return F(O),new L(O.program)}var G={Assembler:h,VM:L,compileVM:R};f.Assembler=h,f.VM=L,f.compileVM=R,f.default=G,Object.defineProperty(f,"V",{value:!0})}((n=typeof globalThis<"u"?globalThis:n||self).whynot={}),e=this,function(f){function d(F,O){return{success:!0,offset:F,value:O}}function c(F){return d(F,void 0)}function h(F,O,N=!1){return{success:!1,offset:F,expected:O,fatal:N}}function y(F){return F>65535?2:1}function w(F,O){return(N,E)=>{const B=N.codePointAt(E);return B!==void 0&&F(B)?c(E+y(B)):h(E,O)}}function k(F,O){return(N,E)=>{const B=F(N,E);return B.success?d(B.offset,O(B.value)):B}}function A(F){return(O,N)=>{let E=[],B=N;for(;;){const M=F(O,B);if(!M.success){if(M.fatal)return M;break}if(E.push(M.value),M.offset===B)break;B=M.offset}return d(B,E)}}function S(F){return(O,N)=>{let E=N;for(;;){const B=F(O,E);if(!B.success){if(B.fatal)return B;break}if(B.offset===E)break;E=B.offset}return c(E)}}function T(F,O,N){return(E,B)=>{const M=F(E,B);if(!M.success)return M;const P=O(E,M.offset);return P.success?d(P.offset,N(M.value,P.value)):P}}function I(F,O){return F}function j(F,O){return O}function V(F,O){return T(F,O,j)}function C(F,O){return T(F,O,I)}function q(F,O){return(N,E)=>F(N,E).success?h(E,O):c(E)}function L(F){return(O,N)=>{const E=F(O,N);return E.success?E:h(E.offset,E.expected,!0)}}const R=(F,O)=>F.length===O?c(O):h(O,["end of input"]);function G(F){const O=[];let N=F.next();for(;!N.done;)O.push(N.value),N=F.next();return[O,N.value]}f.codepoint=w,f.codepoints=function(F,O){return(N,E)=>{const B=E;for(;;){const M=N.codePointAt(E);if(M===void 0||!F(M))break;E+=M>65535?2:1}return O!==void 0&&E===B?h(E,O):c(E)}},f.collect=G,f.complete=function(F){return T(F,R,I)},f.consume=function(F){return k(F,()=>{})},f.cut=L,f.delimited=function(F,O,N,E=!1){return V(F,E?L(C(O,N)):C(O,N))},f.dispatch=function(F,O,N=0,E=[]){return(B,M)=>{const P=B.codePointAt(M+N);if(P===void 0)return h(M,E);const $=F[P];return $===void 0?O===void 0?h(M,E):O(B,M):$(B,M)}},f.end=R,f.error=h,f.except=function(F,O,N){return V(q(O,N),F)},f.filter=function(F,O,N,E){return(B,M)=>{const P=F(B,M);return P.success?O(P.value)?P:h(M,N,E):P}},f.filterUndefined=function(F){return k(F,O=>O.filter(N=>N!==void 0))},f.first=I,f.followed=C,f.map=k,f.not=q,f.ok=c,f.okWithValue=d,f.optional=function(F){return(O,N)=>{const E=F(O,N);return E.success||E.fatal?E:d(N,null)}},f.or=function(F,O){return(N,E)=>{let B=null;for(const M of F){const P=M(N,E);if(P.success||(B===null||P.offset>B.offset?B=P:P.offset===B.offset&&O===void 0&&(B.expected=B.expected.concat(P.expected)),P.fatal))return P}return O=O||(B==null?void 0:B.expected)||[],B&&(B.expected=O),B||h(E,O)}},f.peek=function(F){return(O,N)=>{const E=F(O,N);return E.success?d(N,E.value):E}},f.plus=function(F){return T(F,A(F),(O,N)=>[O].concat(N))},f.plusConsumed=function(F){return T(F,S(F),j)},f.preceded=V,f.range=function(F,O,N){return w(E=>F<=E&&E<=O,N||[`${String.fromCodePoint(F)}-${String.fromCodePoint(O)}`])},f.recognize=function(F){return(O,N)=>{const E=F(O,N);return E.success?d(E.offset,O.slice(N,E.offset)):E}},f.second=j,f.sequence=function(...F){return(O,N)=>{const E=[];for(const B of F){const M=B(O,N);if(!M.success)return M;N=M.offset,E.push(M.value)}return d(N,E)}},f.sequenceConsumed=function(...F){return(O,N)=>{for(const E of F){const B=E(O,N);if(!B.success)return B;N=B.offset}return c(N)}},f.skipChars=function(F){return(O,N)=>{let E=F;for(;E>0;){const B=O.codePointAt(N);if(B===void 0)return h(N,["any character"]);N+=y(B),E-=1}return c(N)}},f.star=A,f.starConsumed=S,f.start=(F,O)=>O===0?c(O):h(O,["start of input"]),f.streaming=function(F){return function*(O,N){const E=F(O,N);return E.success&&(yield E.value),E}},f.streamingComplete=function(F){return function*(O,N){const E=yield*F(O,N);return E.success?R(O,E.offset):E}},f.streamingFilterUndefined=function(F){return function*(O,N){const E=F(O,N);let B=E.next();for(;!B.done;){const M=B.value;M!==void 0&&(yield M),B=E.next()}return B.value}},f.streamingOptional=function(F){return function*(O,N){const[E,B]=G(F(O,N));return B.success?(yield*E,B):B.fatal?B:c(N)}},f.streamingStar=function(F){return function*(O,N){for(;;){const[E,B]=G(F(O,N));if(!B.success)return B.fatal?B:c(N);if(yield*E,N===B.offset)return c(N);N=B.offset}}},f.streamingThen=function(F,O){return function*(N,E){const B=yield*F(N,E);return B.success?yield*O(N,B.offset):B}},f.then=T,f.token=function(F){return(O,N)=>{const E=N+F.length;return O.slice(N,E)===F?d(E,F):h(N,[F])}},Object.defineProperty(f,"__esModule",{value:!0})}((e=typeof globalThis<"u"?globalThis:e||self).prsc={}),a=this,function(f,d){function c(ke){return Xe=>Xe===ke}function h(ke,Xe){if(ke===null||Xe===null)throw new Error("unescaped hyphen may not be used as a range endpoint");if(Xe<ke)throw new Error("character range is in the wrong order");return $t=>ke<=$t&&$t<=Xe}function y(ke){return!0}function w(){return!1}function k(ke,Xe){return $t=>ke($t)||Xe($t)}const A=-1,S=-2;function T(ke,Xe){switch(Xe.kind){case"predicate":return void ke.test(Xe.value);case"regexp":return void j(ke,Xe.value,!1)}}function I(ke,Xe){Xe.forEach($t=>{(function(St,Pt){const[dn,{min:kn,max:Pn}]=Pt;if(Pn!==null){for(let En=0;En<kn;++En)T(St,dn);for(let En=kn;En<Pn;++En){const mn=St.jump([]);mn.data.push(St.program.length),T(St,dn),mn.data.push(St.program.length)}}else if(kn>0){for(let mn=0;mn<kn-1;++mn)T(St,dn);const En=St.program.length;T(St,dn),St.jump([En]).data.push(St.program.length)}else{const En=St.program.length,mn=St.jump([]);mn.data.push(St.program.length),T(St,dn),St.jump([En]),mn.data.push(St.program.length)}})(ke,$t)})}function j(ke,Xe,$t){const St=ke.program.length,Pt=ke.jump([]);$t&&(Pt.data.push(ke.program.length),ke.test(()=>!0),ke.jump([St]));const dn=[];if(Xe.forEach(kn=>{Pt.data.push(ke.program.length),I(ke,kn),dn.push(ke.jump([]))}),dn.forEach(kn=>{kn.data.push(ke.program.length)}),$t){const kn=ke.program.length,Pn=ke.jump([]);Pn.data.push(ke.program.length),ke.test(()=>!0),ke.jump([kn]),Pn.data.push(ke.program.length)}}function V(ke,Xe){return{success:!0,offset:ke,value:Xe}}function C(ke){return V(ke,void 0)}function q(ke,Xe,$t=!1){return{success:!1,offset:ke,expected:Xe,fatal:$t}}function L(ke){return(Xe,$t)=>{const St=$t+ke.length;return Xe.slice($t,St)===ke?V(St,ke):q($t,[ke])}}function R(ke,Xe){return($t,St)=>{const Pt=ke($t,St);return Pt.success?V(Pt.offset,Xe(Pt.value)):Pt}}function G(ke,Xe,$t,St){return(Pt,dn)=>{const kn=ke(Pt,dn);return kn.success?Xe(kn.value)?kn:q(dn,$t,St):kn}}function F(ke,Xe){return($t,St)=>{let Pt=null;for(const dn of ke){const kn=dn($t,St);if(kn.success||(Pt===null||kn.offset>Pt.offset?Pt=kn:kn.offset===Pt.offset&&Xe===void 0&&(Pt.expected=Pt.expected.concat(kn.expected)),kn.fatal))return kn}return Xe=Xe||(Pt==null?void 0:Pt.expected)||[],Pt&&(Pt.expected=Xe),Pt||q(St,Xe)}}function O(ke){return(Xe,$t)=>{const St=ke(Xe,$t);return St.success||St.fatal?St:V($t,null)}}function N(ke){return(Xe,$t)=>{let St=[],Pt=$t;for(;;){const dn=ke(Xe,Pt);if(!dn.success){if(dn.fatal)return dn;break}if(St.push(dn.value),dn.offset===Pt)break;Pt=dn.offset}return V(Pt,St)}}function E(ke,Xe,$t){return(St,Pt)=>{const dn=ke(St,Pt);if(!dn.success)return dn;const kn=Xe(St,dn.offset);return kn.success?V(kn.offset,$t(dn.value,kn.value)):kn}}function B(ke){return E(ke,N(ke),(Xe,$t)=>[Xe].concat($t))}function M(ke,Xe){return ke}function P(ke,Xe){return Xe}function $(ke,Xe){return E(ke,Xe,P)}function ee(ke,Xe){return E(ke,Xe,M)}function K(ke,Xe,$t,St=!1){return $(ke,St?Y(ee(Xe,$t)):ee(Xe,$t))}function X(ke,Xe){return($t,St)=>ke($t,St).success?q(St,Xe):C(St)}function Y(ke){return(Xe,$t)=>{const St=ke(Xe,$t);return St.success?St:q(St.offset,St.expected,!0)}}const Q=(ke,Xe)=>ke.length===Xe?C(Xe):q(Xe,["end of input"]),te=["Lu","Ll","Lt","Lm","Lo","Mn","Mc","Me","Nd","Nl","No","Pc","Pd","Ps","Pe","Pi","Pf","Po","Zs","Zl","Zp","Sm","Sc","Sk","So","Cc","Cf","Co","Cn"],ge={};function re(ke){return ke.codePointAt(0)}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach((ke,Xe)=>{ge[ke]=Xe});const _e=ke=>ke===A||ke===S;function $e(ke){return Xe=>!_e(Xe)&&!ke(Xe)}function oe(ke,Xe){return Xe===null?ke:$t=>ke($t)&&!Xe($t)}const ie=function(ke,Xe){const $t=new Map;let St=0;return ke.forEach((Pt,dn)=>{const kn=Xe[dn];Pt!==null&&Pt.split("|").forEach(Pn=>{const En=$t.get(Pn),mn=h(St,St+kn-1);$t.set(Pn,En?k(En,mn):mn)}),St+=kn}),$t}(["BasicLatin","Latin-1Supplement","LatinExtended-A","LatinExtended-B","IPAExtensions","SpacingModifierLetters","CombiningDiacriticalMarks","GreekandCoptic|Greek","Cyrillic","CyrillicSupplement","Armenian","Hebrew","Arabic","Syriac","ArabicSupplement","Thaana","NKo","Samaritan","Mandaic","SyriacSupplement","ArabicExtended-B","ArabicExtended-A","Devanagari","Bengali","Gurmukhi","Gujarati","Oriya","Tamil","Telugu","Kannada","Malayalam","Sinhala","Thai","Lao","Tibetan","Myanmar","Georgian","HangulJamo","Ethiopic","EthiopicSupplement","Cherokee","UnifiedCanadianAboriginalSyllabics","Ogham","Runic","Tagalog","Hanunoo","Buhid","Tagbanwa","Khmer","Mongolian","UnifiedCanadianAboriginalSyllabicsExtended","Limbu","TaiLe","NewTaiLue","KhmerSymbols","Buginese","TaiTham","CombiningDiacriticalMarksExtended","Balinese","Sundanese","Batak","Lepcha","OlChiki","CyrillicExtended-C","GeorgianExtended","SundaneseSupplement","VedicExtensions","PhoneticExtensions","PhoneticExtensionsSupplement","CombiningDiacriticalMarksSupplement","LatinExtendedAdditional","GreekExtended","GeneralPunctuation","SuperscriptsandSubscripts","CurrencySymbols","CombiningDiacriticalMarksforSymbols|CombiningMarksforSymbols","LetterlikeSymbols","NumberForms","Arrows","MathematicalOperators","MiscellaneousTechnical","ControlPictures","OpticalCharacterRecognition","EnclosedAlphanumerics","BoxDrawing","BlockElements","GeometricShapes","MiscellaneousSymbols","Dingbats","MiscellaneousMathematicalSymbols-A","SupplementalArrows-A","BraillePatterns","SupplementalArrows-B","MiscellaneousMathematicalSymbols-B","SupplementalMathematicalOperators","MiscellaneousSymbolsandArrows","Glagolitic","LatinExtended-C","Coptic","GeorgianSupplement","Tifinagh","EthiopicExtended","CyrillicExtended-A","SupplementalPunctuation","CJKRadicalsSupplement","KangxiRadicals",null,"IdeographicDescriptionCharacters","CJKSymbolsandPunctuation","Hiragana","Katakana","Bopomofo","HangulCompatibilityJamo","Kanbun","BopomofoExtended","CJKStrokes","KatakanaPhoneticExtensions","EnclosedCJKLettersandMonths","CJKCompatibility","CJKUnifiedIdeographsExtensionA","YijingHexagramSymbols","CJKUnifiedIdeographs","YiSyllables","YiRadicals","Lisu","Vai","CyrillicExtended-B","Bamum","ModifierToneLetters","LatinExtended-D","SylotiNagri","CommonIndicNumberForms","Phags-pa","Saurashtra","DevanagariExtended","KayahLi","Rejang","HangulJamoExtended-A","Javanese","MyanmarExtended-B","Cham","MyanmarExtended-A","TaiViet","MeeteiMayekExtensions","EthiopicExtended-A","LatinExtended-E","CherokeeSupplement","MeeteiMayek","HangulSyllables","HangulJamoExtended-B","HighSurrogates","HighPrivateUseSurrogates","LowSurrogates","PrivateUseArea|PrivateUse","CJKCompatibilityIdeographs","AlphabeticPresentationForms","ArabicPresentationForms-A","VariationSelectors","VerticalForms","CombiningHalfMarks","CJKCompatibilityForms","SmallFormVariants","ArabicPresentationForms-B","HalfwidthandFullwidthForms","Specials","LinearBSyllabary","LinearBIdeograms","AegeanNumbers","AncientGreekNumbers","AncientSymbols","PhaistosDisc",null,"Lycian","Carian","CopticEpactNumbers","OldItalic","Gothic","OldPermic","Ugaritic","OldPersian",null,"Deseret","Shavian","Osmanya","Osage","Elbasan","CaucasianAlbanian","Vithkuqi",null,"LinearA","LatinExtended-F",null,"CypriotSyllabary","ImperialAramaic","Palmyrene","Nabataean",null,"Hatran","Phoenician","Lydian",null,"MeroiticHieroglyphs","MeroiticCursive","Kharoshthi","OldSouthArabian","OldNorthArabian",null,"Manichaean","Avestan","InscriptionalParthian","InscriptionalPahlavi","PsalterPahlavi",null,"OldTurkic",null,"OldHungarian","HanifiRohingya",null,"RumiNumeralSymbols","Yezidi","ArabicExtended-C","OldSogdian","Sogdian","OldUyghur","Chorasmian","Elymaic","Brahmi","Kaithi","SoraSompeng","Chakma","Mahajani","Sharada","SinhalaArchaicNumbers","Khojki",null,"Multani","Khudawadi","Grantha",null,"Newa","Tirhuta",null,"Siddham","Modi","MongolianSupplement","Takri",null,"Ahom",null,"Dogra",null,"WarangCiti","DivesAkuru",null,"Nandinagari","ZanabazarSquare","Soyombo","UnifiedCanadianAboriginalSyllabicsExtended-A","PauCinHau","DevanagariExtended-A",null,"Bhaiksuki","Marchen",null,"MasaramGondi","GunjalaGondi",null,"Makasar","Kawi",null,"LisuSupplement","TamilSupplement","Cuneiform","CuneiformNumbersandPunctuation","EarlyDynasticCuneiform",null,"Cypro-Minoan","EgyptianHieroglyphs","EgyptianHieroglyphFormatControls",null,"AnatolianHieroglyphs",null,"BamumSupplement","Mro","Tangsa","BassaVah","PahawhHmong",null,"Medefaidrin",null,"Miao",null,"IdeographicSymbolsandPunctuation","Tangut","TangutComponents","KhitanSmallScript","TangutSupplement",null,"KanaExtended-B","KanaSupplement","KanaExtended-A","SmallKanaExtension","Nushu",null,"Duployan","ShorthandFormatControls",null,"ZnamennyMusicalNotation",null,"ByzantineMusicalSymbols","MusicalSymbols","AncientGreekMusicalNotation",null,"KaktovikNumerals","MayanNumerals","TaiXuanJingSymbols","CountingRodNumerals",null,"MathematicalAlphanumericSymbols","SuttonSignWriting",null,"LatinExtended-G","GlagoliticSupplement","CyrillicExtended-D",null,"NyiakengPuachueHmong",null,"Toto","Wancho",null,"NagMundari",null,"EthiopicExtended-B","MendeKikakui",null,"Adlam",null,"IndicSiyaqNumbers",null,"OttomanSiyaqNumbers",null,"ArabicMathematicalAlphabeticSymbols",null,"MahjongTiles","DominoTiles","PlayingCards","EnclosedAlphanumericSupplement","EnclosedIdeographicSupplement","MiscellaneousSymbolsandPictographs","Emoticons","OrnamentalDingbats","TransportandMapSymbols","AlchemicalSymbols","GeometricShapesExtended","SupplementalArrows-C","SupplementalSymbolsandPictographs","ChessSymbols","SymbolsandPictographsExtended-A","SymbolsforLegacyComputing",null,"CJKUnifiedIdeographsExtensionB",null,"CJKUnifiedIdeographsExtensionC","CJKUnifiedIdeographsExtensionD","CJKUnifiedIdeographsExtensionE","CJKUnifiedIdeographsExtensionF",null,"CJKCompatibilityIdeographsSupplement",null,"CJKUnifiedIdeographsExtensionG","CJKUnifiedIdeographsExtensionH",null,"Tags",null,"VariationSelectorsSupplement",null,"SupplementaryPrivateUseArea-A|PrivateUse","SupplementaryPrivateUseArea-B|PrivateUse"],[128,128,128,208,96,80,112,144,256,48,96,112,256,80,48,64,64,64,32,16,48,96,128,128,128,128,128,128,128,128,128,128,128,128,256,160,96,256,384,32,96,640,32,96,32,32,32,32,128,176,80,80,48,96,32,32,144,80,128,64,64,80,48,16,48,16,48,128,64,64,256,256,112,48,48,48,80,64,112,256,256,64,32,160,128,32,96,256,192,48,16,256,128,128,256,256,96,32,128,48,80,96,32,128,128,224,16,16,64,96,96,48,96,16,32,48,16,256,256,6592,64,20992,1168,64,48,320,96,96,32,224,48,16,64,96,32,48,48,32,96,32,96,32,96,32,48,64,80,64,11184,80,896,128,1024,6400,512,80,688,16,16,16,32,32,144,240,16,128,128,64,80,64,48,128,32,64,32,48,32,48,32,64,32,80,48,48,80,48,64,80,64,384,64,64,64,32,32,48,48,32,32,32,64,32,96,96,32,32,32,64,64,32,32,48,80,80,48,128,64,288,32,64,64,48,64,64,48,32,128,80,48,80,48,96,32,80,48,48,80,128,128,128,96,160,128,96,32,80,48,80,176,80,80,96,96,64,96,80,96,16,64,96,160,112,80,64,96,80,304,32,96,80,16,64,1024,128,208,2624,112,1072,48,4e3,640,8576,576,48,96,48,144,688,96,96,160,64,32,6144,768,512,128,8816,16,256,48,64,400,2304,160,16,4688,208,48,256,256,80,112,32,32,96,32,128,1024,688,1104,256,48,96,112,80,320,48,64,464,48,736,32,224,32,96,784,80,64,80,176,256,256,48,112,96,256,256,768,80,48,128,128,128,256,256,112,144,256,1024,42720,32,4160,224,5776,7488,3088,544,1504,4944,4192,711760,128,128,240,65040,65536,65536]),xe=function(ke){const Xe=new Map,$t=ke.split(""),St=te.map(()=>[]);let Pt=0,dn=0;for(;dn<$t.length;){const Pn=ge[$t[dn]],En=(31&Pn)-2;let mn=1+ge[$t[dn+1]];switch(32&Pn?(mn+=ge[$t[dn+2]]<<6,mn+=ge[$t[dn+3]]<<12,mn+=ge[$t[dn+4]]<<18,dn+=5):dn+=2,En){case-2:{let ot=0;for(let Oe=Pt;Oe<Pt+mn;++Oe)St[ot].push(c(Oe)),ot=(ot+1)%2;break}case-1:break;default:{const ot=St[En];mn===1?ot.push(c(Pt)):ot.push(h(Pt,Pt+mn-1));break}}Pt+=mn}const kn=new Map;return te.forEach((Pn,En)=>{const mn=St[En].reduce(k,w);Xe.set(Pn,mn);const ot=Pn.charAt(0),Oe=kn.get(ot)||[];kn.set(ot,Oe),Oe.push(mn)}),kn.forEach((Pn,En)=>{Xe.set(En,Pn.reduce(k,w))}),Xe}("bfUATCYATCPAQATAXATAOATBKJTBXCTBCZPATAQAZANAZADZPAXAQAXAbgUATAYDaATAZAaAGARAXAcAaAZAaAXAMBZADATBZAMAGASAMCTACWXACGDXXADHA3DAAPDAAtCAAFDBCAADCAABCCDBCCABCAABCCDCCAABCAAFCAADDAABCAABCBADCBDBGACADCGDCAEADACAEADACAEADAAPDAARDACAEADAABCBA7DFCAABCBDBABCCAJjDBAAGADaFRZDFLZNFEZGFAZAFAZQnvBAAADFAZACADABBFADCTACABDZBCATACCBACABACAABCQBACIDiCADBCCDCAXDDCADAXAABCBDBCyDvAhaAHEJBA1CAANDAgfBAABAClBBFATFDoTAOABBaBYABAHsOAHATAHBTAHBTAHABHGaBDGDTBBKcFXCTBYATBaBHKTAcATCGfFAGJHUKJTDGBHAmiBAATAGAHGcAaAHFFBHBaAHDGBKJGCaBGATNBAcAGAHAGdHaBBmYBAAHKGABNKJGgHIFBaATCFABBHAYBGVHDFAHIFAHCFAHEBBTOBAGYHCBBTABAGKBEGXZAGFBAcBBFHHGoFAHXcAHfIAG1HAIAHAGAICHHIDHAIBGAHGGJHBTBKJTAFAGOHAIBBAGHBBGBBBGVBAGGBAGABCGDBBHAGAICHDBBIBBBIBHAGABHIABDGBBAGCHBBBKJGBYBMFaAYAGATAHABBHBIABAGFBDGBBBGVBAGGBAGBBAGBBAGBBBHABAICHBBDHBBBHCBCHABGGDBAGABGKJHBGCHATABJHBIABAGIBAGCBAGVBAGGBAGBBAGEBBHAGAICHEBAHBIABAIBHABBGABOGBHBBBKJTAYABGGAHFBAHAIBBAGHBBGBBBGVBAGGBAGBBAGEBBHAGAIAHAIAHDBBIBBBIBHABGHBIABDGBBAGCHBBBKJaAGAMFBJHAGABAGFBCGCBAGDBCGBBAGABAGBBCGBBCGCBCGLBDIBHAIBBCICBAICHABBGABFIABNKJMCaFYAaABEHAICHAGHBAGCBAGWBAGPBBHAGAHCIDBAHCBAHDBGHBBAGCBBGABBGBHBBBKJBGTAMGaAGAHAIBTAGHBAGCBAGWBAGJBAGEBBHAGAIAHAIEBAHAIBBAIBHBBGIBBFGBBAGBHBBBKJBAGBIABLHBIBGIBAGCBAGoHBGAICHDBAICBAICHAGAaABDGCIAMGGCHBBBKJMIaAGFBAHAIBBAGRBCGXBAGIBAGABBGGBCHABDICHCBAHABAIHBFKJBBIBTABLGvHAGBHGBDYAGFFAHHTAKJTBBkGBBAGABAGEBAGXBAGABAGJHAGBHIGABBGEBAFABAHGBAKJBBGDBfGAaCTOaATAaCHBaFKJMJaAHAaAHAaAHAPAQAPAQAIBGHBAGjBDHNIAHETAHBGEHKBAHjBAaHHAaFBAaBTEaDTBBkGqIBHDIAHFIAHBIBHBGAKJTFGFIBHBGDHCGAICGBIGGCHDGMHAIBHBIFHAGAIAKJICHAaBClBACABECABBDqTAFADCmIFAABAGDBBGGBAGABAGDBBGoBAGDBBGgBAGDBBGGBAGABAGDBBGOBAG4BAGDBBmCBAABBHCTIMTBCGPaJBFiVBAABBDFBBOAmrJAAaATAGQUAGZPAQABCmKBAATCLCGHBGGRHCIABIGSHBIATBBIGRHBBLGMBAGCBAHBBLGzHBIAHGIHHAIBHKTCFATCYAGAHABBKJBFMJBFTFOATDHCcAHAKJBFGiFAG0BGGEHBGhHAGABEmFBAABJGeBAHCIDHBICBDIBHAIFHCBDaABCTBKJGdBBGEBKGrBDGZBFKJMABCahGWHBIBHABBTBG0IAHAIAHGBAHAIAHAIBHHIFHJBBHAKJBFKJBFTGFATFBBHNJAHPBwHDIAGuHAIAHEIAHAIEHAIBGHBCKJTGaJHIaITBBAHBIAGdIAHDIBHBIAHCGBKJGrHAIAHBICHAIAHCIBBHTDGjIHHHIBHBBCTEKJBCGCKJGdFFTBDIBGCqBBCCTHBHHCTAHMIAHGGDHAGFHAGBIAHBGABEDrF+DMFADhFkH/gVCAADHghBAADHCHDFBBCFBBDHCHDHCHDFBBCFBBDHBACABACABACABACADHCHDNBBDHEHDHEHDHEHDEBADBCDEAZADAZCDCBADBCDEAZCDDBBDBCDBAZCDHCEZCBBDCBADBCDEAZBBAUKcEOFTBRASAPARBSAPARATHVAWAcEUATIRASATDNBTCXAPAQATKXATANATJUAcEBAcJMAFABBMFXCPAQAFAMJXCPAQABAFMBCYgBOHMJDHAJCHLBOaBCAaDCAaBDACCDBCCDAaACAaBXACEaFCAaACAaACAaACDaADACDDAGDDAaBDBCBXECADDaAXAaBDAaAMPLiCADALDMAaBBDXEaEXBaDXAaBXAaBXAaGXAaeXBaBXAaAXAae3LEAAaHPAQAPAQAaTXBaGPAQA6QBAAXAadXYanXF6EBAABYaKBUM76NBAAMV62CAAXAaIXAa1XH6uBAAXA63DAAPAQAPAQAPAQAPAQAPAQAPAQAPAQAMdarXEPAQAXePAQAPAQAPAQAPAQAPAQAXP6/DAA3CCAAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQAX+PAQAPAQAXfPAQA3BEAAavXUaBXFamBBafBA6oBAACvDvABCCDBAFCCADDACADFFBCBgjBAADAaFADHCCADABETDMATBDlBADABEDABBG3BGFATABNHAGWBIGGBAGGBAGGBAGGBAGGBAGGBAGGBAGGBAHfTBRASARASATCRASATARASATIOATBOATARASATBRASAPAQAPAQAPAQAPAQATEFATJOBTDOATAPATMaBTCPAQAPAQAPAQAPAQAOABhaZBA6YBAABL6VDAABZaLBDUATCaAFAGALAPAQAPAQAPAQAPAQAPAQAaBPAQAPAQAPAQAPAQAOAPAQBaALIHDIBOAFEaBLCFAGATAaBBAmVBAABBHBZBFBGAOAmZBAATAFCGABEGqBAmdBAABAaBMDaJGfajBLGPaeBAMJadMHaAMOafMJamMO6/EAAm/mBAa/mUIFAFAm2RAABCa2BIGnFFTBmLEAAFATCGPKJGBBTAtGAHAJCTAHJTAFAAbFBHBmFBAALJHBTFBHZWFIZBANDBA9FADHADCAAJFAZBADGAADDBATCDABCDAPCCADBECADABADABADAADBXFCCADAGAFBDAGGHAGCHAGDHAGWIBHBIAaDHABCMFaBYAaABFGzTDBHIBGxIPHBBHTBKJBFHRGFTCGATAGBHAKJGbHHTBGWHKIBBKTAGcBCHCIAGuHAIBHDIBHBICTMBAFAKJBDTBGEHAFAGIKJGEBAGoHFIBHBIBHBBIGCHAGHHAIABBKJBBTDGPFAGFaCGAIAHAIAGxHAGAHCGBHBGEHBGAHAGABXGBFATBGKIAHBIBTBGAFBIAHABJGFBBGFBBGFBIGGBAGGBADqZAFDDIFAZBBDjPBAAGiIBHAIBHAIBTAIAHABBKJBFmjuCABLGWBDGwhDgAA9/jBAmtFAABBmpBAABlDGBLDEBEGAHAGJXAGMBAGEBAGABAGBBAGBBAmrBAAZQBPmqFAAQAPAaPG/BBG1BGaABfGLYAaCHPTGPAQATABFHPTAOBNBPAQAPAQAPAQAPAQAPAQAPAQAPAQAPAQATBPAQATDNCTCBATDOAPAQAPAQAPAQATCXAOAXCBATAYATBBDGEBAmGCAABBcABATCYATCPAQATAXATAOATBKJTBXCTBCZPATAQAZANAZADZPAXAQAXAPAQATAPAQATBGJFAGsFBGeBCGFBBGFBBGFBBGCBCYBXAZAaAYBBAaAXDaBBJcCaBBBGLBAGZBAGSBAGBBAGOBBGNBhm6BAABETCBDMsBCaIL0MDaQMBaCBAaMBCaABuasHAhBCAAGcBCGwBOHAMaBDGfMDBIGTLAGHLABEGlHEBEGdBATAGjBDGHTALEBpCnDnmNBAABBKJBFCjBDDjBDGnBHGzBKTACKBACOBACGBACBBADKBADOBADGBADBhCBAAm2EAABIGVBJGHBXFFBAFpBAFIhEBAAGFBBGABAGrBAGBBCGABBGWBATAMHGWaBMGGeBHMIBvGSBAGBBEMEGVMFBCTAGZBETAB/G3BDMBGBMPBBMtGAHCBAHBBEHDGDBAGCBAGcBBHCBDHAMIBGTIBGGcMBTAGcMCBfGHaAGbHBBDMETGBIG1BCTGGVBBMHGSBEMHGRBGTDBLMGhPBAAmIBAAB2CyBMDyBGMFGjHDBHKJhlEAAMeBAGpBAHBOABBGBhKBAAHCGcMJGABHGVHKMDTEBVGRHDTDBlGUMGBTGWBIIAHAIAG0HOTGBDMTKJHAGBHBGABIHCIAGsICHDIBHBTBcATDHABJcABBGYBGKJBFHCGjHEIAHHBAKJTDGAIBGABHGiHATBGABIHBIAGvICHIIBGDTDHDTAIAHAKJGATAGATCBAMTBKGRBAGYICHCIBHAIAHBTFHAGBHAB9GGBAGABAGDBAGOBAGJTABFGuHAICHHBEKJBFHBIBBAGHBBGBBBGVBAGGBAGBBAGEBAHBGAIBHAIDBBIBBBICBBGABFIABEGEIBBBHGBCHEhKCAAG0ICHHIBHCIAHAGDTEKJTBBATAHAGCBdGvICHFIAHAIDHBIAHBGBTAGABHKJhlCAAGuICHDBBIDHBIAHBTWGDHBBhGvICHHIBHAIAHBTCGABKKJBFTMBSGqHAIAHAIBHFIAHAGATABFKJB1GaBBHCIBHDIAHEBDKJMBTCaAGGh4CAAGrICHIIAHBTAhjBAACfDfKJMIBLGHBBGABBGHBAGBBAGXIFBAIBBBHBIAHAGAIAGAIAHATCBIKJhFBAAGHBBGmICHDBBHBIDHAGATAGAIABaGAHJGnHFIAGAHDTHHABHGAHFIBHCGtHMIAHBTCGATEBMmIBAABGTJh1DAAGIBAGkIAHGBAHFIAHAGATEBJKJMSBCTBGdBBHVBAIAHGIAHBIAHBhIBAAGGBAGBBAGlHFBCHABAHBBAHGGAHABHKJBFGFBAGBBAGfIEBAHBBAIBHAIAHAGABGKJh1EAAGSHBIBTBBGHBGAIAGMBAGhIBHEBCIBHAIAHATMKJhVBAAGABOMUaHYDaQBMTAmZOAAhlBAAruBAABATEBKmDDAAhLpAAmgBAATBBMmvQAAcPHAGFHOhp+AAmGJAAh4GCAm4IAABGGeBAKJBDTBmOBAABAKJBFGdBBHETABJGvHGTEaDFDTAaABJKJBAMGBAGUBEGShvKAACfDfMWTDhkBAAmKBAABDHAGAI2BGHDFMB/FBTAFAHABKIBBNm3fBABHmVTAABpGIhmLCAFDBAFGBAFBBAmiEAABOGABcGCBBGABNGDBHmLGAAhDkAAmqBAABEGMBCGIBGGJBBaAHBTAcDhbJBAHtBBHWBI6zBAAB761DAABJamBBa7IBHCaCIFcHHHaBHGadHDa8BU6BBAAHCaAh5BAAMTBLMTBL6WBAABIMYhGCAACZDZCZDGBADRCZDZCABACBBBCABBCBBBCDBACHDDBADABADGBADKCZDZCBBACDBBCHBACGBADZCBBACDBACEBACABCCGBADZCZDZCZDZCZDZCZDZCZDZCZDbBBCYXADYXADFCYXADYXADFCYXADYXADFCYXADYXADFCYXADYXADFCADABBKx6/HAAH2aDHxaHHAaNHAaBTEBOHEBAHOhPRAADJGADTBFDFhUDAAHGBAHQBBHGBAHBBAHEBEF9BgHAhvBAAGsBCHGFGBBKJBDGAaAh/EAAGdHABQGrHDKJBEYAhPHAAGaFAHDKJhlLAAGGBAGDBAGBBAGOBAmEDAABBMIHGBoChDhHGFABDKJBDTBhQMAAM6aAMCYAMDhLBAAMsaAMOhBDAAGDBAGaBAGBBAGABBGABAGJBAGDBAGABAGABFGABDGABAGABAGABAGCBAGBBAGABBGABAGABAGABAGABAGABAGBBAGABBGDBAGGBAGDBAGDBAGABAGJBAGQBEGCBAGEBAGQBzXBhNEAAarBD6jBAABLaOBBaOBAaOBAakBJMM6gCAAB3acBMarBDaIBGaBBNaFhZCAA66DAAZE6XLAABDaQBCaMBC62BAABD6eBAABFaLBDaABOaLBDa3BHaJBFanBHadBBaBhNBAA6TFAABLaNBBaMBCaIBGatBAaGBHaNBDaIBGaIBG6SCAABAa2BkKJhFQAAmfbKABfm5ABABFmdDAABBmBaBABNmw0BAhewAAmdIAAhhXAAmKNBABEmfBBAhQxtCcABd8fBAAh/BAAnvDAAhP4PA99/PABB99/PA");function he(ke){return ke===32||ke===9||ke===10||ke===13}const Ce=[c(re(":")),h(re("A"),re("Z")),c(re("_")),h(re("a"),re("z")),h(192,214),h(216,246),h(192,214),h(216,246),h(248,767),h(880,893),h(895,8191),h(8204,8205),h(8304,8591),h(11264,12271),h(12289,55295),h(63744,64975),h(65008,65533),h(65536,983039)].reduce(k),qe=[Ce,c(re("-")),c(re(".")),h(re("0"),re("9")),c(183),h(768,879),h(8255,8256)].reduce(k),we=xe.get("Nd"),Re=$e(we),Ze=oe(h(0,1114111),[xe.get("P"),xe.get("Z"),xe.get("C")].reduce(k)),it=$e(Ze);function De(ke){return ke!==10&&ke!==13&&!_e(ke)}const Ie={s:he,S:$e(he),i:Ce,I:$e(Ce),c:qe,C:$e(qe),d:we,D:Re,w:Ze,W:it},nt=L("*"),lt=L("\\"),Ot=L("{"),fe=L("}"),le=L("["),ye=L("]"),rt=L("^"),Et=L("$"),ue=L(","),Kt=L("-"),He=L("("),Ct=L(")"),Xt=L("."),me=L("|"),Se=L("+"),ut=L("?"),Z=L("-["),vt=re("0");function Yt(ke){function Xe(It){return new Set(It.split("").map(Zt=>re(Zt)))}function $t(It,Zt){const Kn=It.codePointAt(Zt);return Kn===void 0?q(Zt,["any character"]):V(Zt+String.fromCodePoint(Kn).length,Kn)}const St=ke.language==="xpath"?$(lt,F([R(L("n"),()=>10),R(L("r"),()=>13),R(L("t"),()=>9),R(F([lt,me,Xt,Kt,rt,ut,nt,Se,Ot,fe,Et,He,Ct,le,ye]),It=>re(It))])):$(lt,F([R(L("n"),()=>10),R(L("r"),()=>13),R(L("t"),()=>9),R(F([lt,me,Xt,Kt,rt,ut,nt,Se,Ot,fe,He,Ct,le,ye]),It=>re(It))]));function Pt(It,Zt){const Kn=Xe(Zt);return E(L(It),O(G($t,aa=>Kn.has(aa),Zt.split(""))),(aa,hn)=>function(Xn){const Ga=xe.get(Xn);if(Ga==null)throw new Error(`${Xn} is not a valid unicode category`);return Ga}(hn===null?aa:aa+String.fromCodePoint(hn)))}const dn=F([Pt("L","ultmo"),Pt("M","nce"),Pt("N","dlo"),Pt("P","cdseifo"),Pt("Z","slp"),Pt("S","mcko"),Pt("C","cfon")]),kn=[h(re("a"),re("z")),h(re("A"),re("Z")),h(re("0"),re("9")),c(45)].reduce(k),Pn=R($(L("Is"),function(It){return(Zt,Kn)=>{const aa=It(Zt,Kn);return aa.success?V(aa.offset,Zt.slice(Kn,aa.offset)):aa}}(B(G($t,kn,["block identifier"])))),It=>function(Zt,Kn){const aa=ie.get(Zt);if(aa===void 0){if(Kn)return y;throw new Error(`The unicode block identifier "${Zt}" is not known.`)}return aa}(It,ke.language!=="xpath")),En=F([dn,Pn]),mn=K(L("\\p{"),En,fe,!0),ot=R(K(L("\\P{"),En,fe,!0),$e),Oe=$(lt,R(F("sSiIcCdDwW".split("").map(It=>L(It))),It=>Ie[It])),nr=R(Xt,()=>De),J=F([Oe,mn,ot]),ha=Xe("\\[]"),Za=G($t,It=>!ha.has(It),["unescaped character"]),ar=F([St,Za]),to=F([R(Kt,()=>null),ar]),ds=E(to,$(Kt,to),h);function qn(It,Zt){return[It].concat(Zt||[])}const jr=R(function(It){return(Zt,Kn)=>{const aa=It(Zt,Kn);return aa.success?V(Kn,aa.value):aa}}(F([ye,Z])),()=>null),na=re("-"),Mr=F([R(ee(ee(Kt,X(le,["not ["])),jr),()=>na),$(X(Kt,["not -"]),ar)]),Do=F([E(R(Mr,c),F([function(It,Zt){return Do(It,Zt)},jr]),qn),E(F([ds,J]),F([Zn,jr]),qn)]),Ua=F([E(R(ar,c),F([Do,jr]),qn),E(F([ds,J]),F([Zn,jr]),qn)]);function Zn(It,Zt){return Ua(It,Zt)}const gr=R(Ua,It=>It.reduce(k)),ur=R($(rt,gr),$e),yo=E(F([$(X(rt,["not ^"]),gr),ur]),O($(Kt,function(It,Zt){return Ra(It,Zt)})),oe),Ra=K(le,yo,ye,!0),_r=ke.language==="xpath"?F([R(St,c),J,Ra,nr,R(rt,()=>It=>It===A),R(Et,()=>It=>It===S)]):F([R(St,c),J,Ra,nr]),Tn=ke.language==="xpath"?Xe(".\\?*+{}()|^$[]"):Xe(".\\?*+{}()|[]"),Jo=G($t,It=>!Tn.has(It),["NormalChar"]),fs=R($(lt,E(R(G($t,h(re("1"),re("9")),["digit"]),It=>It-vt),N(R(G($t,h(vt,re("9")),["digit"]),It=>It-vt)),(It,Zt)=>{Zt.reduce((Kn,aa)=>10*Kn+aa,It)})),It=>{throw new Error("Backreferences in XPath patterns are not yet implemented.")}),Co=ke.language==="xpath"?F([R(Jo,It=>({kind:"predicate",value:c(It)})),R(_r,It=>({kind:"predicate",value:It})),R(K(He,$(O(L("?:")),Hn),Ct,!0),It=>({kind:"regexp",value:It})),fs]):F([R(Jo,It=>({kind:"predicate",value:c(It)})),R(_r,It=>({kind:"predicate",value:It})),R(K(He,Hn,Ct,!0),It=>({kind:"regexp",value:It}))]),zn=R(B(R(G($t,h(vt,re("9")),["digit"]),It=>It-vt)),It=>It.reduce((Zt,Kn)=>10*Zt+Kn)),cr=F([E(zn,$(ue,zn),(It,Zt)=>{if(Zt<It)throw new Error("quantifier range is in the wrong order");return{min:It,max:Zt}}),E(zn,ue,It=>({min:It,max:null})),R(zn,It=>({min:It,max:It}))]),Pr=ke.language==="xpath"?E(F([R(ut,()=>({min:0,max:1})),R(nt,()=>({min:0,max:null})),R(Se,()=>({min:1,max:null})),K(Ot,cr,fe,!0)]),O(ut),(It,Zt)=>It):F([R(ut,()=>({min:0,max:1})),R(nt,()=>({min:0,max:null})),R(Se,()=>({min:1,max:null})),K(Ot,cr,fe,!0)]),rr=E(Co,R(O(Pr),It=>It===null?{min:1,max:1}:It),(It,Zt)=>[It,Zt]),Oo=N(rr),Ln=E(Oo,N($(me,Y(Oo))),(It,Zt)=>[It].concat(Zt));function Hn(It,Zt){return Ln(It,Zt)}const bo=function(It){return E(It,Q,M)}(Ln);return function(It){let Zt;try{Zt=bo(It,0)}catch(Kn){throw new Error(`Error parsing pattern "${It}": ${Kn instanceof Error?Kn.message:Kn}`)}return Zt.success?Zt.value:function(Kn,aa,hn){const Xn=hn.map(Ga=>`"${Ga}"`);throw new Error(`Error parsing pattern "${Kn}" at offset ${aa}: expected ${Xn.length>1?"one of "+Xn.join(", "):Xn[0]} but found "${Kn.slice(aa,aa+1)}"`)}(It,Zt.offset,Zt.expected)}}function Un(ke){return[...ke].map(Xe=>Xe.codePointAt(0))}f.compile=function(ke,Xe={language:"xsd"}){const $t=Yt(Xe)(ke),St=d.compileVM(Pt=>{j(Pt,$t,Xe.language==="xpath"),Pt.accept()});return function(Pt){const dn=Xe.language==="xpath"?[A,...Un(Pt),S]:Un(Pt);return St.execute(dn).success}},Object.defineProperty(f,"__esModule",{value:!0})}((a=typeof globalThis<"u"?globalThis:a||self).xspattern={},a.whynot),(o=this).fontoxpath=(l=o.xspattern,p=o.prsc,function(f,d){const c="3.29.0",h={};var y;function w(t){var r=0;return function(){return r<t.length?{done:!1,value:t[r++]}:{done:!0}}}var k=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,r,s){return t==Array.prototype||t==Object.prototype||(t[r]=s.value),t};function A(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var r=0;r<t.length;++r){var s=t[r];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}var S=A(this);function T(t,r){if(r)e:{var s=S;t=t.split(".");for(var i=0;i<t.length-1;i++){var u=t[i];if(!(u in s))break e;s=s[u]}(r=r(i=s[t=t[t.length-1]]))!=i&&r!=null&&k(s,t,{configurable:!0,writable:!0,value:r})}}function I(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function j(t){var r=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:w(t)}}function V(t){for(var r,s=[];!(r=t.next()).done;)s.push(r.value);return s}function C(t){return t instanceof Array?t:V(j(t))}T("Symbol",function(t){function r(g){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return new s(i+(g||"")+"_"+u++,g)}function s(g,b){this.h=g,k(this,"description",{configurable:!0,writable:!0,value:b})}if(t)return t;s.prototype.toString=function(){return this.h};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",u=0;return r}),T("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),s=0;s<r.length;s++){var i=S[r[s]];typeof i=="function"&&typeof i.prototype[t]!="function"&&k(i.prototype,t,{configurable:!0,writable:!0,value:function(){return I(w(this))}})}return t}),T("Symbol.asyncIterator",function(t){return t||Symbol("Symbol.asyncIterator")});var q,L=typeof Object.create=="function"?Object.create:function(t){function r(){}return r.prototype=t,new r};if(typeof Object.setPrototypeOf=="function")q=Object.setPrototypeOf;else{var R;e:{var G={a:!0},F={};try{F.__proto__=G,R=F.a;break e}catch{}R=!1}q=R?function(t,r){if(t.__proto__=r,t.__proto__!==r)throw new TypeError(t+" is not extensible");return t}:null}var O=q;function N(t,r){if(t.prototype=L(r.prototype),t.prototype.constructor=t,O)O(t,r);else for(var s in r)if(s!="prototype")if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i)}else t[s]=r[s];t.zc=r.prototype}function E(){this.B=!1,this.o=null,this.l=void 0,this.h=1,this.da=0,this.v=null}function B(t){if(t.B)throw new TypeError("Generator is already running");t.B=!0}function M(t,r){t.v={kc:r,mc:!0},t.h=t.da}function P(t){this.h=new E,this.o=t}function $(t,r){B(t.h);var s=t.h.o;return s?ee(t,"return"in s?s.return:function(i){return{value:i,done:!0}},r,t.h.return):(t.h.return(r),K(t))}function ee(t,r,s,i){try{var u=r.call(t.h.o,s);if(!(u instanceof Object))throw new TypeError("Iterator result "+u+" is not an object");if(!u.done)return t.h.B=!1,u;var g=u.value}catch(b){return t.h.o=null,M(t.h,b),K(t)}return t.h.o=null,i.call(t.h,g),K(t)}function K(t){for(;t.h.h;)try{var r=t.o(t.h);if(r)return t.h.B=!1,{value:r.value,done:!1}}catch(s){t.h.l=void 0,M(t.h,s)}if(t.h.B=!1,t.h.v){if(r=t.h.v,t.h.v=null,r.mc)throw r.kc;return{value:r.return,done:!0}}return{value:void 0,done:!0}}function X(t){this.next=function(r){return B(t.h),t.h.o?r=ee(t,t.h.o.next,r,t.h.s):(t.h.s(r),r=K(t)),r},this.throw=function(r){return B(t.h),t.h.o?r=ee(t,t.h.o.throw,r,t.h.s):(M(t.h,r),r=K(t)),r},this.return=function(r){return $(t,r)},this[Symbol.iterator]=function(){return this}}function Y(t){function r(i){return t.next(i)}function s(i){return t.throw(i)}return new Promise(function(i,u){function g(b){b.done?i(b.value):Promise.resolve(b.value).then(r,s).then(g,u)}g(t.next())})}function Q(){for(var t=Number(this),r=[],s=t;s<arguments.length;s++)r[s-t]=arguments[s];return r}function te(t,r){return Object.prototype.hasOwnProperty.call(t,r)}E.prototype.s=function(t){this.l=t},E.prototype.return=function(t){this.v={return:t},this.h=this.da},T("Promise",function(t){function r(b){this.o=0,this.v=void 0,this.h=[],this.da=!1;var _=this.B();try{b(_.resolve,_.reject)}catch(D){_.reject(D)}}function s(){this.h=null}function i(b){return b instanceof r?b:new r(function(_){_(b)})}if(t)return t;s.prototype.o=function(b){if(this.h==null){this.h=[];var _=this;this.v(function(){_.l()})}this.h.push(b)};var u=S.setTimeout;s.prototype.v=function(b){u(b,0)},s.prototype.l=function(){for(;this.h&&this.h.length;){var b=this.h;this.h=[];for(var _=0;_<b.length;++_){var D=b[_];b[_]=null;try{D()}catch(H){this.B(H)}}}this.h=null},s.prototype.B=function(b){this.v(function(){throw b})},r.prototype.B=function(){function b(H){return function(ae){D||(D=!0,H.call(_,ae))}}var _=this,D=!1;return{resolve:b(this.la),reject:b(this.l)}},r.prototype.la=function(b){if(b===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof r)this.ab(b);else{e:switch(typeof b){case"object":var _=b!=null;break e;case"function":_=!0;break e;default:_=!1}_?this.S(b):this.s(b)}},r.prototype.S=function(b){var _=void 0;try{_=b.then}catch(D){return void this.l(D)}typeof _=="function"?this.Ba(_,b):this.s(b)},r.prototype.l=function(b){this.ta(2,b)},r.prototype.s=function(b){this.ta(1,b)},r.prototype.ta=function(b,_){if(this.o!=0)throw Error("Cannot settle("+b+", "+_+"): Promise already settled in state"+this.o);this.o=b,this.v=_,this.o===2&&this.pa(),this.A()},r.prototype.pa=function(){var b=this;u(function(){if(b.K()){var _=S.console;_!==void 0&&_.error(b.v)}},1)},r.prototype.K=function(){if(this.da)return!1;var b=S.CustomEvent,_=S.Event,D=S.dispatchEvent;return D===void 0||(typeof b=="function"?b=new b("unhandledrejection",{cancelable:!0}):typeof _=="function"?b=new _("unhandledrejection",{cancelable:!0}):(b=S.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,b),b.promise=this,b.reason=this.v,D(b))},r.prototype.A=function(){if(this.h!=null){for(var b=0;b<this.h.length;++b)g.o(this.h[b]);this.h=null}};var g=new s;return r.prototype.ab=function(b){var _=this.B();b.rb(_.resolve,_.reject)},r.prototype.Ba=function(b,_){var D=this.B();try{b.call(_,D.resolve,D.reject)}catch(H){D.reject(H)}},r.prototype.then=function(b,_){function D(ze,Ye){return typeof ze=="function"?function(st){try{H(ze(st))}catch(ht){ae(ht)}}:Ye}var H,ae,ve=new r(function(ze,Ye){H=ze,ae=Ye});return this.rb(D(b,H),D(_,ae)),ve},r.prototype.catch=function(b){return this.then(void 0,b)},r.prototype.rb=function(b,_){function D(){switch(H.o){case 1:b(H.v);break;case 2:_(H.v);break;default:throw Error("Unexpected state: "+H.o)}}var H=this;this.h==null?g.o(D):this.h.push(D),this.da=!0},r.resolve=i,r.reject=function(b){return new r(function(_,D){D(b)})},r.race=function(b){return new r(function(_,D){for(var H=j(b),ae=H.next();!ae.done;ae=H.next())i(ae.value).rb(_,D)})},r.all=function(b){var _=j(b),D=_.next();return D.done?i([]):new r(function(H,ae){function ve(st){return function(ht){ze[st]=ht,--Ye==0&&H(ze)}}var ze=[],Ye=0;do ze.push(void 0),Ye++,i(D.value).rb(ve(ze.length-1),ae),D=_.next();while(!D.done)})},r});var ge=typeof Object.assign=="function"?Object.assign:function(t,r){for(var s=1;s<arguments.length;s++){var i=arguments[s];if(i)for(var u in i)te(i,u)&&(t[u]=i[u])}return t};function re(t,r,s){if(t==null)throw new TypeError("The 'this' value for String.prototype."+s+" must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype."+s+" must not be a regular expression");return t+""}function _e(t,r){return t=t!==void 0?String(t):" ",0<r&&t?t.repeat(Math.ceil(r/t.length)).substring(0,r):""}function $e(t,r,s){t instanceof String&&(t=String(t));for(var i=t.length,u=0;u<i;u++){var g=t[u];if(r.call(s,g,u,t))return{Jb:u,Qb:g}}return{Jb:-1,Qb:void 0}}function oe(t){return t||Array.prototype.fill}function ie(t,r){t instanceof String&&(t+="");var s=0,i=!1,u={next:function(){if(!i&&s<t.length){var g=s++;return{value:r(g,t[g]),done:!1}}return i=!0,{done:!0,value:void 0}}};return u[Symbol.iterator]=function(){return u},u}function xe(t,r){if(!(t!=="0"&&t!=="-0"||r!=="0"&&r!=="-0"))return 0;var s=/(?:\+|(-))?(\d+)?(?:\.(\d+))?/;t=s.exec(t+"");var i=s.exec(r+""),u=!t[1],g=!i[1];return r=(t[2]||"").replace(/^0*/,""),s=(i[2]||"").replace(/^0*/,""),t=t[3]||"",i=i[3]||"",u&&!g?1:!u&&g?-1:(u=u&&g,r.length>s.length?u?1:-1:r.length<s.length?u?-1:1:r>s?u?1:-1:r<s?u?-1:1:(r=Math.max(t.length,i.length),(s=t.padEnd(r,"0"))>(r=i.padEnd(r,"0"))?u?1:-1:s<r?u?-1:1:0))}function he(t,r){return!(-1<(t=t.toString()).indexOf(".")&&r===0)&&(!(t=/^[-+]?0*([1-9]\d*)?(?:\.((?:\d*[1-9])*)0*)?$/.exec(t))[2]||t[2].length<=r)}function Ce(){return function(t,r){return 1>xe(t,r)}}function qe(){return function(t,r){return 0>xe(t,r)}}function we(){return function(t,r){return-1<xe(t,r)}}function Re(){return function(t,r){return 0<xe(t,r)}}function Ze(t,r){switch(r){case"required":return/(Z)|([+-])([01]\d):([0-5]\d)$/.test(t.toString());case"prohibited":return!/(Z)|([+-])([01]\d):([0-5]\d)$/.test(t.toString());case"optional":return!0}}function it(t){switch(t){case 1:case 0:case 6:case 3:case 18:case 22:case 21:case 20:case 23:case 44:return{};case 4:return{na:he,ya:Ce(),xc:qe(),za:we(),yc:Re()};case 9:case 8:case 7:case 11:case 12:case 13:case 15:case 14:return{Ea:Ze};default:return null}}T("Object.assign",function(t){return t||ge}),T("String.prototype.repeat",function(t){return t||function(r){var s=re(this,null,"repeat");if(0>r||1342177279<r)throw new RangeError("Invalid count value");r|=0;for(var i="";r;)1&r&&(i+=s),(r>>>=1)&&(s+=s);return i}}),T("String.prototype.padEnd",function(t){return t||function(r,s){var i=re(this,null,"padStart");return i+_e(s,r-i.length)}}),T("WeakMap",function(t){function r(D){if(this.h=(_+=Math.random()+1).toString(),D){D=j(D);for(var H;!(H=D.next()).done;)H=H.value,this.set(H[0],H[1])}}function s(){}function i(D){var H=typeof D;return H==="object"&&D!==null||H==="function"}function u(D){if(!te(D,b)){var H=new s;k(D,b,{value:H})}}function g(D){var H=Object[D];H&&(Object[D]=function(ae){return ae instanceof s?ae:(Object.isExtensible(ae)&&u(ae),H(ae))})}if(function(){if(!t||!Object.seal)return!1;try{var D=Object.seal({}),H=Object.seal({}),ae=new t([[D,2],[H,3]]);return ae.get(D)==2&&ae.get(H)==3&&(ae.delete(D),ae.set(H,4),!ae.has(D)&&ae.get(H)==4)}catch{return!1}}())return t;var b="$jscomp_hidden_"+Math.random();g("freeze"),g("preventExtensions"),g("seal");var _=0;return r.prototype.set=function(D,H){if(!i(D))throw Error("Invalid WeakMap key");if(u(D),!te(D,b))throw Error("WeakMap key fail: "+D);return D[b][this.h]=H,this},r.prototype.get=function(D){return i(D)&&te(D,b)?D[b][this.h]:void 0},r.prototype.has=function(D){return i(D)&&te(D,b)&&te(D[b],this.h)},r.prototype.delete=function(D){return!!(i(D)&&te(D,b)&&te(D[b],this.h))&&delete D[b][this.h]},r}),T("Map",function(t){function r(){var _={};return _.Ga=_.next=_.head=_}function s(_,D){var H=_.h;return I(function(){if(H){for(;H.head!=_.h;)H=H.Ga;for(;H.next!=H.head;)return H=H.next,{done:!1,value:D(H)};H=null}return{done:!0,value:void 0}})}function i(_,D){var H=D&&typeof D;H=="object"||H=="function"?g.has(D)?H=g.get(D):(H=""+ ++b,g.set(D,H)):H="p_"+D;var ae=_.o[H];if(ae&&te(_.o,H))for(_=0;_<ae.length;_++){var ve=ae[_];if(D!=D&&ve.key!=ve.key||D===ve.key)return{id:H,list:ae,index:_,ka:ve}}return{id:H,list:ae,index:-1,ka:void 0}}function u(_){if(this.o={},this.h=r(),this.size=0,_){_=j(_);for(var D;!(D=_.next()).done;)D=D.value,this.set(D[0],D[1])}}if(function(){if(!t||typeof t!="function"||!t.prototype.entries||typeof Object.seal!="function")return!1;try{var _=Object.seal({x:4}),D=new t(j([[_,"s"]]));if(D.get(_)!="s"||D.size!=1||D.get({x:4})||D.set({x:4},"t")!=D||D.size!=2)return!1;var H=D.entries(),ae=H.next();return!ae.done&&ae.value[0]==_&&ae.value[1]=="s"&&!((ae=H.next()).done||ae.value[0].x!=4||ae.value[1]!="t"||!H.next().done)}catch{return!1}}())return t;var g=new WeakMap;u.prototype.set=function(_,D){var H=i(this,_=_===0?0:_);return H.list||(H.list=this.o[H.id]=[]),H.ka?H.ka.value=D:(H.ka={next:this.h,Ga:this.h.Ga,head:this.h,key:_,value:D},H.list.push(H.ka),this.h.Ga.next=H.ka,this.h.Ga=H.ka,this.size++),this},u.prototype.delete=function(_){return!(!(_=i(this,_)).ka||!_.list||(_.list.splice(_.index,1),_.list.length||delete this.o[_.id],_.ka.Ga.next=_.ka.next,_.ka.next.Ga=_.ka.Ga,_.ka.head=null,this.size--,0))},u.prototype.clear=function(){this.o={},this.h=this.h.Ga=r(),this.size=0},u.prototype.has=function(_){return!!i(this,_).ka},u.prototype.get=function(_){return(_=i(this,_).ka)&&_.value},u.prototype.entries=function(){return s(this,function(_){return[_.key,_.value]})},u.prototype.keys=function(){return s(this,function(_){return _.key})},u.prototype.values=function(){return s(this,function(_){return _.value})},u.prototype.forEach=function(_,D){for(var H,ae=this.entries();!(H=ae.next()).done;)H=H.value,_.call(D,H[1],H[0],this)},u.prototype[Symbol.iterator]=u.prototype.entries;var b=0;return u}),T("Array.prototype.find",function(t){return t||function(r,s){return $e(this,r,s).Qb}}),T("String.prototype.startsWith",function(t){return t||function(r,s){var i=re(this,r,"startsWith"),u=i.length,g=r.length;s=Math.max(0,Math.min(0|s,i.length));for(var b=0;b<g&&s<u;)if(i[s++]!=r[b++])return!1;return b>=g}}),T("Array.prototype.fill",function(t){return t||function(r,s,i){var u=this.length||0;for(0>s&&(s=Math.max(0,u+s)),(i==null||i>u)&&(i=u),0>(i=Number(i))&&(i=Math.max(0,u+i)),s=Number(s||0);s<i;s++)this[s]=r;return this}}),T("Int8Array.prototype.fill",oe),T("Uint8Array.prototype.fill",oe),T("Uint8ClampedArray.prototype.fill",oe),T("Int16Array.prototype.fill",oe),T("Uint16Array.prototype.fill",oe),T("Int32Array.prototype.fill",oe),T("Uint32Array.prototype.fill",oe),T("Float32Array.prototype.fill",oe),T("Float64Array.prototype.fill",oe),T("Array.from",function(t){return t||function(r,s,i){s=s??function(_){return _};var u=[],g=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];if(typeof g=="function"){r=g.call(r);for(var b=0;!(g=r.next()).done;)u.push(s.call(i,g.value,b++))}else for(g=r.length,b=0;b<g;b++)u.push(s.call(i,r[b],b));return u}}),T("Object.is",function(t){return t||function(r,s){return r===s?r!==0||1/r==1/s:r!=r&&s!=s}}),T("Array.prototype.includes",function(t){return t||function(r,s){var i=this;i instanceof String&&(i=String(i));var u=i.length;for(0>(s=s||0)&&(s=Math.max(s+u,0));s<u;s++){var g=i[s];if(g===r||Object.is(g,r))return!0}return!1}}),T("String.prototype.includes",function(t){return t||function(r,s){return re(this,r,"includes").indexOf(r,s||0)!==-1}}),T("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),T("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991}),T("Math.trunc",function(t){return t||function(r){if(r=Number(r),isNaN(r)||r===1/0||r===-1/0||r===0)return r;var s=Math.floor(Math.abs(r));return 0>r?-s:s}}),T("Number.isFinite",function(t){return t||function(r){return typeof r=="number"&&!isNaN(r)&&r!==1/0&&r!==-1/0}}),T("String.prototype.padStart",function(t){return t||function(r,s){var i=re(this,null,"padStart");return _e(s,r-i.length)+i}}),T("Array.prototype.keys",function(t){return t||function(){return ie(this,function(r){return r})}}),T("Number.isInteger",function(t){return t||function(r){return!!Number.isFinite(r)&&r===Math.floor(r)}}),T("Number.isSafeInteger",function(t){return t||function(r){return Number.isInteger(r)&&Math.abs(r)<=Number.MAX_SAFE_INTEGER}}),T("Array.prototype.findIndex",function(t){return t||function(r,s){return $e(this,r,s).Jb}}),T("String.prototype.endsWith",function(t){return t||function(r,s){var i=re(this,r,"endsWith");s===void 0&&(s=i.length),s=Math.max(0,Math.min(0|s,i.length));for(var u=r.length;0<u&&0<s;)if(i[--s]!=r[--u])return!1;return 0>=u}}),T("String.fromCodePoint",function(t){return t||function(r){for(var s="",i=0;i<arguments.length;i++){var u=Number(arguments[i]);if(0>u||1114111<u||u!==Math.floor(u))throw new RangeError("invalid_code_point "+u);65535>=u?s+=String.fromCharCode(u):(u-=65536,s+=String.fromCharCode(u>>>10&1023|55296),s+=String.fromCharCode(1023&u|56320))}return s}}),T("String.prototype.codePointAt",function(t){return t||function(r){var s=re(this,null,"codePointAt"),i=s.length;if(0<=(r=Number(r)||0)&&r<i){r|=0;var u=s.charCodeAt(r);return 55296>u||56319<u||r+1===i||56320>(r=s.charCodeAt(r+1))||57343<r?u:1024*(u-55296)+r+9216}}}),T("Set",function(t){function r(s){if(this.h=new Map,s){s=j(s);for(var i;!(i=s.next()).done;)this.add(i.value)}this.size=this.h.size}return function(){if(!t||typeof t!="function"||!t.prototype.entries||typeof Object.seal!="function")return!1;try{var s=Object.seal({x:4}),i=new t(j([s]));if(!i.has(s)||i.size!=1||i.add(s)!=i||i.size!=1||i.add({x:4})!=i||i.size!=2)return!1;var u=i.entries(),g=u.next();return!g.done&&g.value[0]==s&&g.value[1]==s&&!(g=u.next()).done&&g.value[0]!=s&&g.value[0].x==4&&g.value[1]==g.value[0]&&u.next().done}catch{return!1}}()?t:(r.prototype.add=function(s){return s=s===0?0:s,this.h.set(s,s),this.size=this.h.size,this},r.prototype.delete=function(s){return s=this.h.delete(s),this.size=this.h.size,s},r.prototype.clear=function(){this.h.clear(),this.size=0},r.prototype.has=function(s){return this.h.has(s)},r.prototype.entries=function(){return this.h.entries()},r.prototype.values=function(){return this.h.values()},r.prototype.keys=r.prototype.values,r.prototype[Symbol.iterator]=r.prototype.values,r.prototype.forEach=function(s,i){var u=this;this.h.forEach(function(g){return s.call(i,g,g,u)})},r)}),T("Math.log10",function(t){return t||function(r){return Math.log(r)/Math.LN10}}),T("Object.values",function(t){return t||function(r){var s,i=[];for(s in r)te(r,s)&&i.push(r[s]);return i}}),T("Number.isNaN",function(t){return t||function(r){return typeof r=="number"&&isNaN(r)}}),T("Array.prototype.values",function(t){return t||function(){return ie(this,function(r,s){return s})}}),T("Object.getOwnPropertySymbols",function(t){return t||function(){return[]}});var De={},Ie={};function nt(t){return/^([+-]?(\d*(\.\d*)?([eE][+-]?\d*)?|INF)|NaN)$/.test(t)}function lt(t){return/^[_:A-Za-z][-._:A-Za-z0-9]*$/.test(t)}function Ot(t){return lt(t)&&/^[_A-Za-z]([-._A-Za-z0-9])*$/.test(t)}function fe(t){return(t=t.split(":")).length===1?Ot(t[0]):t.length===2&&Ot(t[0])&&Ot(t[1])}function le(t){return!/[\u0009\u000A\u000D]/.test(t)}function ye(t){return Ot(t)}var rt=new Map([[45,function(){return!0}],[46,function(){return!0}],[1,function(){return!0}],[0,function(t){return/^(0|1|true|false)$/.test(t)}],[6,function(t){return nt(t)}],[3,nt],[4,function(t){return/^[+-]?\d*(\.\d*)?$/.test(t)}],[18,function(t){return/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.test(t)}],[9,function(t){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[8,function(t){return/^(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[7,function(t){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[11,function(t){return/^-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[12,function(t){return/^-?([1-9][0-9]{3,}|0[0-9]{3})(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[13,function(t){return/^--(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[15,function(t){return/^---(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[14,function(t){return/^--(0[1-9]|1[0-2])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/.test(t)}],[22,function(t){return/^([0-9A-Fa-f]{2})*$/.test(t)}],[21,function(t){return new RegExp(/^((([A-Za-z0-9+/] ?){4})*((([A-Za-z0-9+/] ?){3}[A-Za-z0-9+/])|(([A-Za-z0-9+/] ?){2}[AEIMQUYcgkosw048] ?=)|(([A-Za-z0-9+/] ?)[AQgw] ?= ?=)))?$/).test(t)}],[20,function(){return!0}],[44,fe],[48,le],[52,function(t){return le(t)&&!/^ | {2,}| $/.test(t)}],[51,function(t){return/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/.test(t)}],[50,function(t){return/^[-._:A-Za-z0-9]+$/.test(t)}],[25,lt],[23,fe],[24,Ot],[42,ye],[41,ye],[26,function(t){return Ot(t)}],[5,function(t){return/^[+-]?\d+$/.test(t)}],[16,function(t){return/^-?P[0-9]+(Y([0-9]+M)?|M)$/.test(t)}],[17,function(t){return/^-?P([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9]+)?S)?)?$/.test(t)}]]),Et=Object.create(null);function ue(t,r){if(!Et[r])throw Error("Unknown type");return{type:r,value:t}}[{D:0,name:59},{D:0,name:46,parent:59,L:{whiteSpace:"preserve"}},{D:0,name:19,parent:46},{D:0,name:1,parent:46},{D:0,name:0,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:4,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:6,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:3,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:18,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:9,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:8,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:7,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:11,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:12,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:13,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:15,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:14,parent:46,L:{Ea:"optional",whiteSpace:"collapse"}},{D:0,name:22,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:21,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:20,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:23,parent:46,L:{whiteSpace:"collapse"}},{D:0,name:44,parent:46,L:{whiteSpace:"collapse"}},{D:1,name:10,T:9,L:{whiteSpace:"collapse",Ea:"required"}},{D:1,name:48,T:1,L:{whiteSpace:"replace"}},{D:1,name:52,T:48,L:{whiteSpace:"collapse"}},{D:1,name:51,T:52,L:{whiteSpace:"collapse"}},{D:1,name:50,T:52,L:{whiteSpace:"collapse"}},{D:2,name:49,type:50,L:{minLength:1,whiteSpace:"collapse"}},{D:1,name:25,T:52,L:{whiteSpace:"collapse"}},{D:1,name:24,T:25,L:{whiteSpace:"collapse"}},{D:1,name:42,T:24,L:{whiteSpace:"collapse"}},{D:1,name:41,T:24,L:{whiteSpace:"collapse"}},{D:2,name:43,type:41,L:{minLength:1,whiteSpace:"collapse"}},{D:1,name:26,T:24,L:{whiteSpace:"collapse"}},{D:2,name:40,type:26,L:{minLength:1,whiteSpace:"collapse"}},{D:0,name:5,parent:4,L:{na:0,whiteSpace:"collapse"}},{D:1,name:27,T:5,L:{na:0,ya:"0",whiteSpace:"collapse"}},{D:1,name:28,T:27,L:{na:0,ya:"-1",whiteSpace:"collapse"}},{D:1,name:31,T:5,L:{na:0,ya:"9223372036854775807",za:"-9223372036854775808",whiteSpace:"collapse"}},{D:1,name:32,T:31,L:{na:0,ya:"2147483647",za:"-2147483648",whiteSpace:"collapse"}},{D:1,name:33,T:32,L:{na:0,ya:"32767",za:"-32768",whiteSpace:"collapse"}},{D:1,name:34,T:33,L:{na:0,ya:"127",za:"-128",whiteSpace:"collapse"}},{D:1,name:30,T:5,L:{na:0,za:"0",whiteSpace:"collapse"}},{D:1,name:36,T:30,L:{na:0,ya:"18446744073709551615",za:"0",whiteSpace:"collapse"}},{D:1,name:35,T:36,L:{na:0,ya:"4294967295",za:"0",whiteSpace:"collapse"}},{D:1,name:38,T:35,L:{na:0,ya:"65535",za:"0",whiteSpace:"collapse"}},{D:1,name:37,T:38,L:{na:0,ya:"255",za:"0",whiteSpace:"collapse"}},{D:1,name:29,T:30,L:{na:0,za:"1",whiteSpace:"collapse"}},{D:1,name:16,T:18,L:{whiteSpace:"collapse"}},{D:1,name:17,T:18,L:{whiteSpace:"collapse"}},{D:1,name:60,T:59},{D:3,name:39,Fa:[]},{D:1,name:61,T:60},{D:1,name:62,T:60},{D:0,name:53,parent:59},{D:1,name:54,T:53},{D:1,name:58,T:53},{D:1,name:47,T:53},{D:1,name:56,T:53},{D:1,name:57,T:53},{D:1,name:55,T:53},{D:3,name:2,Fa:[4,5,6,3]},{D:3,name:63,Fa:[]}].forEach(function(t){var r=t.name,s=t.L||{};switch(t.D){case 0:t=t.parent?Et[t.parent]:null;var i=rt.get(r)||null;Et[r]={D:0,type:r,Na:s,parent:t,kb:i,Pa:it(r),Fa:[]};break;case 1:t=Et[t.T],i=rt.get(r)||null,Et[r]={D:1,type:r,Na:s,parent:t,kb:i,Pa:t.Pa,Fa:[]};break;case 2:Et[r]={D:2,type:r,Na:s,parent:Et[t.type],kb:null,Pa:De,Fa:[]};break;case 3:t=t.Fa.map(function(u){return Et[u]}),Et[r]={D:3,type:r,Na:s,parent:null,kb:null,Pa:Ie,Fa:t}}});var Kt=ue(!0,0),He=ue(!1,0);function Ct(t){return Error("FORG0006: "+(t===void 0?"A wrong argument type was specified in a function call.":t))}function Xt(t,r){this.done=t,this.value=r}var me=new Xt(!0,void 0);function Se(t){return new Xt(!1,t)}function ut(t,r){if(r.D===3)return!!r.Fa.find(function(s){return ut(t,s)});for(;t;){if(t.type===r.type)return!0;if(t.D===3)return!!t.Fa.find(function(s){return Z(s.type,r.type)});t=t.parent}return!1}function Z(t,r){return t===r||ut(Et[t],Et[r])}function vt(t){this.o=J,this.h=t;var r=-1;this.value={next:function(){return++r>=t.length?me:Se(t[r])}}}function Yt(){this.value={next:function(){return me}}}function Un(t,r){this.type=t,this.value=r}(y=vt.prototype).sb=function(){return this},y.filter=function(t){var r=this,s=-1;return this.o.create({next:function(){for(s++;s<r.h.length&&!t(r.h[s],s,r);)s++;return s>=r.h.length?me:Se(r.h[s])}})},y.first=function(){return this.h[0]},y.O=function(){return this.h},y.ha=function(){if(Z(this.h[0].type,53))return!0;throw Ct("Cannot determine the effective boolean value of a sequence with a length higher than one.")},y.Qa=function(){return this.h.length},y.G=function(){return!1},y.wa=function(){return!1},y.map=function(t){var r=this,s=-1;return this.o.create({next:function(){return++s>=r.h.length?me:Se(t(r.h[s],s,r))}},this.h.length)},y.M=function(t){return t(this.h)},y.Z=function(t){return t.multiple?t.multiple(this):t.default(this)},(y=Yt.prototype).sb=function(){return this},y.filter=function(){return this},y.first=function(){return null},y.O=function(){return[]},y.ha=function(){return!1},y.Qa=function(){return 0},y.G=function(){return!0},y.wa=function(){return!1},y.map=function(){return this},y.M=function(t){return t([])},y.Z=function(t){return t.empty?t.empty(this):t.default(this)};var ke={},Xe=(ke[0]="xs:boolean",ke[1]="xs:string",ke[2]="xs:numeric",ke[3]="xs:double",ke[4]="xs:decimal",ke[5]="xs:integer",ke[6]="xs:float",ke[7]="xs:date",ke[8]="xs:time",ke[9]="xs:dateTime",ke[10]="xs:dateTimeStamp",ke[11]="xs:gYearMonth",ke[12]="xs:gYear",ke[13]="xs:gMonthDay",ke[14]="xs:gMonth",ke[15]="xs:gDay",ke[16]="xs:yearMonthDuration",ke[17]="xs:dayTimeDuration",ke[18]="xs:duration",ke[19]="xs:untypedAtomic",ke[20]="xs:anyURI",ke[21]="xs:base64Binary",ke[22]="xs:hexBinary",ke[23]="xs:QName",ke[24]="xs:NCName",ke[25]="xs:Name",ke[26]="xs:ENTITY",ke[27]="xs:nonPositiveInteger",ke[28]="xs:negativeInteger",ke[29]="xs:positiveInteger",ke[30]="xs:nonNegativeInteger",ke[31]="xs:long",ke[32]="xs:int",ke[33]="xs:short",ke[34]="xs:byte",ke[35]="xs:unsignedInt",ke[36]="xs:unsignedLong",ke[37]="xs:unsignedByte",ke[38]="xs:unsignedShort",ke[39]="xs:error",ke[40]="xs:ENTITIES",ke[41]="xs:IDREF",ke[42]="xs:ID",ke[43]="xs:IDREFS",ke[44]="xs:NOTATION",ke[45]="xs:anySimpleType",ke[46]="xs:anyAtomicType",ke[47]="attribute()",ke[48]="xs:normalizedString",ke[49]="xs:NMTOKENS",ke[50]="xs:NMTOKEN",ke[51]="xs:language",ke[52]="xs:token",ke[53]="node()",ke[54]="element()",ke[55]="document-node()",ke[56]="text()",ke[57]="processing-instruction()",ke[58]="comment()",ke[59]="item()",ke[60]="function(*)",ke[61]="map(*)",ke[62]="array(*)",ke[63]="none",ke),$t={"xs:boolean":0,"xs:string":1,"xs:numeric":2,"xs:double":3,"xs:decimal":4,"xs:integer":5,"xs:float":6,"xs:date":7,"xs:time":8,"xs:dateTime":9,"xs:dateTimeStamp":10,"xs:gYearMonth":11,"xs:gYear":12,"xs:gMonthDay":13,"xs:gMonth":14,"xs:gDay":15,"xs:yearMonthDuration":16,"xs:dayTimeDuration":17,"xs:duration":18,"xs:untypedAtomic":19,"xs:anyURI":20,"xs:base64Binary":21,"xs:hexBinary":22,"xs:QName":23,"xs:NCName":24,"xs:Name":25,"xs:ENTITY":26,"xs:nonPositiveInteger":27,"xs:negativeInteger":28,"xs:positiveInteger":29,"xs:nonNegativeInteger":30,"xs:long":31,"xs:int":32,"xs:short":33,"xs:byte":34,"xs:unsignedInt":35,"xs:unsignedLong":36,"xs:unsignedByte":37,"xs:unsignedShort":38,"xs:error":39,"xs:ENTITIES":40,"xs:IDREF":41,"xs:ID":42,"xs:IDREFS":43,"xs:NOTATION":44,"xs:anySimpleType":45,"xs:anyAtomicType":46,"attribute()":47,"xs:normalizedString":48,"xs:NMTOKENS":49,"xs:NMTOKEN":50,"xs:language":51,"xs:token":52,"node()":53,"element()":54,"document-node()":55,"text()":56,"processing-instruction()":57,"comment()":58,"item()":59,"function(*)":60,"map(*)":61,"array(*)":62};function St(t){return t.g===2?Xe[t.type]+"*":t.g===1?Xe[t.type]+"+":t.g===0?Xe[t.type]+"?":Xe[t.type]}function Pt(t){if(t==="none")throw Error('XPST0051: The type "none" could not be found');if(!t.startsWith("xs:")&&0<=t.indexOf(":"))throw Error("XPST0081: Invalid prefix for input "+t);var r=$t[t];if(r===void 0)throw Error('XPST0051: The type "'+t+'" could not be found');return r}function dn(t){switch(t[t.length-1]){case"*":return{type:Pt(t.substr(0,t.length-1)),g:2};case"?":return{type:Pt(t.substr(0,t.length-1)),g:0};case"+":return{type:Pt(t.substr(0,t.length-1)),g:1};default:return{type:Pt(t),g:3}}}function kn(t){switch(t){case"*":return 2;case"?":return 0;case"+":return 1;default:return 3}}function Pn(t){var r=t.value;if(Z(t.type,53))return!0;if(Z(t.type,0))return r;if(Z(t.type,1)||Z(t.type,20)||Z(t.type,19))return r.length!==0;if(Z(t.type,2))return!isNaN(r)&&r!==0;throw Ct("Cannot determine the effective boolean value of a value with the type "+Xe[t.type])}function En(t,r){var s=this;this.B=J,this.value={next:function(i){return s.o!==null&&s.h>=s.o?me:s.v[s.h]!==void 0?Se(s.v[s.h++]):(i=t.next(i)).done?(s.o=s.h,i):((s.l||2>s.h)&&(s.v[s.h]=i.value),s.h++,i)}},this.l=!1,this.v=[],this.h=0,this.o=r===void 0?null:r}function mn(t,r){t.h=r===void 0?0:r}function ot(t){this.v=J,this.h=t;var r=!1;this.value={next:function(){return r?me:(r=!0,Se(t))}},this.o=null}(y=En.prototype).sb=function(){return this.B.create(this.O())},y.filter=function(t){var r=this,s=-1,i=this.value;return this.B.create({next:function(u){for(s++,u=i.next(u);!u.done&&!t(u.value,s,r);)s++,u=i.next(0);return u}})},y.first=function(){if(this.v[0]!==void 0)return this.v[0];var t=this.value.next(0);return mn(this),t.done?null:t.value},y.O=function(){if(this.h>this.v.length&&this.o!==this.v.length)throw Error("Implementation error: Sequence Iterator has progressed.");var t=this.value;this.l=!0;for(var r=t.next(0);!r.done;)r=t.next(0);return this.v},y.ha=function(){var t=this.value,r=this.h;mn(this);var s=t.next(0);if(s.done)return mn(this,r),!1;if(Z((s=s.value).type,53))return mn(this,r),!0;if(!t.next(0).done)throw Ct("Cannot determine the effective boolean value of a sequence with a length higher than one.");return mn(this,r),Pn(s)},y.Qa=function(t){if(this.o!==null)return this.o;if(t!==void 0&&t)return-1;t=this.h;var r=this.O().length;return mn(this,t),r},y.G=function(){return this.o===0||this.first()===null},y.wa=function(){if(this.o!==null)return this.o===1;var t=this.value,r=this.h;return mn(this),t.next(0).done?(mn(this,r),!1):(t=t.next(0),mn(this,r),t.done)},y.map=function(t){var r=this,s=0,i=this.value;return this.B.create({next:function(u){return(u=i.next(u)).done?me:Se(t(u.value,s++,r))}},this.o)},y.M=function(t,r){var s,i=this.value,u=[],g=!0;return function(){for(var b=i.next(g?0:r);!b.done;b=i.next(r))g=!1,u.push(b.value);s=t(u).value}(),this.B.create({next:function(){return s.next(0)}})},y.Z=function(t){function r(u){i=u.value,(u=u.Qa(!0))!==-1&&(s.o=u)}var s=this,i=null;return this.B.create({next:function(u){return i?i.next(u):s.G()?(r(t.empty?t.empty(s):t.default(s)),i.next(u)):s.wa()?(r(t.m?t.m(s):t.default(s)),i.next(u)):(r(t.multiple?t.multiple(s):t.default(s)),i.next(u))}})},(y=ot.prototype).sb=function(){return this},y.filter=function(t){return t(this.h,0,this)?this:this.v.create()},y.first=function(){return this.h},y.O=function(){return[this.h]},y.ha=function(){return this.o===null&&(this.o=Pn(this.h)),this.o},y.Qa=function(){return 1},y.G=function(){return!1},y.wa=function(){return!0},y.map=function(t){return this.v.create(t(this.h,0,this))},y.M=function(t){return t([this.h])},y.Z=function(t){return t.m?t.m(this):t.default(this)};var Oe=new Yt;function nr(t,r){if((t=t===void 0?null:t)===null)return Oe;if(Array.isArray(t))switch(t.length){case 0:return Oe;case 1:return new ot(t[0]);default:return new vt(t)}return t.next?new En(t,r===void 0?null:r):new ot(t)}var J={create:nr,m:function(t){return new ot(t)},empty:function(){return nr()},ba:function(){return nr(Kt)},W:function(){return nr(He)}};function ha(t){var r=[],s=t.value;return function(){var i=0;return J.create({next:function(){if(r[i]!==void 0)return r[i++];var u=s.next(0);return u.done?u:r[i++]=u}})}}function Za(t,r,s){this.namespaceURI=r||null,this.prefix=t||"",this.localName=s}function ar(t){var r=t.j,s=t.arity,i=t.Sa!==void 0&&t.Sa,u=t.I!==void 0&&t.I,g=t.localName,b=t.namespaceURI,_=t.i;for(t=t.value,Un.call(this,60,null),this.value=t,this.I=u,u=-1,t=0;t<r.length;t++)r[t]===4&&(u=t);-1<u&&(t=Array(s-(r.length-1)).fill(r[u-1]),r=r.slice(0,u).concat(t)),this.o=r,this.v=s,this.da=i,this.B=g,this.l=b,this.s=_}function to(t,r){var s=t.value,i=r.map(function(u){return u===null?null:ha(u)});return r=new ar({j:r=r.reduce(function(u,g,b){return g===null&&u.push(t.o[b]),u},[]),arity:r.length,Sa:!0,I:t.I,localName:"boundFunction",namespaceURI:t.l,i:t.s,value:function(u,g,b){var _=Array.from(arguments).slice(3),D=i.map(function(H){return H===null?_.shift():H()});return s.apply(void 0,[u,g,b].concat(D))}}),J.m(r)}function ds(t,r){var s=[];return t!==2&&t!==1||s.push("type-1-or-type-2"),s.push("type-"+t),r&&s.push("name-"+r),s}function qn(t){var r=t.node.nodeType;if(r===2||r===1)var s=t.node.localName;return ds(r,s)}function jr(t){var r=t.nodeType;if(r===2||r===1)var s=t.localName;return ds(r,s)}function na(){}function Mr(){}Za.prototype.Ca=function(){return this.prefix?this.prefix+":"+this.localName:this.localName},N(ar,Un),ar.prototype.Sa=function(){return this.da},na.prototype.getAllAttributes=function(t,r){return r=r===void 0?null:r,t.nodeType!==1?[]:(t=Array.from(t.attributes),r===null?t:t.filter(function(s){return jr(s).includes(r)}))},na.prototype.getAttribute=function(t,r){return t.nodeType!==1?null:t.getAttribute(r)},na.prototype.getChildNodes=function(t,r){return r=r===void 0?null:r,t=Array.from(t.childNodes),r===null?t:t.filter(function(s){return jr(s).includes(r)})},na.prototype.getData=function(t){return t.nodeType===2?t.value:t.data},na.prototype.getFirstChild=function(t,r){for(r=r===void 0?null:r,t=t.firstChild;t;t=t.nextSibling)if(r===null||jr(t).includes(r))return t;return null},na.prototype.getLastChild=function(t,r){for(r=r===void 0?null:r,t=t.lastChild;t;t=t.previousSibling)if(r===null||jr(t).includes(r))return t;return null},na.prototype.getNextSibling=function(t,r){for(r=r===void 0?null:r,t=t.nextSibling;t;t=t.nextSibling)if(r===null||jr(t).includes(r))return t;return null},na.prototype.getParentNode=function(t,r){return r=r===void 0?null:r,(t=t.nodeType===2?t.ownerElement:t.parentNode)&&(r===null||jr(t).includes(r))?t:null},na.prototype.getPreviousSibling=function(t,r){for(r=r===void 0?null:r,t=t.previousSibling;t;t=t.previousSibling)if(r===null||jr(t).includes(r))return t;return null},(y=Mr.prototype).insertBefore=function(t,r,s){return t.insertBefore(r,s)},y.removeAttributeNS=function(t,r,s){return t.removeAttributeNS(r,s)},y.removeChild=function(t,r){return t.removeChild(r)},y.setAttributeNS=function(t,r,s,i){t.setAttributeNS(r,s,i)},y.setData=function(t,r){t.data=r};var Do=new Mr;function Ua(t){this.h=t}function Zn(t){return t.Ta!==void 0}function gr(t,r,s){var i=null;return r&&(Zn(r.node)?i={F:r.F,offset:s,parent:r.node}:r.F&&(i=r.F)),{node:t,F:i}}function ur(t){this.h=t,this.o=[]}function yo(t,r,s){return t.getAllAttributes(r.node,s===void 0?null:s).map(function(i){return gr(i,r,i.nodeName)})}function Ra(t,r,s){return Zn(r=r.node)?(t=r.attributes.find(function(i){return s===i.name}))?t.value:null:(t=t.h.getAttribute(r,s))?t:null}function _r(t,r,s){return t.getChildNodes(r.node,s===void 0?null:s).map(function(i,u){return gr(i,r,u)})}function Tn(t,r){return t.getData(r.node)}function Jo(t,r,s){var i=r.node;return Zn(i)?t=i.childNodes[0]:((s=t.h.getFirstChild(i,s===void 0?null:s))&&s.nodeType===10&&(s=t.h.getNextSibling(s)),t=s),t?gr(t,r,0):null}function fs(t,r,s){s=s===void 0?null:s;var i=r.node;return Zn(i)?(t=i.childNodes.length-1,i=i.childNodes[t]):((i=t.h.getLastChild(i,s))&&i.nodeType===10&&(i=t.h.getPreviousSibling(i)),t=t.getChildNodes(r.node,s).length-1),i?gr(i,r,t):null}function Co(t,r,s){s=s===void 0?null:s;var i=r.node,u=r.F;if(Zn(i)){if(u)var g=u.offset+1,b=u.parent.childNodes[g]}else{if(!u){for(b=i;b&&(!(b=t.h.getNextSibling(b,s))||b.nodeType===10););return b?{node:b,F:null}:null}g=u.offset+1;var _=zn(t,r,null);b=t.getChildNodes(_.node,s)[g]}return b?gr(b,_||zn(t,r,s),g):null}function zn(t,r,s){s=s===void 0?null:s;var i=r.node,u=r.F;if(u)typeof u.offset=="number"&&i===u.parent.childNodes[u.offset]||typeof u.offset=="string"&&i===u.parent.attributes.find(function(g){return u.offset===g.nodeName})?(t=u.parent,r=u.F):(t=t.getParentNode(i,s),r=u);else{if(Zn(i))return null;t=t.getParentNode(i,s),r=null}return t?{node:t,F:r}:null}function cr(t,r,s){s=s===void 0?null:s;var i=r.node,u=r.F;if(Zn(i)){if(u)var g=u.offset-1,b=u.parent.childNodes[g]}else{if(!u){for(b=i;b&&(!(b=t.h.getPreviousSibling(b,s))||b.nodeType===10););return b?{node:b,F:null}:null}g=u.offset-1;var _=zn(t,r,null);b=t.getChildNodes(_.node,s)[g]}return b?gr(b,_||zn(t,r,s),g):null}function Pr(t,r,s,i,u){return u.M(function(g){var b=j(g).next().value;return i.M(function(_){_=j(_).next().value;var D=b.value;if(0>=D||D>_.P.length)throw Error("FOAY0001: array position out of bounds.");return _.P[D-1]()})})}function rr(t){ar.call(this,{value:function(s,i,u,g){return Pr(s,i,u,J.m(r),g)},localName:"get",namespaceURI:"http://www.w3.org/2005/xpath-functions/array",j:[{type:5,g:3}],arity:1,i:{type:59,g:2}});var r=this;this.type=62,this.P=t}function Oo(t){switch(t.node.nodeType){case 2:return 47;case 1:return 54;case 3:case 4:return 56;case 7:return 57;case 8:return 58;case 9:return 55;default:return 53}}function Ln(t){return{type:Oo(t),value:t}}function Hn(t,r){return t=t.map(function(s){return s.first()}),r(t)}function bo(t,r){var s=Z(t.type,1)||Z(t.type,20)||Z(t.type,19),i=Z(r.type,1)||Z(r.type,20)||Z(r.type,19);return s&&i?t.value===r.value:(s=Z(t.type,4)||Z(t.type,3)||Z(t.type,6),i=Z(r.type,4)||Z(r.type,3)||Z(r.type,6),s&&i?!(!isNaN(t.value)||!isNaN(r.value))||t.value===r.value:(s=Z(t.type,0)||Z(t.type,22)||Z(t.type,18)||Z(t.type,23)||Z(t.type,44),i=Z(r.type,0)||Z(r.type,22)||Z(r.type,18)||Z(r.type,23)||Z(r.type,44),!(!s||!i)&&t.value===r.value))}function It(t,r,s,i,u){return Hn([i,u],function(g){var b=(g=j(g)).next().value,_=g.next().value;return(g=b.h.find(function(D){return bo(D.key,_)}))?g.value():J.empty()})}function Zt(t){ar.call(this,{j:[{type:59,g:3}],arity:1,localName:"get",namespaceURI:"http://www.w3.org/2005/xpath-functions/map",value:function(s,i,u,g){return It(s,i,u,J.m(r),g)},i:{type:59,g:2}});var r=this;this.type=61,this.h=t}function Kn(){}function aa(t,r){return t.eb()===r.eb()&&t.fb()===r.fb()}function hn(t){if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw Error("FODT0002: Number of seconds given to construct DayTimeDuration overflows MAX_SAFE_INTEGER or MIN_SAFE_INTEGER");this.ea=t}function Xn(t){var r=Math.abs(t.bb()),s=Math.abs(t.getHours()),i=Math.abs(t.getMinutes());return s=(s?s+"H":"")+(i?i+"M":"")+((t=Math.abs(t.getSeconds()))?t+"S":""),(r=r?r+"D":"")&&s?r+"T"+s:r||(s?"T"+s:"T0S")}function Ga(t,r,s,i,u,g){return t=86400*t+3600*r+60*s+i+u,new hn(g||t===0?t:-t)}function hs(t){return(t=/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(?:T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.exec(t))?Ga(t[4]?parseInt(t[4],10):0,t[5]?parseInt(t[5],10):0,t[6]?parseInt(t[6],10):0,t[7]?parseInt(t[7],10):0,t[8]?parseFloat(t[8]):0,!t[1]):null}function Bo(t){return(t=/^(Z)|([+-])([01]\d):([0-5]\d)$/.exec(t))[1]==="Z"?Ga(0,0,0,0,0,!0):Ga(0,t[3]?parseInt(t[3],10):0,t[4]?parseInt(t[4],10):0,0,0,t[2]==="+")}function Ja(t,r){if(isNaN(r))throw Error("FOCA0005: Cannot multiply xs:dayTimeDuration by NaN");if((t=t.ea*r)>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while multiplying xs:dayTimeDuration");return new hn(t<Number.MIN_SAFE_INTEGER||Object.is(-0,t)?0:t)}function $o(t){return t?parseInt(t,10):null}function wo(t){var r=(t+="").startsWith("-");return r&&(t=t.substring(1)),(r?"-":"")+t.padStart(4,"0")}function pr(t){return(t+"").padStart(2,"0")}function Ar(t){return(t+="").split(".")[0].length===1&&(t=t.padStart(t.length+1,"0")),t}function Va(t){return t.getHours()===0&&t.getMinutes()===0?"Z":(t.qa()?"+":"-")+pr(Math.abs(t.getHours()))+":"+pr(Math.abs(t.getMinutes()))}function Qa(t,r,s,i,u,g,b,_,D){this.v=t,this.h=r,this.o=s+(i===24?1:0),this.l=i===24?0:i,this.s=u,this.B=g,this.sa=b,this.Y=_,this.type=D===void 0?9:D}function Fa(t){var r=/^(?:(-?\d{4,}))?(?:--?(\d\d))?(?:-{1,3}(\d\d))?(T)?(?:(\d\d):(\d\d):(\d\d))?(\.\d+)?(Z|(?:[+-]\d\d:\d\d))?$/.exec(t);t=r[1]?parseInt(r[1],10):null;var s=$o(r[2]),i=$o(r[3]),u=r[4],g=$o(r[5]),b=$o(r[6]),_=$o(r[7]),D=r[8]?parseFloat(r[8]):0;if(r=r[9]?Bo(r[9]):null,t&&(-271821>t||273860<t))throw Error("FODT0001: Datetime year is out of bounds");return u?new Qa(t,s,i,g,b,_,D,r,9):g!==null&&b!==null&&_!==null?new Qa(1972,12,31,g,b,_,D,r,8):t!==null&&s!==null&&i!==null?new Qa(t,s,i,0,0,0,0,r,7):t!==null&&s!==null?new Qa(t,s,1,0,0,0,0,r,11):s!==null&&i!==null?new Qa(1972,s,i,0,0,0,0,r,13):t!==null?new Qa(t,1,1,0,0,0,0,r,12):s!==null?new Qa(1972,s,1,0,0,0,0,r,14):new Qa(1972,12,i,0,0,0,0,r,15)}function Ir(t,r){switch(r){case 15:return new Qa(1972,12,t.o,0,0,0,0,t.Y,15);case 14:return new Qa(1972,t.h,1,0,0,0,0,t.Y,14);case 12:return new Qa(t.v,1,1,0,0,0,0,t.Y,12);case 13:return new Qa(1972,t.h,t.o,0,0,0,0,t.Y,13);case 11:return new Qa(t.v,t.h,1,0,0,0,0,t.Y,11);case 8:return new Qa(1972,12,31,t.l,t.s,t.B,t.sa,t.Y,8);case 7:return new Qa(t.v,t.h,t.o,0,0,0,0,t.Y,7);default:return new Qa(t.v,t.h,t.o,t.l,t.s,t.B,t.sa,t.Y,9)}}function Lr(t,r){return r=t.Y||r||Bo("Z"),new Date(Date.UTC(t.v,t.h-1,t.o,t.l-r.getHours(),t.s-r.getMinutes(),t.B,1e3*t.sa))}function Hr(t,r,s){var i=Lr(t,s).getTime();return i===(s=Lr(r,s).getTime())?t.sa===r.sa?0:t.sa>r.sa?1:-1:i>s?1:-1}function dr(t,r,s){return Hr(t,r,s)===0}function oo(t,r,s){return new hn(t=(Lr(t,s).getTime()-Lr(r,s).getTime())/1e3)}function vo(t){throw Error("Not implemented: adding durations to "+Xe[t.type])}function Na(t){throw Error("Not implemented: subtracting durations from "+Xe[t.type])}function Cs(t,r){if(t===null)return null;switch(typeof t){case"boolean":return t?Kt:He;case"number":return ue(t,3);case"string":return ue(t,1);case"object":if("nodeType"in t)return Ln({node:t,F:null});if(Array.isArray(t))return new rr(t.map(function(i){return i===void 0?function(){return J.empty()}:ha(i=(i=Cs(i))===null?J.empty():J.m(i))}));if(t instanceof Date){var s=Fa(t.toISOString());return ue(s,s.type)}return new Zt(Object.keys(t).filter(function(i){return t[i]!==void 0}).map(function(i){var u=Cs(t[i]);return u=u===null?J.empty():J.m(u),{key:ue(i,1),value:ha(u)}}))}throw Error("Value "+String(t)+' of type "'+typeof t+'" is not adaptable to an XPath value.')}function mi(t,r){if(typeof t!="number"&&(typeof t!="string"||!rt.get(r)(t)))throw Error("Cannot convert JavaScript value '"+t+"' to the XPath type "+Xe[r]+" since it is not valid.")}function xo(t,r,s){if(r===null)return null;switch(t){case 0:return r?Kt:He;case 1:return ue(r+"",1);case 3:case 2:return mi(r,3),ue(+r,3);case 4:return mi(r,t),ue(+r,4);case 5:return mi(r,t),ue(0|r,5);case 6:return mi(r,t),ue(+r,6);case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:if(!(r instanceof Date))throw Error("The JavaScript value "+r+" with type "+typeof r+" is not a valid type to be converted to an XPath "+Xe[t]+".");return ue(Ir(Fa(r.toISOString()),t),t);case 53:case 47:case 55:case 54:case 56:case 57:case 58:if(typeof r!="object"||!("nodeType"in r))throw Error("The JavaScript value "+r+" with type "+typeof r+" is not a valid type to be converted to an XPath "+Xe[t]+".");return Ln({node:r,F:null});case 59:case 61:return Cs(r);default:throw Error('Values of the type "'+Xe[t]+'" can not be adapted from JavaScript to equivalent XPath values.')}}function Yr(t,r,s){if(s.g===0)return(r=xo(s.type,r))===null?[]:[r];if(s.g===2||s.g===1){if(!Array.isArray(r))throw Error("The JavaScript value "+r+" should be an array if it is to be converted to "+St(s)+".");return r.map(function(u){return xo(s.type,u)}).filter(function(u){return u!==null})}var i=xo(s.type,r);if(i===null)throw Error("The JavaScript value "+r+" should be a single entry if it is to be converted to "+St(s)+".");return[i]}function Nr(t,r,s){return s=s===void 0?{type:59,g:0}:s,J.create(Yr(t,r,s))}function va(){var t=t===void 0?Math.floor(Math.random()*Ro):t;this.h=Math.abs(t%Ro)}(y=Ua.prototype).insertBefore=function(t,r,s){return this.h.insertBefore(t,r,s)},y.removeAttributeNS=function(t,r,s){return this.h.removeAttributeNS(t,r,s)},y.removeChild=function(t,r){return this.h.removeChild(t,r)},y.setAttributeNS=function(t,r,s,i){this.h.setAttributeNS(t,r,s,i)},y.setData=function(t,r){this.h.setData(t,r)},ur.prototype.getAllAttributes=function(t,r){return Zn(t)?t.attributes:this.h.getAllAttributes(t,r===void 0?null:r)},ur.prototype.getChildNodes=function(t,r){return r=Zn(t)?t.childNodes:this.h.getChildNodes(t,r===void 0?null:r),t.nodeType===9?r.filter(function(s){return s.nodeType!==10}):r},ur.prototype.getData=function(t){return Zn(t)?t.nodeType===2?t.value:t.data:this.h.getData(t)||""},ur.prototype.getParentNode=function(t,r){return this.h.getParentNode(t,r===void 0?null:r)},N(rr,ar),N(Zt,ar),(y=Kn.prototype).bb=function(){return 0},y.getHours=function(){return 0},y.getMinutes=function(){return 0},y.cb=function(){return 0},y.eb=function(){return 0},y.fb=function(){return 0},y.getSeconds=function(){return 0},y.gb=function(){return 0},y.qa=function(){return!0},N(hn,Kn),(y=hn.prototype).bb=function(){return Math.trunc(this.ea/86400)},y.getHours=function(){return Math.trunc(this.ea%86400/3600)},y.getMinutes=function(){return Math.trunc(this.ea%3600/60)},y.fb=function(){return this.ea},y.getSeconds=function(){var t=this.ea%60;return Object.is(-0,t)?0:t},y.qa=function(){return!Object.is(-0,this.ea)&&0<=this.ea},y.toString=function(){return(this.qa()?"P":"-P")+Xn(this)},(y=Qa.prototype).getDay=function(){return this.o},y.getHours=function(){return this.l},y.getMinutes=function(){return this.s},y.getMonth=function(){return this.h},y.getSeconds=function(){return this.B},y.getYear=function(){return this.v},y.toString=function(){switch(this.type){case 9:return wo(this.v)+"-"+pr(this.h)+"-"+pr(this.o)+"T"+pr(this.l)+":"+pr(this.s)+":"+Ar(this.B+this.sa)+(this.Y?Va(this.Y):"");case 7:return wo(this.v)+"-"+pr(this.h)+"-"+pr(this.o)+(this.Y?Va(this.Y):"");case 8:return pr(this.l)+":"+pr(this.s)+":"+Ar(this.B+this.sa)+(this.Y?Va(this.Y):"");case 15:return"---"+pr(this.o)+(this.Y?Va(this.Y):"");case 14:return"--"+pr(this.h)+(this.Y?Va(this.Y):"");case 13:return"--"+pr(this.h)+"-"+pr(this.o)+(this.Y?Va(this.Y):"");case 12:return wo(this.v)+(this.Y?Va(this.Y):"");case 11:return wo(this.v)+"-"+pr(this.h)+(this.Y?Va(this.Y):"")}throw Error("Unexpected subType")};var Ro=Math.pow(2,32);function ms(t,r,s){r=r===void 0?{yb:null,Db:null,tb:!1}:r,s=s===void 0?new va:s,this.h=r,this.Ka=t.Ka,this.Da=t.Da,this.N=t.N,this.Aa=t.Aa||Object.create(null),this.o=s}function Hi(t,r){var s=0,i=r.value;return{next:function(u){return(u=i.next(u)).done?me:Se(Dr(t,s++,u.value,r))}}}function Fo(t){return t.h.tb||(t.h.tb=!0,t.h.yb=Fa(new Date().toISOString()),t.h.Db=hs("PT0S")),t.h.yb}function qr(t){return t.h.tb||(t.h.tb=!0,t.h.yb=Fa(new Date().toISOString()),t.h.Db=hs("PT0S")),t.h.Db}function Wr(t,r){return t=29421*((r=r===void 0?null:r)!=null?r:t.o.h)%Ro,{zb:Math.floor(t),jc:t/Ro}}function Dr(t,r,s,i){return new ms({N:s,Ka:r,Da:i||t.Da,Aa:t.Aa},t.h,t.o)}function Mo(t,r){return new ms({N:t.N,Ka:t.Ka,Da:t.Da,Aa:Object.assign(Object.create(null),t.Aa,r)},t.h,t.o)}function Os(t,r,s,i,u,g,b,_,D){this.debug=t,this.La=r,this.h=s,this.o=i,this.B=u,this.l=g,this.da=b,this.s=_,this.v=D}function or(t){var r=0,s=null,i=!0;return J.create({next:function(u){for(;r<t.length;){s||(s=t[r].value,i=!0);var g=s.next(i?0:u);if(i=!1,!g.done)return g;r++,s=null}return me}})}function Sr(t,r,s){return Error("FORG0001: Cannot cast "+t+" to "+Xe[r]+(s?", "+s:""))}function Kr(t){return Error("XPDY0002: "+t)}function Ur(t){return Error("XPTY0004: "+t)}function ko(t){return Error("FOTY0013: Atomization is not supported for "+Xe[t]+".")}function gi(t){return Error("XPST0081: The prefix "+t+" could not be resolved.")}function _o(t,r){if(Z(t.type,46)||Z(t.type,19)||Z(t.type,0)||Z(t.type,4)||Z(t.type,3)||Z(t.type,6)||Z(t.type,5)||Z(t.type,2)||Z(t.type,23)||Z(t.type,1))return J.create(t);var s=r.h;if(Z(t.type,53)){var i=t.value;if(i.node.nodeType===2||i.node.nodeType===3)return J.create(ue(Tn(s,i),19));if(i.node.nodeType===8||i.node.nodeType===7)return J.create(ue(Tn(s,i),1));var u=[];return function g(b){if(i.node.nodeType!==8&&i.node.nodeType!==7){var _=b.nodeType;_===3||_===4?u.push(s.getData(b)):_!==1&&_!==9||s.getChildNodes(b).forEach(function(D){g(D)})}}(i.node),J.create(ue(u.join(""),19))}if(Z(t.type,60)&&!Z(t.type,62))throw ko(t.type);if(Z(t.type,62))return or(t.P.map(function(g){return Pa(g(),r)}));throw Error("Atomizing "+t.type+" is not implemented.")}function Pa(t,r){var s=!1,i=t.value,u=null;return J.create({next:function(){for(;!s;){if(!u){var g=i.next(0);if(g.done){s=!0;break}u=_o(g.value,r).value}if(!(g=u.next(0)).done)return g;u=null}return me}})}function Bs(t){for(t=Et[t];t&&t.D!==0;)t=t.parent;return t?t.type:null}function Qs(t,r){var s=(r=Et[r]).Na;if(!s||!s.whiteSpace)return r.parent?Qs(t,r.parent.type):t;switch(r.Na.whiteSpace){case"replace":return t.replace(/[\u0009\u000A\u000D]/g," ");case"collapse":return t.replace(/[\u0009\u000A\u000D]/g," ").replace(/ {2,}/g," ").replace(/^ | $/g,"")}return t}function ei(t,r){for(r=Et[r];r&&r.kb===null;){if(r.D===2||r.D===3)return!0;r=r.parent}return!r||r.kb(t)}function Qo(t,r){for(;t;){if(t.Pa&&t.Pa[r])return t.Pa[r];t=t.parent}return function(){return!0}}function Wi(t,r){for(var s=Et[r];s;){if(s.Na&&!Object.keys(s.Na).every(function(i){if(i==="whiteSpace")return!0;var u=Qo(s,i);return!u||u(t,s.Na[i])}))return!1;s=s.parent}return!0}function Go(t){return!t||t.g===2||t.g===0}function es(t){return t(1)||t(19)?function(r){return{u:!0,value:ue(r,20)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:anyURI or any of its derived types.")}}}function Ki(t){return t(22)?function(r){for(var s="",i=0;i<r.length;i+=2)s+=String.fromCharCode(parseInt(r.substr(i,2),16));return{u:!0,value:ue(btoa(s),21)}}:t(1)||t(19)?function(r){return{u:!0,value:ue(r,21)}}:function(){return{error:Error("XPTY0004: Casting not supported from given type to xs:base64Binary or any of its derived types."),u:!1}}}function gs(t){return t(2)?function(r){return{u:!0,value:r===0||isNaN(r)?He:Kt}}:t(1)||t(19)?function(r){switch(r){case"true":case"1":return{u:!0,value:Kt};case"false":case"0":return{u:!0,value:He};default:return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:boolean or any of its derived types.")}}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:boolean or any of its derived types.")}}}function Sl(t){return t(9)?function(r){return{u:!0,value:ue(Ir(r,7),7)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(Fa(r),7)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:date or any of its derived types.")}}}function Tl(t){return t(7)?function(r){return{u:!0,value:ue(Ir(r,9),9)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(Fa(r),9)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:dateTime or any of its derived types.")}}}function Xi(t){return t(18)&&!t(16)?function(r){return{u:!0,value:ue(r.Ja,17)}}:t(16)?function(){return{u:!0,value:ue(hs("PT0.0S"),17)}}:t(19)||t(1)?function(r){var s=hs(r);return s?{u:!0,value:ue(s,17)}:{u:!1,error:Error("FORG0001: Can not cast "+r+" to xs:dayTimeDuration")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:dayTimeDuration or any of its derived types.")}}}function jl(t){return t(5)?function(r){return{u:!0,value:ue(r,4)}}:t(6)||t(3)?function(r){return isNaN(r)||!isFinite(r)?{u:!1,error:Error("FOCA0002: Can not cast "+r+" to xs:decimal")}:Math.abs(r)>Number.MAX_VALUE?{u:!1,error:Error("FOAR0002: Can not cast "+r+" to xs:decimal, it is out of bounds for JavaScript numbers")}:{u:!0,value:ue(r,4)}}:t(0)?function(r){return{u:!0,value:ue(r?1:0,4)}}:t(1)||t(19)?function(r){var s=parseFloat(r);return!isNaN(s)||isFinite(s)?{u:!0,value:ue(s,4)}:{u:!1,error:Error("FORG0001: Can not cast "+r+" to xs:decimal")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:decimal or any of its derived types.")}}}function ti(t,r){return t(2)?function(s){return{u:!0,value:s}}:t(0)?function(s){return{u:!0,value:s?1:0}}:t(1)||t(19)?function(s){switch(s){case"NaN":return{u:!0,value:NaN};case"INF":case"+INF":return{u:!0,value:1/0};case"-INF":return{u:!0,value:-1/0};case"0":case"+0":return{u:!0,value:0};case"-0":return{u:!0,value:-0}}var i=parseFloat(s);return isNaN(i)?{u:!1,error:Sr(s,r)}:{u:!0,value:i}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to "+r+" or any of its derived types.")}}}function Rs(t){var r=ti(t,3);return function(s){return(s=r(s)).u?{u:!0,value:ue(s.value,3)}:s}}function Vo(t){if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw Error("FODT0002: Number of months given to construct YearMonthDuration overflows MAX_SAFE_INTEGER or MIN_SAFE_INTEGER");this.ga=t}function Fs(t){var r=Math.abs(t.gb());return(r?r+"Y":"")+((t=Math.abs(t.cb()))?t+"M":"")||"0M"}function ni(t){var r=/^(-)?P(\d+Y)?(\d+M)?(\d+D)?(?:T(\d+H)?(\d+M)?(\d+(\.\d*)?S)?)?$/.exec(t);if(r){if(t=!r[1],(r=12*(r[2]?parseInt(r[2],10):0)+(r[3]?parseInt(r[3],10):0))>Number.MAX_SAFE_INTEGER||!Number.isFinite(r))throw Error("FODT0002: Value overflow while constructing xs:yearMonthDuration");t=new Vo(t||r===0?r:-r)}else t=null;return t}function ts(t,r){if(isNaN(r))throw Error("FOCA0005: Cannot multiply xs:yearMonthDuration by NaN");if((t=Math.round(t.ga*r))>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while constructing xs:yearMonthDuration");return new Vo(t<Number.MIN_SAFE_INTEGER||t===0?0:t)}function ns(t,r){this.Wa=t,this.Ja=r}function zr(t){return t(16)?function(r){return{u:!0,value:ue(new ns(r,new hn(r.qa()?0:-0)),18)}}:t(17)?function(r){return{u:!0,value:ue(r=new ns(new Vo(r.qa()?0:-0),r),18)}}:t(18)?function(r){return{u:!0,value:ue(r,18)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(new ns(ni(r),hs(r)),18)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:duration or any of its derived types.")}}}function sr(t){var r=ti(t,6);return function(s){return(s=r(s)).u?{u:!0,value:ue(s.value,6)}:s}}function Yi(t){return t(7)||t(9)?function(r){return{u:!0,value:ue(Ir(r,15),15)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(Fa(r),15)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gDay or any of its derived types.")}}}function yi(t){return t(7)||t(9)?function(r){return{u:!0,value:ue(Ir(r,14),14)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(Fa(r),14)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gMonth or any of its derived types.")}}}function Cr(t){return t(7)||t(9)?function(r){return{u:!0,value:ue(Ir(r,13),13)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(Fa(r),13)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gMonthDay or any of its derived types.")}}}function Ms(t){return t(7)||t(9)?function(r){return{u:!0,value:ue(Ir(r,12),12)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(Fa(r),12)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gYear or any of its derived types.")}}}function qi(t){return t(7)||t(9)?function(r){return{u:!0,value:ue(Ir(r,11),11)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(Fa(r),11)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:gYearMonth or any of its derived types.")}}}function bi(t){return t(21)?function(r){for(var s="",i=0,u=(r=atob(r)).length;i<u;i++)s+=Number(r.charCodeAt(i)).toString(16);return{u:!0,value:ue(s.toUpperCase(),22)}}:t(1)||t(19)?function(r){return{u:!0,value:ue(r,22)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:hexBinary or any of its derived types.")}}}function wi(t){return t(0)?function(r){return{u:!0,value:ue(r?1:0,5)}}:t(2)?function(r){var s=Math.trunc(r);return!isFinite(s)||isNaN(s)?{u:!1,error:Error("FOCA0002: can not cast "+r+" to xs:integer")}:Number.isSafeInteger(s)?{u:!0,value:ue(s,5)}:{u:!1,error:Error("FOAR0002: can not cast "+r+" to xs:integer, it is out of bounds for JavaScript numbers.")}}:t(1)||t(19)?function(r){var s=parseInt(r,10);return isNaN(s)?{u:!1,error:Sr(r,5)}:Number.isSafeInteger(s)?{u:!0,value:ue(s,5)}:{u:!1,error:Error("FOCA0003: can not cast "+r+" to xs:integer, it is out of bounds for JavaScript numbers.")}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:integer or any of its derived types.")}}}N(Vo,Kn),(y=Vo.prototype).cb=function(){var t=this.ga%12;return t===0?0:t},y.eb=function(){return this.ga},y.gb=function(){return Math.trunc(this.ga/12)},y.qa=function(){return!Object.is(-0,this.ga)&&0<=this.ga},y.toString=function(){return(this.qa()?"P":"-P")+Fs(this)},N(ns,Kn),(y=ns.prototype).bb=function(){return this.Ja.bb()},y.getHours=function(){return this.Ja.getHours()},y.getMinutes=function(){return this.Ja.getMinutes()},y.cb=function(){return this.Wa.cb()},y.eb=function(){return this.Wa.eb()},y.fb=function(){return this.Ja.fb()},y.getSeconds=function(){return this.Ja.getSeconds()},y.gb=function(){return this.Wa.gb()},y.qa=function(){return this.Wa.qa()&&this.Ja.qa()},y.toString=function(){var t=this.qa()?"P":"-P",r=Fs(this.Wa),s=Xn(this.Ja);return r==="0M"?t+s:s==="T0S"?t+r:t+r+s};var Il=[3,6,4,5];function Ps(t){var r=Qi;return function(s){for(var i=j(Il),u=i.next();!u.done;u=i.next())if((u=r(t,u.value)(s)).u)return u;return{u:!1,error:Error('XPTY0004: Casting not supported from "'+s+'" given type to xs:numeric or any of its derived types.')}}}function Zi(t){if(t(1)||t(19))return function(r){return{u:!0,value:r+""}};if(t(20))return function(r){return{u:!0,value:r}};if(t(23))return function(r){return{u:!0,value:r.prefix?r.prefix+":"+r.localName:r.localName}};if(t(44))return function(r){return{u:!0,value:r.toString()}};if(t(2)){if(t(5)||t(4))return function(r){return{u:!0,value:(r+"").replace("e","E")}};if(t(6)||t(3))return function(r){return isNaN(r)?{u:!0,value:"NaN"}:isFinite(r)?Object.is(r,-0)?{u:!0,value:"-0"}:{u:!0,value:(r+"").replace("e","E").replace("E+","E")}:{u:!0,value:(0>r?"-":"")+"INF"}}}return t(9)||t(7)||t(8)||t(15)||t(14)||t(13)||t(12)||t(11)||t(16)||t(17)||t(18)?function(r){return{u:!0,value:r.toString()}}:t(22)?function(r){return{u:!0,value:r.toUpperCase()}}:function(r){return{u:!0,value:r+""}}}function Nl(t){var r=Zi(t);return function(s){return(s=r(s)).u?{u:!0,value:ue(s.value,1)}:s}}function ai(t){return t(9)?function(r){return{u:!0,value:ue(Ir(r,8),8)}}:t(19)||t(1)?function(r){return{u:!0,value:ue(Fa(r),8)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:time or any of its derived types.")}}}function Dl(t){var r=Zi(t);return function(s){return(s=r(s)).u?{u:!0,value:ue(s.value,19)}:s}}function Ji(t){return t(18)&&!t(17)?function(r){return{u:!0,value:ue(r.Wa,16)}}:t(17)?function(){return{u:!0,value:ue(ni("P0M"),16)}}:t(19)||t(1)?function(r){var s=ni(r);return s?{u:!0,value:ue(s,16)}:{u:!1,error:Sr(r,16)}}:function(){return{u:!1,error:Error("XPTY0004: Casting not supported from given type to xs:yearMonthDuration or any of its derived types.")}}}var vi=[2,5,17,16];function Qi(t,r){function s(i){return Z(t,i)}if(r===39)return function(){return{u:!1,error:Error("FORG0001: Casting to xs:error is always invalid.")}};switch(r){case 19:return Dl(s);case 1:return Nl(s);case 6:return sr(s);case 3:return Rs(s);case 4:return jl(s);case 5:return wi(s);case 2:return Ps(t);case 18:return zr(s);case 16:return Ji(s);case 17:return Xi(s);case 9:return Tl(s);case 8:return ai(s);case 7:return Sl(s);case 11:return qi(s);case 12:return Ms(s);case 13:return Cr(s);case 15:return Yi(s);case 14:return yi(s);case 0:return gs(s);case 21:return Ki(s);case 22:return bi(s);case 20:return es(s);case 23:throw Error("Casting to xs:QName is not implemented.")}return function(){return{u:!1,error:Error("XPTY0004: Casting not supported from "+t+" to "+r+".")}}}var so=Object.create(null);function Ls(t,r){if(t===19&&r===1)return function(g){return{u:!0,value:ue(g,1)}};if(r===44)return function(){return{u:!1,error:Error("XPST0080: Casting to xs:NOTATION is not permitted.")}};if(r===39)return function(){return{u:!1,error:Error("FORG0001: Casting to xs:error is not permitted.")}};if(t===45||r===45)return function(){return{u:!1,error:Error("XPST0080: Casting from or to xs:anySimpleType is not permitted.")}};if(t===46||r===46)return function(){return{u:!1,error:Error("XPST0080: Casting from or to xs:anyAtomicType is not permitted.")}};if(Z(t,60)&&r===1)return function(){return{u:!1,error:Error("FOTY0014: Casting from function item to xs:string is not permitted.")}};if(t===r)return function(g){return{u:!0,value:{type:r,value:g}}};var s=vi.includes(t)?t:Bs(t),i=vi.includes(r)?r:Bs(r);if(i===null||s===null)return function(){return{u:!1,error:Error("XPST0081: Can not cast: type "+(i?Xe[t]:Xe[r])+" is unknown.")}};var u=[];return s!==1&&s!==19||u.push(function(g){var b=Qs(g,r);return ei(b,r)?{u:!0,value:b}:{u:!1,error:Sr(g,r,"pattern validation failed.")}}),s!==i&&(u.push(Qi(s,i)),u.push(function(g){return{u:!0,value:g.value}})),i!==19&&i!==1||u.push(function(g){return ei(g,r)?{u:!0,value:g}:{u:!1,error:Sr(g,r,"pattern validation failed.")}}),u.push(function(g){return Wi(g,r)?{u:!0,value:g}:{u:!1,error:Sr(g,r,"pattern validation failed.")}}),u.push(function(g){return{u:!0,value:{type:r,value:g}}}),function(g){g={u:!0,value:g};for(var b=0,_=u.length;b<_&&(g=u[b](g.value)).u!==!1;++b);return g}}function ys(t,r){var s=t.type+1e4*r,i=so[s];return i||(i=so[s]=Ls(t.type,r)),i.call(void 0,t.value,r)}function ra(t,r){if((t=ys(t,r)).u===!0)return t.value;throw t.error}function Eo(t){var r=!1;return{next:function(){return r?me:(r=!0,Se(t))}}}function el(t,r){return t===r||!(!t||!r||t.offset!==r.offset||t.parent!==r.parent)&&el(t.F,r.F)}function Ha(t,r){return!!(t===r||t.node===r.node&&el(t.F,r.F))}function xi(t,r,s){var i=zn(t,r,null);t=_r(t,i,null),i=0;for(var u=t.length;i<u;++i){var g=t[i];if(Ha(g,r))return-1;if(Ha(g,s))return 1}}function Te(t,r){for(var s=[];r;r=zn(t,r,null))s.unshift(r);return s}function Me(t,r){for(var s=[];r;r=t.getParentNode(r,null))s.unshift(r);return s}function Ge(t,r,s,i){if(s.F||i.F||Zn(s.node)||Zn(i.node)){if(Ha(s,i))return 0;s=Te(r,s),i=Te(r,i);var u=s[0],g=i[0];if(!Ha(u,g))return r=t.findIndex(function(ae){return Ha(ae,u)}),s=t.findIndex(function(ae){return Ha(ae,g)}),r===-1&&(r=t.push(u)),s===-1&&(s=t.push(g)),r-s;t=1;for(var b=Math.min(s.length,i.length);t<b&&Ha(s[t],i[t]);++t);return s[t]?i[t]?xi(r,s[t],i[t]):1:-1}if((s=s.node)===(i=i.node))return 0;if(s=Me(r,s),i=Me(r,i),s[0]!==i[0]){var _={node:s[0],F:null},D={node:i[0],F:null};return r=t.findIndex(function(ae){return Ha(ae,_)}),s=t.findIndex(function(ae){return Ha(ae,D)}),r===-1&&(r=t.push(_)),s===-1&&(s=t.push(D)),r-s}for(b=1,t=Math.min(s.length,i.length);b<t&&s[b]===i[b];++b);if(t=s[b],s=i[b],!t)return-1;if(!s)return 1;for(r=r.getChildNodes(i[b-1],null),i=0,b=r.length;i<b;++i){var H=r[i];if(H===t)return-1;if(H===s)return 1}}function tt(t,r,s,i){var u=Z(s.type,47),g=Z(i.type,47);if(u&&!g){if(Ha(s=zn(r,s.value),i=i.value))return 1}else if(g&&!u){if(Ha(s=s.value,i=zn(r,i.value)))return-1}else if(u&&g){if(Ha(zn(r,i.value),zn(r,s.value)))return s.value.node.localName>i.value.node.localName?1:-1;s=zn(r,s.value),i=zn(r,i.value)}else s=s.value,i=i.value;return Ge(t,r,s,i)}function Je(t,r,s){return tt(t.o,t,r,s)}function Qe(t,r){return Rt(r,function(s,i){return tt(t.o,t,s,i)}).filter(function(s,i,u){return i===0||!Ha(s.value,u[i-1].value)})}function jt(t,r){return t<r?-1:0}function Rt(t,r){if(r=r===void 0?jt:r,1>=t.length)return t;var s=Math.floor(t.length/2),i=Rt(t.slice(0,s),r);for(t=Rt(t.slice(s),r),s=[];i.length&&t.length;)0>r(i[0],t[0])?s.push(i.shift()):s.push(t.shift());return s.concat(i.concat(t))}var Lt=f;function cn(t,r){if(Z(t.type,2)){if(Z(t.type,6))return r===3?ue(t.value,3):null;if(Z(t.type,4)){if(r===6)return ue(t.value,6);if(r===3)return ue(t.value,3)}return null}return Z(t.type,20)&&r===1?ue(t.value,1):null}function vn(t,r,s,i,u){if(Z(t.type,r.type)||(Z(r.type,46)&&Z(t.type,53)&&(t=_o(t,s).first()),Z(t.type,r.type)||r.type===46))return t;if(Z(t.type,19)){if(!(s=ra(t,r.type)))throw Error("XPTY0004 Unable to convert "+(u?"return":"argument")+" of type "+Xe[t.type]+" to type "+St(r)+" while calling "+i);return s}if(!(s=cn(t,r.type)))throw Error("XPTY0004 Unable to cast "+(u?"return":"argument")+" of type "+Xe[t.type]+" to type "+St(r)+" while calling "+i);return s}function gn(t){switch(t){case 2:return"*";case 1:return"+";case 0:return"?";case 3:return""}}function Gt(t,r,s,i,u){return t.g===0?r.Z({default:function(){return r.map(function(g){return vn(g,t,s,i,u)})},multiple:function(){throw Error("XPTY0004: Multiplicity of "+(u?"function return value":"function argument")+" of type "+Xe[t.type]+gn(t.g)+" for "+i+' is incorrect. Expected "?", but got "+".')}}):t.g===1?r.Z({empty:function(){throw Error("XPTY0004: Multiplicity of "+(u?"function return value":"function argument")+" of type "+Xe[t.type]+gn(t.g)+" for "+i+' is incorrect. Expected "+", but got "empty-sequence()"')},default:function(){return r.map(function(g){return vn(g,t,s,i,u)})}}):t.g===2?r.map(function(g){return vn(g,t,s,i,u)}):r.Z({m:function(){return r.map(function(g){return vn(g,t,s,i,u)})},default:function(){throw Error("XPTY0004: Multiplicity of "+(u?"function return value":"function argument")+" of type "+Xe[t.type]+gn(t.g)+" for "+i+" is incorrect. Expected exactly one")}})}function nn(t,r){return Z(t,5)?ue(r,5):Z(t,6)?ue(r,6):Z(t,3)?ue(r,3):ue(r,4)}var jn=[{oa:"M",ma:1e3},{oa:"CM",ma:900},{oa:"D",ma:500},{oa:"CD",ma:400},{oa:"C",ma:100},{oa:"XC",ma:90},{oa:"L",ma:50},{oa:"XL",ma:40},{oa:"X",ma:10},{oa:"IX",ma:9},{oa:"V",ma:5},{oa:"IV",ma:4},{oa:"I",ma:1}];function Jt(t,r){var s=parseInt(t,10);if(t=0>s,!(s=Math.abs(s)))return"-";var i=jn.reduce(function(u,g){var b=Math.floor(s/g.ma);return s-=b*g.ma,u+g.oa.repeat(b)},"");return r&&(i=i.toLowerCase()),t&&(i="-"+i),i}var On="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");function pn(t,r){var s=0>(t=parseInt(t,10));if(!(t=Math.abs(t)))return"-";for(var i,u="";0<t;)i=(t-1)%On.length,u=On[i]+u,t=(t-i)/On.length|0;return r&&(u=u.toLowerCase()),s&&(u="-"+u),u}function ja(t){if(Math.floor(t)===t||isNaN(t))return 0;var r=(t=/\d+(?:\.(\d*))?(?:[Ee](-)?(\d+))*/.exec(""+t))[1]?t[1].length:0;return t[3]?t[2]?r+parseInt(t[3],10):0>(t=r-parseInt(t[3],10))?0:t:r}function Qn(t,r,s){return r&&t*s%1%.5==0?Math.floor(t*s)%2==0?Math.floor(t*s)/s:Math.ceil(t*s)/s:Math.round(t*s)/s}function $n(t,r,s,i,u,g){var b=!1;return J.create({next:function(){if(b)return me;var _,D=u.first();if(!D)return b=!0,me;if((Z(D.type,6)||Z(D.type,3))&&(D.value===0||isNaN(D.value)||D.value===1/0||D.value===-1/0))return b=!0,Se(D);if(_=g?g.first().value:0,b=!0,ja(D.value)<_)return Se(D);var H=[5,4,3,6].find(function(ae){return Z(D.type,ae)});switch(_=Qn(ra(D,4).value,t,Math.pow(10,_)),H){case 4:return Se(ue(_,4));case 3:return Se(ue(_,3));case 6:return Se(ue(_,6));case 5:return Se(ue(_,5))}}})}function Wa(t,r,s,i){return Pa(i,r).Z({empty:function(){return J.m(ue(NaN,3))},m:function(){var u=ys(i.first(),3);return u.u?J.m(u.value):J.m(ue(NaN,3))},multiple:function(){throw Error("fn:number may only be called with zero or one values")}})}function Gn(t){for(var r=5381,s=0;s<t.length;++s)r=33*r+t.charCodeAt(s),r%=Number.MAX_SAFE_INTEGER;return r}function Jn(t,r,s,i){function u(g){function b(_,D,H,ae){if(ae.G()||ae.wa())return ae;for(_=ae.O(),D=g,H=_.length-1;1<H;H--){var ve=_[ae=(D=Wr(t,D).zb)%H];_[ae]=_[H],_[H]=ve}return J.create(_)}return J.m(new Zt([{key:ue("number",1),value:function(){return J.m(ue(Wr(t,g).jc,3))}},{key:ue("next",1),value:function(){return J.m(new ar({value:function(){return u(Wr(t,g).zb)},Sa:!0,localName:"",namespaceURI:"",j:[],arity:0,i:{type:61,g:3}}))}},{key:ue("permute",1),value:function(){return J.m(new ar({value:b,Sa:!0,localName:"",namespaceURI:"",j:[{type:59,g:2}],arity:1,i:{type:59,g:2}}))}}]))}return u(((i=i===void 0?J.empty():i).G()?Wr(t):Wr(t,Gn(ra(i.first(),1).value))).zb)}var er=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"abs",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return nn(u.type,Math.abs(u.value))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"format-integer",j:[{type:5,g:0},{type:1,g:3}],i:{type:1,g:3},callFunction:function(t,r,s,i,u){if(t=i.first(),u=u.first(),i.G())return J.m(ue("",1));switch(u.value){case"I":return i=Jt(t.value),J.m(ue(i,1));case"i":return i=Jt(t.value,!0),J.m(ue(i,1));case"A":return J.m(ue(pn(t.value),1));case"a":return J.m(ue(pn(t.value,!0),1));default:throw Error("Picture: "+u.value+' is not implemented yet. The supported picture strings are "A", "a", "I", and "i"')}}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ceiling",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return nn(u.type,Math.ceil(u.value))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"floor",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return nn(u.type,Math.floor(u.value))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:$n.bind(null,!1)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round",j:[{type:2,g:0},{type:5,g:3}],i:{type:2,g:0},callFunction:$n.bind(null,!1)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round-half-to-even",j:[{type:2,g:0}],i:{type:2,g:0},callFunction:$n.bind(null,!0)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"round-half-to-even",j:[{type:2,g:0},{type:5,g:3}],i:{type:2,g:0},callFunction:$n.bind(null,!0)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"number",j:[{type:46,g:0}],i:{type:3,g:3},callFunction:Wa},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"number",j:[],i:{type:3,g:3},callFunction:function(t,r,s){var i=t.N&&Gt({type:46,g:0},J.m(t.N),r,"fn:number",!1);if(!i)throw Kr("fn:number needs an atomizable context item.");return Wa(t,r,s,i)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"random-number-generator",j:[],i:{type:61,g:3},callFunction:Jn},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"random-number-generator",j:[{type:46,g:0}],i:{type:61,g:3},callFunction:Jn}];function Er(){throw Error("FOCH0002: No collations are supported")}function ln(t,r,s,i){if(r.N===null)throw Kr("The function which was called depends on dynamic context, which is absent.");return t(r,s,i,J.m(r.N))}function oa(t,r,s,i){return i.Z({empty:function(){return J.m(ue("",1))},default:function(){return i.map(function(u){if(Z(u.type,53)){var g=_o(u,r).first();return Z(u.type,47)?ra(g,1):g}return ra(u,1)})}})}function sa(t,r,s,i,u){return Hn([u],function(g){var b=j(g).next().value;return Pa(i,r).M(function(_){return _=_.map(function(D){return ra(D,1).value}).join(b.value),J.m(ue(_,1))})})}function Da(t,r,s,i){return i.G()?J.m(ue(0,5)):(t=i.first().value,J.m(ue(Array.from(t).length,5)))}function ca(t,r,s,i,u,g){var b=$n(!1,t,r,s,u,null),_=g!==null?$n(!1,t,r,s,g,null):null,D=!1,H=null,ae=null,ve=null;return J.create({next:function(){return D?me:H||(H=i.first())!==null?(ae||(ae=b.first()),!ve&&g&&(ve=null,ve=_.first()),D=!0,Se(ue(Array.from(H.value).slice(Math.max(ae.value-1,0),g?ae.value+ve.value-1:void 0).join(""),1))):(D=!0,Se(ue("",1)))}})}function Ka(t,r,s,i,u){return i.G()||i.first().value.length===0?J.empty():(t=i.first().value,u=Zr(u=u.first().value),J.create(t.split(u).map(function(g){return ue(g,1)})))}function An(t,r,s,i){return i.G()?J.m(ue("",1)):(t=i.first().value.trim(),J.m(ue(t.replace(/\s+/g," "),1)))}var tr=new Map,yr=new Map;function Zr(t){if(yr.has(t))return yr.get(t);try{var r=new RegExp(t,"g")}catch(s){throw Error("FORX0002: "+s)}if(r.test(""))throw Error("FORX0003: the pattern "+t+" matches the zero length string");return yr.set(t,r),r}var Jr=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"compare",j:[{type:1,g:0},{type:1,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i,u){return i.G()||u.G()?J.empty():(t=i.first().value)>(u=u.first().value)?J.m(ue(1,5)):t<u?J.m(ue(-1,5)):J.m(ue(0,5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"compare",j:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:5,g:0},callFunction:Er},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"concat",j:[{type:46,g:0},{type:46,g:0},4],i:{type:1,g:3},callFunction:function(t,r,s){var i=Q.apply(3,arguments);return Hn(i=i.map(function(u){return Pa(u,r).M(function(g){return J.m(ue(g.map(function(b){return b===null?"":ra(b,1).value}).join(""),1))})}),function(u){return J.m(ue(u.map(function(g){return g.value}).join(""),1))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"contains",j:[{type:1,g:0},{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},callFunction:Er},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"contains",j:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},callFunction:function(t,r,s,i,u){return t=i.G()?"":i.first().value,(u=u.G()?"":u.first().value).length===0?J.ba():t.length===0?J.W():t.includes(u)?J.ba():J.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ends-with",j:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},callFunction:function(t,r,s,i,u){return(t=u.G()?"":u.first().value).length===0?J.ba():(i=i.G()?"":i.first().value).length===0?J.W():i.endsWith(t)?J.ba():J.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"ends-with",j:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:0,g:3},callFunction:Er},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"normalize-space",j:[{type:1,g:0}],i:{type:1,g:3},callFunction:An},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"normalize-space",j:[],i:{type:1,g:3},callFunction:ln.bind(null,function(t,r,s,i){return An(t,r,s,oa(t,r,s,i))})},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"starts-with",j:[{type:1,g:0},{type:1,g:0}],i:{type:0,g:3},callFunction:function(t,r,s,i,u){return(t=u.G()?"":u.first().value).length===0?J.ba():(i=i.G()?"":i.first().value).length===0?J.W():i.startsWith(t)?J.ba():J.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"starts-with",j:[{type:1,g:0},{type:1,g:0},{type:1,g:3}],i:{type:0,g:3},callFunction:Er},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string",j:[{type:59,g:0}],i:{type:1,g:3},callFunction:oa},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string",j:[],i:{type:1,g:3},callFunction:ln.bind(null,oa)},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring-before",j:[{type:1,g:0},{type:1,g:0}],i:{type:1,g:3},callFunction:function(t,r,s,i,u){return t=i.G()?"":i.first().value,(u=u.G()?"":u.first().value)===""||(u=t.indexOf(u))===-1?J.m(ue("",1)):J.m(ue(t.substring(0,u),1))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring-after",j:[{type:1,g:0},{type:1,g:0}],i:{type:1,g:3},callFunction:function(t,r,s,i,u){return t=i.G()?"":i.first().value,(u=u.G()?"":u.first().value)===""?J.m(ue(t,1)):(r=t.indexOf(u))===-1?J.m(ue("",1)):J.m(ue(t.substring(r+u.length),1))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring",j:[{type:1,g:0},{type:3,g:3}],i:{type:1,g:3},callFunction:ca},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"substring",j:[{type:1,g:0},{type:3,g:3},{type:3,g:3}],i:{type:1,g:3},callFunction:ca},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"upper-case",j:[{type:1,g:0}],i:{type:1,g:3},callFunction:function(t,r,s,i){return i.G()?J.m(ue("",1)):i.map(function(u){return ue(u.value.toUpperCase(),1)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"lower-case",j:[{type:1,g:0}],i:{type:1,g:3},callFunction:function(t,r,s,i){return i.G()?J.m(ue("",1)):i.map(function(u){return ue(u.value.toLowerCase(),1)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-join",j:[{type:46,g:2},{type:1,g:3}],i:{type:1,g:3},callFunction:sa},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-join",j:[{type:46,g:2}],i:{type:1,g:3},callFunction:function(t,r,s,i){return sa(t,r,s,i,J.m(ue("",1)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-length",j:[{type:1,g:0}],i:{type:5,g:3},callFunction:Da},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"string-length",j:[],i:{type:5,g:3},callFunction:ln.bind(null,function(t,r,s,i){return Da(t,r,s,oa(t,r,s,i))})},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",j:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],i:{type:1,g:2},callFunction:function(){throw Error("Not implemented: Using flags in tokenize is not supported")}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",j:[{type:1,g:0},{type:1,g:3}],i:{type:1,g:2},callFunction:Ka},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"tokenize",j:[{type:1,g:0}],i:{type:1,g:2},callFunction:function(t,r,s,i){return Ka(t,r,s,An(t,r,s,i),J.m(ue(" ",1)))}},{j:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],callFunction:function(t,r,s,i,u,g){return Hn([i,u,g],function(b){var _=j(b),D=_.next().value;b=_.next().value,_=_.next().value,D=Array.from(D?D.value:"");var H=Array.from(b.value),ae=Array.from(_.value);return b=D.map(function(ve){return H.includes(ve)?(ve=H.indexOf(ve))<=ae.length?ae[ve]:void 0:ve}),J.m(ue(b.join(""),1))})},localName:"translate",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:5,g:2}],callFunction:function(t,r,s,i){return i.M(function(u){return u=u.map(function(g){if((g=g.value)===9||g===10||g===13||32<=g&&55295>=g||57344<=g&&65533>=g||65536<=g&&1114111>=g)return String.fromCodePoint(g);throw Error("FOCH0001")}).join(""),J.m(ue(u,1))})},localName:"codepoints-to-string",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:1,g:0}],callFunction:function(t,r,s,i){return Hn([i],function(u){return(u=(u=j(u).next().value)?u.value.split(""):[]).length===0?J.empty():J.create(u.map(function(g){return ue(g.codePointAt(0),5)}))})},localName:"string-to-codepoints",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{j:[{type:1,g:0}],callFunction:function(t,r,s,i){return Hn([i],function(u){return(u=j(u).next().value)===null||u.value.length===0?J.create(ue("",1)):J.create(ue(encodeURIComponent(u.value).replace(/[!'()*]/g,function(g){return"%"+g.charCodeAt(0).toString(16).toUpperCase()}),1))})},localName:"encode-for-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:1,g:0}],callFunction:function(t,r,s,i){return Hn([i],function(u){return(u=j(u).next().value)===null||u.value.length===0?J.create(ue("",1)):J.create(ue(u.value.replace(/([\u00A0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFEF "<>{}|\\^`/\n\u007f\u0080-\u009f]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,function(g){return encodeURI(g)}),1))})},localName:"iri-to-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:1,g:0},{type:1,g:0}],callFunction:function(t,r,s,i,u){return Hn([i,u],function(g){var b=j(g);if(g=b.next().value,b=b.next().value,g===null||b===null)return J.empty();if(g=g.value,b=b.value,g.length!==b.length)return J.W();g=g.split(""),b=b.split("");for(var _=0;_<g.length;_++)if(g[_].codePointAt(0)!==b[_].codePointAt(0))return J.W();return J.ba()})},localName:"codepoint-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:0}},{j:[{type:1,g:0},{type:1,g:3}],callFunction:function(t,r,s,i,u){return Hn([i,u],function(g){var b=j(g);g=b.next().value,b=b.next().value,g=g?g.value:"",b=b.value;var _=tr.get(b);if(!_){try{_=Lt.compile(b,{language:"xpath"})}catch(D){throw Error("FORX0002: "+D)}tr.set(b,_)}return _(g)?J.ba():J.W()})},localName:"matches",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:1,g:0},{type:1,g:3},{type:1,g:3}],callFunction:function(t,r,s,i,u,g){return Hn([i,u,g],function(b){var _=j(b);b=_.next().value;var D=_.next().value;if(_=_.next().value,b=b?b.value:"",D=D.value,(_=_.value).includes("$0"))throw Error("Using $0 in fn:replace to replace substrings with full matches is not supported.");return _=_.split(/((?:\$\$)|(?:\\\$)|(?:\\\\))/).map(function(H){switch(H){case"\\$":return"$$";case"\\\\":return"\\";case"$$":throw Error('FORX0004: invalid replacement: "$$"');default:return H}}).join(""),D=Zr(D),b=b.replace(D,_),J.m(ue(b,1))})},localName:"replace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:1,g:0},{type:1,g:3},{type:1,g:3},{type:1,g:3}],localName:"replace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3},callFunction:function(){throw Error("Not implemented: Using flags in replace is not supported")}}];function Tr(t,r,s,i,u){if(s.N===null)throw Kr("The function "+t+" depends on dynamic context, which is absent.");return r(s,i,u,J.m(s.N))}function br(t,r,s,i){return Hn([i],function(u){if((u=j(u).next().value)===null)return J.empty();switch((u=u.value).node.nodeType){case 1:case 2:return J.m(ue(new Za(u.node.prefix,u.node.namespaceURI,u.node.localName),23));case 7:return J.m(ue(new Za("","",u.node.target),23));default:return J.empty()}})}function no(t,r,s,i){return i.Z({default:function(){return oa(t,r,s,br(t,r,s,i))},empty:function(){return J.m(ue("",1))}})}function bs(t,r,s,i){return Pa(i,r)}function Us(t,r,s,i){return Hn([i],function(u){return(u=(u=j(u).next().value)?u.value:null)!==null&&Jo(r.h,u,null)?J.ba():J.W()})}function io(t,r,s,i){return Hn([i],function(u){function g(H){for(var ae=0,ve=H;ve!==null;)H.node.nodeType===ve.node.nodeType&&(ve.node.nodeType===1?ve.node.localName===H.node.localName&&ve.node.namespaceURI===H.node.namespaceURI:ve.node.nodeType!==7||ve.node.target===H.node.target)&&ae++,ve=cr(_,ve,null);return ae}var b=j(u).next().value;if(b===null)return J.empty();var _=r.h;for(u="",b=b.value;zn(r.h,b,null)!==null;b=zn(r.h,b,null))switch(b.node.nodeType){case 1:var D=b;u="/Q{"+(D.node.namespaceURI||"")+"}"+D.node.localName+"["+g(D)+"]"+u;break;case 2:u="/@"+((D=b).node.namespaceURI?"Q{"+D.node.namespaceURI+"}":"")+D.node.localName+u;break;case 3:u="/text()["+g(b)+"]"+u;break;case 7:u="/processing-instruction("+(D=b).node.target+")["+g(D)+"]"+u;break;case 8:u="/comment()["+g(b)+"]"+u}return b.node.nodeType===9?J.create(ue(u||"/",1)):J.create(ue("Q{http://www.w3.org/2005/xpath-functions}root()"+u,1))})}function tl(t,r,s,i){return i.map(function(u){return ue(u.value.node.namespaceURI||"",20)})}function Cl(t,r,s,i){return i.Z({default:function(){return i.map(function(u){return u.value.node.nodeType===7?ue(u.value.node.target,1):ue(u.value.node.localName||"",1)})},empty:function(){return J.m(ue("",1))}})}function nl(t,r,s){if(r.node.nodeType===2)return Ha(r,s);for(;s;){if(Ha(r,s))return!0;if(s.node.nodeType===9)break;s=zn(t,s,null)}return!1}function al(t,r,s,i){return i.map(function(u){if(!Z(u.type,53))throw Error("XPTY0004 Argument passed to fn:root() should be of the type node()");for(u=u.value;u;){var g=u;u=zn(r.h,g,null)}return Ln(g)})}var rl=[{j:[{type:53,g:0}],callFunction:no,localName:"name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[],callFunction:Tr.bind(null,"name",no),localName:"name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:53,g:3}],callFunction:tl,localName:"namespace-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:20,g:3}},{j:[],callFunction:Tr.bind(null,"namespace-uri",tl),localName:"namespace-uri",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:20,g:3}},{j:[{type:53,g:2}],callFunction:function(t,r,s,i){return i.M(function(u){return u.length?(u=Qe(r.h,u).reduceRight(function(g,b,_,D){return _===D.length-1?(g.push(b),g):(nl(r.h,b.value,g[0].value)||g.unshift(b),g)},[]),J.create(u)):J.empty()})},localName:"innermost",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:2}},{j:[{type:53,g:2}],callFunction:function(t,r,s,i){return i.M(function(u){return u.length?(u=Qe(r.h,u).reduce(function(g,b,_){return _===0?(g.push(b),g):(nl(r.h,g[g.length-1].value,b.value)||g.push(b),g)},[]),J.create(u)):J.empty()},1)},localName:"outermost",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:2}},{j:[{type:53,g:0}],callFunction:Us,localName:"has-children",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[],callFunction:Tr.bind(null,"has-children",Us),localName:"has-children",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:53,g:0}],callFunction:io,localName:"path",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:0}},{j:[],callFunction:Tr.bind(null,"path",io),localName:"path",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:0}},{j:[{type:53,g:0}],callFunction:br,localName:"node-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{j:[],callFunction:Tr.bind(null,"node-name",br),localName:"node-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{j:[{type:53,g:0}],callFunction:Cl,localName:"local-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[],callFunction:Tr.bind(null,"local-name",Cl),localName:"local-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}},{j:[{type:53,g:0}],callFunction:al,localName:"root",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:0}},{j:[],callFunction:Tr.bind(null,"root",al),localName:"root",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:53,g:0}},{j:[],callFunction:Tr.bind(null,"data",bs),localName:"data",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{j:[{type:59,g:2}],callFunction:bs,localName:"data",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}}];function Ol(t,r){var s=0,i=t.length,u=!1,g=null;return{next:function(){if(!u){for(;s<i;){g||(g=r(t[s],s,t));var b=g.next(0);if(g=null,!b.value)return Se(!1);s++}return u=!0,Se(!0)}return me}}}function ri(t){return(t=t.node.nodeType)===1||t===3}function Ho(t,r){if((Z(t.type,4)||Z(t.type,6))&&(Z(r.type,4)||Z(r.type,6))){var s=ra(t,6),i=ra(r,6);return s.value===i.value||isNaN(t.value)&&isNaN(r.value)}return(Z(t.type,4)||Z(t.type,6)||Z(t.type,3))&&(Z(r.type,4)||Z(r.type,6)||Z(r.type,3))?(s=ra(t,3),i=ra(r,3),s.value===i.value||isNaN(t.value)&&isNaN(r.value)):Z(t.type,23)&&Z(r.type,23)?t.value.namespaceURI===r.value.namespaceURI&&t.value.localName===r.value.localName:(Z(t.type,9)||Z(t.type,7)||Z(t.type,8)||Z(t.type,11)||Z(t.type,12)||Z(t.type,13)||Z(t.type,14)||Z(t.type,15))&&(Z(r.type,9)||Z(r.type,7)||Z(r.type,8)||Z(r.type,11)||Z(r.type,12)||Z(r.type,13)||Z(r.type,14)||Z(r.type,15))?dr(t.value,r.value):(Z(t.type,16)||Z(t.type,17)||Z(t.type,18))&&(Z(r.type,16)||Z(r.type,17)||Z(r.type,17))?aa(t.value,r.value):t.value===r.value}function ol(t,r,s){return s=j([r,s].map(function(i){return{type:1,value:i.reduce(function(u,g){return u+_o(g,t).first().value},"")}})),Se(Ho(r=s.next().value,s=s.next().value))}function Bl(t,r,s,i){for(;t.value&&Z(t.value.type,56);){r.push(t.value);var u=Co(i,t.value.value);if(t=s.next(0),u&&u.node.nodeType!==3)break}return t}function as(t,r,s,i,u){var g,b=r.h,_=i.value,D=u.value,H=null,ae=null,ve=null,ze=[],Ye=[];return{next:function(){for(;!g;)if(H||(H=_.next(0)),H=Bl(H,ze,_,b),ae||(ae=D.next(0)),ae=Bl(ae,Ye,D,b),ze.length||Ye.length){var st=ol(r,ze,Ye);if(ze.length=0,Ye.length=0,st.value===!1)return g=!0,st}else{if(H.done||ae.done)return g=!0,Se(H.done===ae.done);if(ve||(ve=_i(t,r,s,H.value,ae.value)),st=ve.next(0),ve=null,st.value===!1)return g=!0,st;ae=H=null}return me}}}function ki(t,r,s,i,u){return i.h.length!==u.h.length?Eo(!1):Ol(i.h,function(g){var b=u.h.find(function(_){return Ho(_.key,g.key)});return b?as(t,r,s,g.value(),b.value()):Eo(!1)})}function wu(t,r,s,i,u){return i.P.length!==u.P.length?Eo(!1):Ol(i.P,function(g,b){return b=u.P[b],as(t,r,s,g(),b())})}function Rl(t,r,s,i,u){return i=_r(r.h,i.value),u=_r(r.h,u.value),i=i.filter(function(g){return ri(g)}),u=u.filter(function(g){return ri(g)}),as(t,r,s,i=J.create(i.map(function(g){return Ln(g)})),u=J.create(u.map(function(g){return Ln(g)})))}function vu(t,r,s,i,u){var g=as(t,r,s,br(t,r,s,J.m(i)),br(t,r,s,J.m(u))),b=Rl(t,r,s,i,u);i=yo(r.h,i.value).filter(function(H){return H.node.namespaceURI!=="http://www.w3.org/2000/xmlns/"}).sort(function(H,ae){return H.node.nodeName>ae.node.nodeName?1:-1}).map(function(H){return Ln(H)}),u=yo(r.h,u.value).filter(function(H){return H.node.namespaceURI!=="http://www.w3.org/2000/xmlns/"}).sort(function(H,ae){return H.node.nodeName>ae.node.nodeName?1:-1}).map(function(H){return Ln(H)});var _=as(t,r,s,J.create(i),J.create(u)),D=!1;return{next:function(){if(D)return me;var H=g.next(0);return!H.done&&H.value===!1||!(H=_.next(0)).done&&H.value===!1?(D=!0,H):(H=b.next(0),D=!0,H)}}}function Fl(t,r,s,i,u){var g=as(t,r,s,br(t,r,s,J.m(i)),br(t,r,s,J.m(u))),b=!1;return{next:function(){if(b)return me;var _=g.next(0);return _.done||_.value!==!1?Se(Ho(_o(i,r).first(),_o(u,r).first())):(b=!0,_)}}}function _i(t,r,s,i,u){if(Z(i.type,46)&&Z(u.type,46))return Eo(Ho(i,u));if(Z(i.type,61)&&Z(u.type,61))return ki(t,r,s,i,u);if(Z(i.type,62)&&Z(u.type,62))return wu(t,r,s,i,u);if(Z(i.type,53)&&Z(u.type,53)){if(Z(i.type,55)&&Z(u.type,55))return Rl(t,r,s,i,u);if(Z(i.type,54)&&Z(u.type,54))return vu(t,r,s,i,u);if(Z(i.type,47)&&Z(u.type,47)||Z(i.type,57)&&Z(u.type,57)||Z(i.type,58)&&Z(u.type,58))return Fl(t,r,s,i,u)}return Eo(!1)}function se(t){return Error("XUST0001: "+(t===void 0?"Can not execute an updating expression in a non-updating context.":t))}function Fe(t){return Error("XUTY0004: The attribute "+t.name+'="'+t.value+'" follows a node that is not an attribute node.')}function Pe(){return Error("XUTY0005: The target of a insert expression with into must be a single element or document node.")}function Be(){return Error("XUTY0006: The target of a insert expression with before or after must be a single element, text, comment, or processing instruction node.")}function Le(){return Error("XUTY0008: The target of a replace expression must be a single element, attribute, text, comment, or processing instruction node.")}function Ue(){return Error("XUTY0012: The target of a rename expression must be a single element, attribute, or processing instruction node.")}function et(t){return Error("XUDY0017: The target "+t.outerHTML+" is used in more than one replace value of expression.")}function at(t){return Error("XUDY0021: Applying the updates will result in the XDM instance violating constraint: '"+t+"'")}function gt(t){return Error("XUDY0023: The namespace binding "+t+" is conflicting.")}function ct(t){return Error("XUDY0024: The namespace binding "+t+" is conflicting.")}function kt(){return Error("XUDY0027: The target for an insert, replace, or rename expression expression should not be empty.")}function Ee(t,r,s,i,u){s=s===void 0?{C:!1,X:!1,R:"unsorted",subtree:!1}:s,this.o=t,this.da=s.R||"unsorted",this.subtree=!!s.subtree,this.X=!!s.X,this.C=!!s.C,this.ta=r,this.I=!1,this.ab=null,this.Yb=i!==void 0&&i,this.type=u}function Ke(t,r,s){return r&&r.N!==null&&t.C?(t.ab===null&&(t.ab=ha(t.h(null,s).sb())),t=t.ab()):t=t.h(r,s),t}function Nt(t,r){this.J=t,this.fa=r}function Dt(t){t&&typeof t=="object"&&"nodeType"in t&&typeof(t=t.ownerDocument||t).createElementNS=="function"&&typeof t.createProcessingInstruction=="function"&&typeof t.createTextNode=="function"&&typeof t.createComment=="function"&&(this.h=t),this.h||(this.h=null)}function xt(t,r,s,i){var u=zn(s,t).node,g=(t=Co(s,t))?t.node:null;r.forEach(function(b){i.insertBefore(u,b.node,g)})}function Ft(t,r,s,i){var u=zn(s,t).node;r.forEach(function(g){i.insertBefore(u,g.node,t.node)})}function Tt(t,r,s,i){var u=(s=Jo(s,t))?s.node:null;r.forEach(function(g){i.insertBefore(t.node,g.node,u)})}function At(t,r,s){r.forEach(function(i){s.insertBefore(t.node,i.node,null)})}function _n(t,r,s,i){r.forEach(function(u){var g=u.node.nodeName;if(Ra(s,t,g))throw at("An attribute "+g+" already exists.");i.setAttributeNS(t.node,u.node.namespaceURI,g,Tn(s,u))})}function Qt(t,r,s,i,u){switch(i||(i=new Dt(t?t.node:null)),t.node.nodeType){case 1:var g=s.getAllAttributes(t.node),b=s.getChildNodes(t.node),_=i.createElementNS(r.namespaceURI,r.Ca()),D={node:_,F:null};g.forEach(function(H){u.setAttributeNS(_,H.namespaceURI,H.nodeName,H.value)}),b.forEach(function(H){u.insertBefore(_,H,null)});break;case 2:(r=i.createAttributeNS(r.namespaceURI,r.Ca())).value=Tn(s,t),D={node:r,F:null};break;case 7:D={node:i.createProcessingInstruction(r.Ca(),Tn(s,t)),F:null}}if(!zn(s,t))throw Error("Not supported: renaming detached nodes.");za(t,[D],s,u)}function Sa(t,r,s,i){s.getChildNodes(t.node).forEach(function(u){return i.removeChild(t.node,u)}),r&&i.insertBefore(t.node,r.node,null)}function za(t,r,s,i){var u=zn(s,t),g=t.node.nodeType;if(g===2){if(r.some(function(D){return D.node.nodeType!==2}))throw Error('Constraint "If $target is an attribute node, $replacement must consist of zero or more attribute nodes." failed.');var b=u?u.node:null;i.removeAttributeNS(b,t.node.namespaceURI,t.node.nodeName),r.forEach(function(D){var H=D.node.nodeName;if(Ra(s,u,H))throw at("An attribute "+H+" already exists.");i.setAttributeNS(b,D.node.namespaceURI,H,Tn(s,D))})}if(g===1||g===3||g===8||g===7){var _=(g=Co(s,t))?g.node:null;i.removeChild(u.node,t.node),r.forEach(function(D){i.insertBefore(u.node,D.node,_)})}}function Or(t,r,s,i){if(Br(t,r),t.filter(function(u){return["insertInto","insertAttributes","replaceValue","rename"].indexOf(u.type)!==-1}).forEach(function(u){switch(u.type){case"insertInto":At(u.target,u.content,i);break;case"insertAttributes":_n(u.target,u.content,r,i);break;case"rename":Qt(u.target,u.o,r,s,i);break;case"replaceValue":var g=u.target;if(u=u.o,g.node.nodeType===2){var b=zn(r,g);b?i.setAttributeNS(b.node,g.node.namespaceURI,g.node.nodeName,u):g.node.value=u}else i.setData(g.node,u)}}),t.filter(function(u){return["insertBefore","insertAfter","insertIntoAsFirst","insertIntoAsLast"].indexOf(u.type)!==-1}).forEach(function(u){switch(u.type){case"insertAfter":xt(u.target,u.content,r,i);break;case"insertBefore":Ft(u.target,u.content,r,i);break;case"insertIntoAsFirst":Tt(u.target,u.content,r,i);break;case"insertIntoAsLast":At(u.target,u.content,i)}}),t.filter(function(u){return u.type==="replaceNode"}).forEach(function(u){za(u.target,u.o,r,i)}),t.filter(function(u){return u.type==="replaceElementContent"}).forEach(function(u){Sa(u.target,u.text,r,i)}),t.filter(function(u){return u.type==="delete"}).forEach(function(u){u=u.target;var g=zn(r,u);(g=g?g.node:null)&&(u.node.nodeType===2?i.removeAttributeNS(g,u.node.namespaceURI,u.node.nodeName):i.removeChild(g,u.node))}),t.some(function(u){return u.type==="put"}))throw Error('Not implemented: the execution for pendingUpdate "put" is not yet implemented.')}function Br(t,r){function s(g){return new Za(g.node.prefix,g.node.namespaceURI,g.node.localName)}function i(g,b){var _=new Set;t.filter(function(D){return D.type===g}).map(function(D){return D.target}).forEach(function(D){D=D?D.node:null,_.has(D)&&b(D),_.add(D)})}i("rename",function(g){throw Error("XUDY0015: The target "+g.outerHTML+" is used in more than one rename expression.")}),i("replaceNode",function(g){throw Error("XUDY0016: The target "+g.outerHTML+" is used in more than one replace expression.")}),i("replaceValue",function(g){throw et(g)}),i("replaceElementContent",function(g){throw et(g)});var u=new Map;t.filter(function(g){return g.type==="replaceNode"&&g.target.node.nodeType===2}).forEach(function(g){var b=zn(r,g.target);b=b?b.node:null;var _=u.get(b);_?_.push.apply(_,C(g.o.map(s))):u.set(b,g.o.map(s))}),t.filter(function(g){return g.type==="rename"&&g.target.node.nodeType===2}).forEach(function(g){var b=zn(r,g.target);if(b){b=b.node;var _=u.get(b);_?_.push(g.o):u.set(b,[g.o])}}),u.forEach(function(g){var b={};g.forEach(function(_){if(b[_.prefix]||(b[_.prefix]=_.namespaceURI),b[_.prefix]!==_.namespaceURI)throw ct(_.namespaceURI)})})}function Xa(t){return t.concat.apply(t,C(Q.apply(1,arguments).filter(Boolean)))}function Ta(t,r,s,i){Ee.call(this,t,r,s,!0,i),this.I=!0}function yt(t){return t.I?function(r,s){return t.s(r,s)}:function(r,s){var i=t.h(r,s);return{next:function(){return Se({fa:[],J:i.O()})}}}}function fn(t,r){return r((t=t.next(0)).value.fa),J.create(t.value.J)}function yn(t,r,s,i){Ta.call(this,t,r,s,i),this.I=this.ta.some(function(u){return u.I})}function ma(t){t.ta.some(function(r){return r.I})&&(t.I=!0)}Ee.prototype.B=function(){return null},Ee.prototype.v=function(t){if(this.ta.forEach(function(r){return r.v(t)}),!this.Yb&&this.ta.some(function(r){return r.I}))throw se()},(y=Dt.prototype).createAttributeNS=function(t,r){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createAttributeNS(t,r)},y.createCDATASection=function(t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createCDATASection(t)},y.createComment=function(t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createComment(t)},y.createDocument=function(){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.implementation.createDocument(null,null,null)},y.createElementNS=function(t,r){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createElementNS(t,r)},y.createProcessingInstruction=function(t,r){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createProcessingInstruction(t,r)},y.createTextNode=function(t){if(!this.h)throw Error("Please pass a node factory if an XQuery script uses node constructors");return this.h.createTextNode(t)},N(Ta,Ee),Ta.prototype.h=function(){throw se()},N(yn,Ta),yn.prototype.h=function(t,r){return this.A(t,r,this.ta.map(function(s){return function(i){return s.h(i,r)}}))},yn.prototype.s=function(t,r){var s=[],i=this.A(t,r,this.ta.map(function(g){return g.I?function(b){return fn(b=g.s(b,r),function(_){return s=Xa(s,_)})}:function(b){return g.h(b,r)}})),u=!1;return{next:function(){if(u)return me;var g=i.O();return u=!0,Se(new Nt(g,s))}}},yn.prototype.v=function(t){Ta.prototype.v.call(this,t),ma(this)};var In=["external","attribute","nodeName","nodeType","universal"],Bn=In.length;function qt(t){if(this.h=In.map(function(r){return t[r]||0}),Object.keys(t).some(function(r){return!In.includes(r)}))throw Error("Invalid specificity kind passed")}function un(t,r){for(var s=0;s<Bn;++s){if(r.h[s]<t.h[s])return 1;if(r.h[s]>t.h[s])return-1}return 0}function ea(){return Ur("Expected base expression of a function call to evaluate to a sequence of single function item")}function wr(t,r,s,i){for(var u=[],g=0;g<r.length;++g)if(r[g]===null)u.push(null);else{var b=Gt(t[g],r[g],s,i,!1);u.push(b)}return u}function lo(t,r){if(!Z(t.type,60))throw Ur("Expected base expression to evaluate to a function item");if(t.v!==r)throw ea();return t}function zs(t,r,s,i,u,g,b){var _=0;return u=u.map(function(D){return D?null:g[_++](s)}),0<=(u=wr(t.o,u,i,t.B)).indexOf(null)?to(t,u):(r=r.apply(void 0,[s,i,b].concat(C(u))),Gt(t.s,r,i,t.B,!0))}function uo(t,r,s){var i={};yn.call(this,new qt((i.external=1,i)),[t].concat(r.filter(function(u){return!!u})),{R:"unsorted",X:!1,subtree:!1,C:!1},s),this.la=r.length,this.S=r.map(function(u){return u===null}),this.K=null,this.pa=t,this.Ba=r}function sl(t,r,s,i,u,g){return Hn([i,u,g],function(b){var _=j(b);b=_.next().value;var D=_.next().value;if(_=_.next().value,D=D.value,_=_.value,D>b.P.length||0>=D)throw Error("FOAY0001: subarray start out of bounds.");if(0>_)throw Error("FOAY0002: subarray length out of bounds.");if(D+_>b.P.length+1)throw Error("FOAY0001: subarray start + length out of bounds.");return J.m(new rr(b.P.slice(D-1,_+D-1)))})}function xu(t,r,s,i,u){return Hn([i],function(g){var b=j(g).next().value;return u.M(function(_){_=_.map(function(ze){return ze.value}).sort(function(ze,Ye){return Ye-ze}).filter(function(ze,Ye,st){return st[Ye-1]!==ze});for(var D=b.P.concat(),H=0,ae=_.length;H<ae;++H){var ve=_[H];if(ve>b.P.length||0>=ve)throw Error("FOAY0001: subarray position out of bounds.");D.splice(ve-1,1)}return J.m(new rr(D))})})}function ku(t){return Z(t,1)||Z(t,20)||Z(t,19)}function ip(t,r,s,i,u){return i.length===0?u.length!==0:u.length!==0&&_i(t,r,s,i[0],u[0]).next(0).value?ip(t,r,s,i.slice(1),u.slice(1)):i[0].value!=i[0].value||(ku(i[0].type)&&u.length!==0&&ku(u[0].type)||u.length!==0)&&i[0].value<u[0].value}function lp(t,r,s,i){return i.sort(function(u,g){return as(t,r,s,J.create(u),J.create(g)).next(0).value?0:ip(t,r,s,u,g)?-1:1}),J.m(new rr(i.map(function(u){return function(){return J.create(u)}})))}function up(t,r){return Z(r.type,62)?r.P.reduce(function(s,i){return i().M(function(u){return u.reduce(up,s)})},t):or([t,J.m(r)])}qt.prototype.add=function(t){var r=this;return new qt(In.reduce(function(s,i,u){return s[i]=r.h[u]+t.h[u],s},Object.create(null)))},N(uo,yn),uo.prototype.s=function(t,r){var s=this;if(!this.l||!this.l.I)return yn.prototype.s.call(this,t,r);var i=[],u=zs(this.l,function(b,_,D){return fn(s.l.value.apply(s.l,[b,_,D].concat(C(Q.apply(3,arguments)))),function(H){i=Xa(i,H)})},t,r,this.S,this.Ba.map(function(b){return function(){return b.I?fn(b.s(t,r),function(_){i=Xa(i,_)}):Ke(b,t,r)}}),this.K),g=!1;return{next:function(){if(g)return me;var b=u.O();return g=!0,Se({fa:i,J:b})}}},uo.prototype.A=function(t,r,s){var i=this,u=(s=j(s)).next().value,g=V(s);if(this.l)return zs(this.l,function(_,D,H){return i.l.value.apply(i.l,[_,D,H].concat(C(Q.apply(3,arguments))))},t,r,this.S,g,this.K);var b=u(t);return b.Z({default:function(){throw ea()},m:function(){return b.M(function(_){if((_=lo(_=j(_).next().value,i.la)).I)throw Error("XUDY0038: The function returned by the PrimaryExpr of a dynamic function invocation can not be an updating function");return zs(_,_.value,t,r,i.S,g,i.K)})}})},uo.prototype.v=function(t){if(this.K=ga(t),yn.prototype.v.call(this,t),this.pa.C){if(!(t=Ke(this.pa,null,null)).wa())throw ea();this.l=lo(t.first(),this.la),this.l.I&&(this.I=!0)}};var Ml=[{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"size",j:[{type:62,g:3}],i:{type:5,g:3},callFunction:function(t,r,s,i){return Hn([i],function(u){return u=j(u).next().value,J.m(ue(u.P.length,5))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"get",j:[{type:62,g:3},{type:5,g:3}],i:{type:59,g:2},callFunction:Pr},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"put",j:[{type:62,g:3},{type:5,g:3},{type:59,g:2}],i:{type:62,g:3},callFunction:function(t,r,s,i,u,g){return Hn([u,i],function(b){var _=j(b);if(b=_.next().value,_=_.next().value,0>=(b=b.value)||b>_.P.length)throw Error("FOAY0001: array position out of bounds.");return(_=_.P.concat()).splice(b-1,1,ha(g)),J.m(new rr(_))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"append",j:[{type:62,g:3},{type:59,g:2}],i:{type:62,g:3},callFunction:function(t,r,s,i,u){return Hn([i],function(g){return g=j(g).next().value.P.concat([ha(u)]),J.m(new rr(g))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"subarray",j:[{type:62,g:3},{type:5,g:3},{type:5,g:3}],i:{type:62,g:3},callFunction:sl},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"subarray",j:[{type:62,g:3},{type:5,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i,u){var g=J.m(ue(i.first().value.length-u.first().value+1,5));return sl(t,r,s,i,u,g)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"remove",j:[{type:62,g:3},{type:5,g:2}],i:{type:62,g:3},callFunction:xu},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"insert-before",j:[{type:62,g:3},{type:5,g:3},{type:59,g:2}],i:{type:62,g:3},callFunction:function(t,r,s,i,u,g){return Hn([i,u],function(b){var _=j(b);if(b=_.next().value,(_=_.next().value.value)>b.P.length+1||0>=_)throw Error("FOAY0001: subarray position out of bounds.");return(b=b.P.concat()).splice(_-1,0,ha(g)),J.m(new rr(b))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"head",j:[{type:62,g:3}],i:{type:59,g:2},callFunction:function(t,r,s,i){return Pr(t,r,s,i,J.m(ue(1,5)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"tail",j:[{type:62,g:3}],i:{type:59,g:2},callFunction:function(t,r,s,i){return xu(t,r,s,i,J.m(ue(1,5)))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"reverse",j:[{type:62,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i){return Hn([i],function(u){return u=j(u).next().value,J.m(new rr(u.P.concat().reverse()))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"join",j:[{type:62,g:2}],i:{type:62,g:3},callFunction:function(t,r,s,i){return i.M(function(u){return u=u.reduce(function(g,b){return g.concat(b.P)},[]),J.m(new rr(u))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"for-each",j:[{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i,u){return Hn([i,u],function(g){var b=(g=j(g)).next().value,_=g.next().value;if(_.v!==1)throw Ur("The callback passed into array:for-each has a wrong arity.");return g=b.P.map(function(D){return ha(_.value.call(void 0,t,r,s,wr(_.o,[D()],r,"array:for-each")[0]))}),J.m(new rr(g))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"filter",j:[{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i,u){return Hn([i,u],function(g){var b=(g=j(g)).next().value,_=g.next().value;if(_.v!==1)throw Ur("The callback passed into array:filter has a wrong arity.");var D=b.P.map(function(ve){return ve=wr(_.o,[ve()],r,"array:filter")[0],(0,_.value)(t,r,s,ve)}),H=[],ae=!1;return J.create({next:function(){if(ae)return me;for(var ve=0,ze=b.P.length;ve<ze;++ve){var Ye=D[ve].ha();H[ve]=Ye}return ve=b.P.filter(function(st,ht){return H[ht]}),ae=!0,Se(new rr(ve))}})})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"fold-left",j:[{type:62,g:3},{type:59,g:2},{type:60,g:3}],i:{type:59,g:2},callFunction:function(t,r,s,i,u,g){return Hn([i,g],function(b){var _=(b=j(b)).next().value,D=b.next().value;if(D.v!==2)throw Ur("The callback passed into array:fold-left has a wrong arity.");return _.P.reduce(function(H,ae){return ae=wr(D.o,[ae()],r,"array:fold-left")[0],D.value.call(void 0,t,r,s,H,ae)},u)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"fold-right",j:[{type:62,g:3},{type:59,g:2},{type:60,g:3}],i:{type:59,g:2},callFunction:function(t,r,s,i,u,g){return Hn([i,g],function(b){var _=(b=j(b)).next().value,D=b.next().value;if(D.v!==2)throw Ur("The callback passed into array:fold-right has a wrong arity.");return _.P.reduceRight(function(H,ae){return ae=wr(D.o,[ae()],r,"array:fold-right")[0],D.value.call(void 0,t,r,s,H,ae)},u)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"for-each-pair",j:[{type:62,g:3},{type:62,g:3},{type:60,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i,u,g){return Hn([i,u,g],function(b){var _=j(b);b=_.next().value;var D=_.next().value;if((_=_.next().value).v!==2)throw Ur("The callback passed into array:for-each-pair has a wrong arity.");for(var H=[],ae=0,ve=Math.min(b.P.length,D.P.length);ae<ve;++ae){var ze=j(wr(_.o,[b.P[ae](),D.P[ae]()],r,"array:for-each-pair")),Ye=ze.next().value;ze=ze.next().value,H[ae]=ha(_.value.call(void 0,t,r,s,Ye,ze))}return J.m(new rr(H))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"sort",j:[{type:62,g:3}],i:{type:62,g:3},callFunction:function(t,r,s,i){return Hn([i],function(u){return u=j(u).next().value.P.map(function(g){return g().O()}),lp(t,r,s,u)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/array",localName:"flatten",j:[{type:59,g:2}],i:{type:59,g:2},callFunction:function(t,r,s,i){return i.M(function(u){return u.reduce(up,J.empty())})}}];function Rn(t,r,s,i,u){return u.G()?u:J.m(ra(u.first(),t))}var df=[{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"untypedAtomic",j:[{type:46,g:0}],i:{type:19,g:0},callFunction:Rn.bind(null,19)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"error",j:[{type:46,g:0}],i:{type:39,g:0},callFunction:Rn.bind(null,39)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"string",j:[{type:46,g:0}],i:{type:1,g:0},callFunction:Rn.bind(null,1)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"boolean",j:[{type:46,g:0}],i:{type:0,g:0},callFunction:Rn.bind(null,0)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"decimal",j:[{type:46,g:0}],i:{type:4,g:0},callFunction:Rn.bind(null,4)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"float",j:[{type:46,g:0}],i:{type:6,g:0},callFunction:Rn.bind(null,6)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"double",j:[{type:46,g:0}],i:{type:3,g:0},callFunction:Rn.bind(null,3)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"duration",j:[{type:46,g:0}],i:{type:18,g:0},callFunction:Rn.bind(null,18)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTime",j:[{type:46,g:0}],i:{type:9,g:0},callFunction:Rn.bind(null,9)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTimeStamp",j:[{type:46,g:0}],i:{type:10,g:0},callFunction:Rn.bind(null,10)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"time",j:[{type:46,g:0}],i:{type:8,g:0},callFunction:Rn.bind(null,8)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"date",j:[{type:46,g:0}],i:{type:7,g:0},callFunction:Rn.bind(null,7)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gYearMonth",j:[{type:46,g:0}],i:{type:11,g:0},callFunction:Rn.bind(null,11)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gYear",j:[{type:46,g:0}],i:{type:12,g:0},callFunction:Rn.bind(null,12)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gMonthDay",j:[{type:46,g:0}],i:{type:13,g:0},callFunction:Rn.bind(null,13)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gDay",j:[{type:46,g:0}],i:{type:15,g:0},callFunction:Rn.bind(null,15)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"gMonth",j:[{type:46,g:0}],i:{type:14,g:0},callFunction:Rn.bind(null,14)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"hexBinary",j:[{type:46,g:0}],i:{type:22,g:0},callFunction:Rn.bind(null,22)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"base64Binary",j:[{type:46,g:0}],i:{type:21,g:0},callFunction:Rn.bind(null,21)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"QName",j:[{type:46,g:0}],i:{type:23,g:0},callFunction:function(t,r,s,i){if(i.G())return i;if(Z((t=i.first()).type,2))throw Error("XPTY0004: The provided QName is not a string-like value.");if(!ei(t=Qs(t=ra(t,1).value,23),23))throw Error("FORG0001: The provided QName is invalid.");if(!t.includes(":"))return s=s.aa(""),J.m(ue(new Za("",s,t),23));if(r=(i=j(t.split(":"))).next().value,i=i.next().value,!(s=s.aa(r)))throw Error("FONS0004: The value "+t+" can not be cast to a QName. Did you mean to use fn:QName?");return J.m(ue(new Za(r,s,i),23))}},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"anyURI",j:[{type:46,g:0}],i:{type:20,g:0},callFunction:Rn.bind(null,20)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"normalizedString",j:[{type:46,g:0}],i:{type:48,g:0},callFunction:Rn.bind(null,48)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"token",j:[{type:46,g:0}],i:{type:52,g:0},callFunction:Rn.bind(null,52)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"language",j:[{type:46,g:0}],i:{type:51,g:0},callFunction:Rn.bind(null,51)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NMTOKEN",j:[{type:46,g:0}],i:{type:50,g:0},callFunction:Rn.bind(null,50)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NMTOKENS",j:[{type:46,g:0}],i:{type:49,g:2},callFunction:Rn.bind(null,49)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"Name",j:[{type:46,g:0}],i:{type:25,g:0},callFunction:Rn.bind(null,25)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"NCName",j:[{type:46,g:0}],i:{type:24,g:0},callFunction:Rn.bind(null,24)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ID",j:[{type:46,g:0}],i:{type:42,g:0},callFunction:Rn.bind(null,42)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"IDREF",j:[{type:46,g:0}],i:{type:41,g:0},callFunction:Rn.bind(null,41)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"IDREFS",j:[{type:46,g:0}],i:{type:43,g:2},callFunction:Rn.bind(null,43)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ENTITY",j:[{type:46,g:0}],i:{type:26,g:0},callFunction:Rn.bind(null,26)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"ENTITIES",j:[{type:46,g:0}],i:{type:40,g:2},callFunction:Rn.bind(null,40)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"integer",j:[{type:46,g:0}],i:{type:5,g:0},callFunction:Rn.bind(null,5)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"nonPositiveInteger",j:[{type:46,g:0}],i:{type:27,g:0},callFunction:Rn.bind(null,27)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"negativeInteger",j:[{type:46,g:0}],i:{type:28,g:0},callFunction:Rn.bind(null,28)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"long",j:[{type:46,g:0}],i:{type:31,g:0},callFunction:Rn.bind(null,31)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"int",j:[{type:46,g:0}],i:{type:32,g:0},callFunction:Rn.bind(null,32)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"short",j:[{type:46,g:0}],i:{type:33,g:0},callFunction:Rn.bind(null,33)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"byte",j:[{type:46,g:0}],i:{type:34,g:0},callFunction:Rn.bind(null,34)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"nonNegativeInteger",j:[{type:46,g:0}],i:{type:30,g:0},callFunction:Rn.bind(null,30)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedLong",j:[{type:46,g:0}],i:{type:36,g:0},callFunction:Rn.bind(null,36)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedInt",j:[{type:46,g:0}],i:{type:35,g:0},callFunction:Rn.bind(null,35)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedShort",j:[{type:46,g:0}],i:{type:38,g:0},callFunction:Rn.bind(null,38)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"unsignedByte",j:[{type:46,g:0}],i:{type:37,g:0},callFunction:Rn.bind(null,37)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"positiveInteger",j:[{type:46,g:0}],i:{type:29,g:0},callFunction:Rn.bind(null,29)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"yearMonthDuration",j:[{type:46,g:0}],i:{type:16,g:0},callFunction:Rn.bind(null,16)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dayTimeDuration",j:[{type:46,g:0}],i:{type:17,g:0},callFunction:Rn.bind(null,17)},{namespaceURI:"http://www.w3.org/2001/XMLSchema",localName:"dateTimeStamp",j:[{type:46,g:0}],i:{type:10,g:0},callFunction:Rn.bind(null,10)}];function cp(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.getYear(),5))}function pp(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.getMonth(),5))}function dp(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.getDay(),5))}function fp(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.getHours(),5))}function hp(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.getMinutes(),5))}function mp(t,r,s,i){return i.G()||(r=(t=J).m,i=i.first().value,i=r.call(t,ue(i.B+i.sa,4))),i}function kc(t,r,s,i){return i.G()?i:(t=i.first().value.Y)?J.m(ue(t,17)):J.empty()}var ff=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"dateTime",j:[{type:7,g:0},{type:8,g:0}],i:{type:9,g:0},callFunction:function(t,r,s,i,u){if(i.G())return i;if(u.G())return u;if(t=i.first().value,u=u.first().value,r=t.Y,s=u.Y,r||s){if(!r||s){if(!r&&s)r=s;else if(!aa(r,s))throw Error("FORG0008: fn:dateTime: got a date and time value with different timezones.")}}else r=null;return J.m(ue(new Qa(t.getYear(),t.getMonth(),t.getDay(),u.getHours(),u.getMinutes(),u.getSeconds(),u.sa,r),9))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"year-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:cp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"month-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:pp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"day-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:dp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:fp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-dateTime",j:[{type:9,g:0}],i:{type:5,g:0},callFunction:hp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-dateTime",j:[{type:9,g:0}],i:{type:4,g:0},callFunction:mp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-dateTime",j:[{type:9,g:0}],i:{type:17,g:0},callFunction:kc},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"year-from-date",j:[{type:7,g:0}],i:{type:5,g:0},callFunction:cp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"month-from-date",j:[{type:7,g:0}],i:{type:5,g:0},callFunction:pp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"day-from-date",j:[{type:7,g:0}],i:{type:5,g:0},callFunction:dp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-date",j:[{type:7,g:0}],i:{type:17,g:0},callFunction:kc},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-time",j:[{type:8,g:0}],i:{type:5,g:0},callFunction:fp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-time",j:[{type:8,g:0}],i:{type:5,g:0},callFunction:hp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-time",j:[{type:8,g:0}],i:{type:4,g:0},callFunction:mp},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"timezone-from-time",j:[{type:8,g:0}],i:{type:17,g:0},callFunction:kc}];function _u(t,r){var s=r.h,i=r.o,u=r.B;switch(t.node.nodeType){case 1:var g=i.createElementNS(t.node.namespaceURI,t.node.nodeName);for(s.getAllAttributes(t.node).forEach(function(b){return u.setAttributeNS(g,b.namespaceURI,b.nodeName,b.value)}),t=(i=j(_r(s,t))).next();!t.done;t=i.next())t=_u(t.value,r),u.insertBefore(g,t.node,null);return{node:g,F:null};case 2:return(r=i.createAttributeNS(t.node.namespaceURI,t.node.nodeName)).value=Tn(s,t),{node:r,F:null};case 4:return{node:i.createCDATASection(Tn(s,t)),F:null};case 8:return{node:i.createComment(Tn(s,t)),F:null};case 9:for(i=i.createDocument(),t=(s=j(_r(s,t))).next();!t.done;t=s.next())t=_u(t.value,r),u.insertBefore(i,t.node,null);return{node:i,F:null};case 7:return{node:i.createProcessingInstruction(t.node.target,Tn(s,t)),F:null};case 3:return{node:i.createTextNode(Tn(s,t)),F:null}}}function _c(t,r){var s=r.B,i=r.o,u=r.h;if(!Zn(t.node))return _u(t,r).node;switch(t.node.nodeType){case 2:return(i=i.createAttributeNS(t.node.namespaceURI,t.node.nodeName)).value=Tn(u,t),i;case 8:return i.createComment(Tn(u,t));case 1:var g=t.node.prefix,b=t.node.localName,_=i.createElementNS(t.node.namespaceURI,g?g+":"+b:b);return _r(u,t).forEach(function(D){D=_c(D,r),s.insertBefore(_,D,null)}),yo(u,t).forEach(function(D){s.setAttributeNS(_,D.node.namespaceURI,D.node.nodeName,Tn(u,D))}),_.normalize(),_;case 7:return i.createProcessingInstruction(t.node.target,Tn(u,t));case 3:return i.createTextNode(Tn(u,t))}}function hf(t,r,s){var i=t;for(t=zn(s,i);t!==null;){if(i.node.nodeType===2)r.push(i.node.nodeName);else{var u=_r(s,t);r.push(u.findIndex(function(g){return Ha(g,i)}))}t=zn(s,i=t)}return i}function mf(t,r,s){for(var i={};0<r.length;)i.$a=r.pop(),t=typeof i.$a=="string"?yo(s,t).find(function(u){return function(g){return g.node.nodeName===u.$a}}(i)):_r(s,t)[i.$a],i={$a:i.$a};return t.node}function Qr(t,r,s){var i=t.node;if(!(Zn(i)||s||t.F))return i;i=r.da;var u=[];return s?_c(t,r):(t=hf(t,u,r.h),(s=i.get(t.node))||(s={node:_c(t,r),F:null},i.set(t.node,s)),mf(s,u,r.h))}function gp(t,r,s,i,u){return i.M(function(g){for(var b="",_=0;_<g.length;_++){var D=g[_],H=r.v&&Z(D.type,53)?r.v.serializeToString(Qr(D.value,r,!1)):Pa(J.m(D),r).map(function(ae){return ra(ae,1)}).first().value;b+="{type: "+Xe[D.type]+", value: "+H+`}
`}return u!==void 0&&(b+=u.first().value),r.s.trace(b),J.create(g)})}var yp=[{j:[{type:59,g:2}],callFunction:gp,localName:"trace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:1,g:3}],callFunction:gp,localName:"trace",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}}];function Eu(t,r,s,i,u){throw t=i===void 0||i.G()?new Za("err","http://www.w3.org/2005/xqt-errors","FOER0000"):i.first().value,r="",u===void 0||u.G()||(r=": "+u.first().value),Error(""+t.localName+r)}var bp=[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",j:[],i:{type:63,g:3},callFunction:Eu},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",j:[{type:23,g:0}],i:{type:63,g:3},callFunction:Eu},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",j:[{type:23,g:0},{type:1,g:3}],i:{type:63,g:3},callFunction:Eu},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"error",j:[{type:23,g:0},{type:1,g:3},{type:59,g:2}],i:{type:63,g:3},callFunction:function(){throw Error("Not implemented: Using an error object in error is not supported")}}];function rs(t){return typeof t=="string"?t:(t=new na().getChildNodes(t).find(function(r){return r.nodeType===8}))?t.data:"some expression"}function Au(t,r){t=Error.call(this,t),this.message=t.message,"stack"in t&&(this.stack=t.stack),this.position={end:{ja:r.end.ja,line:r.end.line,offset:r.end.offset},start:{ja:r.start.ja,line:r.start.line,offset:r.start.offset}}}function Ao(t,r){if(r instanceof Error)throw r;typeof t!="string"&&(t=rs(t));var s=ug(r);t=t.replace("\r","").split(`
`);var i=Math.floor(Math.log10(Math.min(s.end.line+2,t.length)))+1;throw t=t.reduce(function(u,g,b){var _=b+1;if(2<s.start.line-_||2<_-s.end.line)return u;if(b=Array(i).fill(" ",0,Math.floor(Math.log10(_))+1-i).join("")+_+": ",u.push(b+g),_>=s.start.line&&_<=s.end.line){var D=_<s.end.line?g.length+b.length:s.end.ja-1+b.length;_=_>s.start.line?b.length:s.start.ja-1+b.length,g=" ".repeat(b.length)+Array.from(g.substring(0,_-b.length),function(H){return H==="	"?"	":" "}).join("")+"^".repeat(D-_),u.push(g)}return u},[]),r=cg(r).join(`
`),new Au(t.join(`
`)+`

`+r,s)}N(Au,Error);var $s=Object.create(null);function wp(t,r){for(var s=[],i=0;i<t.length+1;++i)s[i]=[];return function u(g,b){if(g===0)return b;if(b===0)return g;if(s[g][b]!==void 0)return s[g][b];var _=0;return t[g-1]!==r[b-1]&&(_=1),_=Math.min(u(g-1,b)+1,u(g,b-1)+1,u(g-1,b-1)+_),s[g][b]=_}(t.length,r.length)}function Su(t){var r=$s[t]?$s[t]:Object.keys($s).map(function(s){return{name:s,Ab:wp(t,s.slice(s.lastIndexOf(":")+1))}}).sort(function(s,i){return s.Ab-i.Ab}).slice(0,5).filter(function(s){return s.Ab<t.length/2}).reduce(function(s,i){return s.concat($s[i.name])},[]).slice(0,5);return r.length?r.map(function(s){return'"Q{'+s.namespaceURI+"}"+s.localName+" ("+s.j.map(function(i){return i===4?"...":St(i)}).join(", ")+')"'}).reduce(function(s,i,u,g){return u===0?s+i:s+(u!==g.length-1?", ":" or ")+i},"Did you mean ")+"?":"No similar functions found."}function Ec(t,r,s){var i=$s[t+":"+r];return i&&(i=i.find(function(u){return u.j.some(function(g){return g===4})?u.j.length-1<=s:u.j.length===s}))?{j:i.j,arity:s,callFunction:i.callFunction,I:i.I,localName:r,namespaceURI:t,i:i.i}:null}function m(t,r,s,i,u){$s[t+":"+r]||($s[t+":"+r]=[]),$s[t+":"+r].push({j:s,arity:s.length,callFunction:u,I:!1,localName:r,namespaceURI:t,i})}var z={},x=(z.xml="http://www.w3.org/XML/1998/namespace",z.xs="http://www.w3.org/2001/XMLSchema",z.fn="http://www.w3.org/2005/xpath-functions",z.map="http://www.w3.org/2005/xpath-functions/map",z.array="http://www.w3.org/2005/xpath-functions/array",z.math="http://www.w3.org/2005/xpath-functions/math",z.fontoxpath="http://fontoxml.com/fontoxpath",z.local="http://www.w3.org/2005/xquery-local-functions",z);function ne(t,r,s,i){this.Ha=[Object.create(null)],this.Ia=Object.create(null),this.s=t,this.da=Object.keys(r).reduce(function(u,g){return r[g]===void 0||(u[g]="Q{}"+g+"[0]"),u},Object.create(null)),this.o=Object.create(null),this.h=Object.create(null),this.v=s,this.l=i,this.B=[]}function de(t){return Error("XPTY0004: "+t)}function pe(t,r){return t=t.node.nodeType===2?t.node.nodeName+'="'+Tn(r,t)+'"':t.node.outerHTML,Error("XQTY0024: The node "+t+" follows a node that is not an attribute node or a namespace node.")}function Ve(t){return Error('XQDY0044: The node name "'+t.Ca()+'" is invalid for a computed attribute constructor.')}function Ne(){return Error("XQST0045: Functions and variables may not be declared in one of the reserved namespace URIs.")}function an(){return Error("XQST0060: Functions declared in a module or as an external function must reside in a namespace.")}function Ae(){return Error("XQST0066: A Prolog may contain at most one default function namespace declaration.")}function We(){return Error("XQST0070: The prefixes xml and xmlns may not be used in a namespace declaration or be bound to another namespaceURI.")}function Ia(t){return Error('XQDY0074: The value "'+t+'" of a name expressions cannot be converted to an expanded QName.')}function tn(t){return Error('XPST0081: The prefix "'+t+'" could not be resolved')}function bt(t,r){return"Q{"+(t||"")+"}"+r}function Dn(t,r){for(var s=t.length-1;0<=s;--s)if(r in t[s])return t[s][r]}function Ca(t){this.o=t,this.s=this.h=0,this.B=[Object.create(null)],this.l=Object.create(null),this.v=null,this.Ia=t&&t.Ia,this.Ha=t&&t.Ha}function ga(t){for(var r=new Ca(t.o),s=0;s<t.h+1;++s)r.B=[Object.assign(Object.create(null),r.B[0],t.B[s])],r.Ha=[Object.assign(Object.create(null),r.Ha[0],t.Ha[s])],r.l=Object.assign(Object.create(null),t.l),r.Ia=t.Ia,r.v=t.v;return r}function Wn(t){t.s++,t.h++,t.B[t.h]=Object.create(null),t.Ha[t.h]=Object.create(null)}function La(t,r,s){return(t=t.Ia[bt(r,s)])?t:null}function pa(t,r,s,i,u){if(i=bt(r,s)+"~"+i,t.l[i])throw Error('XQST0049: The function or variable "Q{'+r+"}"+s+'" is declared more than once.');t.l[i]=u}function Vt(t,r,s){t.B[t.h][r]=s}function ia(t,r,s){return r=bt(r||"",s),t.Ha[t.h][r]=r+"["+t.s+"]"}function $r(t,r,s,i){t.Ia[bt(r||"",s)+"["+t.s+"]"]=i}function xn(t){t.B.length=t.h,t.Ha.length=t.h,t.h--}function be(t,r){r==="*"||Array.isArray(r)||(r=[r]);for(var s=1;s<t.length;++s)if(Array.isArray(t[s])){var i=t[s];if(r==="*"||r.includes(i[0]))return i}return null}function Ht(t){return 2>t.length?"":typeof t[1]=="object"?t[2]||"":t[1]||""}function wt(t,r){return Array.isArray(t)?typeof(t=t[1])!="object"||Array.isArray(t)?null:r in t?t[r]:null:null}function mt(t,r){return r.reduce(be,t)}function rn(t,r){for(var s=[],i=1;i<t.length;++i)if(Array.isArray(t[i])){var u=t[i];r!=="*"&&u[0]!==r||s.push(u)}return s}function Oa(t){return{localName:Ht(t),namespaceURI:wt(t,"URI"),prefix:wt(t,"prefix")}}function Ei(t){function r(g){switch(g[0]){case"documentTest":return 55;case"elementTest":return 54;case"attributeTest":return 47;case"piTest":return 57;case"commentTest":return 58;case"textTest":return 56;case"anyKindTest":return 53;case"anyItemType":return 59;case"anyFunctionTest":case"functionTest":case"typedFunctionTest":return 60;case"anyMapTest":case"typedMapTest":return 61;case"anyArrayTest":case"typedArrayTest":return 62;case"atomicType":return Pt([wt(g,"prefix"),Ht(g)].join(":"));case"parenthesizedItemType":return r(be(g,"*"));default:throw Error('Type declaration "'+be(s,"*")[0]+'" is not supported.')}}var s=be(t,"typeDeclaration");if(!s||be(s,"voidSequenceType"))return{type:59,g:2};t={type:r(be(s,"*")),g:3};var i=null,u=be(s,"occurrenceIndicator");switch(u&&(i=Ht(u)),i){case"*":return t.g=2,t;case"?":return t.g=0,t;case"+":return t.g=1,t;case"":case null:return t}}function Mn(t,r,s){if(typeof t[1]!="object"||Array.isArray(t[1])){var i={};i[r]=s,t.splice(1,0,i)}else t[1][r]=s}function Yx(t){var r={type:62,g:3};return Mn(t,"type",r),r}function qx(t,r){if(!r||!r.ia)return{type:59,g:2};var s=be(t,"EQName");if(!s)return{type:59,g:2};var i=Oa(s);s=i.localName;var u=i.prefix;return i=rn(be(t,"arguments"),"*"),(s=r.ia.Ua({localName:s,prefix:u},i.length))&&(r=r.ia.xa(s.namespaceURI,s.localName,i.length+1))?(r.i.type!==59&&Mn(t,"type",r.i),r.i):{type:59,g:2}}function Mt(t,r,s){return(t<<20)+(r<<12)+(s.charCodeAt(0)<<8)+s.charCodeAt(1)}ne.prototype.xa=function(t,r,s){return Ec(t,r,s)},ne.prototype.ib=function(t,r){return t?null:(t=this.da[r],this.o[r]||(this.o[r]={name:r}),t)},ne.prototype.Ua=function(t,r){var s=this.l(t,r);if(s)this.B.push({nc:t,arity:r,Lb:s});else if(t.prefix===""){if(this.v)return{namespaceURI:this.v,localName:t.localName}}else if(r=this.aa(t.prefix,!0))return{namespaceURI:r,localName:t.localName};return s},ne.prototype.aa=function(t,r){return r===void 0||r?x[t]?x[t]:(r=this.s(t),this.h[t]||(this.h[t]={namespaceURI:r,prefix:t}),r!==void 0||t?r:null):null},Ca.prototype.xa=function(t,r,s,i){i=i!==void 0&&i;var u=this.l[bt(t,r)+"~"+s];return!u||i&&u.Eb?this.o===null?null:this.o.xa(t,r,s,i):u},Ca.prototype.ib=function(t,r){var s=Dn(this.Ha,bt(t,r));return s||(this.o===null?null:this.o.ib(t,r))},Ca.prototype.Ua=function(t,r){var s=t.prefix,i=t.localName;return s===""&&this.v?{localName:i,namespaceURI:this.v}:s&&(s=this.aa(s,!1))?{localName:i,namespaceURI:s}:this.o===null?null:this.o.Ua(t,r)},Ca.prototype.aa=function(t,r){var s=Dn(this.B,t||"");return s===void 0?this.o===null?void 0:this.o.aa(t||"",r===void 0||r):s};var xa={},vp=(xa[Mt(2,2,"idivOp")]=5,xa[Mt(16,16,"addOp")]=16,xa[Mt(16,16,"subtractOp")]=16,xa[Mt(16,16,"divOp")]=4,xa[Mt(16,2,"multiplyOp")]=16,xa[Mt(16,2,"divOp")]=16,xa[Mt(2,16,"multiplyOp")]=16,xa[Mt(17,17,"addOp")]=17,xa[Mt(17,17,"subtractOp")]=17,xa[Mt(17,17,"divOp")]=4,xa[Mt(17,2,"multiplyOp")]=17,xa[Mt(17,2,"divOp")]=17,xa[Mt(2,17,"multiplyOp")]=17,xa[Mt(9,9,"subtractOp")]=17,xa[Mt(7,7,"subtractOp")]=17,xa[Mt(8,8,"subtractOp")]=17,xa[Mt(9,16,"addOp")]=9,xa[Mt(9,16,"subtractOp")]=9,xa[Mt(9,17,"addOp")]=9,xa[Mt(9,17,"subtractOp")]=9,xa[Mt(7,16,"addOp")]=7,xa[Mt(7,16,"subtractOp")]=7,xa[Mt(7,17,"addOp")]=7,xa[Mt(7,17,"subtractOp")]=7,xa[Mt(8,17,"addOp")]=8,xa[Mt(8,17,"subtractOp")]=8,xa[Mt(9,16,"addOp")]=9,xa[Mt(9,16,"subtractOp")]=9,xa[Mt(9,17,"addOp")]=9,xa[Mt(9,17,"subtractOp")]=9,xa[Mt(7,17,"addOp")]=7,xa[Mt(7,17,"subtractOp")]=7,xa[Mt(7,16,"addOp")]=7,xa[Mt(7,16,"subtractOp")]=7,xa[Mt(8,17,"addOp")]=8,xa[Mt(8,17,"subtractOp")]=8,xa),la={},q1=(la[Mt(2,2,"addOp")]=function(t,r){return t+r},la[Mt(2,2,"subtractOp")]=function(t,r){return t-r},la[Mt(2,2,"multiplyOp")]=function(t,r){return t*r},la[Mt(2,2,"divOp")]=function(t,r){return t/r},la[Mt(2,2,"modOp")]=function(t,r){return t%r},la[Mt(2,2,"idivOp")]=function(t,r){return Math.trunc(t/r)},la[Mt(16,16,"addOp")]=function(t,r){return new Vo(t.ga+r.ga)},la[Mt(16,16,"subtractOp")]=function(t,r){return new Vo(t.ga-r.ga)},la[Mt(16,16,"divOp")]=function(t,r){return t.ga/r.ga},la[Mt(16,2,"multiplyOp")]=ts,la[Mt(16,2,"divOp")]=function(t,r){if(isNaN(r))throw Error("FOCA0005: Cannot divide xs:yearMonthDuration by NaN");if((t=Math.round(t.ga/r))>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while dividing xs:yearMonthDuration");return new Vo(t<Number.MIN_SAFE_INTEGER||t===0?0:t)},la[Mt(2,16,"multiplyOp")]=function(t,r){return ts(r,t)},la[Mt(17,17,"addOp")]=function(t,r){return new hn(t.ea+r.ea)},la[Mt(17,17,"subtractOp")]=function(t,r){return new hn(t.ea-r.ea)},la[Mt(17,17,"divOp")]=function(t,r){if(r.ea===0)throw Error("FOAR0001: Division by 0");return t.ea/r.ea},la[Mt(17,2,"multiplyOp")]=Ja,la[Mt(17,2,"divOp")]=function(t,r){if(isNaN(r))throw Error("FOCA0005: Cannot divide xs:dayTimeDuration by NaN");if((t=t.ea/r)>Number.MAX_SAFE_INTEGER||!Number.isFinite(t))throw Error("FODT0002: Value overflow while dividing xs:dayTimeDuration");return new hn(t<Number.MIN_SAFE_INTEGER||Object.is(-0,t)?0:t)},la[Mt(2,17,"multiplyOp")]=function(t,r){return Ja(r,t)},la[Mt(9,9,"subtractOp")]=oo,la[Mt(7,7,"subtractOp")]=oo,la[Mt(8,8,"subtractOp")]=oo,la[Mt(9,16,"addOp")]=vo,la[Mt(9,16,"subtractOp")]=Na,la[Mt(9,17,"addOp")]=vo,la[Mt(9,17,"subtractOp")]=Na,la[Mt(7,16,"addOp")]=vo,la[Mt(7,16,"subtractOp")]=Na,la[Mt(7,17,"addOp")]=vo,la[Mt(7,17,"subtractOp")]=Na,la[Mt(8,17,"addOp")]=vo,la[Mt(8,17,"subtractOp")]=Na,la[Mt(9,16,"addOp")]=vo,la[Mt(9,16,"subtractOp")]=Na,la[Mt(9,17,"addOp")]=vo,la[Mt(9,17,"subtractOp")]=Na,la[Mt(7,17,"addOp")]=vo,la[Mt(7,17,"subtractOp")]=Na,la[Mt(7,16,"addOp")]=vo,la[Mt(7,16,"subtractOp")]=Na,la[Mt(8,17,"addOp")]=vo,la[Mt(8,17,"subtractOp")]=Na,la);function Z1(t,r){return Z(t,5)&&Z(r,5)?5:Z(t,4)&&Z(r,4)?4:Z(t,6)&&Z(r,6)?6:3}var xp=[2,16,17,9,7,8];function J1(t,r,s){function i(st,ht){return{U:u?u(st):st,V:g?g(ht):ht}}var u=null,g=null;Z(r,19)&&(u=function(st){return ra(st,3)},r=3),Z(s,19)&&(g=function(st){return ra(st,3)},s=3);var b=xp.filter(function(st){return Z(r,st)}),_=xp.filter(function(st){return Z(s,st)});if(b.includes(2)&&_.includes(2)){var D=q1[Mt(2,2,t)],H=vp[Mt(2,2,t)];return H||(H=Z1(r,s)),t==="divOp"&&H===5&&(H=4),t==="idivOp"?Q1(i,D)[0]:function(st,ht){return st=i(st,ht),ue(D(st.U.value,st.V.value),H)}}for(var ae=(b=j(b)).next();!ae.done;ae=b.next()){ae=ae.value;for(var ve={},ze=j(_),Ye=ze.next();!Ye.done;ve={nb:ve.nb,qb:ve.qb},Ye=ze.next())if(Ye=Ye.value,ve.nb=q1[Mt(ae,Ye,t)],ve.qb=vp[Mt(ae,Ye,t)],ve.nb&&ve.qb!==void 0)return function(st){return function(ht,Bt){return ht=i(ht,Bt),ue(st.nb(ht.U.value,ht.V.value),st.qb)}}(ve)}}function Zx(t,r,s){function i(ve,ze){return{U:g?g(ve):ve,V:b?b(ze):ze}}var u=[2,53,59,46,47];if(u.includes(r)||u.includes(s))return 2;var g=null,b=null;Z(r,19)&&(g=function(ve){return ra(ve,3)},r=3),Z(s,19)&&(b=function(ve){return ra(ve,3)},s=3);var _=xp.filter(function(ve){return Z(r,ve)});if(u=xp.filter(function(ve){return Z(s,ve)}),_.includes(2)&&u.includes(2))return(u=vp[Mt(2,2,t)])===void 0&&(u=Z1(r,s)),t==="divOp"&&u===5&&(u=4),t==="idivOp"?Q1(i,function(ve,ze){return Math.trunc(ve/ze)})[1]:u;for(var D=(_=j(_)).next();!D.done;D=_.next()){D=D.value;for(var H=j(u),ae=H.next();!ae.done;ae=H.next())if((ae=vp[Mt(D,ae.value,t)])!==void 0)return ae}}function Q1(t,r){return[function(s,i){if(s=(i=t(s,i)).U,(i=i.V).value===0)throw Error("FOAR0001: Divisor of idiv operator cannot be (-)0");if(Number.isNaN(s.value)||Number.isNaN(i.value)||!Number.isFinite(s.value))throw Error("FOAR0002: One of the operands of idiv is NaN or the first operand is (-)INF");return Number.isFinite(s.value)&&!Number.isFinite(i.value)?ue(0,5):ue(r(s.value,i.value),5)},5]}var eg=Object.create(null);function gf(t,r,s,i,u){Ee.call(this,r.o.add(s.o),[r,s],{C:!1},!1,i),this.A=r,this.K=s,this.l=t,this.s=u}function Jx(t,r){for(var s=Yn,i=!1,u=1;u<t.length;u++)switch(t[u][0]){case"letClause":kp(r);var g=t[u],b=r,_=s,D=mt(g,["letClauseItem","typedVariableBinding","varName"]);D=Oa(D),_=_((g=mt(g,["letClauseItem","letExpr"]))[1],b),og(b,D.localName,_);break;case"forClause":i=!0,kp(r),Qx(t[u],r,s);break;case"whereClause":kp(r),s(b=t[u],r),Mn(b,"type",{type:0,g:3});break;case"orderByClause":kp(r);break;case"returnClause":return b=s,Mn(s=mt(u=t[u],["*"]),"type",r=b(s,r)),Mn(u,"type",r),(s=r)?(i&&(s={type:s.type,g:2}),s.type!==59&&Mn(t,"type",s),s):{type:59,g:2};default:return(s=s(t[u],r))?(i&&(s={type:s.type,g:2}),s.type!==59&&Mn(t,"type",s),s):{type:59,g:2}}if(!(0<r.h))throw Error("Variable scope out of bound");r.h--,r.o.pop(),r.v.pop()}function Qx(t,r,s){var i=Oa(mt(t,["forClauseItem","typedVariableBinding","varName"]));(t=mt(t,["forClauseItem","forExpr","sequenceExpr"]))&&((t=rn(t,"*").map(function(u){return s(u,r)})).includes(void 0)||t.includes(null)||(t=tg(t)).length===1&&og(r,i.localName,t[0]))}function tg(t){return t.filter(function(r,s,i){return i.findIndex(function(u){return u.type===r.type&&u.g===r.g})===s})}function ek(t,r){if(!r||!r.ia)return{type:59,g:2};var s=be(t,"functionName"),i=Oa(s),u=i.localName,g=i.prefix,b=i.namespaceURI;if(i=rn(be(t,"arguments"),"*"),b===null){if(!(g=r.ia.Ua({localName:u,prefix:g},i.length)))return{type:59,g:2};u=g.localName,Mn(s,"URI",b=g.namespaceURI),s[2]=u}return(r=r.ia.xa(b,u,i.length))&&r.i.type!==63?(r.i.type!==59&&Mn(t,"type",r.i),r.i):{type:59,g:2}}function tk(t){var r={type:61,g:3};return Mn(t,"type",r),r}function nk(t,r){if(!r||!r.ia)return{type:59,g:2};var s=be(t,"functionName"),i=Oa(s),u=i.localName,g=i.namespaceURI,b=i.prefix;if(i=Number(mt(t,["integerConstantExpr","value"])[1]),!g){if(!(g=r.ia.Ua({localName:u,prefix:b},i)))return{type:59,g:2};u=g.localName,Mn(s,"URI",g=g.namespaceURI)}return(r=r.ia.xa(g,u,i)||null)?(r.i.type!==59&&r.i.type!==63&&Mn(t,"type",r.i),r.i):{type:59,g:2}}function ak(t,r){var s=rn(t,"stepExpr");if(!s)return{type:59,g:2};for(var i=(s=j(s)).next();!i.done;i=s.next()){var u=i.value;i=r;var g=null;if(u){for(var b=rn(u,"*"),_="",D=(b=j(b)).next();!D.done;D=b.next())switch(D=D.value,D[0]){case"filterExpr":g=wt(mt(D,["*"]),"type");break;case"xpathAxis":e:{switch(_=D[1]){case"attribute":g={type:47,g:2};break e;case"child":case"decendant":case"self":case"descendant-or-self":case"following-sibling":case"following":case"namespace":case"parent":case"ancestor":case"preceding-sibling":case"preceding":case"ancestor-or-self":g={type:53,g:2};break e}g=void 0}break;case"nameTest":var H=Oa(D);if(H.namespaceURI!==null||_==="attribute"&&!H.prefix)break;(H=i.aa(H.prefix||""))!==void 0&&Mn(D,"URI",H);break;case"lookup":g={type:59,g:2}}g&&g.type!==59&&Mn(u,"type",g)}u=wt(u,"type")}return u&&u.type!==59&&Mn(t,"type",u),u}function rk(t){var r={type:0,g:3};return Mn(t,"type",r),r}function ok(t,r,s){return(r=r===0?{type:53,g:2}:r===1?s[0]:s.includes(void 0)||s.includes(null)||1<(r=tg(s)).length?{type:59,g:2}:{type:r[0].type,g:2})&&r.type!==59&&Mn(t,"type",r),r}function sk(t,r,s,i){if(!r||s.includes(void 0))return{type:59,g:2};for(var u=rn(t,"typeswitchExprCaseClause"),g=0;g<s.length;g++){var b=be(u[g],"*");switch(b[0]){case"sequenceType":if(b=ng(b,r,s[g]))return b.type!==59&&Mn(t,"type",b),b;continue;case"sequenceTypeUnion":for(i=rn(b,"*"),u=0;2>u;u++)if(b=ng(i[u],r,s[g]))return b.type!==59&&Mn(t,"type",b),b;default:return{type:59,g:2}}}return i.type!==59&&Mn(t,"type",i),i}function ng(t,r,s){var i=rn(t,"*"),u=be(t,"atomicType");if(!u)return{type:59,g:2};if(Pt(wt(u,"prefix")+":"+u[2])===r.type){if(i.length===1){if(r.g===3)return s}else if(t=be(t,"occurrenceIndicator")[1],r.g===kn(t))return s}}function ag(t,r){Yn(t,r)}function Yn(t,r){var s=ik.get(t[0]);if(s)return s(t,r);for(s=1;s<t.length;s++)t[s]&&Yn(t[s],r)}function Tu(t,r){var s=Yn(be(t,"firstOperand")[1],r),i=Yn(be(t,"secondOperand")[1],r),u=t[0];if(s&&i){if(!(r=Zx(u,s.type,i.type)))throw Error("XPTY0004: "+u+" not available for types "+St(s)+" and "+St(i));s={type:r,g:s.g},r!==2&&r!==59&&Mn(t,"type",s),t=s}else t={type:2,g:3};return t}function rg(t,r){Yn(be(t,"firstOperand")[1],r),Yn(be(t,"secondOperand")[1],r);e:{switch(t[0]){case"orOp":case"andOp":Mn(t,"type",r={type:0,g:3}),t=r;break e}t=void 0}return t}function yf(t,r){Yn(be(t,"firstOperand")[1],r),Yn(be(t,"secondOperand")[1],r);e:{switch(t[0]){case"unionOp":case"intersectOp":case"exceptOp":Mn(t,"type",r={type:53,g:2}),t=r;break e}t=void 0}return t}function ju(t,r){return Yn(be(t,"firstOperand")[1],r),Yn(be(t,"secondOperand")[1],r),Mn(t,"type",r={type:0,g:3}),r}function Iu(t,r){Yn(be(t,"firstOperand")[1],r),Yn(be(t,"secondOperand")[1],r),r=wt(mt(t,["firstOperand","*"]),"type");var s=wt(mt(t,["secondOperand","*"]),"type");return Mn(t,"type",r={type:0,g:Go(r)||Go(s)?0:3}),r}function bf(t,r){Yn(be(t,"firstOperand")[1],r),Yn(be(t,"secondOperand")[1],r),r=wt(mt(t,["firstOperand","*"]),"type");var s=wt(mt(t,["secondOperand","*"]),"type");return Mn(t,"type",r={type:0,g:Go(r)||Go(s)?0:3}),r}N(gf,Ee),gf.prototype.h=function(t,r){var s=this;return Pa(Ke(this.A,t,r),r).M(function(i){return i.length===0?J.empty():Pa(Ke(s.K,t,r),r).M(function(u){if(u.length===0)return J.empty();if(1<i.length||1<u.length)throw Error('XPTY0004: the operands of the "'+s.l+'" operator should be empty or singleton.');var g=i[0];if(u=u[0],s.s&&s.type)return J.m(s.s(g,u));var b=g.type,_=u.type,D=s.l,H=b+"~"+_+"~"+D,ae=eg[H];if(ae||(ae=eg[H]=J1(D,b,_)),!(b=ae))throw Error("XPTY0004: "+s.l+" not available for types "+Xe[g.type]+" and "+Xe[u.type]);return J.m(b(g,u))})})};var ik=new Map([["unaryMinusOp",function(t,r){return(r=Yn(be(t,"operand")[1],r))?Z(r.type,2)?(Mn(t,"type",r={type:r.type,g:r.g}),t=r):(Mn(t,"type",r={type:3,g:3}),t=r):(Mn(t,"type",r={type:2,g:2}),t=r),t}],["unaryPlusOp",function(t,r){return(r=Yn(be(t,"operand")[1],r))?Z(r.type,2)?(Mn(t,"type",r={type:r.type,g:r.g}),t=r):(Mn(t,"type",r={type:3,g:3}),t=r):(Mn(t,"type",r={type:2,g:2}),t=r),t}],["addOp",Tu],["subtractOp",Tu],["divOp",Tu],["idivOp",Tu],["modOp",Tu],["multiplyOp",Tu],["andOp",rg],["orOp",rg],["sequenceExpr",function(t,r){var s=rn(t,"*"),i=s.map(function(u){return Yn(u,r)});return ok(t,s.length,i)}],["unionOp",yf],["intersectOp",yf],["exceptOp",yf],["stringConcatenateOp",function(t,r){return Yn(be(t,"firstOperand")[1],r),Yn(be(t,"secondOperand")[1],r),Mn(t,"type",r={type:1,g:3}),r}],["rangeSequenceExpr",function(t,r){return Yn(be(t,"startExpr")[1],r),Yn(be(t,"endExpr")[1],r),Mn(t,"type",r={type:5,g:1}),r}],["equalOp",ju],["notEqualOp",ju],["lessThanOrEqualOp",ju],["lessThanOp",ju],["greaterThanOrEqualOp",ju],["greaterThanOp",ju],["eqOp",Iu],["neOp",Iu],["ltOp",Iu],["leOp",Iu],["gtOp",Iu],["geOp",Iu],["isOp",bf],["nodeBeforeOp",bf],["nodeAfterOp",bf],["pathExpr",function(t,r){var s=be(t,"rootExpr");return s&&s[1]&&Yn(s[1],r),rn(t,"stepExpr").map(function(i){return Yn(i,r)}),ak(t,r)}],["contextItemExpr",function(){return{type:59,g:2}}],["ifThenElseExpr",function(t,r){Yn(be(be(t,"ifClause"),"*"),r);var s=Yn(be(be(t,"thenClause"),"*"),r);return r=Yn(be(be(t,"elseClause"),"*"),r),s&&r&&s.type===r.type&&s.g===r.g?(s.type!==59&&Mn(t,"type",s),t=s):t={type:59,g:2},t}],["instanceOfExpr",function(t,r){return Yn(be(t,"argExpr"),r),Yn(be(t,"sequenceType"),r),Mn(t,"type",r={type:0,g:3}),r}],["integerConstantExpr",function(t){var r={type:5,g:3};return Mn(t,"type",r),r}],["doubleConstantExpr",function(t){var r={type:3,g:3};return Mn(t,"type",r),r}],["decimalConstantExpr",function(t){var r={type:4,g:3};return Mn(t,"type",r),r}],["stringConstantExpr",function(t){var r={type:1,g:3};return Mn(t,"type",r),r}],["functionCallExpr",function(t,r){return rn(be(t,"arguments"),"*").map(function(s){return Yn(s,r)}),ek(t,r)}],["arrowExpr",function(t,r){return Yn(be(t,"argExpr")[1],r),qx(t,r)}],["dynamicFunctionInvocationExpr",function(t,r){return Yn(mt(t,["functionItem","*"]),r),(t=be(t,"arguments"))&&Yn(t,r),{type:59,g:2}}],["namedFunctionRef",function(t,r){return nk(t,r)}],["inlineFunctionExpr",function(t,r){return Yn(be(t,"functionBody")[1],r),Mn(t,"type",r={type:60,g:3}),r}],["castExpr",function(t){var r=mt(t,["singleType","atomicType"]);return(r={type:Pt(wt(r,"prefix")+":"+r[2]),g:3}).type!==59&&Mn(t,"type",r),r}],["castableExpr",function(t){var r={type:0,g:3};return Mn(t,"type",r),r}],["simpleMapExpr",function(t,r){for(var s,i=rn(t,"pathExpr"),u=0;u<i.length;u++)s=Yn(i[u],r);return s!=null?((r={type:s.type,g:2}).type!==59&&Mn(t,"type",r),t=r):t={type:59,g:2},t}],["mapConstructor",function(t,r){return rn(t,"mapConstructorEntry").map(function(s){return{key:Yn(mt(s,["mapKeyExpr","*"]),r),value:Yn(mt(s,["mapValueExpr","*"]),r)}}),tk(t)}],["arrayConstructor",function(t,r){return rn(be(t,"*"),"arrayElem").map(function(s){return Yn(s,r)}),Yx(t)}],["unaryLookup",function(t){return be(t,"NCName"),{type:59,g:2}}],["typeswitchExpr",function(t,r){return sk(t,Yn(be(t,"argExpr")[1],r),rn(t,"typeswitchExprCaseClause").map(function(s){return Yn(mt(s,["resultExpr"])[1],r)}),Yn(mt(t,["typeswitchExprDefaultClause","resultExpr"])[1],r))}],["quantifiedExpr",function(t,r){return rn(t,"*").map(function(s){return Yn(s,r)}),rk(t)}],["x:stackTrace",function(t,r){return Yn((t=rn(t,"*"))[0],r)}],["queryBody",function(t,r){return Yn(t[1],r)}],["flworExpr",function(t,r){return Jx(t,r)}],["varRef",function(t,r){var s,i=Oa(be(t,"name"));e:{for(s=r.h;0<=s;s--){var u=r.o[s][i.localName];if(u){s=u;break e}}s=void 0}return s&&s.type!==59&&Mn(t,"type",s),i.namespaceURI===null&&(r=r.aa(i.prefix))!==void 0&&Mn(t,"URI",r),s}]]);function Ac(t){this.h=0,this.ia=t,this.o=[{}],this.v=[{}]}function og(t,r,s){if(t.o[t.h][r])throw Error("Another variable of in the scope "+t.h+" with the same name "+r+" already exists");t.o[t.h][r]=s}function kp(t){t.h++,t.o.push({}),t.v.push({})}function wf(t,r){var s={};Ee.call(this,new qt((s.external=1,s)),t,{C:t.every(function(i){return i.C})},!1,r),this.l=t}function vf(t,r){var s={};Ee.call(this,new qt((s.external=1,s)),t,{C:t.every(function(i){return i.C})},!1,r),this.l=t}function oi(t){if(t===null)throw Kr("context is absent, it needs to be present to use axes.");if(!Z(t.type,53))throw Error("XPTY0020: Axes can only be applied to nodes.");return t.value}function lk(t,r,s){var i=r;return{next:function(){if(!i)return me;var u=i;return i=zn(t,u,s),Se(Ln(u))}}}function _p(t,r){r=r||{Ra:!1},Ee.call(this,t.o,[t],{R:"reverse-sorted",X:!1,subtree:!1,C:!1}),this.l=t,this.s=!!r.Ra}Ac.prototype.aa=function(t){for(var r=this.h;0<=r;r--){var s=this.v[r][t];if(s!==void 0)return s}return this.ia?this.ia.aa(t):void 0},N(wf,Ee),wf.prototype.h=function(t,r){return this.l.length===0?J.m(new rr([])):Ke(this.l[0],t,r).M(function(s){return J.m(new rr(s.map(function(i){return ha(J.m(i))})))})},N(vf,Ee),vf.prototype.h=function(t,r){return J.m(new rr(this.l.map(function(s){return ha(Ke(s,t,r))})))},N(_p,Ee),_p.prototype.h=function(t,r){var s=this;r=r.h,t=oi(t.N);var i=this.l.B();return i=i&&(i.startsWith("name-")||i==="type-1")?"type-1":null,J.create(lk(r,this.s?t:zn(r,t,i),i)).filter(function(u){return s.l.l(u)})};var sg=new Map([["type-1-or-type-2",["name","type-1","type-2"]],["type-1",["name"]],["type-2",["name"]]]);function os(t,r){if(t===null)return r;if(r===null||t===r)return t;var s=t.startsWith("name-")?"name":t,i=r.startsWith("name-")?"name":r,u=sg.get(s);return u!==void 0&&u.includes(i)?r:(r=sg.get(i))!==void 0&&r.includes(s)?t:"empty"}function Ep(t,r){var s={};Ee.call(this,new qt((s.attribute=1,s)),[t],{R:"unsorted",subtree:!0,X:!0,C:!1}),this.l=t,this.s=os(this.l.B(),r)}function xf(t,r){Ee.call(this,t.o,[t],{R:"sorted",subtree:!0,X:!0,C:!1}),this.s=t,this.l=os(r,t.B())}function kf(t,r,s){var i=r.node.nodeType;if(i!==1&&i!==9)return{next:function(){return me}};var u=Jo(t,r,s);return{next:function(){if(!u)return me;var g=u;return u=Co(t,u,s),Se(g)}}}function uk(t,r,s){var i=[Eo(r)];return{next:function(u){if(0<i.length&&1&u&&i.shift(),!i.length)return me;for(u=i[0].next(0);u.done;){if(i.shift(),!i.length)return me;u=i[0].next(0)}return i.unshift(kf(t,u.value,s)),Se(Ln(u.value))}}}function Ap(t,r){r=r||{Ra:!1},Ee.call(this,t.o,[t],{C:!1,X:!1,R:"sorted",subtree:!0}),this.l=t,this.s=!!r.Ra,this.A=(t=this.l.B())&&(t.startsWith("name-")||t==="type-1")||t==="type-1-or-type-2"?"type-1":null}function ig(t,r,s){var i=t.node.nodeType;if(i!==1&&i!==9)return t;for(i=fs(r,t,s);i!==null;){if(i.node.nodeType!==1)return i;i=fs(r,t=i,s)}return t}function lg(t,r,s,i){if(s!==void 0&&s){var u=r,g=!1;return{next:function(){if(g)return me;if(Ha(u,r))return Ha(u=ig(r,t,i),r)?(g=!0,me):Se(Ln(u));var _=u.node.nodeType,D=_===9||_===2?null:cr(t,u,i);return D!==null?Se(Ln(u=ig(D,t,i))):Ha(u=_===9?null:zn(t,u,i),r)?(g=!0,me):Se(Ln(u))}}}var b=[kf(t,r,i)];return{next:function(){if(!b.length)return me;for(var _=b[0].next(0);_.done;){if(b.shift(),!b.length)return me;_=b[0].next(0)}return b.unshift(kf(t,_.value,i)),Se(Ln(_.value))}}}function ck(t,r,s){for(var i=[];r&&r.node.nodeType!==9;r=zn(t,r,null)){var u=Co(t,r,s);u&&i.push(u)}var g=null;return{next:function(){for(;g||i.length;){if(!g){g=lg(t,i[0],!1,s);var b=Se(Ln(i[0])),_=Co(t,i[0],s);return _?i[0]=_:i.shift(),b}if(!(b=g.next(0)).done)return b;g=null}return me}}}function _f(t){Ee.call(this,t.o,[t],{R:"sorted",X:!0,subtree:!1,C:!1}),this.l=t,this.s=(t=this.l.B())&&(t.startsWith("name-")||t==="type-1")?"type-1":null}function pk(t,r,s){return{next:function(){return(r=r&&Co(t,r,s))?Se(Ln(r)):me}}}function Ef(t,r){Ee.call(this,t.o,[t],{R:"sorted",X:!0,subtree:!1,C:!1}),this.l=t,this.s=os(this.l.B(),r)}function Af(t,r){Ee.call(this,t.o,[t],{R:"reverse-sorted",X:!0,subtree:!0,C:!1}),this.l=t,this.s=os(r,this.l.B())}function dk(t,r,s){for(var i=[];r&&r.node.nodeType!==9;r=zn(t,r,null)){var u=cr(t,r,s);u!==null&&i.push(u)}var g=null;return{next:function(){for(;g||i.length;){g||(g=lg(t,i[0],!0,s));var b=g.next(0);if(b.done){g=null,b=cr(t,i[0],s);var _=Se(Ln(i[0]));return b===null?i.shift():i[0]=b,_}return b}return me}}}function Sf(t){Ee.call(this,t.o,[t],{C:!1,X:!0,R:"reverse-sorted",subtree:!1}),this.l=t,this.s=(t=this.l.B())&&(t.startsWith("name-")||t==="type-1")?"type-1":null}function fk(t,r,s){return{next:function(){return(r=r&&cr(t,r,s))?Se(Ln(r)):me}}}function Tf(t,r){Ee.call(this,t.o,[t],{C:!1,X:!0,R:"reverse-sorted",subtree:!1}),this.l=t,this.s=os(this.l.B(),r)}function Sp(t,r){Ee.call(this,t.o,[t],{R:"sorted",subtree:!0,X:!0,C:!1}),this.l=t,this.s=os(this.l.B(),r)}function Tp(t,r,s,i){var u=t.o.add(r.o).add(s.o);yn.call(this,u,[t,r,s],{C:t.C&&r.C&&s.C,X:r.X===s.X&&r.X,R:r.da===s.da?r.da:"unsorted",subtree:r.subtree===s.subtree&&r.subtree},i),this.l=t}function jp(t,r,s){this.location=t,this.o=r,this.h=s}function ug(t){return t.h instanceof Error?t.location:ug(t.h)}function cg(t){var r=t.h instanceof Au?["Inner error:",t.h.message]:t.h instanceof Error?[t.h.toString()]:cg(t.h);return r.push("  at <"+t.o+">:"+t.location.start.line+":"+t.location.start.ja+" - "+t.location.end.line+":"+t.location.end.ja),r}function Ip(t,r,s){yn.call(this,s.o,[s],{C:s.C,X:s.X,R:s.da,subtree:s.subtree}),this.l=r,this.K={end:{ja:t.end.ja,line:t.end.line,offset:t.end.offset},start:{ja:t.start.ja,line:t.start.line,offset:t.start.offset}}}function Po(t,r,s,i){Ee.call(this,t,r,s,!0),this.l=i,this.I=this.l.I}function pg(t,r,s,i){var u=[],g=t.K(r,s,i,function(_){if(t.l instanceof Po)return fn(pg(t.l,r,_,i),function(H){return u=H});var D=null;return J.create({next:function(){for(;;){if(!D){var H=_.next(0);if(H.done)return me;H=t.l.s(H.value,i),D=fn(H,function(ae){return u=Xa(u,ae)}).value}if(!(H=D.next(0)).done)return H;D=null}}})}),b=!1;return{next:function(){if(b)return me;var _=g.O();return b=!0,Se(new Nt(_,u))}}}function dg(t,r,s,i){return t.K(r,s,i,function(u){if(t.l instanceof Po)return dg(t.l,r,u,i);var g=null;return J.create({next:function(){for(;;){if(!g){var b=u.next(0);if(b.done)return me;g=Ke(t.l,b.value,i).value}if(!(b=g.next(0)).done)return b;g=null}}})})}function Np(t,r,s,i){Po.call(this,r.o.add(i.o),[r,i],{C:!1},i),this.S=t.prefix,this.la=t.namespaceURI,this.Xb=t.localName,this.Gb=null,this.A=s,this.Ba=null,this.pa=r}function Dp(t,r,s){var i={};Ee.call(this,new qt((i.external=1,i)),[s],{C:!1,R:"unsorted"}),this.S=t.map(function(u){return u.name}),this.A=t.map(function(u){return u.type}),this.s=null,this.K=r,this.l=s}function Cp(t,r,s){if(Po.call(this,r.o.add(s.o),[r,s],{C:!1,X:s.X,R:s.da,subtree:s.subtree},s),t.prefix||t.namespaceURI)throw Error("Not implemented: let expressions with namespace usage.");this.A=t.prefix,this.S=t.namespaceURI,this.Ba=t.localName,this.la=r,this.pa=null}function il(t,r){switch(Ee.call(this,new qt({}),[],{C:!0,R:"sorted"},!1,r),r.type){case 5:var s=ue(parseInt(t,10),r.type);break;case 1:s=ue(t,r.type);break;case 4:case 3:s=ue(parseFloat(t),r.type);break;default:throw new TypeError("Type "+r+" not expected in a literal")}this.l=function(){return J.m(s)}}function jf(t,r){var s={};Ee.call(this,new qt((s.external=1,s)),t.reduce(function(i,u){return i.concat(u.key,u.value)},[]),{C:!1},!1,r),this.l=t}function ll(t,r,s){var i={};Ee.call(this,new qt((i.external=1,i)),[],{C:!0},!1,s),this.s=r,this.A=t,this.l=null}N(Ep,Ee),Ep.prototype.h=function(t,r){var s=this;return r=r.h,(t=oi(t.N)).node.nodeType!==1?J.empty():(t=yo(r,t,this.s).filter(function(i){return i.node.namespaceURI!=="http://www.w3.org/2000/xmlns/"}).map(function(i){return Ln(i)}).filter(function(i){return s.l.l(i)}),J.create(t))},Ep.prototype.B=function(){return"type-1"},N(xf,Ee),xf.prototype.h=function(t,r){var s=this,i=r.h,u=oi(t.N);if((t=u.node.nodeType)!==1&&t!==9)return J.empty();var g=null,b=!1;return J.create({next:function(){for(;!b;){if(!g){if(!(g=Jo(i,u,s.l))){b=!0;continue}return Se(Ln(g))}if(g=Co(i,g,s.l))return Se(Ln(g));b=!0}return me}}).filter(function(_){return s.s.l(_)})},N(Ap,Ee),Ap.prototype.h=function(t,r){var s=this;return t=uk(r=r.h,t=oi(t.N),this.A),this.s||t.next(0),J.create(t).filter(function(i){return s.l.l(i)})},N(_f,Ee),_f.prototype.h=function(t,r){var s=this;return r=r.h,t=oi(t.N),J.create(ck(r,t,this.s)).filter(function(i){return s.l.l(i)})},N(Ef,Ee),Ef.prototype.h=function(t,r){var s=this;return r=r.h,t=oi(t.N),J.create(pk(r,t,this.s)).filter(function(i){return s.l.l(i)})},N(Af,Ee),Af.prototype.h=function(t,r){return(t=zn(r=r.h,t=oi(t.N),this.s))?(t=Ln(t),this.l.l(t)?J.m(t):J.empty()):J.empty()},N(Sf,Ee),Sf.prototype.h=function(t,r){var s=this;return r=r.h,t=oi(t.N),J.create(dk(r,t,this.s)).filter(function(i){return s.l.l(i)})},N(Tf,Ee),Tf.prototype.h=function(t,r){var s=this;return r=r.h,t=oi(t.N),J.create(fk(r,t,this.s)).filter(function(i){return s.l.l(i)})},N(Sp,Ee),Sp.prototype.h=function(t){return oi(t.N),this.l.l(t.N)?J.m(t.N):J.empty()},Sp.prototype.B=function(){return this.s},N(Tp,yn),Tp.prototype.A=function(t,r,s){var i=null,u=s[0](t);return J.create({next:function(g){return i||(i=(u.ha()?s[1](t):s[2](t)).value),i.next(g)}})},Tp.prototype.v=function(t){if(yn.prototype.v.call(this,t),this.l.I)throw se()},N(Ip,yn),Ip.prototype.A=function(t,r,s){var i=this;r=j(s).next().value;try{var u=r(t)}catch(g){throw new jp(this.K,this.l,g)}return J.create({next:function(g){try{return u.value.next(g)}catch(b){throw new jp(i.K,i.l,b)}}})},Ip.prototype.v=function(t){try{yn.prototype.v.call(this,t)}catch(r){throw new jp(this.K,this.l,r)}},N(Po,Ee),Po.prototype.h=function(t,r){var s=this;return this.K(t,Eo(t),r,function(i){if(s.l instanceof Po)return dg(s.l,t,i,r);var u=null;return J.create({next:function(g){for(;;){if(!u){var b=i.next(0);if(b.done)return me;u=Ke(s.l,b.value,r).value}if(!(b=u.next(g)).done)return b;u=null}}})})},Po.prototype.s=function(t,r){return pg(this,t,Eo(t),r)},Po.prototype.v=function(t){Ee.prototype.v.call(this,t),this.I=this.l.I;for(var r=(t=j(this.ta)).next();!r.done;r=t.next())if((r=r.value)!==this.l&&r.I)throw se()},N(Np,Po),Np.prototype.K=function(t,r,s,i){var u=this,g=null,b=null,_=0;return i({next:function(){for(var D={};;){if(!g){var H=r.next(0);if(H.done)return me;b=H.value,_=0,g=Ke(u.pa,b,s).value}if(D.mb=g.next(0),!D.mb.done)return _++,(H={})[u.Gb]=function(ae){return function(){return J.m(ae.mb.value)}}(D),D=H,u.Ba&&(D[u.Ba]=function(){return J.m(new Un(5,_))}),Se(Mo(b,D));g=null,D={mb:D.mb}}}})},Np.prototype.v=function(t){if(this.S&&(this.la=t.aa(this.S),!this.la&&this.S))throw Error("XPST0081: Could not resolve namespace for prefix "+this.S+" in a for expression");if(this.pa.v(t),Wn(t),this.Gb=ia(t,this.la,this.Xb),this.A){if(this.A.prefix&&(this.A.namespaceURI=t.aa(this.A.prefix),!this.A.namespaceURI&&this.A.prefix))throw Error("XPST0081: Could not resolve namespace for prefix "+this.S+" in the positionalVariableBinding in a for expression");this.Ba=ia(t,this.A.namespaceURI,this.A.localName)}if(this.l.v(t),xn(t),this.pa.I)throw se();this.l.I&&(this.I=!0)},N(Dp,Ee),Dp.prototype.h=function(t,r){var s=this,i=new ar({j:this.A,arity:this.A.length,Sa:!0,I:this.l.I,localName:"dynamic-function",namespaceURI:"",i:this.K,value:function(u,g,b){var _=Q.apply(3,arguments),D=Mo(Dr(t,-1,null,J.empty()),s.s.reduce(function(H,ae,ve){return H[ae]=ha(_[ve]),H},Object.create(null)));return Ke(s.l,D,r)}});return J.m(i)},Dp.prototype.v=function(t){if(Wn(t),this.s=this.S.map(function(r){return ia(t,r.namespaceURI,r.localName)}),this.l.v(t),xn(t),this.l.I)throw Error("Not implemented: inline functions can not yet be updating.")},N(Cp,Po),Cp.prototype.K=function(t,r,s,i){var u=this;return i({next:function(){var g=r.next(0);if(g.done)return me;var b={};return Se(g=Mo(g=g.value,(b[u.pa]=ha(Ke(u.la,g,s)),b)))}})},Cp.prototype.v=function(t){if(this.A&&(this.S=t.aa(this.A),!this.S&&this.A))throw Error("XPST0081: Could not resolve namespace for prefix "+this.A+" using in a for expression");if(this.la.v(t),Wn(t),this.pa=ia(t,this.S,this.Ba),this.l.v(t),xn(t),this.I=this.l.I,this.la.I)throw se()},N(il,Ee),il.prototype.h=function(){return this.l()},N(jf,Ee),jf.prototype.h=function(t,r){var s=this;return Hn(this.l.map(function(i){return Pa(Ke(i.key,t,r),r).Z({default:function(){throw Error("XPTY0004: A key of a map should be a single atomizable value.")},m:function(u){return u}})}),function(i){return J.m(new Zt(i.map(function(u,g){return{key:u,value:ha(Ke(s.l[g].value,t,r))}})))})},N(ll,Ee),ll.prototype.h=function(){var t=new ar({j:this.l.j,I:this.l.I,arity:this.s,localName:this.l.localName,namespaceURI:this.l.namespaceURI,i:this.l.i,value:this.l.callFunction});return J.m(t)},ll.prototype.v=function(t){var r=this.A.namespaceURI,s=this.A.localName,i=this.A.prefix;if(r===null){var u=t.Ua({localName:s,prefix:i},this.s);if(!u)throw Error("XPST0017: The function "+(i?i+":":"")+s+" with arity "+this.s+" could not be resolved. "+Su(s));r=u.namespaceURI,s=u.localName}if(this.l=t.xa(r,s,this.s)||null,!this.l)throw t=this.A,Error("XPST0017: Function "+(t.namespaceURI?"Q{"+t.namespaceURI+"}":t.prefix?t.prefix+":":"")+t.localName+" with arity of "+this.s+" not registered. "+Su(s));Ee.prototype.v.call(this,t)};var co={},hk=(co[5]=5,co[27]=5,co[28]=5,co[31]=5,co[32]=5,co[33]=5,co[34]=5,co[30]=5,co[36]=5,co[35]=5,co[38]=5,co[37]=5,co[29]=5,co[4]=4,co[6]=6,co[3]=3,co);function Op(t,r,s){Ee.call(this,r.o,[r],{C:!1},!1,s),this.s=r,this.l=t}function Bp(t,r){Ee.call(this,t.reduce(function(s,i){return s.add(i.o)},new qt({})),t,{C:t.every(function(s){return s.C})},!1,r),this.l=t,this.s=t.reduce(function(s,i){return os(s,i.B())},null)}function Rp(t,r){var s,i=t.reduce(function(u,g){return 0<un(u,g.o)?u:g.o},new qt({}));for(Ee.call(this,i,t,{C:t.every(function(u){return u.C})},!1,r),r=0;r<t.length&&(s===void 0&&(s=t[r].B()),s!==null);++r)if(s!==t[r].B()){s=null;break}this.s=s,this.l=t}function Fp(t,r){var s;return J.create({next:function(i){for(;;){if(!s){var u=t.value.next(i);if(u.done)return me;s=_o(u.value,r)}if(!(u=s.value.next(i)).done)return u;s=null}}})}function mk(t,r){if(t==="eqOp")return function(s,i){return s=(i=r(s,i)).U,i=i.V,s.value.namespaceURI===i.value.namespaceURI&&s.value.localName===i.value.localName};if(t==="neOp")return function(s,i){return s=(i=r(s,i)).U,i=i.V,s.value.namespaceURI!==i.value.namespaceURI||s.value.localName!==i.value.localName};throw Error('XPTY0004: Only the "eq" and "ne" comparison is defined for xs:QName')}function gk(t,r){switch(t){case"eqOp":return function(s,i){return(s=r(s,i)).U.value===s.V.value};case"neOp":return function(s,i){return(s=r(s,i)).U.value!==s.V.value};case"ltOp":return function(s,i){return(s=r(s,i)).U.value<s.V.value};case"leOp":return function(s,i){return(s=r(s,i)).U.value<=s.V.value};case"gtOp":return function(s,i){return(s=r(s,i)).U.value>s.V.value};case"geOp":return function(s,i){return(s=r(s,i)).U.value>=s.V.value}}}function yk(t,r){switch(t){case"ltOp":return function(s,i){return(s=r(s,i)).U.value.ga<s.V.value.ga};case"leOp":return function(s,i){return s=(i=r(s,i)).U,i=i.V,aa(s.value,i.value)||s.value.ga<i.value.ga};case"gtOp":return function(s,i){return(s=r(s,i)).U.value.ga>s.V.value.ga};case"geOp":return function(s,i){return s=(i=r(s,i)).U,i=i.V,aa(s.value,i.value)||s.value.ga>i.value.ga}}}function bk(t,r){switch(t){case"eqOp":return function(s,i){return aa((s=r(s,i)).U.value,s.V.value)};case"ltOp":return function(s,i){return(s=r(s,i)).U.value.ea<s.V.value.ea};case"leOp":return function(s,i){return s=(i=r(s,i)).U,i=i.V,aa(s.value,i.value)||s.value.ea<i.value.ea};case"gtOp":return function(s,i){return(s=r(s,i)).U.value.ea>s.V.value.ea};case"geOp":return function(s,i){return s=(i=r(s,i)).U,i=i.V,aa(s.value,i.value)||s.value.ea>i.value.ea}}}function wk(t,r){switch(t){case"eqOp":return function(s,i){return aa((s=r(s,i)).U.value,s.V.value)};case"neOp":return function(s,i){return!aa((s=r(s,i)).U.value,s.V.value)}}}function vk(t,r){switch(t){case"eqOp":return function(s,i,u){return dr((s=r(s,i)).U.value,s.V.value,qr(u))};case"neOp":return function(s,i,u){return!dr((s=r(s,i)).U.value,s.V.value,qr(u))};case"ltOp":return function(s,i,u){return s=r(s,i),u=qr(u),0>Hr(s.U.value,s.V.value,u)};case"leOp":return function(s,i,u){var g;return s=(i=r(s,i)).U,i=i.V,(g=dr(s.value,i.value,qr(u)))||(u=qr(u),g=0>Hr(s.value,i.value,u)),g};case"gtOp":return function(s,i,u){return s=r(s,i),u=qr(u),0<Hr(s.U.value,s.V.value,u)};case"geOp":return function(s,i,u){var g;return s=(i=r(s,i)).U,i=i.V,(g=dr(s.value,i.value,qr(u)))||(u=qr(u),g=0<Hr(s.value,i.value,u)),g}}}function xk(t,r){switch(t){case"eqOp":return function(s,i,u){return dr((s=r(s,i)).U.value,s.V.value,qr(u))};case"neOp":return function(s,i,u){return!dr((s=r(s,i)).U.value,s.V.value,qr(u))}}}function kk(t,r,s){function i(H,ae){return{U:b?b(H):H,V:_?_(ae):ae}}function u(H){return Z(r,H)&&Z(s,H)}function g(H){return 0<H.filter(function(ae){return Z(r,ae)}).length&&0<H.filter(function(ae){return Z(s,ae)}).length}var b=null,_=null;if(Z(r,19)&&Z(s,19)?r=s=1:Z(r,19)?(b=function(H){return ra(H,s)},r=s):Z(s,19)&&(_=function(H){return ra(H,r)},s=r),Z(r,23)&&Z(s,23))return mk(t,i);if(u(0)||g([1,47,61])||g([2,47,61])||u(20)||u(22)||u(21)||g([1,20])){var D=gk(t,i);if(D!==void 0)return D}if(u(16)&&(D=yk(t,i))!==void 0||u(17)&&(D=bk(t,i))!==void 0||u(18)&&(D=wk(t,i))!==void 0||(u(9)||u(7)||u(8))&&(D=vk(t,i))!==void 0||(u(11)||u(12)||u(13)||u(14)||u(15))&&(D=xk(t,i))!==void 0)return D;throw Error("XPTY0004: "+t+" not available for "+Xe[r]+" and "+Xe[s])}N(Op,Ee),Op.prototype.h=function(t,r){var s=this;return Pa(Ke(this.s,t,r),r).M(function(i){if(i.length===0)return J.empty();var u=i[0];if(s.type)return i=s.l==="+"?+u.value:-u.value,u.type===0&&(i=Number.NaN),J.m(ue(i,s.type.type));if(1<i.length)throw Error("XPTY0004: The operand to a unary operator must be a sequence with a length less than one");return Z(u.type,19)?(u=ra(u,3).value,J.m(ue(s.l==="+"?u:-u,3))):Z(u.type,2)?s.l==="+"?J.m(u):J.m(ue(-1*u.value,hk[u.type])):J.m(ue(Number.NaN,3))})},N(Bp,Ee),Bp.prototype.h=function(t,r){var s=this,i=0,u=null,g=!1,b=null;if(t!==null){var _=t.N;_!==null&&Z(_.type,53)&&(b=qn(_.value))}return J.create({next:function(){if(!g){for(;i<s.l.length;){if(!u){var D=s.l[i];if(b!==null&&D.B()!==null&&!b.includes(D.B()))return i++,g=!0,Se(He);u=Ke(D,t,r)}if(u.ha()===!1)return g=!0,Se(He);u=null,i++}return g=!0,Se(Kt)}return me}})},Bp.prototype.B=function(){return this.s},N(Rp,Ee),Rp.prototype.h=function(t,r){var s=this,i=0,u=null,g=!1,b=null;if(t!==null){var _=t.N;_!==null&&Z(_.type,53)&&(b=qn(_.value))}return J.create({next:function(){if(!g){for(;i<s.l.length;){if(!u){var D=s.l[i];if(b!==null&&D.B()!==null&&!b.includes(D.B())){i++;continue}u=Ke(D,t,r)}if(u.ha()===!0)return g=!0,Se(Kt);u=null,i++}return g=!0,Se(He)}return me}})},Rp.prototype.B=function(){return this.s};var fg=Object.create(null);function Mp(t,r,s){var i=r+"~"+s+"~"+t,u=fg[i];return u||(u=fg[i]=kk(t,r,s)),u}function If(t,r,s){Ee.call(this,r.o.add(s.o),[r,s],{C:!1}),this.l=r,this.A=s,this.s=t}N(If,Ee),If.prototype.h=function(t,r){var s=this,i=Ke(this.l,t,r),u=Ke(this.A,t,r),g=Fp(i,r),b=Fp(u,r);return g.Z({empty:function(){return J.empty()},m:function(){return b.Z({empty:function(){return J.empty()},m:function(){var _=g.first(),D=b.first();return Mp(s.s,_.type,D.type)(_,D,t)?J.ba():J.W()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton.")}})},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton.")}})};var Pl={},_k=(Pl.equalOp="eqOp",Pl.notEqualOp="neOp",Pl.lessThanOrEqualOp="leOp",Pl.lessThanOp="ltOp",Pl.greaterThanOrEqualOp="geOp",Pl.greaterThanOp="gtOp",Pl);function Ek(t,r,s,i){return t=_k[t],s.M(function(u){return r.filter(function(g){for(var b=0,_=u.length;b<_;++b){var D=u[b],H=void 0,ae=void 0,ve=g.type,ze=D.type;if((Z(ve,19)||Z(ze,19))&&(Z(ve,2)?H=3:Z(ze,2)?ae=3:Z(ve,17)?H=17:Z(ze,17)?ae=17:Z(ve,16)?H=16:Z(ze,16)?ae=16:Z(ve,19)?ae=ze:Z(ze,19)&&(H=ve)),H=(ae=j([ae,H])).next().value,ae=ae.next().value,H?g=ra(g,H):ae&&(D=ra(D,ae)),Mp(t,g.type,D.type)(g,D,i))return!0}return!1}).Z({default:function(){return J.ba()},empty:function(){return J.W()}})})}function Nf(t,r,s){Ee.call(this,r.o.add(s.o),[r,s],{C:!1}),this.l=r,this.A=s,this.s=t}function Ak(t,r,s,i){if(!Z(s,53)||!Z(i,53))throw Error("XPTY0004: Sequences to compare are not nodes");switch(t){case"isOp":return Sk(s,i);case"nodeBeforeOp":return r?function(u,g){return 0>Je(r,u.first(),g.first())}:void 0;case"nodeAfterOp":return r?function(u,g){return 0<Je(r,u.first(),g.first())}:void 0;default:throw Error("Unexpected operator")}}function Sk(t,r){return t!==r||t!==47&&t!==53&&t!==54&&t!==55&&t!==56&&t!==57&&t!==58?function(){return!1}:function(s,i){return Ha(s.first().value,i.first().value)}}function Df(t,r,s){Ee.call(this,r.o.add(s.o),[r,s],{C:!1}),this.l=r,this.A=s,this.s=t}function hg(t,r,s,i){return s.M(function(u){if(u.some(function(g){return!Z(g.type,53)}))throw Error("XPTY0004: Sequences given to "+t+" should only contain nodes.");return i==="sorted"?J.create(u):i==="reverse-sorted"?J.create(u.reverse()):J.create(Qe(r,u))})}function Cf(t,r,s,i){Ee.call(this,0<un(r.o,s.o)?r.o:s.o,[r,s],{C:r.C&&s.C},!1,i),this.l=t,this.s=r,this.A=s}function Sc(t,r){yn.call(this,t.reduce(function(s,i){return s.add(i.o)},new qt({})),t,{R:"unsorted",C:t.every(function(s){return s.C})},r)}function Of(t,r,s){Ee.call(this,new qt({}).add(t.o),[t,r],{C:t.C&&r.C},!1,s),this.l=t,this.s=r}function Bf(t,r,s){if(Ee.call(this,t.o,[t],{C:!1}),this.l=Pt(r.prefix?r.prefix+":"+r.localName:r.localName),this.l===46||this.l===45||this.l===44)throw Error("XPST0080: Casting to xs:anyAtomicType, xs:anySimpleType or xs:NOTATION is not permitted.");if(r.namespaceURI)throw Error("Not implemented: castable as expressions with a namespace URI.");this.A=t,this.s=s}function Rf(t,r,s){if(Ee.call(this,t.o,[t],{C:!1}),this.l=Pt(r.prefix?r.prefix+":"+r.localName:r.localName),this.l===46||this.l===45||this.l===44)throw Error("XPST0080: Casting to xs:anyAtomicType, xs:anySimpleType or xs:NOTATION is not permitted.");if(r.namespaceURI)throw Error("Not implemented: casting expressions with a namespace URI.");this.A=t,this.s=s}function mg(t,r){var s=t.value,i=null,u=!1;return J.create({next:function(){for(;!u;){if(!i){var g=s.next(0);if(g.done)return u=!0,Se(Kt);i=r(g.value)}if(g=i.ha(),i=null,g===!1)return u=!0,Se(He)}return me}})}function Ff(t,r,s,i){Ee.call(this,t.o,[t],{C:!1},!1,i),this.A=t,this.s=r,this.l=s}function gg(t,r){return!(t===null||r===null||!Z(t.type,53)||!Z(r.type,53))&&Ha(t.value,r.value)}function Mf(t){var r=t.next(0);if(r.done)return J.empty();var s=null,i=null;return J.create({next:function(u){if(r.done)return me;s||(s=r.value.value);do{var g=s.next(u);if(g.done){if((r=t.next(0)).done)return g;s=r.value.value}}while(g.done||gg(g.value,i));return i=g.value,g}})}function yg(t,r){var s=[];(function(){for(var b=r.next(0),_={};!b.done;)_.ob=b.value.value,(b={current:_.ob.next(0),next:function(D){return function(H){return D.ob.next(H)}}(_)}).current.done||s.push(b),b=r.next(0),_={ob:_.ob}})();var i=null,u=!1,g={};return J.create((g[Symbol.iterator]=function(){return this},g.next=function(){u||(u=!0,s.every(function(ze){return Z(ze.current.value.type,53)})&&s.sort(function(ze,Ye){return Je(t,ze.current.value,Ye.current.value)}));do{if(!s.length)return me;var b=s.shift(),_=b.current;if(b.current=b.next(0),!Z(_.value.type,53))return _;if(!b.current.done){for(var D=0,H=s.length-1,ae=0;D<=H;){ae=Math.floor((D+H)/2);var ve=Je(t,b.current.value,s[ae].current.value);if(ve===0){D=ae;break}0<ve?D=ae+1:H=ae-1}s.splice(D,0,b)}}while(gg(_.value,i));return i=_.value,_},g))}function Pf(t,r){var s=t.reduce(function(i,u){return 0<un(i,u.o)?i:u.o},new qt({}));Ee.call(this,s,t,{C:t.every(function(i){return i.C})},!1,r),this.l=t}function Pp(t){return t.every(function(r){return r===null||Z(r.type,5)||Z(r.type,4)})||t.map(function(r){return r?Bs(r.type):null}).reduce(function(r,s){return s===null||s===r?r:null})!==null?t:t.every(function(r){return r===null||Z(r.type,1)||Z(r.type,20)})?t.map(function(r){return r?ra(r,1):null}):t.every(function(r){return r===null||Z(r.type,4)||Z(r.type,6)})?t.map(function(r){return r&&ra(r,6)}):t.every(function(r){return r===null||Z(r.type,4)||Z(r.type,6)||Z(r.type,3)})?t.map(function(r){return r&&ra(r,3)}):null}function Tk(t){return(t=t.find(function(r){return!!r}))?Bs(t.type):null}function Lf(t,r){var s=new qt({});Po.call(this,s,[r].concat(C(t.map(function(i){return i.ca}))),{C:!1,X:!1,R:"unsorted",subtree:!1},r),this.A=t}function Lp(t){Ee.call(this,t?t.o:new qt({}),t?[t]:[],{R:"sorted",subtree:!1,X:!1,C:!1}),this.l=t}function Uf(t){Ee.call(this,new qt({}),[],{R:"sorted"},!1,t)}function jk(t,r){var s=!1,i=!1;if(r.forEach(function(u){Z(u.type,53)?s=!0:i=!0}),i&&s)throw Error("XPTY0018: The path operator should either return nodes or non-nodes. Mixed sequences are not allowed.");return s?Qe(t,r):r}function Up(t,r){var s=t.every(function(u){return u.X}),i=t.every(function(u){return u.subtree});Ee.call(this,t.reduce(function(u,g){return u.add(g.o)},new qt({})),t,{C:!1,X:s,R:r?"sorted":"unsorted",subtree:i}),this.l=t,this.s=r}function zp(t,r){Ee.call(this,t.o.add(r.o),[t,r],{C:t.C&&r.C,X:t.X,R:t.da,subtree:t.subtree}),this.s=t,this.l=r}function bg(t,r,s){if(s=[s],Z(t.type,62))if(r==="*")s.push.apply(s,C(t.P.map(function(u){return u()})));else{if(!Z(r.type,5))throw de("The key specifier is not an integer.");var i=r.value;if(t.P.length<i||0>=i)throw Error("FOAY0001: Array index out of bounds");s.push(t.P[i-1]())}else{if(!Z(t.type,61))throw de("The provided context item is not a map or an array.");r==="*"?s.push.apply(s,C(t.h.map(function(u){return u.value()}))):(t=t.h.find(function(u){return bo(u.key,r)}))&&s.push(t.value())}return or(s)}function wg(t,r,s,i,u){return r==="*"?bg(t,r,s):or([s,r=ha(r=Ke(r,i,u))().M(function(g){return g.reduce(function(b,_){return bg(t,_,b)},new Yt)})])}function $p(t,r){Ee.call(this,t.o,[t].concat(r==="*"?[]:[r]),{C:t.C,R:t.da,subtree:t.subtree}),this.l=t,this.s=r}function zf(t,r){var s={};Ee.call(this,new qt((s.external=1,s)),t==="*"?[]:[t],{C:!1},!1,r),this.l=t}function Gp(t,r,s,i){var u=r.map(function(b){return b.jb});r=r.map(function(b){return b.name});var g=u.reduce(function(b,_){return b.add(_.o)},s.o);Ee.call(this,g,u.concat(s),{C:!1},!1,i),this.s=t,this.A=r,this.K=u,this.S=s,this.l=null}function si(t){Ee.call(this,t,[],{C:!1})}function Ai(t){var r={};si.call(this,new qt((r.nodeType=1,r))),this.s=t}function Gs(t,r){r=r===void 0?{kind:null}:r;var s=t.prefix,i=t.namespaceURI,u={};(t=t.localName)!=="*"&&(u.nodeName=1),u.nodeType=1,si.call(this,new qt(u)),this.s=t,this.K=i,this.A=s,this.S=r.kind}function Vp(t){var r={};si.call(this,new qt((r.nodeName=1,r))),this.s=t}function Ll(t){si.call(this,new qt({})),this.s=t}function Hp(t,r,s){Ee.call(this,new qt({}),[],{C:!1,R:"unsorted"}),this.A=s,this.s=r,this.K=t,this.l=null}function $f(t,r){var s=new qt({});Po.call(this,s,[t,r],{C:!1,X:!1,R:"unsorted",subtree:!1},r),this.A=t}function Ul(t){this.type=t}function Wp(t){this.type="delete",this.target=t}function ws(t,r,s){this.type=s,this.target=t,this.content=r}function Gf(t,r){ws.call(this,t,r,"insertAfter")}function ul(t,r){this.type="insertAttributes",this.target=t,this.content=r}function Vf(t,r){ws.call(this,t,r,"insertBefore")}function Hf(t,r){ws.call(this,t,r,"insertIntoAsFirst")}function Wf(t,r){ws.call(this,t,r,"insertIntoAsLast")}function Kf(t,r){ws.call(this,t,r,"insertInto")}function Kp(t,r){this.type="rename",this.target=t,this.o=r.Ca?r:new Za(r.prefix,r.namespaceURI,r.localName)}function Xp(t,r){this.type="replaceElementContent",this.target=t,this.text=r}function Yp(t,r){this.type="replaceNode",this.target=t,this.o=r}function qp(t,r){this.type="replaceValue",this.target=t,this.o=r}function Ik(t,r){return new Yp(t,r)}function Xf(t){Ta.call(this,new qt({}),[t],{C:!1,R:"unsorted"}),this.l=t}function vg(t,r,s,i,u,g){var b=r.h;return t.reduce(function _(D,H){return Z(H.type,62)?(H.P.forEach(function(ae){return ae().O().forEach(function(ve){return _(D,ve)})}),D):(D.push(H),D)},[]).forEach(function(_,D,H){if(Z(_.type,47)){if(u)throw g(_.value,b);s.push(_.value.node)}else if(Z(_.type,46)||Z(_.type,53)&&_.value.node.nodeType===3){var ae=Z(_.type,46)?ra(_o(_,r).first(),1).value:Tn(b,_.value);D!==0&&Z(H[D-1].type,46)&&Z(_.type,46)?(i.push({data:" "+ae,Ta:!0,nodeType:3}),u=!0):ae&&(i.push({data:""+ae,Ta:!0,nodeType:3}),u=!0)}else if(Z(_.type,55)){var ve=[];_r(b,_.value).forEach(function(ze){return ve.push(Ln(ze))}),u=vg(ve,r,s,i,u,g)}else{if(!Z(_.type,53))throw Z(_.type,60)?ko(_.type):Error("Atomizing "+_.type+" is not implemented.");i.push(_.value.node),u=!0}}),u}function Yf(t,r,s){var i=[],u=[],g=!1;return t.forEach(function(b){g=vg(b,r,i,u,g,s)}),{attributes:i,Xa:u}}function Nk(t,r,s,i,u){var g=[];switch(t){case 4:i.length&&g.push(new ul(r,i)),u.length&&g.push(new Hf(r,u));break;case 5:i.length&&g.push(new ul(r,i)),u.length&&g.push(new Wf(r,u));break;case 3:i.length&&g.push(new ul(r,i)),u.length&&g.push(new Kf(r,u));break;case 2:i.length&&g.push(new ul(s,i)),u.length&&g.push(new Vf(r,u));break;case 1:i.length&&g.push(new ul(s,i)),u.length&&g.push(new Gf(r,u))}return g}function qf(t,r,s){Ta.call(this,new qt({}),[t,s],{C:!1,R:"unsorted"}),this.K=t,this.l=r,this.A=s}function Zp(){return Ur("Casting not supported from given type to a single xs:string or xs:untypedAtomic or any of its derived types.")}N(Nf,Ee),Nf.prototype.h=function(t,r){var s=this,i=Ke(this.l,t,r),u=Ke(this.A,t,r);return i.Z({empty:function(){return J.W()},default:function(){return u.Z({empty:function(){return J.W()},default:function(){var g=Fp(i,r),b=Fp(u,r);return Ek(s.s,g,b,t)}})}})},N(Df,Ee),Df.prototype.h=function(t,r){var s=this,i=Ke(this.l,t,r),u=Ke(this.A,t,r);return i.Z({empty:function(){return J.empty()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton")},m:function(){return u.Z({empty:function(){return J.empty()},multiple:function(){throw Error("XPTY0004: Sequences to compare are not singleton")},m:function(){var g=i.first(),b=u.first();return Ak(s.s,r.h,g.type,b.type)(i,u,t)?J.ba():J.W()}})}})},N(Cf,Ee),Cf.prototype.h=function(t,r){var s=this,i=hg(this.l,r.h,Ke(this.s,t,r),this.s.da);t=hg(this.l,r.h,Ke(this.A,t,r),this.A.da);var u=i.value,g=t.value,b=null,_=null,D=!1,H=!1;return J.create({next:function(){if(D)return me;for(;!H;){if(!b){var ae=u.next(0);if(ae.done)return D=!0,me;b=ae.value}if(!_){if((ae=g.next(0)).done){H=!0;break}_=ae.value}if(Ha(b.value,_.value)){if(ae=Se(b),_=b=null,s.l==="intersectOp")return ae}else if(0>Je(r.h,b,_)){if(ae=Se(b),b=null,s.l==="exceptOp")return ae}else _=null}return s.l==="exceptOp"?b!==null?(ae=Se(b),b=null,ae):u.next(0):(D=!0,me)}})},N(Sc,yn),Sc.prototype.A=function(t,r,s){return s.length?or(s.map(function(i){return i(t)})):J.empty()},N(Of,Ee),Of.prototype.h=function(t,r){var s=this,i=Hi(t,Ke(this.l,t,r)),u=null,g=null,b=!1;return J.create({next:function(_){for(;!b;){if(!u&&(u=i.next(_)).done)return b=!0,me;g||(g=Ke(s.s,u.value,r));var D=g.value.next(_);if(!D.done)return D;u=g=null}}})},N(Bf,Ee),Bf.prototype.h=function(t,r){var s=this,i=Pa(Ke(this.A,t,r),r);return i.Z({empty:function(){return s.s?J.ba():J.W()},m:function(){return i.map(function(u){return ys(u,s.l).u?Kt:He})},multiple:function(){return J.W()}})},N(Rf,Ee),Rf.prototype.h=function(t,r){var s=this,i=Pa(Ke(this.A,t,r),r);return i.Z({empty:function(){if(!s.s)throw Error("XPTY0004: Sequence to cast is empty while target type is singleton.");return J.empty()},m:function(){return i.map(function(u){return ra(u,s.l)})},multiple:function(){throw Error("XPTY0004: Sequence to cast is not singleton or empty.")}})},N(Ff,Ee),Ff.prototype.h=function(t,r){var s=this,i=Ke(this.A,t,r);return i.Z({empty:function(){return s.l==="?"||s.l==="*"?J.ba():J.W()},multiple:function(){return s.l==="+"||s.l==="*"?mg(i,function(u){var g=J.m(u);return u=Dr(t,0,u,g),Ke(s.s,u,r)}):J.W()},m:function(){return mg(i,function(u){var g=J.m(u);return u=Dr(t,0,u,g),Ke(s.s,u,r)})}})},N(Pf,Ee),Pf.prototype.h=function(t,r){var s=this;if(this.l.every(function(u){return u.da==="sorted"})){var i=0;return yg(r.h,{next:function(){return i>=s.l.length?me:Se(Ke(s.l[i++],t,r))}}).map(function(u){if(!Z(u.type,53))throw Error("XPTY0004: The sequences to union are not of type node()*");return u})}return or(this.l.map(function(u){return Ke(u,t,r)})).M(function(u){if(u.some(function(g){return!Z(g.type,53)}))throw Error("XPTY0004: The sequences to union are not of type node()*");return u=Qe(r.h,u),J.create(u)})},N(Lf,Po),Lf.prototype.K=function(t,r,s,i){if(this.A[1])throw Error("More than one order spec is not supported for the order by clause.");var u,g,b=[],_=!1,D=null,H=this.A[0];return J.create({next:function(){if(!_){for(var ae=r.next(0);!ae.done;)b.push(ae.value),ae=r.next(0);if((ae=b.map(function(ya){return H.ca.h(ya,s)}).map(function(ya){return Pa(ya,s)})).find(function(ya){return!ya.G()&&!ya.wa()}))throw de("Order by only accepts empty or singleton sequences");if(Tk(u=(u=ae.map(function(ya){return ya.first()})).map(function(ya){return ya===null?ya:Z(19,ya.type)?ra(ya,1):ya}))&&!(u=Pp(u)))throw de("Could not cast values");ae=u.length,g=u.map(function(ya,Rr){return Rr});for(var ve=0;ve<ae;ve++)if(ve+1!==ae)for(var ze=ve;0<=ze;ze--){var Ye=ze,st=ze+1;if(st!==ae){var ht=u[g[Ye]],Bt=u[g[st]];if(Bt!==null||ht!==null){if(H.lc){if(ht===null)continue;if(Bt===null&&ht!==null){ht=j([g[st],g[Ye]]),g[Ye]=ht.next().value,g[st]=ht.next().value;continue}if(isNaN(Bt.value)&&ht!==null&&!isNaN(ht.value)){ht=j([g[st],g[Ye]]),g[Ye]=ht.next().value,g[st]=ht.next().value;continue}}else{if(Bt===null)continue;if(ht===null&&Bt!==null){ht=j([g[st],g[Ye]]),g[Ye]=ht.next().value,g[st]=ht.next().value;continue}if(isNaN(ht.value)&&Bt!==null&&!isNaN(Bt.value)){ht=j([g[st],g[Ye]]),g[Ye]=ht.next().value,g[st]=ht.next().value;continue}}Mp("gtOp",ht.type,Bt.type)(ht,Bt,t)&&(ht=j([g[st],g[Ye]]),g[Ye]=ht.next().value,g[st]=ht.next().value)}}}var wn=H.Kb?0:u.length-1;D=i({next:function(){return H.Kb?wn>=u.length?me:Se(b[g[wn++]]):0>wn?me:Se(b[g[wn--]])}}).value,_=!0}return D.next(0)}})},N(Lp,Ee),Lp.prototype.h=function(t,r){if(t.N===null)throw Kr("context is absent, it needs to be present to use paths.");for(var s=r.h,i=t.N.value;i.node.nodeType!==9;)if((i=zn(s,i))===null)throw Error("XPDY0050: the root node of the context node is not a document node.");return s=J.m(Ln(i)),this.l?Ke(this.l,Dr(t,0,s.first(),s),r):s},N(Uf,Ee),Uf.prototype.h=function(t){if(t.N===null)throw Kr('context is absent, it needs to be present to use the "." operator');return J.m(t.N)},N(Up,Ee),Up.prototype.h=function(t,r){var s=this,i=!0;return this.l.reduce(function(u,g,b){var _=u===null?Eo(t):Hi(t,u);if(u={next:function(ae){if((ae=_.next(ae)).done)return me;if(ae.value.N!==null&&!Z(ae.value.N.type,53)&&0<b)throw Error("XPTY0019: The result of E1 in a path expression E1/E2 should not evaluate to a sequence of nodes.");return Se(Ke(g,ae.value,r))}},s.s)switch(g.da){case"reverse-sorted":var D=u;u={next:function(ae){return(ae=D.next(ae)).done?ae:Se(ae.value.M(function(ve){return J.create(ve.reverse())}))}};case"sorted":if(g.subtree&&i){var H=Mf(u);break}H=yg(r.h,u);break;case"unsorted":return Mf(u).M(function(ae){return J.create(jk(r.h,ae))})}else H=Mf(u);return i=i&&g.X,H},null)},Up.prototype.B=function(){return this.l[0].B()},N(zp,Ee),zp.prototype.h=function(t,r){var s=this,i=Ke(this.s,t,r);if(this.l.C){var u=Ke(this.l,t,r);if(u.G())return u;var g=u.first();if(Z(g.type,2)){var b=g.value;if(!Number.isInteger(b))return J.empty();var _=i.value,D=!1;return J.create({next:function(){if(!D){for(var Ye=_.next(0);!Ye.done;Ye=_.next(0))if(b--==1)return D=!0,Ye;D=!0}return me}})}return u.ha()?i:J.empty()}var H=i.value,ae=null,ve=0,ze=null;return J.create({next:function(Ye){for(var st=!1;!(ae&&ae.done||(ae||(ae=H.next(st?0:Ye),st=!0),ae.done));){ze||(ze=Ke(s.l,Dr(t,ve,ae.value,i),r));var ht=ze.first();ht=ht!==null&&(Z(ht.type,2)?ht.value===ve+1:ze.ha()),ze=null;var Bt=ae.value;if(ae=null,ve++,ht)return Se(Bt)}return ae}})},zp.prototype.B=function(){return this.s.B()},N($p,Ee),$p.prototype.h=function(t,r){var s=this;return Ke(this.l,t,r).M(function(i){return i.reduce(function(u,g){return wg(g,s.s,u,t,r)},new Yt)})},$p.prototype.B=function(){return this.l.B()},N(zf,Ee),zf.prototype.h=function(t,r){return wg(t.N,this.l,new Yt,t,r)},N(Gp,Ee),Gp.prototype.h=function(t,r){var s=this,i=t,u=this.l.map(function(ae,ve){var ze=Ke(s.K[ve],i,r).O();return i=Mo(t,((ve={})[ae]=function(){return J.create(ze)},ve)),ze});if(u.some(function(ae){return ae.length===0}))return this.s==="every"?J.ba():J.W();var g=Array(u.length).fill(0);g[0]=-1;for(var b=!0;b;){b=!1;for(var _=0,D=g.length;_<D;++_){var H=u[_];if(!(++g[_]>H.length-1)){for(b=Object.create(null),_={},D=0;D<g.length;_={xb:_.xb},D++)_.xb=u[D][g[D]],b[this.l[D]]=function(ae){return function(){return J.m(ae.xb)}}(_);if(b=Mo(t,b),(b=Ke(this.S,b,r)).ha()&&this.s==="some")return J.ba();if(!b.ha()&&this.s==="every")return J.W();b=!0;break}g[_]=0}}return this.s==="every"?J.ba():J.W()},Gp.prototype.v=function(t){this.l=[];for(var r=0,s=this.A.length;r<s;++r){this.K[r].v(t),Wn(t);var i=this.A[r],u=i.prefix?t.aa(i.prefix):null;i=ia(t,u,i.localName),this.l[r]=i}for(this.S.v(t),r=0,s=this.A.length;r<s;++r)xn(t)},N(si,Ee),si.prototype.h=function(t){return this.l(t.N)?J.ba():J.W()},N(Ai,si),Ai.prototype.l=function(t){return!!Z(t.type,53)&&(t=t.value.node.nodeType,this.s===3&&t===4||this.s===t)},Ai.prototype.B=function(){return"type-"+this.s},N(Gs,si),Gs.prototype.l=function(t){var r=Z(t.type,54),s=Z(t.type,47);return!(!r&&!s||(t=t.value,this.S!==null&&(this.S===1&&!r||this.S===2&&!s)||(this.A!==null||this.K===""||this.s!=="*")&&(this.A==="*"?this.s!=="*"&&this.s!==t.node.localName:this.s!=="*"&&this.s!==t.node.localName||(t.node.namespaceURI||null)!==((this.A===""?r?this.K:null:this.K)||null))))},Gs.prototype.B=function(){return this.s==="*"?this.S===null?"type-1-or-type-2":"type-"+this.S:"name-"+this.s},Gs.prototype.v=function(t){if(this.K===null&&this.A!=="*"&&(this.K=t.aa(this.A||"")||null,!this.K&&this.A))throw Error("XPST0081: The prefix "+this.A+" could not be resolved.")},N(Vp,si),Vp.prototype.l=function(t){return Z(t.type,57)&&t.value.node.target===this.s},Vp.prototype.B=function(){return"type-7"},N(Ll,si),Ll.prototype.l=function(t){return Z(t.type,Pt(this.s.prefix?this.s.prefix+":"+this.s.localName:this.s.localName))},N(Hp,Ee),Hp.prototype.h=function(t,r){if(!t.Aa[this.l]){if(this.S)return this.S(t,r);throw Error("XQDY0054: The variable "+this.A+" is declared but not in scope.")}return t.Aa[this.l]()},Hp.prototype.v=function(t){if(this.s===null&&this.K&&(this.s=t.aa(this.K)),this.l=t.ib(this.s||"",this.A),!this.l)throw Error("XPST0008, The variable "+this.A+" is not in scope.");(t=t.Ia[this.l])&&(this.S=t)},N($f,Po),$f.prototype.K=function(t,r,s,i){var u=this,g=null,b=null;return i({next:function(){for(;;){if(!b){var _=r.next(0);if(_.done)return me;g=_.value,b=Ke(u.A,g,s)}_=b.ha();var D=g;if(b=g=null,_)return Se(D)}}})},N(Wp,Ul),Wp.prototype.h=function(t){var r={};return r.type=this.type,r.target=Qr(this.target,t,!1),r},N(ws,Ul),ws.prototype.h=function(t){var r={};return r.type=this.type,r.target=Qr(this.target,t,!1),r.content=this.content.map(function(s){return Qr(s,t,!0)}),r},N(Gf,ws),N(ul,Ul),ul.prototype.h=function(t){var r={};return r.type=this.type,r.target=Qr(this.target,t,!1),r.content=this.content.map(function(s){return Qr(s,t,!0)}),r},N(Vf,ws),N(Hf,ws),N(Wf,ws),N(Kf,ws),N(Kp,Ul),Kp.prototype.h=function(t){var r={},s={};return s.type=this.type,s.target=Qr(this.target,t,!1),s.newName=(r.prefix=this.o.prefix,r.namespaceURI=this.o.namespaceURI,r.localName=this.o.localName,r),s},N(Xp,Ul),Xp.prototype.h=function(t){var r={};return r.type=this.type,r.target=Qr(this.target,t,!1),r.text=this.text?Qr(this.text,t,!0):null,r},N(Yp,Ul),Yp.prototype.h=function(t){var r={};return r.type=this.type,r.target=Qr(this.target,t,!1),r.replacement=this.o.map(function(s){return Qr(s,t,!0)}),r},N(qp,Ul),qp.prototype.h=function(t){var r={};return r.type=this.type,r.target=Qr(this.target,t,!1),r["string-value"]=this.o,r},N(Xf,Ta),Xf.prototype.s=function(t,r){var s,i,u=yt(this.l)(t,r),g=r.h;return{next:function(){if(!s){var b=u.next(0);if(b.value.J.some(function(_){return!Z(_.type,53)}))throw Error("XUTY0007: The target of a delete expression must be a sequence of zero or more nodes.");s=b.value.J,i=b.value.fa}return Se({fa:Xa((s=s.filter(function(_){return zn(g,_.value)})).map(function(_){return new Wp(_.value)}),i),J:[]})}}},N(qf,Ta),qf.prototype.s=function(t,r){var s,i,u,g,b,_,D=this,H=yt(this.K)(t,r),ae=yt(this.A)(t,r),ve=r.h;return{next:function(){if(!s){var ze=H.next(0),Ye=Yf([ze.value.J],r,Fe);s=Ye.attributes.map(function(st){return{node:st,F:null}}),i=Ye.Xa.map(function(st){return{node:st,F:null}}),u=ze.value.fa}if(!g){if((ze=ae.next(0)).value.J.length===0)throw kt();if(3<=D.l){if(ze.value.J.length!==1||!Z(ze.value.J[0].type,54)&&!Z(ze.value.J[0].type,55))throw Pe()}else{if(ze.value.J.length!==1||!(Z(ze.value.J[0].type,54)||Z(ze.value.J[0].type,56)||Z(ze.value.J[0].type,58)||Z(ze.value.J[0].type,57)))throw Be();if((_=zn(ve,ze.value.J[0].value,null))===null)throw Error("XUDY0029: The target "+ze.value.J[0].value.outerHTML+" for inserting a node before or after must have a parent.")}g=ze.value.J[0],b=ze.value.fa}if(s.length){if(3<=D.l){if(!Z(g.type,54))throw Error("XUTY0022: An insert expression specifies the insertion of an attribute node into a document node.")}else if(_.node.nodeType!==1)throw Error("XUDY0030: An insert expression specifies the insertion of an attribute node before or after a child of a document node.");s.reduce(function(st,ht){var Bt=ht.node.prefix||"",wn=ht.node.prefix||"",ya=ht.node.namespaceURI,Rr=wn?g.value.node.lookupNamespaceURI(wn):null;if(Rr&&Rr!==ya)throw gt(ya);if((wn=st[wn])&&ya!==wn)throw ct(ya);return st[Bt]=ht.node.namespaceURI,st},{})}return Se({J:[],fa:Xa(Nk(D.l,g.value,_||null,s,i),u,b)})}}};var xg=/([A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])/,Dk=new RegExp(xg.source+new RegExp("("+xg.source+"|[-.0-9·̀-ͯ‿⁀])").source+"*","g");function Zf(t){return!!(t=t.match(Dk))&&t.length===1}function kg(t,r){return Pa(r,t).Z({m:function(s){if(Z((s=s.first()).type,1)||Z(s.type,19)){if(!Zf(s.value))throw Error('XQDY0041: The value "'+s.value+'" of a name expressions cannot be converted to a NCName.');return J.m(s)}throw Zp()},default:function(){throw Zp()}}).value}function Jp(t,r,s){return Pa(s,r).Z({m:function(i){if(Z((i=i.first()).type,23))return J.m(i);if(Z(i.type,1)||Z(i.type,19)){if((i=i.value.split(":")).length===1)i=i[0];else{var u=i[0],g=t.aa(u);i=i[1]}if(!Zf(i)||u&&!Zf(u))throw Ia(u?u+":"+i:i);if(u&&!g)throw Ia(u+":"+i);return J.m({type:23,value:new Za(u,g,i)})}throw Zp()},default:function(){throw Zp()}}).value}function Qp(t,r){Ta.call(this,new qt({}),[t,r],{C:!1,R:"unsorted"}),this.A=t,this.K=r,this.l=void 0}function Ck(t,r,s){var i,u,g;return{next:function(){if(!i){var b=s.next(0),_=Yf([b.value.J],t,ct);i={attributes:_.attributes.map(function(D){return{node:D,F:null}}),Xa:_.Xa.map(function(D){return{node:D,F:null}})},u=b.value.fa}if((_=r.next(0)).value.J.length===0)throw kt();if(_.value.J.length!==1||!(Z(_.value.J[0].type,54)||Z(_.value.J[0].type,47)||Z(_.value.J[0].type,56)||Z(_.value.J[0].type,58)||Z(_.value.J[0].type,57)))throw Le();if((g=zn(t.h,_.value.J[0].value,null))===null)throw Error("XUDY0009: The target "+_.value.J[0].value.outerHTML+" for replacing a node must have a parent.");if(b=_.value.J[0],_=_.value.fa,Z(b.type,47)){if(i.Xa.length)throw Error("XUTY0011: When replacing an attribute the new value must be zero or more attribute nodes.");i.attributes.reduce(function(D,H){var ae=H.node.prefix||"";H=H.node.namespaceURI;var ve=g.node.lookupNamespaceURI(ae);if(ve&&ve!==H)throw gt(H);if((ve=D[ae])&&H!==ve)throw ct(H);return D[ae]=H,D},{})}else if(i.attributes.length)throw Error("XUTY0010: When replacing an an element, text, comment, or processing instruction node the new value must be a single node.");return Se({J:[],fa:Xa([Ik(b.value,[].concat(i.attributes,i.Xa))],u,_)})}}}function Ok(t,r,s){var i,u,g,b,_=!1;return{next:function(){if(_)return me;if(!g){var D=s.next(0),H=Pa(J.create(D.value.J),t).map(function(ae){return ra(ae,1)}).O().map(function(ae){return ae.value}).join(" ");g=H.length===0?null:{node:t.o.createTextNode(H),F:null},b=D.value.fa}if(!i){if((D=r.next(0)).value.J.length===0)throw kt();if(D.value.J.length!==1||!(Z(D.value.J[0].type,54)||Z(D.value.J[0].type,47)||Z(D.value.J[0].type,56)||Z(D.value.J[0].type,58)||Z(D.value.J[0].type,57)))throw Le();i=D.value.J[0],u=D.value.fa}if(Z(i.type,54))return _=!0,Se({J:[],fa:Xa([new Xp(i.value,g)],b,u)});if(Z(i.type,47)||Z(i.type,56)||Z(i.type,58)||Z(i.type,57)){if(D=g?Tn(t.h,g):"",Z(i.type,58)&&(D.includes("--")||D.endsWith("-")))throw Error('XQDY0072: The content "'+D+'" for a comment node contains two adjacent hyphens or ends with a hyphen.');if(Z(i.type,57)&&D.includes("?>"))throw Error('XQDY0026: The content "'+D+'" for a processing instruction node contains "?>".');return _=!0,Se({J:[],fa:Xa([new qp(i.value,D)],b,u)})}}}}function Jf(t,r,s){Ta.call(this,new qt({}),[r,s],{C:!1,R:"unsorted"}),this.K=t,this.l=r,this.A=s}function _g(t){switch(t.type){case"delete":return new Wp({node:t.target,F:null});case"insertAfter":return new Gf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertBefore":return new Vf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertInto":return new Kf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertIntoAsFirst":return new Hf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertIntoAsLast":return new Wf({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"insertAttributes":return new ul({node:t.target,F:null},t.content.map(function(r){return{node:r,F:null}}));case"rename":return new Kp({node:t.target,F:null},t.newName);case"replaceNode":return new Yp({node:t.target,F:null},t.replacement.map(function(r){return{node:r,F:null}}));case"replaceValue":return new qp({node:t.target,F:null},t["string-value"]);case"replaceElementContent":return new Xp({node:t.target,F:null},t.text?{node:t.text,F:null}:null);default:throw Error('Unexpected type "'+t.type+'" when parsing a transferable pending update.')}}function Eg(t,r,s){if(r.find(function(u){return Ha(u,t)}))return!0;var i=zn(s,t);return!!i&&Eg(i,r,s)}function Tc(t,r,s){Ta.call(this,new qt({}),t.reduce(function(i,u){return i.push(u.jb),i},[r,s]),{C:!1,R:"unsorted"}),this.l=t,this.K=r,this.A=s,this.I=null}function Ag(t,r){return{node:{nodeType:2,Ta:!0,nodeName:t.Ca(),namespaceURI:t.namespaceURI,prefix:t.prefix,localName:t.localName,name:t.Ca(),value:r},F:null}}function jc(t,r){var s=r.wb||[];s=s.concat(t.Oa||[]),Ee.call(this,new qt({}),s,{C:!1,R:"unsorted"}),t.Oa?this.s=t.Oa:this.name=new Za(t.prefix,t.namespaceURI,t.localName),this.l=r,this.A=void 0}function Qf(t){Ee.call(this,t?t.o:new qt({}),t?[t]:[],{C:!1,R:"unsorted"}),this.l=t}function Ic(t,r,s,i){Ee.call(this,new qt({}),i.concat(r).concat(t.Oa||[]),{C:!1,R:"unsorted"}),t.Oa?this.s=t.Oa:this.l=new Za(t.prefix,t.namespaceURI,t.localName),this.S=s.reduce(function(u,g){if(g.prefix in u)throw Error("XQST0071: The namespace declaration with the prefix "+g.prefix+" has already been declared on the constructed element.");return u[g.prefix||""]=g.uri,u},{}),this.K=r,this.la=i,this.A=void 0}function Sg(t){if(/^xml$/i.test(t))throw Error('XQDY0064: The target of a created PI may not be "'+t+'"')}function Tg(t,r){return{node:{data:r,Ta:!0,nodeName:t,nodeType:7,target:t},F:null}}function eh(t,r){var s=t.Fb?[t.Fb].concat(r):[r];Ee.call(this,s.reduce(function(i,u){return i.add(u.o)},new qt({})),s,{C:!1,R:"unsorted"}),this.l=t,this.s=r}function th(t){Ee.call(this,t?t.o:new qt({}),t?[t]:[],{C:!1,R:"unsorted"}),this.l=t}function ed(t,r,s,i){var u,g=new qt({});yn.call(this,g,(u=[t].concat(C(r.map(function(b){return b.ic})),[s])).concat.apply(u,C(r.map(function(b){return b.Pb.map(function(_){return _.Ob})}))),{C:!1,X:!1,R:"unsorted",subtree:!1},i),this.K=t,this.l=r.length,this.S=r.map(function(b){return b.Pb})}N(Qp,Ta),Qp.prototype.s=function(t,r){var s=this,i=yt(this.A)(t,r),u=yt(this.K)(t,r);return{next:function(){var g=i.next(0),b=g.value.J;if(b.length===0)throw kt();if(b.length!==1||!Z(b[0].type,54)&&!Z(b[0].type,47)&&!Z(b[0].type,57))throw Ue();b=b[0];var _=u.next(0);e:{var D=s.l,H=J.create(_.value.J);switch(b.type){case 54:if(D=Jp(D,r,H).next(0).value.value,(H=b.value.node.lookupNamespaceURI(D.prefix))&&H!==D.namespaceURI)throw gt(D.namespaceURI);break e;case 47:if((D=Jp(D,r,H).next(0).value.value).namespaceURI&&(H=b.value.node.lookupNamespaceURI(D.prefix))&&H!==D.namespaceURI)throw gt(D.namespaceURI);break e;case 57:D=new Za("",null,D=kg(r,H).next(0).value.value);break e}D=void 0}return Se({J:[],fa:Xa([new Kp(b.value,D)],g.value.fa,_.value.fa)})}}},Qp.prototype.v=function(t){this.l=ga(t),Ta.prototype.v.call(this,t)},N(Jf,Ta),Jf.prototype.s=function(t,r){var s=yt(this.l)(t,r);return t=yt(this.A)(t,r),this.K?Ok(r,s,t):Ck(r,s,t)},N(Tc,Ta),Tc.prototype.h=function(t,r){return fn(t=this.s(t,r),function(){})},Tc.prototype.s=function(t,r){var s,i,u,g=this,b=r.h,_=r.o,D=r.B,H=[],ae=[],ve=[];return{next:function(){if(ae.length!==g.l.length)for(var ze={},Ye=ae.length;Ye<g.l.length;ze={lb:ze.lb},Ye++){var st=g.l[Ye],ht=H[Ye];if(ht||(H[Ye]=ht=yt(st.jb)(t,r)),(ht=ht.next(0)).value.J.length!==1||!Z(ht.value.J[0].type,53))throw Error("XUTY0013: The source expression of a copy modify expression must return a single node.");ze.lb=Ln(_u(ht.value.J[0].value,r)),ae.push(ze.lb.value),ve.push(ht.value.fa),t=Mo(t,((ht={})[st.qc]=function(Bt){return function(){return J.m(Bt.lb)}}(ze),ht))}return u||(s||(s=yt(g.K)(t,r)),u=s.next(0).value.fa),u.forEach(function(Bt){if(Bt.target&&!Eg(Bt.target,ae,b))throw Error("XUDY0014: The target "+Bt.target.node.outerHTML+" must be a node created by the copy clause.");if(Bt.type==="put")throw Error("XUDY0037: The modify expression of a copy modify expression can not contain a fn:put.")}),Or(ze=u.map(function(Bt){return _g(Bt=Bt.h(r))}),b,_,D),i||(i=yt(g.A)(t,r)),Se({J:(ze=i.next(0)).value.J,fa:Xa.apply(null,[ze.value.fa].concat(C(ve)))})}}},Tc.prototype.v=function(t){Wn(t),this.l.forEach(function(r){return r.qc=ia(t,r.Rb.namespaceURI,r.Rb.localName)}),Ta.prototype.v.call(this,t),xn(t),this.I=this.l.some(function(r){return r.jb.I})||this.A.I},N(jc,Ee),jc.prototype.h=function(t,r){var s,i,u,g=this,b=!1;return J.create({next:function(){if(b)return me;if(!i){if(g.s){if(!s){var _=g.s.h(t,r);s=Jp(g.A,r,_)}i=s.next(0).value.value}else i=g.name;if(i&&(i.prefix==="xmlns"||i.prefix===""&&i.localName==="xmlns"||i.namespaceURI==="http://www.w3.org/2000/xmlns/"||i.prefix==="xml"&&i.namespaceURI!=="http://www.w3.org/XML/1998/namespace"||i.prefix!==""&&i.prefix!=="xml"&&i.namespaceURI==="http://www.w3.org/XML/1998/namespace"))throw Ve(i)}return g.l.wb?(_=g.l.wb,u||(u=or(_.map(function(D){return Pa(D.h(t,r),r).M(function(H){return J.m(ue(H.map(function(ae){return ae.value}).join(" "),1))})})).M(function(D){return J.m(Ln(Ag(i,D.map(function(H){return H.value}).join(""))))}).value),u.next(0)):(b=!0,Se(Ln(Ag(i,g.l.value))))}})},jc.prototype.v=function(t){if(this.A=ga(t),this.name&&this.name.prefix&&!this.name.namespaceURI){var r=t.aa(this.name.prefix);if(r===void 0&&this.name.prefix)throw gi(this.name.prefix);this.name.namespaceURI=r||null}Ee.prototype.v.call(this,t)},N(Qf,Ee),Qf.prototype.h=function(t,r){var s={data:"",Ta:!0,nodeType:8},i={node:s,F:null};return this.l?Pa(t=Ke(this.l,t,r),r).M(function(u){if((u=u.map(function(g){return ra(g,1).value}).join(" ")).indexOf("-->")!==-1)throw Error('XQDY0072: The contents of the data of a comment may not include "-->"');return s.data=u,J.m(Ln(i))}):J.m(Ln(i))},N(Ic,Ee),Ic.prototype.h=function(t,r){var s,i,u,g,b,_=this,D=!1,H=!1,ae=!1;return J.create({next:function(){if(ae)return me;if(D||(s||(s=or(_.K.map(function(Bt){return Ke(Bt,t,r)}))),i=s.O(),D=!0),!H){u||(u=_.la.map(function(Bt){return Ke(Bt,t,r)}));for(var ve=[],ze=0;ze<u.length;ze++){var Ye=u[ze].O();ve.push(Ye)}g=ve,H=!0}if(_.s&&(b||(ve=_.s.h(t,r),b=Jp(_.A,r,ve)),ve=b.next(0),_.l=ve.value.value),_.l.prefix==="xmlns"||_.l.namespaceURI==="http://www.w3.org/2000/xmlns/"||_.l.prefix==="xml"&&_.l.namespaceURI!=="http://www.w3.org/XML/1998/namespace"||_.l.prefix&&_.l.prefix!=="xml"&&_.l.namespaceURI==="http://www.w3.org/XML/1998/namespace")throw Error('XQDY0096: The node name "'+_.l.Ca()+'" is invalid for a computed element constructor.');var st={nodeType:1,Ta:!0,attributes:[],childNodes:[],nodeName:_.l.Ca(),namespaceURI:_.l.namespaceURI,prefix:_.l.prefix,localName:_.l.localName};for(ve={node:st,F:null},i.forEach(function(Bt){st.attributes.push(Bt.value.node)}),(ze=Yf(g,r,pe)).attributes.forEach(function(Bt){if(st.attributes.find(function(wn){return wn.namespaceURI===Bt.namespaceURI&&wn.localName===Bt.localName}))throw Error("XQDY0025: The attribute "+Bt.name+" does not have an unique name in the constructed element.");st.attributes.push(Bt)}),ze.Xa.forEach(function(Bt){st.childNodes.push(Bt)}),ze=0;ze<st.childNodes.length;ze++)if(Zn(Ye=st.childNodes[ze])&&Ye.nodeType===3){var ht=st.childNodes[ze-1];ht&&Zn(ht)&&ht.nodeType===3&&(ht.data+=Ye.data,st.childNodes.splice(ze,1),ze--)}return ae=!0,Se(Ln(ve))}})},Ic.prototype.v=function(t){var r=this;if(Wn(t),Object.keys(this.S).forEach(function(i){return Vt(t,i,r.S[i])}),this.ta.forEach(function(i){return i.v(t)}),this.K.reduce(function(i,u){if(u.name){if(u="Q{"+(u.name.namespaceURI===null?t.aa(u.name.prefix):u.name.namespaceURI)+"}"+u.name.localName,i.includes(u))throw Error("XQST0040: The attribute "+u+" does not have an unique name in the constructed element.");i.push(u)}return i},[]),this.l&&this.l.namespaceURI===null){var s=t.aa(this.l.prefix);if(s===void 0&&this.l.prefix)throw gi(this.l.prefix);this.l.namespaceURI=s}this.A=ga(t),xn(t)},N(eh,Ee),eh.prototype.h=function(t,r){var s=this;return Pa(Ke(this.s,t,r),r).M(function(i){var u=i.map(function(b){return ra(b,1).value}).join(" ");if(u.indexOf("?>")!==-1)throw Error('XQDY0026: The contents of the data of a processing instruction may not include "?>"');if(s.l.Nb!==null)return Sg(i=s.l.Nb),J.m(Ln(Tg(i,u)));i=Ke(s.l.Fb,t,r);var g=kg(r,i);return J.create({next:function(){var b=g.next(0);return b.done?b:(Sg(b=b.value.value),Se(Ln(Tg(b,u))))}})})},N(th,Ee),th.prototype.h=function(t,r){return this.l?Pa(t=Ke(this.l,t,r),r).M(function(s){return s.length===0?J.empty():(s={node:{data:s.map(function(i){return ra(i,1).value}).join(" "),Ta:!0,nodeType:3},F:null},J.m(Ln(s)))}):J.empty()},N(ed,yn),ed.prototype.A=function(t,r,s){var i=this;return s[0](t).M(function(u){for(var g=0;g<i.l;g++)if(i.S[g].some(function(b){switch(b.oc){case"?":if(1<u.length)return!1;break;case"*":break;case"+":if(1>u.length)return!1;break;default:if(u.length!==1)return!1}var _=J.create(u);return u.every(function(D,H){return D=Dr(t,H,D,_),Ke(b.Ob,D,r).ha()})}))return s[g+1](t);return s[i.l+1](t)})},ed.prototype.v=function(t){if(yn.prototype.v.call(this,t),this.K.I)throw se()};var Bk={$:!1,ua:!1},Rk={$:!0,ua:!1},Fk={$:!0,ua:!0};function da(t){return t.$?t.ua?Fk:Rk:Bk}function en(t,r){switch(t[0]){case"andOp":var s=wt(t,"type");return new Bp(Ig("andOp",t,da(r)),s);case"orOp":return s=wt(t,"type"),new Rp(Ig("orOp",t,da(r)),s);case"unaryPlusOp":return s=be(be(t,"operand"),"*"),t=wt(t,"type"),new Op("+",en(s,r),t);case"unaryMinusOp":return s=be(be(t,"operand"),"*"),t=wt(t,"type"),new Op("-",en(s,r),t);case"addOp":case"subtractOp":case"multiplyOp":case"divOp":case"idivOp":case"modOp":var i=t[0],u=en(mt(t,["firstOperand","*"]),da(r));r=en(mt(t,["secondOperand","*"]),da(r));var g=wt(t,"type"),b=wt(mt(t,["firstOperand","*"]),"type"),_=wt(mt(t,["secondOperand","*"]),"type");return b&&_&&wt(t,"type")&&(s=J1(i,b.type,_.type)),new gf(i,u,r,g,s);case"sequenceExpr":return Kk(t,r);case"unionOp":return s=wt(t,"type"),new Pf([en(mt(t,["firstOperand","*"]),da(r)),en(mt(t,["secondOperand","*"]),da(r))],s);case"exceptOp":case"intersectOp":return s=wt(t,"type"),new Cf(t[0],en(mt(t,["firstOperand","*"]),da(r)),en(mt(t,["secondOperand","*"]),da(r)),s);case"stringConcatenateOp":return Yk(t,r);case"rangeSequenceExpr":return qk(t,r);case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":return nh("generalCompare",t,r);case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":return nh("valueCompare",t,r);case"isOp":case"nodeBeforeOp":case"nodeAfterOp":return nh("nodeCompare",t,r);case"pathExpr":return Hk(t,r);case"contextItemExpr":return new Uf(wt(t,"type"));case"functionCallExpr":return zk(t,r);case"inlineFunctionExpr":return Vk(t,r);case"arrowExpr":return $k(t,r);case"dynamicFunctionInvocationExpr":return Gk(t,r);case"namedFunctionRef":return r=be(t,"functionName"),s=wt(t,"type"),t=Ht(mt(t,["integerConstantExpr","value"])),new ll(Oa(r),parseInt(t,10),s);case"integerConstantExpr":return new il(Ht(be(t,"value")),{type:5,g:3});case"stringConstantExpr":return new il(Ht(be(t,"value")),{type:1,g:3});case"decimalConstantExpr":return new il(Ht(be(t,"value")),{type:4,g:3});case"doubleConstantExpr":return new il(Ht(be(t,"value")),{type:3,g:3});case"varRef":return new Hp((t=Oa(be(t,"name"))).prefix,t.namespaceURI,t.localName);case"flworExpr":return Uk(t,r);case"quantifiedExpr":return Wk(t,r);case"ifThenElseExpr":return s=wt(t,"type"),new Tp(en(be(be(t,"ifClause"),"*"),da(r)),en(be(be(t,"thenClause"),"*"),r),en(be(be(t,"elseClause"),"*"),r),s);case"instanceOfExpr":return s=en(mt(t,["argExpr","*"]),r),i=mt(t,["sequenceType","*"]),u=mt(t,["sequenceType","occurrenceIndicator"]),t=wt(t,"type"),new Ff(s,en(i,da(r)),u?Ht(u):"",t);case"castExpr":return r=en(be(be(t,"argExpr"),"*"),da(r)),s=be(t,"singleType"),new Rf(r,t=Oa(be(s,"atomicType")),s=be(s,"optional")!==null);case"castableExpr":return r=en(be(be(t,"argExpr"),"*"),da(r)),s=be(t,"singleType"),new Bf(r,t=Oa(be(s,"atomicType")),s=be(s,"optional")!==null);case"simpleMapExpr":return Xk(t,r);case"mapConstructor":return Pk(t,r);case"arrayConstructor":return Mk(t,r);case"unaryLookup":return s=wt(t,"type"),new zf(Ng(t,r),s);case"typeswitchExpr":return t_(t,r);case"elementConstructor":return Zk(t,r);case"attributeConstructor":return Jk(t,r);case"computedAttributeConstructor":return(s=be(t,"tagName"))?s=Oa(s):(s=be(t,"tagNameExpr"),s={Oa:en(be(s,"*"),da(r))}),new jc(s,{wb:[t=en(be(be(t,"valueExpr"),"*"),da(r))]});case"computedCommentConstructor":if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return new Qf(t=(t=be(t,"argExpr"))?en(be(t,"*"),da(r)):null);case"computedTextConstructor":if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return new th(t=(t=be(t,"argExpr"))?en(be(t,"*"),da(r)):null);case"computedElementConstructor":return Qk(t,r);case"computedPIConstructor":if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");return s=be(t,"piTargetExpr"),i=be(t,"piTarget"),u=be(t,"piValueExpr"),t=wt(t,"type"),new eh({Fb:s?en(be(s,"*"),da(r)):null,Nb:i?Ht(i):null},u?en(be(u,"*"),da(r)):new Sc([],t));case"CDataSection":return new il(Ht(t),{type:1,g:3});case"deleteExpr":return new Xf(t=en(mt(t,["targetExpr","*"]),r));case"insertExpr":switch(s=en(mt(t,["sourceExpr","*"]),r),(u=rn(t,"*")[1])[0]){case"insertAfter":i=1;break;case"insertBefore":i=2;break;case"insertInto":i=(i=be(u,"*"))?i[0]==="insertAsFirst"?4:5:3}return new qf(s,i,t=en(mt(t,["targetExpr","*"]),r));case"renameExpr":return new Qp(s=en(mt(t,["targetExpr","*"]),r),t=en(mt(t,["newNameExpr","*"]),r));case"replaceExpr":return new Jf(s=!!be(t,"replaceValue"),i=en(mt(t,["targetExpr","*"]),r),t=en(mt(t,["replacementExpr","*"]),r));case"transformExpr":return e_(t,r);case"x:stackTrace":for(s=t[1],t=t[2];t[0]==="x:stackTrace";)t=t[2];return new Ip(s,t[0],en(t,r));default:return jg(t)}}function jg(t){switch(t[0]){case"nameTest":return new Gs(Oa(t));case"piTest":return(t=be(t,"piTarget"))?new Vp(Ht(t)):new Ai(7);case"commentTest":return new Ai(8);case"textTest":return new Ai(3);case"documentTest":return new Ai(9);case"attributeTest":var r=(t=be(t,"attributeName"))&&be(t,"star");return!t||r?new Ai(2):new Gs(Oa(be(t,"QName")),{kind:2});case"elementTest":return r=(t=be(t,"elementName"))&&be(t,"star"),!t||r?new Ai(1):new Gs(Oa(be(t,"QName")),{kind:1});case"anyKindTest":return new Ll({prefix:"",namespaceURI:null,localName:"node()"});case"anyMapTest":return new Ll({prefix:"",namespaceURI:null,localName:"map(*)"});case"anyArrayTest":return new Ll({prefix:"",namespaceURI:null,localName:"array(*)"});case"Wildcard":return be(t,"star")?(r=be(t,"uri"))?t=new Gs({localName:"*",namespaceURI:Ht(r),prefix:""}):(r=be(t,"NCName"),t=be(t,"*")[0]==="star"?new Gs({localName:Ht(r),namespaceURI:null,prefix:"*"}):new Gs({localName:"*",namespaceURI:null,prefix:Ht(r)})):t=new Gs({localName:"*",namespaceURI:null,prefix:"*"}),t;case"atomicType":return new Ll(Oa(t));case"anyItemType":return new Ll({prefix:"",namespaceURI:null,localName:"item()"});default:throw Error("No selector counterpart for: "+t[0]+".")}}function Mk(t,r){var s=wt(t,"type"),i=rn(t=be(t,"*"),"arrayElem").map(function(u){return en(be(u,"*"),da(r))});switch(t[0]){case"curlyArray":return new wf(i,s);case"squareArray":return new vf(i,s);default:throw Error("Unrecognized arrayType: "+t[0])}}function Pk(t,r){var s=wt(t,"type");return new jf(rn(t,"mapConstructorEntry").map(function(i){return{key:en(mt(i,["mapKeyExpr","*"]),da(r)),value:en(mt(i,["mapValueExpr","*"]),da(r))}}),s)}function Ig(t,r,s){function i(g){var b=be(be(g,"firstOperand"),"*");g=be(be(g,"secondOperand"),"*"),b[0]===t?i(b):u.push(en(b,s)),g[0]===t?i(g):u.push(en(g,s))}var u=[];return i(r),u}function Ng(t,r){switch((t=be(t,"*"))[0]){case"NCName":return new il(Ht(t),{type:1,g:3});case"star":return"*";default:return en(t,da(r))}}function nh(t,r,s){var i=mt(r,["firstOperand","*"]),u=mt(r,["secondOperand","*"]);switch(i=en(i,da(s)),s=en(u,da(s)),t){case"valueCompare":return new If(r[0],i,s);case"nodeCompare":return new Df(r[0],i,s);case"generalCompare":return new Nf(r[0],i,s)}}function Lk(t,r,s){return new Lf((t=rn(t,"*")).filter(function(i){return i[0]!=="stable"}).map(function(i){var u=be(i,"orderModifier"),g=u?be(u,"orderingKind"):null;return u=u?be(u,"emptyOrderingMode"):null,g=!g||Ht(g)==="ascending",u=!u||Ht(u)==="empty least",{ca:en(mt(i,["orderByExpr","*"]),r),Kb:g,lc:u}}),s)}function Uk(t,r){var s=rn(t,"*");if(t=be(s[s.length-1],"*"),1<(s=s.slice(0,-1)).length&&!r.$)throw Error("XPST0003: Use of XQuery FLWOR expressions in XPath is no allowed");return s.reduceRight(function(i,u){switch(u[0]){case"forClause":for(var g=(u=rn(u,"*")).length-1;0<=g;--g){var b=u[g],_=mt(b,["forExpr","*"]),D=be(b,"positionalVariableBinding");i=new Np(Oa(mt(b,["typedVariableBinding","varName"])),en(_,da(r)),D?Oa(D):null,i)}return i;case"letClause":for(g=(u=rn(u,"*")).length-1;0<=g;--g)_=mt(b=u[g],["letExpr","*"]),i=new Cp(Oa(mt(b,["typedVariableBinding","varName"])),en(_,da(r)),i);return i;case"whereClause":for(g=(u=rn(u,"*")).length-1;0<=g;--g)i=new $f(en(u[g],r),i);return i;case"windowClause":case"groupByClause":case"countClause":throw Error("Not implemented: "+u[0]+" is not implemented yet.");case"orderByClause":return Lk(u,r,i);default:throw Error("Not implemented: "+u[0]+" is not supported in a flwor expression")}},en(t,r))}function zk(t,r){var s=be(t,"functionName"),i=rn(be(t,"arguments"),"*");return t=wt(t,"type"),new uo(new ll(Oa(s),i.length,t),i.map(function(u){return u[0]==="argumentPlaceholder"?null:en(u,r)}),t)}function $k(t,r){var s=wt(t,"type"),i=mt(t,["argExpr","*"]);t=rn(t,"*").slice(1),i=[en(i,r)];for(var u=0;u<t.length;u++)if(t[u][0]!=="arguments"){if(t[u+1][0]==="arguments"){var g=rn(t[u+1],"*");i=i.concat(g.map(function(b){return b[0]==="argumentPlaceholder"?null:en(b,r)}))}i=[new uo(g=t[u][0]==="EQName"?new ll(Oa(t[u]),i.length,s):en(t[u],da(r)),i,s)]}return i[0]}function Gk(t,r){var s=mt(t,["functionItem","*"]),i=wt(t,"type"),u=[];return(t=be(t,"arguments"))&&(u=rn(t,"*").map(function(g){return g[0]==="argumentPlaceholder"?null:en(g,r)})),new uo(en(s,r),u,i)}function Vk(t,r){var s=rn(be(t,"paramList"),"*"),i=mt(t,["functionBody","*"]),u=wt(t,"type");return new Dp(s.map(function(g){return{name:Oa(be(g,"varName")),type:Ei(g)}}),Ei(t),i?en(i,r):new Sc([],u))}function Hk(t,r){var s=wt(t,"type"),i=rn(t,"stepExpr"),u=!1,g=i.map(function(b){for(var _=be(b,"xpathAxis"),D=rn(b,"*"),H=[],ae=null,ve=(D=j(D)).next();!ve.done;ve=D.next())switch(ve=ve.value,ve[0]){case"lookup":H.push(["lookup",Ng(ve,r)]);break;case"predicate":case"predicates":for(var ze=(ve=j(rn(ve,"*"))).next();!ze.done;ze=ve.next())ae=os(ae,(ze=en(ze.value,da(r))).B()),H.push(["predicate",ze])}if(_)switch(u=!0,b=be(b,"attributeTest anyElementTest piTest documentTest elementTest commentTest namespaceTest anyKindTest textTest anyFunctionTest typedFunctionTest schemaAttributeTest atomicType anyItemType parenthesizedItemType typedMapTest typedArrayTest nameTest Wildcard".split(" ")),b=jg(b),Ht(_)){case"ancestor":var Ye=new _p(b,{Ra:!1});break;case"ancestor-or-self":Ye=new _p(b,{Ra:!0});break;case"attribute":Ye=new Ep(b,ae);break;case"child":Ye=new xf(b,ae);break;case"descendant":Ye=new Ap(b,{Ra:!1});break;case"descendant-or-self":Ye=new Ap(b,{Ra:!0});break;case"parent":Ye=new Af(b,ae);break;case"following-sibling":Ye=new Ef(b,ae);break;case"preceding-sibling":Ye=new Tf(b,ae);break;case"following":Ye=new _f(b);break;case"preceding":Ye=new Sf(b);break;case"self":Ye=new Sp(b,ae)}else Ye=en(Ye=mt(b,["filterExpr","*"]),da(r));for(_=(H=j(H)).next();!_.done;_=H.next())switch(_=_.value,_[0]){case"lookup":Ye=new $p(Ye,_[1]);break;case"predicate":Ye=new zp(Ye,_[1])}return Ye.type=s,Ye});return t=be(t,"rootExpr"),!(i=u||t!==null||1<i.length)&&g.length===1||!t&&g.length===1&&g[0].da==="sorted"?g[0]:t&&g.length===0?new Lp(null):(g=new Up(g,i),t?new Lp(g):g)}function Wk(t,r){var s=wt(t,"type"),i=Ht(be(t,"quantifier")),u=mt(t,["predicateExpr","*"]);return new Gp(i,t=rn(t,"quantifiedExprInClause").map(function(g){return{name:Oa(mt(g,["typedVariableBinding","varName"])),jb:en(g=mt(g,["sourceExpr","*"]),da(r))}}),en(u,da(r)),s)}function Kk(t,r){var s=rn(t,"*").map(function(i){return en(i,r)});return s.length===1?s[0]:(s=wt(t,"type"),new Sc(rn(t,"*").map(function(i){return en(i,r)}),s))}function Xk(t,r){var s=wt(t,"type");return rn(t,"*").reduce(function(i,u){return i===null?en(u,da(r)):new Of(i,en(u,da(r)),s)},null)}function Yk(t,r){var s=wt(t,"type");return new uo(new ll({localName:"concat",namespaceURI:"http://www.w3.org/2005/xpath-functions",prefix:""},(t=[mt(t,["firstOperand","*"]),mt(t,["secondOperand","*"])]).length,s),t.map(function(i){return en(i,da(r))}),s)}function qk(t,r){var s=wt(t,"type");return new uo(new ll({localName:"to",namespaceURI:"http://fontoxpath/operators",prefix:""},(t=[be(be(t,"startExpr"),"*"),be(be(t,"endExpr"),"*")]).length,s),t.map(function(i){return en(i,da(r))}),s)}function Zk(t,r){if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var s=Oa(be(t,"tagName")),i=be(t,"attributeList");return new Ic(s,i?rn(i,"attributeConstructor").map(function(u){return en(u,da(r))}):[],i=i?rn(i,"namespaceDeclaration").map(function(u){var g=be(u,"prefix");return{prefix:g?Ht(g):"",uri:Ht(be(u,"uri"))}}):[],t=(t=be(t,"elementContent"))?rn(t,"*").map(function(u){return en(u,da(r))}):[])}function Jk(t,r){if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var s=Oa(be(t,"attributeName")),i=be(t,"attributeValue");return new jc(s,{value:i=i?Ht(i):null,wb:t=(t=be(t,"attributeValueExpr"))?rn(t,"*").map(function(u){return en(u,da(r))}):null})}function Qk(t,r){var s=be(t,"tagName");return s?s=Oa(s):(s=be(t,"tagNameExpr"),s={Oa:en(be(s,"*"),da(r))}),new Ic(s,[],[],t=(t=be(t,"contentExpr"))?rn(t,"*").map(function(i){return en(i,da(r))}):[])}function e_(t,r){return new Tc(rn(be(t,"transformCopies"),"transformCopy").map(function(s){var i=Oa(be(be(s,"varRef"),"name"));return{jb:en(be(be(s,"copySource"),"*"),r),Rb:new Za(i.prefix,i.namespaceURI,i.localName)}}),en(be(be(t,"modifyExpr"),"*"),r),t=en(be(be(t,"returnExpr"),"*"),r))}function t_(t,r){if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");var s=wt(t,"type");return new ed(en(be(be(t,"argExpr"),"*"),r),rn(t,"typeswitchExprCaseClause").map(function(i){var u=rn(i,"sequenceTypeUnion").length===0?[be(i,"sequenceType")]:rn(be(i,"sequenceTypeUnion"),"sequenceType");return{ic:en(mt(i,["resultExpr","*"]),r),Pb:u.map(function(g){var b=be(g,"occurrenceIndicator");return{oc:b?Ht(b):"",Ob:en(be(g,"*"),r)}})}}),t=en(mt(t,["typeswitchExprDefaultClause","resultExpr","*"]),r),s)}function ah(t,r){return en(t,r)}var td=new Map;function n_(t,r,s,i,u,g){this.B=t,this.l=r,this.h=s,this.v=i,this.o=u,this.s=g}function a_(t,r,s,i,u,g,b,_){return(t=td.get(t))&&(r=t[r+(g?"_DEBUG":"")])&&(r=r.find(function(D){return D.o===b&&D.B.every(function(H){return s(H.prefix)===H.namespaceURI})&&D.l.every(function(H){return i[H.name]!==void 0})&&D.v.every(function(H){return u[H.prefix]===H.namespaceURI})&&D.s.every(function(H){var ae=_(H.nc,H.arity);return ae&&ae.namespaceURI===H.Lb.namespaceURI&&ae.localName===H.Lb.localName})}))?{ca:r.h,rc:!1}:null}function Dg(t,r,s,i,u,g,b){var _=td.get(t);_||(_=Object.create(null),td.set(t,_)),(r=_[t=r+(g?"_DEBUG":"")])||(r=_[t]=[]),r.push(new n_(Object.values(s.h),Object.values(s.o),u,Object.keys(i).map(function(D){return{namespaceURI:i[D],prefix:D}}),b,s.B))}function nd(t){var r=new na;if(t.namespaceURI!=="http://www.w3.org/2005/XQueryX"&&t.namespaceURI!=="http://www.w3.org/2005/XQueryX"&&t.namespaceURI!=="http://fontoxml.com/fontoxpath"&&t.namespaceURI!=="http://www.w3.org/2007/xquery-update-10")throw Ur("The XML structure passed as an XQueryX program was not valid XQueryX");var s=[t.localName==="stackTrace"?"x:stackTrace":t.localName],i=r.getAllAttributes(t);for(i&&0<i.length&&s.push(Array.from(i).reduce(function(u,g){return g.localName==="start"||g.localName==="end"&&t.localName==="stackTrace"?u[g.localName]=JSON.parse(g.value):g.localName==="type"?u[g.localName]=dn(g.value):u[g.localName]=g.value,u},{})),i=(r=j(r=r.getChildNodes(t))).next();!i.done;i=r.next())switch(i=i.value,i.nodeType){case 1:s.push(nd(i));break;case 3:s.push(i.data)}return s}var Nc=Object.create(null);function Cg(t,r){var s=Nc[t];s||(s=Nc[t]={Ma:[],Va:[],ra:null,source:r.source});var i=s.ra||function(){};s.Ma=s.Ma.concat(r.Ma),s.Va=s.Va.concat(r.Va),s.ra=function(u){i(u),r.ra&&r.ra(u)}}function rh(t,r){var s=Nc[r];if(!s)throw Error("XQST0051: No modules found with the namespace uri "+r);s.Ma.forEach(function(i){i.hb&&pa(t,r,i.localName,i.arity,i)}),s.Va.forEach(function(i){ia(t,r,i.localName),$r(t,r,i.localName,function(u,g){return Ke(i.ca,u,g)})})}function Dc(){Object.keys(Nc).forEach(function(t){if((t=Nc[t]).ra)try{t.ra(t)}catch(r){t.ra=null,Ao(t.source,r)}t.ra=null})}function oh(t){return t.replace(/(\x0D\x0A)|(\x0D(?!\x0A))/g,`
`)}var v=d;function sh(t,r){return function(s,i){return r.has(i)?r.get(i):(s=t(s,i),r.set(i,s),s)}}function Fn(t,r){return v.delimited(r,t,r)}function pt(t,r){return t.reverse().reduce(function(s,i){return v.preceded(i,s)},r)}function Gr(t,r,s,i){return v.then(v.then(t,r,function(u,g){return[u,g]}),s,function(u,g){var b=j(u);return u=b.next().value,b=b.next().value,i(u,b,g)})}function ih(t,r,s,i,u){return v.then(v.then(v.then(t,r,function(g,b){return[g,b]}),s,function(g,b){var _=j(g);return[g=_.next().value,_=_.next().value,b]}),i,function(g,b){var _=j(g);g=_.next().value;var D=_.next().value;return _=_.next().value,u(g,D,_,b)})}function r_(t,r,s,i,u,g){return v.then(v.then(v.then(v.then(t,r,function(b,_){return[b,_]}),s,function(b,_){var D=j(b);return[b=D.next().value,D=D.next().value,_]}),i,function(b,_){var D=j(b);return[b=D.next().value,D.next().value,D=D.next().value,_]}),u,function(b,_){var D=j(b);b=D.next().value;var H=D.next().value,ae=D.next().value;return D=D.next().value,g(b,H,ae,D,_)})}function cl(t){return v.map(t,function(r){return[r]})}function ka(t,r){return v.map(v.or(t),function(){return r})}function Vr(t){return function(r,s){return(r=t.exec(r.substring(s)))&&r.index===0?v.okWithValue(s+r[0].length,r[0]):v.error(s,[t.source],!1)}}var Og=v.or([v.token(" "),v.token("	"),v.token("\r"),v.token(`
`)]),Bg=v.token("(:"),Rg=v.token(":)"),o_=v.token("(#"),Fg=v.token("#)"),vr=v.token("("),fr=v.token(")"),Mg=v.token("["),Pg=v.token("]"),pl=v.token("{"),dl=v.token("}"),s_=v.token("{{"),i_=v.token("}}"),ad=v.token("'"),l_=v.token("''"),rd=v.token('"'),u_=v.token('""'),c_=v.token("<![CDATA["),Lg=v.token("]]>"),p_=v.token("/>"),d_=v.token("</"),f_=v.token("<!--"),h_=v.token("-->"),m_=v.token("<?"),Ug=v.token("?>"),g_=v.token("&#x"),y_=v.token("&#"),b_=v.token(":*"),w_=v.token("*:"),zl=v.token(":="),v_=v.token("&"),od=v.token(":"),$l=v.token(";"),ii=v.token("*"),x_=v.token("@"),li=v.token("$"),k_=v.token("#"),zg=v.token("%"),Cc=v.token("?"),fl=v.token("="),__=v.followed(v.token("!"),v.not(v.peek(fl),[])),$g=v.followed(v.token("|"),v.not(v.peek(v.token("|")),[])),E_=v.token("||"),A_=v.token("!="),Gg=v.token("<"),S_=v.token("<<"),T_=v.token("<="),lh=v.token(">"),j_=v.token(">>"),I_=v.token(">="),eo=v.token(","),Nu=v.token("."),N_=v.token(".."),sd=v.token("+"),Du=v.token("-"),id=v.token("/"),D_=v.token("//"),C_=v.token("=>"),O_=v.token("e"),B_=v.token("E");v.token("l"),v.token("L"),v.token("m"),v.token("M");var R_=v.token("Q");v.token("x"),v.token("X");var Vs=v.token("as"),F_=v.token("cast"),M_=v.token("castable"),P_=v.token("treat"),L_=v.token("instance"),Vg=v.token("of"),Oc=v.token("node"),Hg=v.token("nodes"),U_=v.token("delete"),z_=v.token("value"),Cu=v.token("function"),ld=v.token("map"),Gl=v.token("element"),Bc=v.token("attribute"),Wg=v.token("schema-element"),$_=v.token("intersect"),G_=v.token("except"),V_=v.token("union"),H_=v.token("to"),W_=v.token("is"),K_=v.token("or"),X_=v.token("and"),Y_=v.token("div"),q_=v.token("idiv"),Z_=v.token("mod"),J_=v.token("eq"),Q_=v.token("ne"),Kg=v.token("lt"),eE=v.token("le"),Xg=v.token("gt"),tE=v.token("ge"),nE=v.token("amp"),aE=v.token("quot"),rE=v.token("apos"),Yg=v.token("if"),oE=v.token("then"),sE=v.token("else"),iE=v.token("allowing"),uh=v.token("empty"),ch=v.token("at"),qg=v.token("in"),lE=v.token("for"),uE=v.token("let"),cE=v.token("where"),ph=v.token("collation"),pE=v.token("group"),dh=v.token("by"),fh=v.token("order"),dE=v.token("stable"),Ou=v.token("return"),ud=v.token("array"),fE=v.token("document"),Vl=v.token("namespace"),Zg=v.token("text"),Jg=v.token("comment"),Qg=v.token("processing-instruction"),hE=v.token("lax"),mE=v.token("strict"),gE=v.token("validate"),yE=v.token("type"),ss=v.token("declare"),Hl=v.token("default"),bE=v.token("boundary-space"),ey=v.token("strip"),hh=v.token("preserve"),wE=v.token("no-preserve"),vE=v.token("inherit"),xE=v.token("no-inherit"),ty=v.token("greatest"),ny=v.token("least"),kE=v.token("copy-namespaces"),ay=v.token("decimal-format"),ry=v.token("case"),oy=v.token("typeswitch"),_E=v.token("some"),EE=v.token("every"),AE=v.token("satisfies"),SE=v.token("replace"),TE=v.token("with"),jE=v.token("copy"),IE=v.token("modify"),NE=v.token("first"),DE=v.token("last"),CE=v.token("before"),OE=v.token("after"),BE=v.token("into"),RE=v.token("insert"),FE=v.token("rename"),sy=v.token("switch"),ME=v.token("variable"),mh=v.token("external"),PE=v.token("updating"),iy=v.token("import"),LE=v.token("schema"),ly=v.token("module"),UE=v.token("base-uri"),zE=v.token("construction"),$E=v.token("ordering"),GE=v.token("ordered"),VE=v.token("unordered"),HE=v.token("option"),WE=v.token("context"),uy=v.token("item"),KE=v.token("xquery"),XE=v.token("version"),cy=v.token("encoding"),YE=v.token("document-node"),qE=v.token("namespace-node"),ZE=v.token("schema-attribute"),JE=v.token("ascending"),QE=v.token("descending"),eA=v.token("empty-sequence"),tA=v.token("child::"),nA=v.token("descendant::"),aA=v.token("attribute::"),rA=v.token("self::"),oA=v.token("descendant-or-self::"),sA=v.token("following-sibling::"),iA=v.token("following::"),lA=v.token("parent::"),uA=v.token("ancestor::"),cA=v.token("preceding-sibling::"),pA=v.token("preceding::"),dA=v.token("ancestor-or-self::"),fA=v.token("decimal-separator"),hA=v.token("grouping-separator"),mA=v.token("infinity"),gA=v.token("minus-sign"),yA=v.token("NaN"),bA=v.token("per-mille"),wA=v.token("zero-digit"),vA=v.token("digit"),xA=v.token("pattern-separator"),kA=v.token("exponent-separator"),_A=v.token("schema-attribute("),EA=v.token("document-node("),AA=v.token("processing-instruction("),SA=v.token("processing-instruction()"),TA=v.token("comment()"),jA=v.token("text()"),IA=v.token("namespace-node()"),NA=v.token("node()"),DA=v.token("item()"),CA=v.token("empty-sequence()"),py=new Map,dy=new Map,Si=v.or([Vr(/[\t\n\r -\uD7FF\uE000\uFFFD]/),Vr(/[\uD800-\uDBFF][\uDC00-\uDFFF]/)]),OA=v.preceded(v.peek(v.not(v.or([Bg,Rg]),['comment contents cannot contain "(:" or ":)"'])),Si),fy=v.map(v.delimited(Bg,v.star(v.or([OA,function(t,r){return fy(t,r)}])),Rg,!0),function(t){return t.join("")}),gh=v.or([Og,fy]),cd=v.map(v.plus(Og),function(t){return t.join("")}),je=sh(v.map(v.star(gh),function(t){return t.join("")}),py),ft=sh(v.map(v.plus(gh),function(t){return t.join("")}),dy),yh=v.or([Vr(/[A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/),v.then(Vr(/[\uD800-\uDB7F]/),Vr(/[\uDC00-\uDFFF]/),function(t,r){return t+r})]),hy=v.or([yh,Vr(/[\-\.0-9\xB7\u0300-\u036F\u203F\u2040]/)]),Lo=v.then(yh,v.star(hy),function(t,r){return t+r.join("")}),BA=v.map(Lo,function(t){return["prefix",t]}),RA=v.or([yh,od]),FA=v.or([hy,od]);v.then(RA,v.star(FA),function(t,r){return t+r.join("")});var MA=v.map(Lo,function(t){var r={};return[(r.prefix="",r.URI=null,r),t]}),PA=v.then(Lo,v.preceded(od,Lo),function(t,r){var s={};return[(s.prefix=t,s.URI=null,s),r]}),pd=v.or([PA,MA]),my=v.followed(pt([R_,je,pl],v.map(v.star(Vr(/[^{}]/)),function(t){return t.join("").replace(/\s+/g," ").trim()})),dl),LA=v.then(my,Lo,function(t,r){return[t,r]}),Ya=v.or([v.map(LA,function(t){var r={};return[(r.prefix=null,r.URI=t[0],r),t[1]]}),pd]),gy=v.or([v.map(Ya,function(t){return["QName"].concat(C(t))}),v.map(ii,function(){return["star"]})]),bh=v.map(v.preceded(li,Ya),function(t){return["varRef",["name"].concat(C(t))]}),ao=v.peek(v.or([vr,rd,ad,gh])),UA=v.map(v.or([tA,nA,aA,rA,oA,sA,iA]),function(t){return t.substring(0,t.length-2)}),zA=v.map(v.or([lA,uA,cA,pA,dA]),function(t){return t.substring(0,t.length-2)}),wh=Gr(v_,v.or([Kg,Xg,nE,aE,rE]),$l,function(t,r,s){return t+r+s}),vh=v.or([Gr(g_,Vr(/[0-9a-fA-F]+/),$l,function(t,r,s){return t+r+s}),Gr(y_,Vr(/[0-9]+/),$l,function(t,r,s){return t+r+s})]),xh=ka([u_],'"'),kh=ka([l_],"'"),$A=cl(ka([TA],"commentTest")),GA=cl(ka([jA],"textTest")),VA=cl(ka([IA],"namespaceTest")),HA=cl(ka([NA],"anyKindTest")),Wl=Vr(/[0-9]+/),WA=v.then(v.or([v.then(Nu,Wl,function(t,r){return t+r}),v.then(Wl,v.optional(v.preceded(Nu,Vr(/[0-9]*/))),function(t,r){return t+(r!==null?"."+r:"")})]),Gr(v.or([O_,B_]),v.optional(v.or([sd,Du])),Wl,function(t,r,s){return t+(r||"")+s}),function(t,r){return["doubleConstantExpr",["value",t+r]]}),KA=v.or([v.map(v.preceded(Nu,Wl),function(t){return["decimalConstantExpr",["value","."+t]]}),v.then(v.followed(Wl,Nu),v.optional(Wl),function(t,r){return["decimalConstantExpr",["value",t+"."+(r!==null?r:"")]]})]),_h=v.map(Wl,function(t){return["integerConstantExpr",["value",t]]}),XA=v.followed(v.or([WA,KA,_h]),v.peek(v.not(Vr(/[a-zA-Z]/),["no alphabetical characters after numeric literal"]))),YA=v.map(v.followed(Nu,v.peek(v.not(Nu,["context item should not be followed by another ."]))),function(){return["contextItemExpr"]}),yy=v.or([ud,Bc,Jg,YE,Gl,eA,Cu,Yg,uy,ld,qE,Oc,Qg,ZE,Wg,sy,Zg,oy]),qA=cl(ka([Cc],"argumentPlaceholder")),ZA=v.or([Cc,ii,sd]),JA=v.preceded(v.peek(v.not(Vr(/[{}<&]/),["elementContentChar cannot be {, }, <, or &"])),Si),QA=v.map(v.delimited(c_,v.star(v.preceded(v.peek(v.not(Lg,['CDataSection content may not contain "]]>"'])),Si)),Lg,!0),function(t){return["CDataSection",t.join("")]}),eS=v.preceded(v.peek(v.not(Vr(/["{}<&]/),['quotAttrValueContentChar cannot be ", {, }, <, or &'])),Si),tS=v.preceded(v.peek(v.not(Vr(/['{}<&]/),["aposAttrValueContentChar cannot be ', {, }, <, or &"])),Si),nS=v.map(v.star(v.or([v.preceded(v.peek(v.not(Du,[])),Si),v.map(pt([Du,v.peek(v.not(Du,[]))],Si),function(t){return"-"+t})])),function(t){return t.join("")}),aS=v.map(v.delimited(f_,nS,h_,!0),function(t){return["computedCommentConstructor",["argExpr",["stringConstantExpr",["value",t]]]]}),rS=v.filter(Lo,function(t){return t.toLowerCase()!=="xml"},['A processing instruction target cannot be "xml"']),oS=v.map(v.star(v.preceded(v.peek(v.not(Ug,[])),Si)),function(t){return t.join("")}),sS=v.then(v.preceded(m_,v.cut(rS)),v.cut(v.followed(v.optional(v.preceded(cd,oS)),Ug)),function(t,r){return["computedPIConstructor",["piTarget",t],["piValueExpr",["stringConstantExpr",["value",r]]]]}),Eh=v.map(D_,function(){return["stepExpr",["xpathAxis","descendant-or-self"],["anyKindTest"]]}),iS=v.or([hE,mE]),lS=v.map(v.star(v.followed(Si,v.peek(v.not(Fg,["Pragma contents should not contain '#)'"])))),function(t){return t.join("")}),uS=v.map(v.followed(v.or([J_,Q_,Kg,eE,Xg,tE]),ao),function(t){return t+"Op"}),cS=v.or([v.followed(ka([W_],"isOp"),ao),ka([S_],"nodeBeforeOp"),ka([j_],"nodeAfterOp")]),pS=v.or([ka([fl],"equalOp"),ka([A_],"notEqualOp"),ka([T_],"lessThanOrEqualOp"),ka([Gg],"lessThanOp"),ka([I_],"greaterThanOrEqualOp"),ka([lh],"greaterThanOp")]),dS=v.map(PE,function(){return["annotation",["annotationName","updating"]]}),fS=v.or([hh,wE]),hS=v.or([vE,xE]),mS=v.or([fA,hA,mA,gA,yA,zg,bA,wA,vA,xA,kA]),gS=v.map(pt([ss,ft,bE,ft],v.or([hh,ey])),function(t){return["boundarySpaceDecl",t]}),yS=v.map(pt([ss,ft,zE,ft],v.or([hh,ey])),function(t){return["constructionDecl",t]}),bS=v.map(pt([ss,ft,$E,ft],v.or([GE,VE])),function(t){return["orderingModeDecl",t]}),wS=v.map(pt([ss,ft,Hl,ft,fh,ft,uh,ft],v.or([ty,ny])),function(t){return["emptyOrderDecl",t]}),vS=v.then(pt([ss,ft,kE,ft],fS),pt([je,eo,je],hS),function(t,r){return["copyNamespacesDecl",["preserveMode",t],["inheritMode",r]]});function Ah(t){switch(t[0]){case"constantExpr":case"varRef":case"contextItemExpr":case"functionCallExpr":case"sequenceExpr":case"elementConstructor":case"computedElementConstructor":case"computedAttributeConstructor":case"computedDocumentConstructor":case"computedTextConstructor":case"computedCommentConstructor":case"computedNamespaceConstructor":case"computedPIConstructor":case"orderedExpr":case"unorderedExpr":case"namedFunctionRef":case"inlineFunctionExpr":case"dynamicFunctionInvocationExpr":case"mapConstructor":case"arrayConstructor":case"stringConstructor":case"unaryLookup":return t}return["sequenceExpr",t]}function by(t){if(!(1<=t&&55295>=t||57344<=t&&65533>=t||65536<=t&&1114111>=t))throw Error("XQST0090: The character reference "+t+" ("+t.toString(16)+") does not reference a valid codePoint.")}function Sh(t){return t.replace(/(&[^;]+);/g,function(r){if(/^&#x/.test(r))return by(r=parseInt(r.slice(3,-1),16)),String.fromCodePoint(r);if(/^&#/.test(r))return by(r=parseInt(r.slice(2,-1),10)),String.fromCodePoint(r);switch(r){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return'"';case"&apos;":return"'"}throw Error('XPST0003: Unknown character reference: "'+r+'"')})}function wy(t,r,s){if(!t.length)return[];for(var i=[t[0]],u=1;u<t.length;++u){var g=i[i.length-1];typeof g=="string"&&typeof t[u]=="string"?i[i.length-1]=g+t[u]:i.push(t[u])}if(typeof i[0]=="string"&&i.length===0)return[];if(!(i=i.reduce(function(b,_,D){if(typeof _!="string")b.push(_);else if(s&&/^\s*$/.test(_)){var H=i[D+1];(H&&H[0]==="CDataSection"||(D=i[D-1])&&D[0]==="CDataSection")&&b.push(Sh(_))}else b.push(Sh(_));return b},[])).length)return i;if(1<i.length||r)for(t=0;t<i.length;t++)typeof i[t]=="string"&&(i[t]=["stringConstantExpr",["value",i[t]]]);return i}function vy(t){return t[0].prefix?t[0].prefix+":"+t[1]:t[1]}var xy=v.then(Ya,v.optional(Cc),function(t,r){return r!==null?["singleType",["atomicType"].concat(C(t)),["optional"]]:["singleType",["atomicType"].concat(C(t))]}),ky=v.map(Ya,function(t){return["atomicType"].concat(C(t))}),_y=new Map;function dd(t){function r(W,ce){return ce.reduce(function(dt,ua){return[ua[0],["firstOperand",dt],["secondOperand",ua[1]]]},W)}function s(W,ce,dt){return v.then(W,v.star(v.then(Fn(ce,je),v.cut(W),function(ua,_a){return[ua,_a]})),dt)}function i(W,ce,dt,ua){return dt=dt===void 0?"firstOperand":dt,ua=ua===void 0?"secondOperand":ua,v.then(W,v.optional(v.then(Fn(ce,je),v.cut(W),function(_a,po){return[_a,po]})),function(_a,po){return po===null?_a:[po[0],[dt,_a],[ua,po[1]]]})}function u(W){return t.vb?function(ce,dt){if(!(ce=W(ce,dt)).success)return ce;var ua=H.has(dt)?H.get(dt):{offset:dt,line:-1,ja:-1},_a=H.has(ce.offset)?H.get(ce.offset):{offset:ce.offset,line:-1,ja:-1};return H.set(dt,ua),H.set(ce.offset,_a),v.okWithValue(ce.offset,["x:stackTrace",{start:ua,end:_a},ce.value])}:W}function g(W,ce){return ab(W,ce)}function b(W,ce){return Yh(W,ce)}function _(W,ce){return u(v.or([l2,h2,_2,p2,Gj,v2,m2,x2,g2,b2,$j]))(W,ce)}function D(W,ce){return s(_,eo,function(dt,ua){return ua.length===0?dt:["sequenceExpr",dt].concat(C(ua.map(function(_a){return _a[1]})))})(W,ce)}var H=new Map,ae=v.preceded(Mg,v.followed(Fn(D,je),Pg)),ve=v.map(t.Ya?v.or([Fn(v.star(v.or([wh,vh,xh,Vr(/[^"&]/)])),rd),Fn(v.star(v.or([wh,vh,kh,Vr(/[^'&]/)])),ad)]):v.or([Fn(v.star(v.or([xh,Vr(/[^"]/)])),rd),Fn(v.star(v.or([kh,Vr(/[^']/)])),ad)]),function(W){return W.join("")}),ze=v.or([v.map(pt([Gl,je],v.delimited(v.followed(vr,je),v.then(gy,pt([je,eo,je],Ya),function(W,ce){return[["elementName",W],["typeName"].concat(C(ce))]}),v.preceded(je,fr))),function(W){var ce=j(W);return["elementTest",W=ce.next().value,ce=ce.next().value]}),v.map(pt([Gl,je],v.delimited(vr,gy,fr)),function(W){return["elementTest",["elementName",W]]}),v.map(pt([Gl,je],v.delimited(vr,je,fr)),function(){return["elementTest"]})]),Ye=v.or([v.map(Ya,function(W){return["QName"].concat(C(W))}),v.map(ii,function(){return["star"]})]),st=v.or([v.map(pt([Bc,je],v.delimited(v.followed(vr,je),v.then(Ye,pt([je,eo,je],Ya),function(W,ce){return[["attributeName",W],["typeName"].concat(C(ce))]}),v.preceded(je,fr))),function(W){var ce=j(W);return["attributeTest",W=ce.next().value,ce=ce.next().value]}),v.map(pt([Bc,je],v.delimited(vr,Ye,fr)),function(W){return["attributeTest",["attributeName",W]]}),v.map(pt([Bc,je],v.delimited(vr,je,fr)),function(){return["attributeTest"]})]),ht=v.map(pt([Wg,je,vr],v.followed(Ya,fr)),function(W){return["schemaElementTest"].concat(C(W))}),Bt=v.map(v.delimited(_A,Fn(Ya,je),fr),function(W){return["schemaAttributeTest"].concat(C(W))}),wn=v.map(v.preceded(EA,v.followed(Fn(v.optional(v.or([ze,ht])),je),fr)),function(W){return["documentTest"].concat(C(W?[W]:[]))}),ya=v.or([v.map(v.preceded(AA,v.followed(Fn(v.or([Lo,ve]),je),fr)),function(W){return["piTest",["piTarget",W]]}),cl(ka([SA],"piTest"))]),Rr=v.or([wn,ze,st,ht,Bt,ya,$A,GA,VA,HA]),To=v.or([v.map(v.preceded(w_,Lo),function(W){return["Wildcard",["star"],["NCName",W]]}),cl(ka([ii],"Wildcard")),v.map(v.followed(my,ii),function(W){return["Wildcard",["uri",W],["star"]]}),v.map(v.followed(Lo,b_),function(W){return["Wildcard",["NCName",W],["star"]]})]),Hs=v.or([To,v.map(Ya,function(W){return["nameTest"].concat(C(W))})]),ji=v.or([Rr,Hs]),Pc=v.then(v.optional(x_),ji,function(W,ce){return W!==null||ce[0]==="attributeTest"||ce[0]==="schemaAttributeTest"?["stepExpr",["xpathAxis","attribute"],ce]:["stepExpr",["xpathAxis","child"],ce]}),TT=v.or([v.then(UA,ji,function(W,ce){return["stepExpr",["xpathAxis",W],ce]}),Pc]),jT=v.map(N_,function(){return["stepExpr",["xpathAxis","parent"],["anyKindTest"]]}),IT=v.or([v.then(zA,ji,function(W,ce){return["stepExpr",["xpathAxis",W],ce]}),jT]),NT=v.map(v.star(v.preceded(je,ae)),function(W){return 0<W.length?["predicates"].concat(C(W)):void 0}),DT=v.then(v.or([IT,TT]),NT,function(W,ce){return ce===void 0?W:W.concat([ce])}),Hh=v.or([XA,v.map(ve,function(W){return["stringConstantExpr",["value",t.Ya?Sh(W):W]]})]),Wh=v.or([v.delimited(vr,Fn(D,je),fr),v.map(v.delimited(vr,je,fr),function(){return["sequenceExpr"]})]),tb=v.or([_,qA]),yd=v.map(v.delimited(vr,Fn(v.optional(v.then(tb,v.star(v.preceded(Fn(eo,je),tb)),function(W,ce){return[W].concat(C(ce))})),je),fr),function(W){return W!==null?W:[]}),CT=v.preceded(v.not(Gr(yy,je,vr,function(){}),["cannot use reseved keyword for function names"]),v.then(Ya,v.preceded(je,yd),function(W,ce){return["functionCallExpr",["functionName"].concat(C(W)),ce!==null?["arguments"].concat(C(ce)):["arguments"]]})),OT=v.then(Ya,v.preceded(k_,_h),function(W,ce){return["namedFunctionRef",["functionName"].concat(C(W)),ce]}),Ws=v.delimited(pl,Fn(v.optional(D),je),dl),nb=v.map(Ws,function(W){return W||["sequenceExpr"]}),ui=v.or([v.map(CA,function(){return[["voidSequenceType"]]}),v.then(g,v.optional(v.preceded(je,ZA)),function(W,ce){return[W].concat(C(ce!==null?[["occurrenceIndicator",ce]]:[]))})]),Kh=v.then(pt([zg,je],Ya),v.optional(v.followed(v.then(pt([vr,je],Hh),v.star(pt([eo,je],Hh)),function(W,ce){return W.concat(ce)}),fr)),function(W,ce){return["annotation",["annotationName"].concat(C(W))].concat(C(ce?["arguments",ce]:[]))}),BT=v.map(pt([Cu,je,vr,je,ii,je],fr),function(){return["anyFunctionTest"]}),RT=v.then(pt([Cu,je,vr,je],v.optional(s(ui,eo,function(W,ce){return W.concat.apply(W,ce.map(function(dt){return dt[1]}))}))),pt([je,fr,ft,Vs,ft],ui),function(W,ce){return["typedFunctionTest",["paramTypeList",["sequenceType"].concat(C(W||[]))],["sequenceType"].concat(C(ce))]}),FT=v.then(v.star(Kh),v.or([BT,RT]),function(W,ce){return[ce[0]].concat(C(W),C(ce.slice(1)))}),MT=v.map(pt([ld,je,vr,je,ii,je],fr),function(){return["anyMapTest"]}),PT=v.then(pt([ld,je,vr,je],ky),pt([je,eo],v.followed(Fn(ui,je),fr)),function(W,ce){return["typedMapTest",W,["sequenceType"].concat(C(ce))]}),LT=v.or([MT,PT]),UT=v.map(pt([ud,je,vr,je,ii,je],fr),function(){return["anyArrayTest"]}),zT=v.map(pt([ud,je,vr],v.followed(Fn(ui,je),fr)),function(W){return["typedArrayTest",["sequenceType"].concat(C(W))]}),$T=v.or([UT,zT]),GT=v.map(v.delimited(vr,Fn(g,je),fr),function(W){return["parenthesizedItemType",W]}),ab=v.or([Rr,cl(ka([DA],"anyItemType")),FT,LT,$T,ky,GT]),Uu=v.map(pt([Vs,ft],ui),function(W){return["typeDeclaration"].concat(C(W))}),VT=v.then(v.preceded(li,Ya),v.optional(v.preceded(ft,Uu)),function(W,ce){return["param",["varName"].concat(C(W))].concat(C(ce?[ce]:[]))}),rb=s(VT,eo,function(W,ce){return[W].concat(C(ce.map(function(dt){return dt[1]})))}),HT=ih(v.star(Kh),pt([je,Cu,je,vr,je],v.optional(rb)),pt([je,fr,je],v.optional(v.map(pt([Vs,je],v.followed(ui,je)),function(W){return["typeDeclaration"].concat(C(W))}))),nb,function(W,ce,dt,ua){return["inlineFunctionExpr"].concat(C(W),[["paramList"].concat(C(ce||[]))],C(dt?[dt]:[]),[["functionBody",ua]])}),WT=v.or([OT,HT]),KT=v.map(_,function(W){return["mapKeyExpr",W]}),XT=v.map(_,function(W){return["mapValueExpr",W]}),YT=v.then(KT,v.preceded(Fn(od,je),XT),function(W,ce){return["mapConstructorEntry",W,ce]}),qT=v.preceded(ld,v.delimited(Fn(pl,je),v.map(v.optional(s(YT,Fn(eo,je),function(W,ce){return[W].concat(C(ce.map(function(dt){return dt[1]})))})),function(W){return W?["mapConstructor"].concat(C(W)):["mapConstructor"]}),v.preceded(je,dl))),ZT=v.map(v.delimited(Mg,Fn(v.optional(s(_,eo,function(W,ce){return[W].concat(C(ce.map(function(dt){return dt[1]}))).map(function(dt){return["arrayElem",dt]})})),je),Pg),function(W){return["squareArray"].concat(C(W!==null?W:[]))}),JT=v.map(v.preceded(ud,v.preceded(je,Ws)),function(W){return["curlyArray"].concat(C(W!==null?[["arrayElem",W]]:[]))}),QT=v.map(v.or([ZT,JT]),function(W){return["arrayConstructor",W]}),ob=v.or([Lo,_h,Wh,ii]),ej=v.map(v.preceded(Cc,v.preceded(je,ob)),function(W){return W==="*"?["unaryLookup",["star"]]:typeof W=="string"?["unaryLookup",["NCName",W]]:["unaryLookup",W]}),Xh=v.or([wh,vh,ka([s_],"{"),ka([i_],"}"),v.map(Ws,function(W){return W||["sequenceExpr"]})]),tj=v.or([QA,function(W,ce){return sb(W,ce)},Xh,JA]),nj=v.or([v.map(eS,function(W){return W.replace(/[\x20\x0D\x0A\x09]/g," ")}),Xh]),aj=v.or([v.map(tS,function(W){return W.replace(/[\x20\x0D\x0A\x09]/g," ")}),Xh]),rj=v.map(v.or([Fn(v.star(v.or([xh,nj])),rd),Fn(v.star(v.or([kh,aj])),ad)]),function(W){return wy(W,!1,!1)}),oj=v.then(pd,v.preceded(Fn(fl,v.optional(cd)),rj),function(W,ce){if(W[0].prefix===""&&W[1]==="xmlns"){if(ce.length&&typeof ce[0]!="string")throw Error("XQST0022: A namespace declaration may not contain enclosed expressions");return["namespaceDeclaration",ce.length?["uri",ce[0]]:["uri"]]}if(W[0].prefix==="xmlns"){if(ce.length&&typeof ce[0]!="string")throw Error("XQST0022: The namespace declaration for 'xmlns:"+W[1]+"' may not contain enclosed expressions");return["namespaceDeclaration",["prefix",W[1]],ce.length?["uri",ce[0]]:["uri"]]}return["attributeConstructor",["attributeName"].concat(W),ce.length===0?["attributeValue"]:ce.length===1&&typeof ce[0]=="string"?["attributeValue",ce[0]]:["attributeValueExpr"].concat(ce)]}),sj=v.map(v.star(v.preceded(cd,v.optional(oj))),function(W){return W.filter(Boolean)}),ij=Gr(v.preceded(Gg,pd),sj,v.or([v.map(p_,function(){return null}),v.then(v.preceded(lh,v.star(tj)),pt([je,d_],v.followed(pd,v.then(v.optional(cd),lh,function(){return null}))),function(W,ce){return[wy(W,!0,!0),ce]})]),function(W,ce,dt){var ua=dt;if(dt&&dt.length){ua=vy(W);var _a=vy(dt[1]);if(ua!==_a)throw Error('XQST0118: The start and the end tag of an element constructor must be equal. "'+ua+'" does not match "'+_a+'"');ua=dt[0]}return["elementConstructor",["tagName"].concat(C(W))].concat(C(ce.length?[["attributeList"].concat(C(ce))]:[]),C(ua&&ua.length?[["elementContent"].concat(C(ua))]:[]))}),sb=v.or([ij,aS,sS]),lj=v.map(pt([fE,je],Ws),function(W){return["computedDocumentConstructor"].concat(C(W?[["argExpr",W]]:[]))}),uj=v.map(Ws,function(W){return W?[["contentExpr",W]]:[]}),cj=v.then(pt([Gl,je],v.or([v.map(Ya,function(W){return["tagName"].concat(C(W))}),v.map(v.delimited(pl,Fn(D,je),dl),function(W){return["tagNameExpr",W]})])),v.preceded(je,uj),function(W,ce){return["computedElementConstructor",W].concat(C(ce))}),pj=v.then(v.preceded(Bc,v.or([v.map(pt([ao,je],Ya),function(W){return["tagName"].concat(C(W))}),v.map(v.preceded(je,v.delimited(pl,Fn(D,je),dl)),function(W){return["tagNameExpr",W]})])),v.preceded(je,Ws),function(W,ce){return["computedAttributeConstructor",W,["valueExpr",ce||["sequenceExpr"]]]}),dj=v.map(Ws,function(W){return W?[["prefixExpr",W]]:[]}),fj=v.map(Ws,function(W){return W?[["URIExpr",W]]:[]}),hj=v.then(pt([Vl,je],v.or([BA,dj])),v.preceded(je,fj),function(W,ce){return["computedNamespaceConstructor"].concat(C(W),C(ce))}),mj=v.map(pt([Zg,je],Ws),function(W){return["computedTextConstructor"].concat(C(W?[["argExpr",W]]:[]))}),gj=v.map(pt([Jg,je],Ws),function(W){return["computedCommentConstructor"].concat(C(W?[["argExpr",W]]:[]))}),yj=pt([Qg,je],v.then(v.or([v.map(Lo,function(W){return["piTarget",W]}),v.map(v.delimited(pl,Fn(D,je),dl),function(W){return["piTargetExpr",W]})]),v.preceded(je,Ws),function(W,ce){return["computedPIConstructor",W].concat(C(ce?[["piValueExpr",ce]]:[]))})),bj=v.or([lj,cj,pj,hj,mj,gj,yj]),wj=v.or([sb,bj]),ib=v.or([Hh,bh,Wh,YA,CT,wj,WT,qT,QT,ej]),lb=v.map(pt([Cc,je],ob),function(W){return W==="*"?["lookup",["star"]]:typeof W=="string"?["lookup",["NCName",W]]:["lookup",W]}),vj=v.then(v.map(ib,function(W){return Ah(W)}),v.star(v.or([v.map(v.preceded(je,ae),function(W){return["predicate",W]}),v.map(v.preceded(je,yd),function(W){return["argumentList",W]}),v.preceded(je,lb)])),function(W,ce){function dt(){db&&po.length===1?$u.push(["predicate",po[0]]):po.length!==0&&$u.push(["predicates"].concat(C(po))),po.length=0}function ua(W2){dt(),$u.length!==0?(_a[0][0]==="sequenceExpr"&&2<_a[0].length&&(_a=[["sequenceExpr"].concat(C(_a))]),_a=[["filterExpr"].concat(C(_a))].concat(C($u)),$u.length=0):W2&&(_a=[["filterExpr"].concat(C(_a))])}var _a=[W],po=[],$u=[],db=!1;for(ce=(W=j(ce)).next();!ce.done;ce=W.next())switch(ce=ce.value,ce[0]){case"predicate":po.push(ce[1]);break;case"lookup":db=!0,dt(),$u.push(ce);break;case"argumentList":ua(!1),1<_a.length&&(_a=[["sequenceExpr",["pathExpr",["stepExpr"].concat(C(_a))]]]),_a=[["dynamicFunctionInvocationExpr",["functionItem"].concat(C(_a))].concat(C(ce[1].length?[["arguments"].concat(C(ce[1]))]:[]))];break;default:throw Error("unreachable")}return ua(!0),_a}),zu=v.or([v.map(vj,function(W){return["stepExpr"].concat(C(W))}),DT]),xj=v.followed(ib,v.peek(v.not(v.preceded(je,v.or([ae,yd,lb])),["primary expression not followed by predicate, argumentList, or lookup"]))),kj=v.or([Gr(zu,v.preceded(je,Eh),v.preceded(je,b),function(W,ce,dt){return["pathExpr",W,ce].concat(C(dt))}),v.then(zu,v.preceded(Fn(id,je),b),function(W,ce){return["pathExpr",W].concat(C(ce))}),xj,v.map(zu,function(W){return["pathExpr",W]})]),Yh=v.or([Gr(zu,v.preceded(je,Eh),v.preceded(je,b),function(W,ce,dt){return[W,ce].concat(C(dt))}),v.then(zu,v.preceded(Fn(id,je),b),function(W,ce){return[W].concat(C(ce))}),v.map(zu,function(W){return[W]})]),_j=v.or([v.map(pt([id,je],Yh),function(W){return["pathExpr",["rootExpr"]].concat(C(W))}),v.then(Eh,v.preceded(je,Yh),function(W,ce){return["pathExpr",["rootExpr"],W].concat(C(ce))}),v.map(v.followed(id,v.not(v.preceded(je,t.Ya?Vr(/[*<a-zA-Z]/):Vr(/[*a-zA-Z]/)),["Single rootExpr cannot be by followed by something that can be interpreted as a relative path"])),function(){return["pathExpr",["rootExpr"]]})]),Ej=sh(v.or([kj,_j]),_y),Aj=v.preceded(gE,v.then(v.optional(v.or([v.map(v.preceded(je,iS),function(W){return["validationMode",W]}),v.map(pt([je,yE,je],Ya),function(W){return["type"].concat(C(W))})])),v.delimited(v.preceded(je,pl),Fn(D,je),dl),function(W,ce){return["validateExpr"].concat(C(W?[W]:[]),[["argExpr",ce]])})),Sj=v.delimited(o_,v.then(v.preceded(je,Ya),v.optional(v.preceded(ft,lS)),function(W,ce){return ce?["pragma",["pragmaName",W],["pragmaContents",ce]]:["pragma",["pragmaName",W]]}),v.preceded(je,Fg)),Tj=v.map(v.followed(v.plus(Sj),v.preceded(je,v.delimited(pl,Fn(v.optional(D),je),dl))),function(W){return["extensionExpr"].concat(C(W))}),jj=u(s(Ej,__,function(W,ce){return ce.length===0?W:["simpleMapExpr",W[0]==="pathExpr"?W:["pathExpr",["stepExpr",["filterExpr",Ah(W)]]]].concat(ce.map(function(dt){return(dt=dt[1])[0]==="pathExpr"?dt:["pathExpr",["stepExpr",["filterExpr",Ah(dt)]]]}))})),Ij=v.or([Aj,Tj,jj]),ub=v.or([v.then(v.or([ka([Du],"unaryMinusOp"),ka([sd],"unaryPlusOp")]),v.preceded(je,function(W,ce){return ub(W,ce)}),function(W,ce){return[W,["operand",ce]]}),Ij]),Nj=v.or([v.map(Ya,function(W){return["EQName"].concat(C(W))}),bh,Wh]),Dj=v.then(ub,v.star(pt([je,C_,je],v.then(Nj,v.preceded(je,yd),function(W,ce){return[W,ce]}))),function(W,ce){return ce.reduce(function(dt,ua){return["arrowExpr",["argExpr",dt],ua[0],["arguments"].concat(C(ua[1]))]},W)}),Cj=v.then(Dj,v.optional(pt([je,F_,ft,Vs,ao,je],xy)),function(W,ce){return ce!==null?["castExpr",["argExpr",W],ce]:W}),Oj=v.then(Cj,v.optional(pt([je,M_,ft,Vs,ao,je],xy)),function(W,ce){return ce!==null?["castableExpr",["argExpr",W],ce]:W}),Bj=v.then(Oj,v.optional(pt([je,P_,ft,Vs,ao,je],ui)),function(W,ce){return ce!==null?["treatExpr",["argExpr",W],["sequenceType"].concat(C(ce))]:W}),Rj=v.then(Bj,v.optional(pt([je,L_,ft,Vg,ao,je],ui)),function(W,ce){return ce!==null?["instanceOfExpr",["argExpr",W],["sequenceType"].concat(C(ce))]:W}),Fj=s(Rj,v.followed(v.or([ka([$_],"intersectOp"),ka([G_],"exceptOp")]),ao),r),Mj=s(Fj,v.or([ka([$g],"unionOp"),v.followed(ka([V_],"unionOp"),ao)]),r),Pj=s(Mj,v.or([ka([ii],"multiplyOp"),v.followed(ka([Y_],"divOp"),ao),v.followed(ka([q_],"idivOp"),ao),v.followed(ka([Z_],"modOp"),ao)]),r),Lj=s(Pj,v.or([ka([Du],"subtractOp"),ka([sd],"addOp")]),r),Uj=s(i(Lj,v.followed(ka([H_],"rangeSequenceExpr"),ao),"startExpr","endExpr"),ka([E_],"stringConcatenateOp"),r),zj=s(i(Uj,v.or([uS,cS,pS])),v.followed(ka([X_],"andOp"),ao),r),$j=s(zj,v.followed(ka([K_],"orOp"),ao),r),Gj=v.then(v.then(pt([Yg,je,vr,je],D),pt([je,fr,je,oE,ao,je],_),function(W,ce){return[W,ce]}),pt([je,sE,ao,je],_),function(W,ce){return["ifThenElseExpr",["ifClause",W[0]],["thenClause",W[1]],["elseClause",ce]]}),Vj=v.delimited(iE,ft,uh),Hj=v.map(pt([ch,ft,li],Ya),function(W){return["positionalVariableBinding"].concat(C(W))}),Wj=r_(v.preceded(li,v.cut(Ya)),v.cut(v.preceded(je,v.optional(Uu))),v.cut(v.preceded(je,v.optional(Vj))),v.cut(v.preceded(je,v.optional(Hj))),v.cut(v.preceded(Fn(qg,je),_)),function(W,ce,dt,ua,_a){return["forClauseItem",["typedVariableBinding",["varName"].concat(C(W),C(ce?[ce]:[]))]].concat(C(dt?[["allowingEmpty"]]:[]),C(ua?[ua]:[]),[["forExpr",_a]])}),Kj=pt([lE,ft],s(Wj,eo,function(W,ce){return["forClause",W].concat(C(ce.map(function(dt){return dt[1]})))})),Xj=Gr(v.preceded(li,Ya),v.preceded(je,v.optional(Uu)),v.preceded(Fn(zl,je),_),function(W,ce,dt){return["letClauseItem",["typedVariableBinding",["varName"].concat(C(W))].concat(C(ce?[ce]:[])),["letExpr",dt]]}),Yj=v.map(pt([uE,je],s(Xj,eo,function(W,ce){return[W].concat(C(ce.map(function(dt){return dt[1]})))})),function(W){return["letClause"].concat(C(W))}),cb=v.or([Kj,Yj]),qj=v.map(pt([cE,ao,je],_),function(W){return["whereClause",W]}),Zj=v.map(v.preceded(li,Ya),function(W){return["varName"].concat(C(W))}),Jj=v.then(v.preceded(je,v.optional(Uu)),v.preceded(Fn(zl,je),_),function(W,ce){return["groupVarInitialize"].concat(C(W?[["typeDeclaration"].concat(C(W))]:[]),[["varValue",ce]])}),Qj=Gr(Zj,v.optional(Jj),v.optional(v.map(v.preceded(Fn(ph,je),ve),function(W){return["collation",W]})),function(W,ce,dt){return["groupingSpec",W].concat(C(ce?[ce]:[]),C(dt?[dt]:[]))}),e2=s(Qj,eo,function(W,ce){return[W].concat(C(ce.map(function(dt){return dt[1]})))}),t2=v.map(pt([pE,ft,dh,je],e2),function(W){return["groupByClause"].concat(C(W))}),n2=Gr(v.optional(v.or([JE,QE])),v.optional(pt([je,uh,je],v.or([ty,ny].map(function(W){return v.map(W,function(ce){return"empty "+ce})})))),v.preceded(je,v.optional(pt([ph,je],ve))),function(W,ce,dt){return W||ce||dt?["orderModifier"].concat(C(W?[["orderingKind",W]]:[]),C(ce?[["emptyOrderingMode",ce]]:[]),C(dt?[["collation",dt]]:[])):null}),a2=v.then(_,v.preceded(je,n2),function(W,ce){return["orderBySpec",["orderByExpr",W]].concat(C(ce?[ce]:[]))}),r2=s(a2,eo,function(W,ce){return[W].concat(C(ce.map(function(dt){return dt[1]})))}),o2=v.then(v.or([v.map(pt([fh,ft],dh),function(){return!1}),v.map(pt([dE,ft,fh,ft],dh),function(){return!0})]),v.preceded(je,r2),function(W,ce){return["orderByClause"].concat(C(W?[["stable"]]:[]),C(ce))}),s2=v.or([cb,qj,t2,o2]),i2=v.map(pt([Ou,je],_),function(W){return["returnClause",W]}),l2=Gr(cb,v.cut(v.star(v.preceded(je,s2))),v.cut(v.preceded(je,i2)),function(W,ce,dt){return["flworExpr",W].concat(C(ce),[dt])}),u2=s(ui,$g,function(W,ce){return ce.length===0?["sequenceType"].concat(C(W)):["sequenceTypeUnion",["sequenceType"].concat(C(W))].concat(C(ce.map(function(dt){return["sequenceType"].concat(C(dt[1]))})))}),c2=Gr(pt([ry,je],v.optional(v.preceded(li,v.followed(v.followed(Ya,ft),Vs)))),v.preceded(je,u2),pt([ft,Ou,ft],_),function(W,ce,dt){return["typeswitchExprCaseClause"].concat(W?[["variableBinding"].concat(C(W))]:[],[ce],[["resultExpr",dt]])}),p2=ih(v.preceded(oy,Fn(v.delimited(vr,Fn(D,je),fr),je)),v.plus(v.followed(c2,je)),pt([Hl,ft],v.optional(v.preceded(li,v.followed(Ya,ft)))),pt([Ou,ft],_),function(W,ce,dt,ua){return["typeswitchExpr",["argExpr",W]].concat(C(ce),[["typeswitchExprDefaultClause"].concat(C(dt||[]),[["resultExpr",ua]])])}),d2=Gr(v.preceded(li,Ya),v.optional(v.preceded(ft,Uu)),v.preceded(Fn(qg,ft),_),function(W,ce,dt){return["quantifiedExprInClause",["typedVariableBinding",["varName"].concat(C(W))].concat(C(ce?[ce]:[])),["sourceExpr",dt]]}),f2=s(d2,eo,function(W,ce){return[W].concat(C(ce.map(function(dt){return dt[1]})))}),h2=Gr(v.or([_E,EE]),v.preceded(ft,f2),v.preceded(Fn(AE,je),_),function(W,ce,dt){return["quantifiedExpr",["quantifier",W]].concat(C(ce),[["predicateExpr",dt]])}),m2=v.map(pt([U_,ft,v.or([Hg,Oc]),ft],_),function(W){return["deleteExpr",["targetExpr",W]]}),g2=Gr(pt([SE,ft],v.optional(pt([z_,ft,Vg],ft))),pt([Oc,ft],_),v.preceded(Fn(TE,ft),_),function(W,ce,dt){return W?["replaceExpr",["replaceValue"],["targetExpr",ce],["replacementExpr",dt]]:["replaceExpr",["targetExpr",ce],["replacementExpr",dt]]}),y2=v.then(bh,v.preceded(Fn(zl,je),_),function(W,ce){return["transformCopy",W,["copySource",ce]]}),b2=Gr(pt([jE,ft],s(y2,eo,function(W,ce){return[W].concat(C(ce.map(function(dt){return dt[1]})))})),pt([je,IE,ft],_),v.preceded(Fn(Ou,ft),_),function(W,ce,dt){return["transformExpr",["transformCopies"].concat(C(W)),["modifyExpr",ce],["returnExpr",dt]]}),w2=v.or([v.followed(v.map(v.optional(v.followed(pt([Vs,ft],v.or([v.map(NE,function(){return["insertAsFirst"]}),v.map(DE,function(){return["insertAsLast"]})])),ft)),function(W){return W?["insertInto",W]:["insertInto"]}),BE),v.map(OE,function(){return["insertAfter"]}),v.map(CE,function(){return["insertBefore"]})]),v2=Gr(pt([RE,ft,v.or([Hg,Oc]),ft],_),v.preceded(ft,w2),v.preceded(ft,_),function(W,ce,dt){return["insertExpr",["sourceExpr",W],ce,["targetExpr",dt]]}),x2=v.then(pt([FE,ft,Oc,je],_),pt([ft,Vs,ft],_),function(W,ce){return["renameExpr",["targetExpr",W],["newNameExpr",ce]]}),k2=v.then(v.plus(v.map(pt([ry,ft],_),function(W){return["switchCaseExpr",W]})),pt([ft,Ou,ft],_),function(W,ce){return["switchExprCaseClause"].concat(C(W),[["resultExpr",ce]])}),_2=Gr(pt([sy,je,vr],D),pt([je,fr,je],v.plus(v.followed(k2,je))),pt([Hl,ft,Ou,ft],_),function(W,ce,dt){return["switchExpr",["argExpr",W]].concat(C(ce),[["switchExprDefaultClause",["resultExpr",dt]]])}),E2=v.map(D,function(W){return["queryBody",W]}),A2=pt([ss,ft,Vl,ft],v.cut(v.then(Lo,v.preceded(Fn(fl,je),ve),function(W,ce){return["namespaceDecl",["prefix",W],["uri",ce]]}))),S2=v.then(pt([ME,ft,li,je],v.then(Ya,v.optional(v.preceded(je,Uu)),function(W,ce){return[W,ce]})),v.cut(v.or([v.map(pt([je,zl,je],_),function(W){return["varValue",W]}),v.map(pt([ft,mh],v.optional(pt([je,zl,je],_))),function(W){return["external"].concat(C(W?[["varValue",W]]:[]))})])),function(W,ce){var dt=j(W);return W=dt.next().value,dt=dt.next().value,["varDecl",["varName"].concat(C(W))].concat(C(dt!==null?[dt]:[]),[ce])}),T2=ih(pt([Cu,ft,v.peek(v.not(yy,["Cannot use reserved function name"]))],Ya),v.cut(pt([je,vr,je],v.optional(rb))),v.cut(pt([je,fr],v.optional(pt([ft,Vs,ft],ui)))),v.cut(v.preceded(je,v.or([v.map(nb,function(W){return["functionBody",W]}),v.map(mh,function(){return["externalDefinition"]})]))),function(W,ce,dt,ua){return["functionDecl",["functionName"].concat(C(W)),["paramList"].concat(C(ce||[]))].concat(C(dt?[["typeDeclaration"].concat(C(dt))]:[]),[ua])}),j2=pt([ss,ft],v.then(v.star(v.followed(v.or([Kh,dS]),ft)),v.or([S2,T2]),function(W,ce){return[ce[0]].concat(C(W),C(ce.slice(1)))})),I2=v.then(pt([ss,ft,Hl,ft],v.or([Gl,Cu])),pt([ft,Vl,ft],ve),function(W,ce){return["defaultNamespaceDecl",["defaultNamespaceCategory",W],["uri",ce]]}),N2=v.or([v.map(v.followed(pt([Vl,ft],Lo),v.preceded(je,fl)),function(W){return["namespacePrefix",W]}),v.map(pt([Hl,ft,Gl,ft],Vl),function(){return["defaultElementNamespace"]})]),D2=pt([iy,ft,LE],Gr(v.optional(v.preceded(ft,N2)),v.preceded(je,ve),v.optional(v.then(pt([ft,ch,ft],ve),v.star(pt([je,eo,je],ve)),function(W,ce){return[W].concat(C(ce))})),function(W,ce,dt){return["schemaImport"].concat(C(W?[W]:[]),[["targetNamespace",ce]],C(dt?[dt]:[]))})),C2=pt([iy,ft,ly],Gr(v.optional(v.followed(pt([ft,Vl,ft],Lo),v.preceded(je,fl))),v.preceded(je,ve),v.optional(v.then(pt([ft,ch,ft],ve),v.star(pt([je,eo,je],ve)),function(W,ce){return[W].concat(C(ce))})),function(W,ce){return["moduleImport",["namespacePrefix",W],["targetNamespace",ce]]})),O2=v.or([D2,C2]),B2=v.map(pt([ss,ft,Hl,ft,ph,ft],ve),function(W){return["defaultCollationDecl",W]}),R2=v.map(pt([ss,ft,UE,ft],ve),function(W){return["baseUriDecl",W]}),F2=v.then(pt([ss,ft],v.or([v.map(pt([ay,ft],Ya),function(W){return["decimalFormatName"].concat(C(W))}),v.map(pt([Hl,ft],ay),function(){return null})])),v.star(v.then(v.preceded(ft,mS),v.preceded(Fn(fl,ft),ve),function(W,ce){return["decimalFormatParam",["decimalFormatParamName",W],["decimalFormatParamValue",ce]]})),function(W,ce){return["decimalFormatDecl"].concat(C(W?[W]:[]),C(ce))}),M2=v.or([gS,B2,R2,yS,bS,wS,vS,F2]),P2=v.then(pt([ss,ft,HE,ft],Ya),v.preceded(ft,ve),function(W,ce){return["optionDecl",["optionName",W],["optionContents",ce]]}),L2=v.then(pt([ss,ft,WE,ft,uy],v.optional(pt([ft,Vs],ab))),v.or([v.map(v.preceded(Fn(zl,je),_),function(W){return["varValue",W]}),v.map(pt([ft,mh],v.optional(v.preceded(Fn(zl,je),_))),function(){return["external"]})]),function(W,ce){return["contextItemDecl"].concat(C(W?[["contextItemType",W]]:[]),[ce])}),pb=v.then(v.star(v.followed(v.or([I2,M2,A2,O2]),v.cut(Fn($l,je)))),v.star(v.followed(v.or([L2,j2,P2]),v.cut(Fn($l,je)))),function(W,ce){return W.length===0&&ce.length===0?null:["prolog"].concat(C(W),C(ce))}),U2=pt([ly,ft,Vl,ft],v.then(v.followed(Lo,Fn(fl,je)),v.followed(ve,Fn($l,je)),function(W,ce){return["moduleDecl",["prefix",W],["uri",ce]]})),z2=v.then(U2,v.preceded(je,pb),function(W,ce){return["libraryModule",W].concat(C(ce?[ce]:[]))}),$2=v.then(pb,v.preceded(je,E2),function(W,ce){return["mainModule"].concat(C(W?[W]:[]),[ce])}),G2=v.map(pt([KE,je],v.followed(v.or([v.then(v.preceded(cy,ft),ve,function(W){return["encoding",W]}),v.then(pt([XE,ft],ve),v.optional(pt([ft,cy,ft],ve)),function(W,ce){return[["version",W]].concat(C(ce?[["encoding",ce]]:[]))})]),v.preceded(je,$l))),function(W){return["versionDecl"].concat(C(W))}),V2=v.then(v.optional(Fn(G2,je)),v.or([z2,$2]),function(W,ce){return["module"].concat(C(W?[W]:[]),[ce])}),H2=v.complete(Fn(V2,je));return function(W,ce){H.clear(),ce=H2(W,ce);for(var dt=1,ua=1,_a=0;_a<W.length+1;_a++){if(H.has(_a)){var po=H.get(_a);po.line=ua,po.ja=dt}(po=W[_a])==="\r"||po===`
`?(ua++,dt=1):dt++}return ce}}var xS=dd({vb:!1,Ya:!1}),kS=dd({vb:!0,Ya:!1}),_S=dd({vb:!1,Ya:!0}),ES=dd({vb:!0,Ya:!0});function Rc(t,r){var s=!!r.$;if(r=!!r.debug,py.clear(),dy.clear(),_y.clear(),(s=s?r?ES(t,0):_S(t,0):r?kS(t,0):xS(t,0)).success===!0)return s.value;throw r=(t=t.substring(0,s.offset).split(`
`))[t.length-1].length+1,new jp({start:{offset:s.offset,line:t.length,ja:r},end:{offset:s.offset+1,line:t.length,ja:r+1}},"",Error("XPST0003: Failed to parse script. Expected "+[].concat(C(new Set(s.expected)))))}var Ey="http://www.w3.org/XML/1998/namespace http://www.w3.org/2001/XMLSchema http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2005/xpath-functions http://www.w3.org/2005/xpath-functions/math http://www.w3.org/2012/xquery http://www.w3.org/2005/xpath-functions/array http://www.w3.org/2005/xpath-functions/map".split(" ");function AS(t,r,s,i,u){var g=be(t,"functionName"),b=wt(g,"prefix")||"",_=wt(g,"URI"),D=Ht(g);if(_===null&&!(_=b===""?r.v===null?"http://www.w3.org/2005/xpath-functions":r.v:r.aa(b))&&b)throw tn(b);if(Ey.includes(_))throw Ne();if(g=(b=rn(t,"annotation").map(function(Bt){return be(Bt,"annotationName")})).every(function(Bt){return!wt(Bt,"URI")&&Ht(Bt)!=="private"}),b=b.some(function(Bt){return!wt(Bt,"URI")&&Ht(Bt)==="updating"}),!_)throw an();var H=Ei(t),ae=rn(be(t,"paramList"),"param"),ve=ae.map(function(Bt){return be(Bt,"varName")}),ze=ae.map(function(Bt){return Ei(Bt)});if(t=be(t,"functionBody")){if(r.xa(_,D,ze.length))throw Error("XQST0049: The function Q{"+_+"}"+D+"#"+ze.length+" has already been declared.");if(!u)return;var Ye=ah(t[1],{ua:!1,$:!0}),st=new Ca(r),ht=ve.map(function(Bt){var wn=wt(Bt,"URI"),ya=wt(Bt,"prefix");return Bt=Ht(Bt),ya&&wn===null&&(wn=r.aa(ya||"")),ia(st,wn,Bt)});u=b?{j:ze,arity:ve.length,callFunction:function(Bt,wn,ya){var Rr=Q.apply(3,arguments),To=Mo(Dr(Bt,-1,null,J.empty()),ht.reduce(function(Hs,ji,Pc){return Hs[ji]=ha(Rr[Pc]),Hs},Object.create(null)));return Ye.s(To,wn)},Eb:!1,I:!0,hb:g,localName:D,namespaceURI:_,i:H}:{j:ze,arity:ve.length,callFunction:function(Bt,wn,ya){var Rr=Q.apply(3,arguments),To=Mo(Dr(Bt,-1,null,J.empty()),ht.reduce(function(Hs,ji,Pc){return Hs[ji]=ha(Rr[Pc]),Hs},Object.create(null)));return Ke(Ye,To,wn)},Eb:!1,I:!1,hb:g,localName:D,namespaceURI:_,i:H},s.push({ca:Ye,Mb:st}),i.push({arity:ve.length,ca:Ye,Ib:u,localName:D,namespaceURI:_,hb:g})}else{if(b)throw Error("Updating external function declarations are not supported");u={j:ze,arity:ve.length,callFunction:function(Bt,wn,ya){var Rr=Q.apply(3,arguments),To=ya.xa(_,D,ve.length,!0);if(!To)throw Error("XPST0017: Function Q{"+_+"}"+D+" with arity of "+ve.length+" not registered. "+Su(D));if(To.i.type!==H.type||To.j.some(function(Hs,ji){return Hs.type!==ze[ji].type}))throw Error("External function declaration types do not match actual function");return To.callFunction.apply(To,[Bt,wn,ya].concat(C(Rr)))},Eb:!0,I:!1,localName:D,namespaceURI:_,hb:g,i:H}}pa(r,_,D,ve.length,u)}function Th(t,r,s,i){var u=[],g=[];rn(t,"*").forEach(function(Ye){switch(Ye[0]){case"moduleImport":case"namespaceDecl":case"defaultNamespaceDecl":case"functionDecl":case"varDecl":break;default:throw Error("Not implemented: only module imports, namespace declarations, and function declarations are implemented in XQuery modules")}});var b=new Set;rn(t,"moduleImport").forEach(function(Ye){var st=Ht(be(Ye,"namespacePrefix"));if(Ye=Ht(be(Ye,"targetNamespace")),b.has(Ye))throw Error('XQST0047: The namespace "'+Ye+'" is imported more than once.');b.add(Ye),Vt(r,st,Ye)}),rn(t,"namespaceDecl").forEach(function(Ye){var st=Ht(be(Ye,"prefix"));if(Ye=Ht(be(Ye,"uri")),st==="xml"||st==="xmlns"||Ye==="http://www.w3.org/XML/1998/namespace"||Ye==="http://www.w3.org/2000/xmlns/")throw We();Vt(r,st,Ye)});for(var _=null,D=null,H=j(rn(t,"defaultNamespaceDecl")),ae=H.next();!ae.done;ae=H.next()){var ve=ae.value;if(ae=Ht(be(ve,"defaultNamespaceCategory")),!(ve=Ht(be(ve,"uri"))))throw an();if(ve==="http://www.w3.org/XML/1998/namespace"||ve==="http://www.w3.org/2000/xmlns/")throw We();if(ae==="function"){if(_)throw Ae();_=ve}else if(ae==="element"){if(D)throw Ae();D=ve}}_&&(r.v=_),D&&Vt(r,"",D),rn(t,"functionDecl").forEach(function(Ye){AS(Ye,r,u,g,s)});var ze=[];return rn(t,"varDecl").forEach(function(Ye){var st=Oa(be(Ye,"varName")),ht=st.namespaceURI;if(ht===null&&!(ht=r.aa(st.prefix))&&st.prefix)throw tn(st.prefix);if(Ey.includes(ht))throw Ne();var Bt,wn,ya=be(Ye,"external");if(Ye=be(Ye,"varValue"),ya!==null?(ya=be(ya,"varValue"))!==null&&(Bt=be(ya,"*")):Ye!==null&&(Bt=be(Ye,"*")),ze.some(function(To){return To.namespaceURI===ht&&To.localName===st.localName}))throw Error("XQST0049: The variable "+(ht?"Q{"+ht+"}":"")+st.localName+" has already been declared.");if(ia(r,ht||"",st.localName),s&&(Bt&&(wn=ah(Bt,{ua:!1,$:!0})),Bt&&!La(r,ht||"",st.localName))){var Rr=null;$r(r,ht,st.localName,function(To,Hs){return Rr?Rr():(Rr=ha(Ke(wn,To,Hs)))()}),u.push({ca:wn,Mb:r}),ze.push({ca:wn,localName:st.localName,namespaceURI:ht})}}),g.forEach(function(Ye){if(!Ye.Ib.I&&Ye.ca.I)throw se("The function Q{"+Ye.namespaceURI+"}"+Ye.localName+" is updating but the %updating annotation is missing.")}),{Ma:g.map(function(Ye){return Ye.Ib}),Va:ze,source:i,ra:function(Ye){b.forEach(function(st){rh(r,st)}),u.forEach(function(st){var ht=st.ca,Bt=st.Mb;b.forEach(function(wn){rh(Bt,wn)}),Ye.Ma.forEach(function(wn){Bt.xa(wn.namespaceURI,wn.localName,wn.arity,!0)||wn.hb&&pa(Bt,wn.namespaceURI,wn.localName,wn.arity,wn)}),Ye.Va.forEach(function(wn){Bt.ib(wn.namespaceURI,wn.localName)||ia(Bt,wn.namespaceURI,wn.localName)}),ht.v(Bt)})}}}function SS(t,r,s,i,u,g,b){var _=r.$?"XQuery":"XPath";return(s=r.La?null:a_(t,_,s,i,u,r.debug,g,b))!==null?{state:s.rc?1:2,ca:s.ca}:{state:0,hc:typeof t=="string"?Rc(t,r):nd(t)}}function TS(t,r,s,i){var u=be(t,"mainModule");if(!u)throw Error("Can not execute a library module.");var g=be(u,"prolog");if(g){if(!r.$)throw Error("XPST0003: Use of XQuery functionality is not allowed in XPath context");Dc(),(i=Th(g,s,!0,i)).ra(i)}return Yn(t,new Ac(s)),en(t=mt(u,["queryBody","*"]),r)}function Ay(t,r,s,i,u,g,b){var _=new ne(s,i,g,b),D=new Ca(_);switch(0<Object.keys(u).length&&Dc(),Object.keys(u).forEach(function(H){var ae=u[H];rh(D,ae),Vt(D,H,ae)}),typeof t=="string"&&(t=oh(t)),(s=SS(t,r,s,i,u,g,b)).state){case 2:return{ia:D,ca:s.ca};case 1:return s.ca.v(D),Dg(t,r.$?"XQuery":"XPath",_,u,s.ca,r.debug,g),{ia:D,ca:s.ca};case 0:return(s=TS(s.hc,r,D,t)).v(D),r.La||Dg(t,r.$?"XQuery":"XPath",_,u,s,r.debug,g),{ia:D,ca:s}}}function jS(t,r,s,i){t=t.first();var u=r.first().h.reduce(function(ve,ze){return ve[ze.key.value]=ha(ze.value()),ve},Object.create(null));r=u["."]?u["."]():J.empty(),delete u["."];try{if(Z(t.type,1))var g=t.value;else{if(!Z(t.type,54))throw Ur("Unable to convert selector argument of type "+Xe[t.type]+" to either an "+Xe[1]+" or an "+Xe[54]+" representing an XQueryX program while calling 'fontoxpath:evaluate'");g=t.value.node}var b=Ay(g,{ua:!1,$:!0,debug:i.debug,La:i.La},function(ve){return s.aa(ve)},Object.keys(u).reduce(function(ve,ze){return ve[ze]=ze,ve},{}),{},"http://www.w3.org/2005/xpath-functions",function(ve,ze){return s.Ua(ve,ze)}),_=b.ca,D=b.ia,H=!r.G(),ae=new ms({N:H?r.first():null,Ka:H?0:-1,Da:r,Aa:Object.keys(u).reduce(function(ve,ze){return ve[D.ib(null,ze)]=u[ze],ve},Object.create(null))});return{sc:_.h(ae,i).value,pc:t}}catch(ve){Ao(t.value,ve)}}function jh(t,r,s){if(r.node.nodeType!==1&&r.node.nodeType!==9)return[];var i=_r(t,r).reduce(function(u,g){for(var b=(g=j(jh(t,g,s))).next();!b.done;b=g.next())u.push(b.value);return u},[]);return s(r)&&i.unshift(r),i}function Sy(t,r,s,i,u){if(!(t=u.first()))throw Kr("The context is absent, it needs to be present to use id function.");if(!Z(t.type,53))throw Ur("The context item is not a node, it needs to be node to use id function.");var g=r.h,b=i.O().reduce(function(_,D){return D.value.split(/\s+/).forEach(function(H){_[H]=!0}),_},Object.create(null));for(r=t.value;r.node.nodeType!==9;)if((r=zn(g,r))===null)throw Error("FODC0001: the root node of the target node is not a document node.");return r=jh(g,r,function(_){return!(_.node.nodeType!==1||!(_=Ra(g,_,"id"))||!b[_]||(b[_]=!1,0))}),J.create(r.map(function(_){return Ln(_)}))}function Ty(t,r,s,i,u){if(!(t=u.first()))throw Kr("The context is absent, it needs to be present to use idref function.");if(!Z(t.type,53))throw Ur("The context item is not a node, it needs to be node to use idref function.");var g=r.h,b=i.O().reduce(function(_,D){return _[D.value]=!0,_},Object.create(null));for(r=t.value;r.node.nodeType!==9;)if((r=zn(g,r))===null)throw Error("FODC0001: the root node of the context node is not a document node.");return r=jh(g,r,function(_){return _.node.nodeType===1&&!!(_=Ra(g,_,"idref"))&&_.split(/\s+/).some(function(D){return b[D]})}),J.create(r.map(function(_){return Ln(_)}))}function Ih(t){switch(typeof t){case"object":return Array.isArray(t)?J.m(new rr(t.map(function(r){return ha(Ih(r))}))):t===null?J.empty():J.m(new Zt(Object.keys(t).map(function(r){return{key:ue(r,1),value:ha(Ih(t[r]))}})));case"number":return J.m(ue(t,3));case"string":return J.m(ue(t,1));case"boolean":return t?J.ba():J.W();default:throw Error("Unexpected type in JSON parse")}}function jy(t,r,s,i,u){var g=(t=It(t,r,s,u,J.m(ue("duplicates",1)))).G()?"use-first":t.first().value;return i.M(function(b){return J.m(new Zt(b.reduce(function(_,D){return D.h.forEach(function(H){var ae=_.findIndex(function(ve){return bo(ve.key,H.key)});if(0<=ae)switch(g){case"reject":throw Error("FOJS0003: Duplicate encountered when merging maps.");case"use-last":return void _.splice(ae,1,H);case"combine":return void _.splice(ae,1,{key:H.key,value:ha(J.create(_[ae].value().O().concat(H.value().O())))});default:return}_.push(H)}),_},[])))})}function Nh(t,r,s){var i=1,u=t.value;t=t.Qa(!0);var g=null,b=Math.max(r-1,0);return t!==-1&&(g=Math.max(0,(s===null?t:Math.max(0,Math.min(t,s+(r-1))))-b)),J.create({next:function(_){for(;i<r;)u.next(_),i++;return s!==null&&i>=r+s?me:(_=u.next(_),i++,_)}},g)}function Dh(t){return t.map(function(r){return Z(r.type,19)?ra(r,3):r})}function Iy(t){if((t=Dh(t)).some(function(r){return Number.isNaN(r.value)}))return[ue(NaN,3)];if(!(t=Pp(t)))throw Error("FORG0006: Incompatible types to be converted to a common type");return t}function Ny(t,r,s,i,u,g){return Hn([u,g],function(b){var _=j(b);if(b=_.next().value,_=_.next().value,b.value===1/0)return J.empty();if(b.value===-1/0)return _&&_.value===1/0?J.empty():i;if(_){if(isNaN(_.value))return J.empty();_.value===1/0&&(_=null)}return isNaN(b.value)?J.empty():Nh(i,Math.round(b.value),_?Math.round(_.value):null)})}function Dy(t,r,s,i,u){if(i.G())return u;if(!(t=Pp(t=Dh(i.O()))))throw Error("FORG0006: Incompatible types to be converted to a common type");if(!t.every(function(g){return Z(g.type,2)}))throw Error("FORG0006: items passed to fn:sum are not all numeric.");return r=t.reduce(function(g,b){return g+b.value},0),t.every(function(g){return Z(g.type,5)})?J.m(ue(r,5)):t.every(function(g){return Z(g.type,3)})?J.m(ue(r,3)):t.every(function(g){return Z(g.type,4)})?J.m(ue(r,4)):J.m(ue(r,6))}var IS=[].concat(Ml,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"boolean",j:[{type:59,g:2}],i:{type:0,g:3},callFunction:function(t,r,s,i){return i.ha()?J.ba():J.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"true",j:[],i:{type:0,g:3},callFunction:function(){return J.ba()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"not",j:[{type:59,g:2}],i:{type:0,g:3},callFunction:function(t,r,s,i){return i.ha()===!1?J.ba():J.W()}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"false",j:[],i:{type:0,g:3},callFunction:function(){return J.W()}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"last",j:[],i:{type:5,g:3},callFunction:function(t){if(t.N===null)throw Kr("The fn:last() function depends on dynamic context, which is absent.");var r=!1;return J.create({next:function(){if(r)return me;var s=t.Da.Qa();return r=!0,Se(ue(s,5))}},1)}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"position",j:[],i:{type:5,g:3},callFunction:function(t){if(t.N===null)throw Kr("The fn:position() function depends on dynamic context, which is absent.");return J.m(ue(t.Ka+1,5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-dateTime",j:[],i:{type:10,g:3},callFunction:function(t){return J.m(ue(Fo(t),10))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-date",j:[],i:{type:7,g:3},callFunction:function(t){return J.m(ue(Ir(Fo(t),7),7))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"current-time",j:[],i:{type:8,g:3},callFunction:function(t){return J.m(ue(Ir(Fo(t),8),8))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"implicit-timezone",j:[],i:{type:17,g:3},callFunction:function(t){return J.m(ue(qr(t),17))}}],df,ff,yp,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"years-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.gb(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"months-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.cb(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"days-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.bb(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"hours-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.getHours(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"minutes-from-duration",j:[{type:18,g:0}],i:{type:5,g:0},callFunction:function(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.getMinutes(),5))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"seconds-from-duration",j:[{type:18,g:0}],i:{type:4,g:0},callFunction:function(t,r,s,i){return i.G()?i:J.m(ue(i.first().value.getSeconds(),4))}}],bp,[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"id",j:[{type:1,g:2},{type:53,g:3}],i:{type:54,g:2},callFunction:Sy},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"id",j:[{type:1,g:2}],i:{type:54,g:2},callFunction:function(t,r,s,i){return Sy(t,r,s,i,J.m(t.N))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"idref",j:[{type:1,g:2},{type:53,g:3}],i:{type:53,g:2},callFunction:Ty},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"idref",j:[{type:1,g:2}],i:{type:53,g:2},callFunction:function(t,r,s,i){return Ty(t,r,s,i,J.m(t.N))}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"parse-json",j:[{type:1,g:3}],i:{type:59,g:0},callFunction:function(t,r,s,i){try{var u=JSON.parse(i.first().value)}catch{throw Error("FOJS0001: parsed JSON string contains illegal JSON.")}return Ih(u)}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"contains",j:[{type:61,g:3},{type:46,g:3}],i:{type:0,g:3},callFunction:function(t,r,s,i,u){return Hn([i,u],function(g){var b=(g=j(g)).next().value,_=g.next().value;return b.h.some(function(D){return bo(D.key,_)})?J.ba():J.W()})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"entry",j:[{type:46,g:3},{type:59,g:2}],i:{type:61,g:3},callFunction:function(t,r,s,i,u){return i.map(function(g){return new Zt([{key:g,value:ha(u)}])})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"for-each",j:[{type:61,g:3},{type:59,g:2}],i:{type:59,g:2},callFunction:function(t,r,s,i,u){return Hn([i,u],function(g){var b=(g=j(g)).next().value,_=g.next().value;return or(b.h.map(function(D){return _.value.call(void 0,t,r,s,J.m(D.key),D.value())}))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"get",j:[{type:61,g:3},{type:46,g:3}],i:{type:59,g:2},callFunction:It},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"keys",j:[{type:61,g:3}],i:{type:46,g:2},callFunction:function(t,r,s,i){return Hn([i],function(u){return u=j(u).next().value,J.create(u.h.map(function(g){return g.key}))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"merge",j:[{type:61,g:2},{type:61,g:3}],i:{type:61,g:3},callFunction:jy},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"merge",j:[{type:61,g:2}],i:{type:61,g:3},callFunction:function(t,r,s,i){return jy(t,r,s,i,J.m(new Zt([{key:ue("duplicates",1),value:function(){return J.m(ue("use-first",1))}}])))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"put",j:[{type:61,g:3},{type:46,g:3},{type:59,g:2}],i:{type:61,g:3},callFunction:function(t,r,s,i,u,g){return Hn([i,u],function(b){var _=(b=j(b)).next().value,D=b.next().value;return b=_.h.concat(),0<=(_=b.findIndex(function(H){return bo(H.key,D)}))?b.splice(_,1,{key:D,value:ha(g)}):b.push({key:D,value:ha(g)}),J.m(new Zt(b))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"remove",j:[{type:61,g:3},{type:46,g:2}],i:{type:61,g:3},callFunction:function(t,r,s,i,u){return Hn([i],function(g){var b=j(g).next().value.h.concat();return u.M(function(_){return _.forEach(function(D){var H=b.findIndex(function(ae){return bo(ae.key,D)});0<=H&&b.splice(H,1)}),J.m(new Zt(b))})})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/map",localName:"size",j:[{type:61,g:3}],i:{type:5,g:3},callFunction:function(t,r,s,i){return i.map(function(u){return ue(u.h.length,5)})}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"pi",j:[],i:{type:3,g:3},callFunction:function(){return J.m(ue(Math.PI,3))}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"exp",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.pow(Math.E,u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"exp10",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.pow(10,u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"log",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.log(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"log10",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.log10(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"pow",j:[{type:3,g:0},{type:2,g:3}],i:{type:3,g:0},callFunction:function(t,r,s,i,u){return u.M(function(g){var b=j(g).next().value;return i.map(function(_){return Math.abs(_.value)!==1||Number.isFinite(b.value)?ue(Math.pow(_.value,b.value),3):ue(1,3)})})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"sqrt",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.sqrt(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"sin",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.sin(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"cos",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.cos(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"tan",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.tan(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"asin",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.asin(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"acos",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.acos(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"atan",j:[{type:3,g:0}],i:{type:3,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(Math.atan(u.value),3)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions/math",localName:"atan2",j:[{type:3,g:0},{type:3,g:3}],i:{type:3,g:0},callFunction:function(t,r,s,i,u){return u.M(function(g){var b=j(g).next().value;return i.map(function(_){return ue(Math.atan2(_.value,b.value),3)})})}}],rl,er,[{namespaceURI:"http://fontoxpath/operators",localName:"to",j:[{type:5,g:0},{type:5,g:0}],i:{type:5,g:2},callFunction:function(t,r,s,i,u){if(t=i.first(),u=u.first(),t===null||u===null)return J.empty();var g=t.value;return u=u.value,g>u?J.empty():J.create({next:function(){return Se(ue(g++,5))}},u-g+1)}}],[{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"QName",j:[{type:1,g:0},{type:1,g:3}],i:{type:23,g:3},callFunction:function(t,r,s,i,u){return Hn([i,u],function(g){var b=j(g);if(g=b.next().value,!ei(b=b.next().value.value,23))throw Error("FOCA0002: The provided QName is invalid.");if((g=g&&g.value||null)===null&&b.includes(":"))throw Error("FOCA0002: The URI of a QName may not be empty if a prefix is provided.");if(i.G())return J.m(ue(new Za("",null,b),23));if(!b.includes(":"))return J.m(ue(new Za("",g,b),23));var _=j(b.split(":"));return b=_.next().value,_=_.next().value,J.m(ue(new Za(b,g,_),23))})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"prefix-from-QName",j:[{type:23,g:0}],i:{type:24,g:0},callFunction:function(t,r,s,i){return Hn([i],function(u){return(u=j(u).next().value)===null?J.empty():(u=u.value).prefix?J.m(ue(u.prefix,24)):J.empty()})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"local-name-from-QName",j:[{type:23,g:0}],i:{type:24,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(u.value.localName,24)})}},{namespaceURI:"http://www.w3.org/2005/xpath-functions",localName:"namespace-uri-from-QName",j:[{type:23,g:0}],i:{type:20,g:0},callFunction:function(t,r,s,i){return i.map(function(u){return ue(u.value.namespaceURI||"",20)})}}],[{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return i.Z({empty:function(){return J.ba()},multiple:function(){return J.W()},m:function(){return J.W()}})},localName:"empty",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return i.Z({empty:function(){return J.W()},multiple:function(){return J.ba()},m:function(){return J.ba()}})},localName:"exists",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return Nh(i,1,1)},localName:"head",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:0}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return Nh(i,2,null)},localName:"tail",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:5,g:3},{type:59,g:2}],callFunction:function(t,r,s,i,u,g){return i.G()?g:g.G()?i:(t=i.O(),0>(u=u.first().value-1)?u=0:u>t.length&&(u=t.length),r=t.slice(u),J.create(t.slice(0,u).concat(g.O(),r)))},localName:"insert-before",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:5,g:3}],callFunction:function(t,r,s,i,u){return t=u.first().value,!(i=i.O()).length||1>t||t>i.length||i.splice(t-1,1),J.create(i)},localName:"remove",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return i.M(function(u){return J.create(u.reverse())})},localName:"reverse",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:3,g:3}],callFunction:function(t,r,s,i,u){return Ny(t,r,s,i,u,J.empty())},localName:"subsequence",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:3,g:3},{type:3,g:3}],callFunction:Ny,localName:"subsequence",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){return i},localName:"unordered",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){var u=Pa(i,r).O();return J.create(u).filter(function(g,b){return u.slice(0,b).every(function(_){return!Ho(g,_)})})},localName:"distinct-values",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{j:[{type:46,g:2},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"distinct-values",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:2}},{j:[{type:46,g:2},{type:46,g:3}],callFunction:function(t,r,s,i,u){return u.M(function(g){var b=j(g).next().value;return Pa(i,r).map(function(_,D){return Mp("eqOp",_.type,b.type)(_,b,t)?ue(D+1,5):ue(-1,5)}).filter(function(_){return _.value!==-1})})},localName:"index-of",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{j:[{type:46,g:2},{type:46,g:3},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"index-of",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:2}},{j:[{type:59,g:2},{type:59,g:2}],callFunction:function(t,r,s,i,u){var g=!1,b=as(t,r,s,i,u);return J.create({next:function(){if(g)return me;var _=b.next(0);return _.done?_:(g=!0,Se(ue(_.value,0)))}})},localName:"deep-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:59,g:2},{type:59,g:2},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"deep-equal",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:0,g:3}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){var u=!1;return J.create({next:function(){if(u)return me;var g=i.Qa();return u=!0,Se(ue(g,5))}})},localName:"count",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:3}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){if(i.G())return i;if(!(t=Pp(t=Dh(i.O()))))throw Error("FORG0006: Incompatible types to be converted to a common type");if(!t.every(function(u){return Z(u.type,2)}))throw Error("FORG0006: items passed to fn:avg are not all numeric.");return r=t.reduce(function(u,g){return u+g.value},0)/t.length,t.every(function(u){return Z(u.type,5)||Z(u.type,3)})?J.m(ue(r,3)):t.every(function(u){return Z(u.type,4)})?J.m(ue(r,4)):J.m(ue(r,6))},localName:"avg",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){return i.G()?i:(t=Iy(i.O()),J.m(t.reduce(function(u,g){return u.value<g.value?g:u})))},localName:"max",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"max",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){return i.G()?i:(t=Iy(i.O()),J.m(t.reduce(function(u,g){return u.value>g.value?g:u})))},localName:"min",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2},{type:1,g:3}],callFunction:function(){throw Error("FOCH0002: No collations are supported")},localName:"min",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:46,g:2}],callFunction:function(t,r,s,i){return Dy(t,r,s,i,J.m(ue(0,5)))},localName:"sum",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:3}},{j:[{type:46,g:2},{type:46,g:0}],callFunction:Dy,localName:"sum",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:46,g:0}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){if(!i.G()&&!i.wa())throw Error("FORG0003: The argument passed to fn:zero-or-one contained more than one item.");return i},localName:"zero-or-one",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:0}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){if(i.G())throw Error("FORG0004: The argument passed to fn:one-or-more was empty.");return i},localName:"one-or-more",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:1}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){if(!i.wa())throw Error("FORG0005: The argument passed to fn:exactly-one is empty or contained more than one item.");return i},localName:"exactly-one",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:3}},{j:[{type:59,g:2},{type:60,g:3}],callFunction:function(t,r,s,i,u){if(i.G())return i;var g=u.first(),b=g.o;if(b.length!==1)throw Error("XPTY0004: signature of function passed to fn:filter is incompatible.");return i.filter(function(_){if(_=Gt(b[0],J.m(_),r,"fn:filter",!1),!(_=g.value.call(void 0,t,r,s,_)).wa()||!Z(_.first().type,0))throw Error("XPTY0004: signature of function passed to fn:filter is incompatible.");return _.first().value})},localName:"filter",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:60,g:3}],callFunction:function(t,r,s,i,u){if(i.G())return i;var g=u.first(),b=g.o;if(b.length!==1)throw Error("XPTY0004: signature of function passed to fn:for-each is incompatible.");var _,D=i.value;return J.create({next:function(H){for(;;){if(!_){var ae=D.next(0);if(ae.done)return ae;ae=Gt(b[0],J.m(ae.value),r,"fn:for-each",!1),_=g.value.call(void 0,t,r,s,ae).value}if(!(ae=_.next(H)).done)return ae;_=null}}})},localName:"for-each",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:59,g:2},{type:60,g:3}],callFunction:function(t,r,s,i,u,g){if(i.G())return i;var b=g.first(),_=b.o;if(_.length!==2)throw Error("XPTY0004: signature of function passed to fn:fold-left is incompatible.");return i.M(function(D){return D.reduce(function(H,ae){return H=Gt(_[0],H,r,"fn:fold-left",!1),ae=Gt(_[1],J.m(ae),r,"fn:fold-left",!1),b.value.call(void 0,t,r,s,H,ae)},u)})},localName:"fold-left",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2},{type:59,g:2},{type:60,g:3}],callFunction:function(t,r,s,i,u,g){if(i.G())return i;var b=g.first(),_=b.o;if(_.length!==2)throw Error("XPTY0004: signature of function passed to fn:fold-right is incompatible.");return i.M(function(D){return D.reduceRight(function(H,ae){return H=Gt(_[0],H,r,"fn:fold-right",!1),ae=Gt(_[1],J.m(ae),r,"fn:fold-right",!1),b.value.call(void 0,t,r,s,ae,H)},u)})},localName:"fold-right",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:59,g:2}},{j:[{type:59,g:2}],callFunction:function(t,r,s,i){if(!r.v)throw Error("serialize() called but no xmlSerializer set in execution parameters.");if(!(t=i.O()).every(function(u){return Z(u.type,53)}))throw Error("Expected argument to fn:serialize to resolve to a sequence of Nodes.");return J.m(ue(t.map(function(u){return r.v.serializeToString(Qr(u.value,r,!1))}).join(""),1))},localName:"serialize",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:1,g:3}}],Jr,[{j:[{type:59,g:3},{type:61,g:3}],callFunction:function(t,r,s,i,u){var g,b;return J.create({next:function(){if(!g){var _=jS(i,u,s,r);g=_.sc,b=_.pc}try{return g.next(0)}catch(D){Ao(b.value,D)}}})},localName:"evaluate",namespaceURI:"http://fontoxml.com/fontoxpath",i:{type:59,g:2}},{j:[],callFunction:function(){return J.m(ue(c,1))},localName:"version",namespaceURI:"http://fontoxml.com/fontoxpath",i:{type:1,g:3}}],[{j:[{type:23,g:3},{type:5,g:3}],callFunction:function(t,r,s,i,u){return Hn([i,u],function(g){var b=j(g);g=b.next().value,b=b.next().value;var _=s.xa(g.value.namespaceURI,g.value.localName,b.value);return _===null?J.empty():(g=new ar({j:_.j,arity:b.value,localName:g.value.localName,namespaceURI:g.value.namespaceURI,i:_.i,value:_.callFunction}),J.m(g))})},localName:"function-lookup",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{g:0,type:60}},{j:[{type:60,g:3}],callFunction:function(t,r,s,i){return Hn([i],function(u){return(u=j(u).next().value).Sa()?J.empty():J.m(ue(new Za("",u.l,u.B),23))})},localName:"function-name",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:23,g:0}},{j:[{type:60,g:3}],callFunction:function(t,r,s,i){return Hn([i],function(u){return u=j(u).next().value,J.m(ue(u.v,5))})},localName:"function-arity",namespaceURI:"http://www.w3.org/2005/xpath-functions",i:{type:5,g:3}}]);function Ch(t){this.h=t}(y=Ch.prototype).createAttributeNS=function(t,r){return this.h.createAttributeNS(t,r)},y.createCDATASection=function(t){return this.h.createCDATASection(t)},y.createComment=function(t){return this.h.createComment(t)},y.createDocument=function(){return this.h.createDocument()},y.createElementNS=function(t,r){return this.h.createElementNS(t,r)},y.createProcessingInstruction=function(t,r){return this.h.createProcessingInstruction(t,r)},y.createTextNode=function(t){return this.h.createTextNode(t)};var Oh=Symbol("IS_XPATH_VALUE_SYMBOL");function NS(t){return function(r,s){return r=Yr(new ur(s===null?new na:s),r,dn(t)),(s={})[Oh]=!0,s.Hb=r,s}}function Cy(t){return t&&typeof t=="object"&&"lookupNamespaceURI"in t?function(r){return t.lookupNamespaceURI(r||null)}:function(){return null}}function Bh(t){return function(r){var s=r.localName;return r.prefix?null:{namespaceURI:t,localName:s}}}function Rh(t,r,s,i,u,g){if(i==null&&(i=i||{}),u)var b=u.logger||{trace:console.log.bind(console)},_=u.documentWriter,D=u.moduleImports,H=u.namespaceResolver,ae=u.functionNameResolver,ve=u.nodesFactory,ze=u.xmlSerializer;else b={trace:console.log.bind(console)},D={},ze=_=ve=H=null,ae=void 0;var Ye=new ur(s===null?new na:s);s=D||Object.create(null),D=u.defaultFunctionNamespaceURI===void 0?"http://www.w3.org/2005/xpath-functions":u.defaultFunctionNamespaceURI;var st=Ay(t,g,H||Cy(r),i,s,D,ae||Bh(D));for(t=r?Nr(Ye,r):J.empty(),r=!ve&&g.$?new Dt(r):new Ch(ve),_=_?new Ua(_):Do,ve=Object.keys(i).reduce(function(wn,ya){var Rr=i[ya];return wn["Q{}"+ya+"[0]"]=Rr&&typeof Rr=="object"&&Oh in Rr?function(){return J.create(Rr.Hb)}:function(){return Nr(Ye,i[ya])},wn},Object.create(null)),H={},s=(ae=j(Object.keys(st.ia.Ia))).next();!s.done;H={Za:H.Za},s=ae.next())H.Za=s.value,ve[H.Za]||(ve[H.Za]=function(wn){return function(){return(0,st.ia.Ia[wn.Za])(ht,Bt)}}(H));var ht=new ms({N:t.first(),Ka:0,Da:t,Aa:ve}),Bt=new Os(g.debug,g.La,Ye,r,_,u.currentContext,new Map,b,ze);return{Bb:ht,Cb:Bt,ca:st.ca}}function Fh(t,r){var s={},i=0,u=!1,g=null;return{next:function(){if(u)return me;for(var b={};i<t.h.length;){e:{var _=t.h[i].key.value;if(!g){b.pb=t.h[i];var D=b.pb.value().Z({default:function(H){return H},multiple:function(H){return function(){throw Error("Serialization error: The value of an entry in a map is expected to be a single item or an empty sequence. Use arrays when putting multiple values in a map. The value of the key "+H.pb.key.value+" holds multiple items")}}(b)}).first();if(D===null){s[_]=null,i++;break e}g=Kl(D,r)}D=g.next(0),g=null,s[_]=D.value,i++}b={pb:b.pb}}return u=!0,Se(s)}}}function Mh(t,r){var s=[],i=0,u=!1,g=null;return{next:function(){if(u)return me;for(;i<t.P.length;){if(!g){var b=t.P[i]().Z({default:function(_){return _},multiple:function(){throw Error("Serialization error: The value of an entry in an array is expected to be a single item or an empty sequence. Use nested arrays when putting multiple values in an array.")}}).first();if(b===null){s[i++]=null;continue}g=Kl(b,r)}b=g.next(0),g=null,s[i++]=b.value}return u=!0,Se(s)}}}function Kl(t,r){if(Z(t.type,61))return Fh(t,r);if(Z(t.type,62))return Mh(t,r);if(Z(t.type,23)){var s=t.value;return{next:function(){return Se("Q{"+(s.namespaceURI||"")+"}"+s.localName)}}}switch(t.type){case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:var i=t.value;return{next:function(){return Se(Lr(i))}};case 47:case 53:case 54:case 55:case 56:case 57:case 58:var u=t.value;return{next:function(){return Se(Qr(u,r,!1))}};default:return{next:function(){return Se(t.value)}}}}IS.forEach(function(t){m(t.namespaceURI,t.localName,t.j,t.i,t.callFunction)});var xr={ANY:0,NUMBER:1,STRING:2,BOOLEAN:3,NODES:7,FIRST_NODE:9,STRINGS:10,MAP:11,ARRAY:12,NUMBERS:13,ALL_RESULTS:14,ASYNC_ITERATOR:99};function Oy(t,r,s,i){switch(s){case 3:return r.ha();case 2:return(r=Pa(r,i).O()).length?r.map(function(D){return ra(D,1).value}).join(" "):"";case 10:return(r=Pa(r,i).O()).length?r.map(function(D){return D.value+""}):[];case 1:return(r=r.first())!==null&&Z(r.type,2)?r.value:NaN;case 9:if((r=r.first())===null)return null;if(!Z(r.type,53))throw Error("Expected XPath "+rs(t)+" to resolve to Node. Got "+Xe[r.type]);return Qr(r.value,i,!1);case 7:if(!(r=r.O()).every(function(D){return Z(D.type,53)}))throw Error("Expected XPath "+rs(t)+" to resolve to a sequence of Nodes.");return r.map(function(D){return Qr(D.value,i,!1)});case 11:if((r=r.O()).length!==1)throw Error("Expected XPath "+rs(t)+" to resolve to a single map.");if(!Z((r=r[0]).type,61))throw Error("Expected XPath "+rs(t)+" to resolve to a map");return Fh(r,i).next(0).value;case 12:if((r=r.O()).length!==1)throw Error("Expected XPath "+rs(t)+" to resolve to a single array.");if(!Z((r=r[0]).type,62))throw Error("Expected XPath "+rs(t)+" to resolve to an array");return Mh(r,i).next(0).value;case 13:return r.O().map(function(D){if(!Z(D.type,2))throw Error("Expected XPath "+rs(t)+" to resolve to numbers");return D.value});case 99:var u=r.value,g=null,b=!1,_=function(){for(;!b;){if(!g){var D=u.next(0);if(D.done){b=!0;break}g=Kl(D.value,i)}return D=g.next(0),g=null,D}return Promise.resolve({done:!0,value:null})};return"asyncIterator"in Symbol?((r={})[Symbol.asyncIterator]=function(){return this},r.next=function(){return new Promise(function(D){return D(_())}).catch(function(D){Ao(t,D)})}):r={next:function(){return new Promise(function(D){return D(_())})}},r;case 14:return r.O().map(function(D){return Kl(D,i).next(0).value});default:return(r=r.O()).every(function(D){return Z(D.type,53)&&!Z(D.type,47)})?(r=r.map(function(D){return Qr(D.value,i,!1)})).length===1?r[0]:r:r.length===1?Z((r=r[0]).type,62)?Mh(r,i).next(0).value:Z(r.type,61)?Fh(r,i).next(0).value:_o(r,i).first().value:Pa(J.create(r),i).O().map(function(D){return D.value})}}xr[xr.ANY]="ANY",xr[xr.NUMBER]="NUMBER",xr[xr.STRING]="STRING",xr[xr.BOOLEAN]="BOOLEAN",xr[xr.NODES]="NODES",xr[xr.FIRST_NODE]="FIRST_NODE",xr[xr.STRINGS]="STRINGS",xr[xr.MAP]="MAP",xr[xr.ARRAY]="ARRAY",xr[xr.NUMBERS]="NUMBERS",xr[xr.ALL_RESULTS]="ALL_RESULTS",xr[xr.ASYNC_ITERATOR]="ASYNC_ITERATOR";var fd=!1,hl=null,DS={getPerformanceSummary:function(){var t=hl.getEntriesByType("measure").filter(function(r){return r.name.startsWith("XPath: ")});return Array.from(t.reduce(function(r,s){var i=s.name.substring(7);return r.has(i)?((i=r.get(i)).times+=1,i.totalDuration+=s.duration):r.set(i,{xpath:i,times:1,totalDuration:s.duration,average:0}),r},new Map).values()).map(function(r){return r.average=r.totalDuration/r.times,r}).sort(function(r,s){return s.totalDuration-r.totalDuration})},setPerformanceImplementation:function(t){hl=t},startProfiling:function(){if(hl===null)throw Error("Performance API object must be set using `profiler.setPerformanceImplementation` before starting to profile");hl.clearMarks(),hl.clearMeasures(),fd=!0},stopProfiling:function(){fd=!1}},Fc=0,CS={XPATH_3_1_LANGUAGE:"XPath3.1",XQUERY_3_1_LANGUAGE:"XQuery3.1",XQUERY_UPDATE_3_1_LANGUAGE:"XQueryUpdate3.1"};function kr(t,r,s,i,u,g){if(u=u||0,!t||typeof t!="string"&&!("nodeType"in t))throw new TypeError("Failed to execute 'evaluateXPath': xpathExpression must be a string or an element depicting an XQueryX DOM tree.");g=g||{};try{var b=Rh(t,r,s||null,i||{},g,{ua:g.language==="XQueryUpdate3.1",$:g.language==="XQuery3.1"||g.language==="XQueryUpdate3.1",debug:!!g.debug,La:!!g.disableCache}),_=b.Bb,D=b.Cb,H=b.ca}catch(ve){Ao(t,ve)}if(H.I)throw Error("XUST0001: Updating expressions should be evaluated as updating expressions");if(u===3&&r&&typeof r=="object"&&"nodeType"in r&&(s=H.B(),r=jr(r),s!==null&&!r.includes(s)))return!1;try{r=t,fd&&(typeof r!="string"&&(r=rs(r)),hl.mark(r+(Fc===0?"":"@"+Fc)),Fc++);var ae=Oy(t,Ke(H,_,D),u,D);return u=t,fd&&(typeof u!="string"&&(u=rs(u)),_=u+(--Fc==0?"":"@"+Fc),hl.measure("XPath: "+u,_),hl.clearMarks(_)),ae}catch(ve){Ao(t,ve)}}Object.assign(kr,{tc:14,ANY_TYPE:0,Tb:12,Ub:99,BOOLEAN_TYPE:3,Wb:9,Zb:11,ac:7,bc:13,NUMBER_TYPE:1,cc:10,STRING_TYPE:2,uc:"XPath3.1",vc:"XQuery3.1",fc:"XQueryUpdate3.1"});var So={};function By(t,r,s,i,u){return kr(t,r,s,i,kr.Ub,u)}function Ry(t,r,s,i){var u={};return u.pendingUpdateList=t.fa.map(function(g){return g.h(i)}),u.xdmValue=Oy(r,J.create(t.J),s,i),u}function OS(t,r,s,i,u){var g,b,_,D,H,ae,ve,ze,Ye,st;return Y(new X(new P(function(ht){switch(ht.h){case 1:u=u||{},Dc();try{D=Rh(t,r,s||null,i||{},u||{},{ua:!0,$:!0,debug:!!u.debug,La:!!u.disableCache}),g=D.Bb,b=D.Cb,_=D.ca}catch(wn){Ao(t,wn)}if(_.I){ht.h=2;break}H=[];var Bt=(ae=By(t,r,s,i,Object.assign(Object.assign({},u),{language:"XQueryUpdate3.1"}))).next();return ht.h=3,{value:Bt};case 3:ve=ht.l;case 4:if(ve.done){ht.h=6;break}return H.push(ve.value),Bt=ae.next(),ht.h=7,{value:Bt};case 7:ve=ht.l,ht.h=4;break;case 6:return ze={},ht.return(Promise.resolve((ze.pendingUpdateList=[],ze.xdmValue=H,ze)));case 2:try{st=_.s(g,b),Ye=st.next(0)}catch(wn){Ao(t,wn)}return ht.return(Ry(Ye.value,t,u.returnType,b))}})))}function BS(t,r,s,i,u){u=u||{},Dc();try{var g=Rh(t,r,s||null,i||{},u||{},{ua:!0,$:!0,debug:!!u.debug,La:!!u.disableCache}),b=g.Bb,_=g.Cb,D=g.ca}catch(ae){Ao(t,ae)}if(!D.I)return b={},(_={}).pendingUpdateList=[],_.xdmValue=kr(t,r,s,i,u.i,Object.assign(Object.assign({},u),(b.language=kr.fc,b))),_;try{var H=D.s(b,_).next(0)}catch(ae){Ao(t,ae)}return Ry(H.value,t,u.returnType,_)}function RS(t,r,s,i,u){return kr(t,r,s,i,kr.Tb,u)}function FS(t,r,s,i,u){return kr(t,r,s,i,kr.BOOLEAN_TYPE,u)}function MS(t,r,s,i,u){return kr(t,r,s,i,kr.Wb,u)}function PS(t,r,s,i,u){return kr(t,r,s,i,kr.Zb,u)}function LS(t,r,s,i,u){return kr(t,r,s,i,kr.ac,u)}function US(t,r,s,i,u){return kr(t,r,s,i,kr.NUMBER_TYPE,u)}function zS(t,r,s,i,u){return kr(t,r,s,i,kr.bc,u)}function $S(t,r,s,i,u){return kr(t,r,s,i,kr.STRING_TYPE,u)}function GS(t,r,s,i,u){return kr(t,r,s,i,kr.cc,u)}function VS(t,r,s,i){r=new ur(r||new na),i=i?new Ua(i):Do,s=s?s=new Ch(s):null,Or(t=t.map(_g),r,s,i)}function Vn(t,r,s){return{code:t,va:r,H:s,isAstAccepted:!0}}function ba(t){return{isAstAccepted:!1,reason:t}}function bn(t,r){return t.isAstAccepted?r(t):t}function Ph(t,r){return t.isAstAccepted?r(t):[t,null]}function Ti(t,r,s){return bn(t,function(i){switch(i.va.type){case 0:return i;case 1:return bn(Uo(s,i,"nodes"),function(u){return bn(Uo(s,r,"contextItem"),function(g){return Vn(`(function () {
							const { done, value } = `+u.code+"("+g.code+`).next();
							return done ? null : value;
						})()`,{type:0},[].concat(C(u.H),C(g.H)))})});default:throw Error("invalid generated code type to convert to value: "+i.va.type)}})}function Bu(t,r,s,i){return t=Ti(t,s,i),r&&r.type===0&&r.g===3?t:bn(t,function(u){return Vn("!!"+u.code,{type:0},u.H)})}function Mc(t,r,s){return r?t.isAstAccepted&&t.va.type!==0?ba("Atomization only implemented for single value"):Z(r.type,1)?t:Z(r.type,47)?bn(Uo(s,t,"attr"),function(i){return Vn("("+i.code+" ? domFacade.getData("+i.code+") : null)",{type:0},i.H)}):ba("Atomization only implemented for string and attribute"):ba("Can not atomize value if type was not annotated")}function Fy(t,r,s,i){return i=Mc(t=Ti(t,s,i),r,i),Go(r)?bn(i,function(u){return Vn(u.code+" ?? ''",{type:0},u.H)}):i}function Lh(t,r,s){return bn(Uo(s,t,"node"),function(i){return i.va.type===1?i:r&&!Z(r.type,53)?ba("Can not evaluate to node if expression does not result in nodes"):Vn(`(function () {
				if (`+i.code+" !== null && !"+i.code+`.nodeType) {
					throw new Error('XPDY0050: The result of the expression was not a node');
				}
				return `+i.code+`;
			})()`,{type:0},i.H)})}function HS(t,r,s,i){return bn(t,function(u){switch(u.va.type){case 1:return bn(Uo(i,u,"nodes"),function(g){return bn(Uo(i,s,"contextItem"),function(b){return Vn("Array.from("+g.code+"("+b.code+"))",{type:0},[].concat(C(g.H),C(b.H)))})});case 0:return bn(Uo(i,Lh(u,r,i),"node"),function(g){return Vn("("+g.code+" === null ? [] : ["+g.code+"])",{type:0},g.H)});default:return ba("Unsupported code type to evaluate to nodes")}})}function Ru(t,r){return bn(t,function(s){return bn(r,function(i){if(s.va.type!==0||i.va.type!==0)throw Error("can only use emitAnd with value expressions");return Vn(s.code+" && "+i.code,{type:0},[].concat(C(s.H),C(i.H)))})})}function Fu(t,r,s,i){return(t=mt(t,[r,"*"]))?i.h(t,s,i):[ba(r+" expression not found"),null]}Object.assign(kr,(So.ALL_RESULTS_TYPE=14,So.ANY_TYPE=0,So.ARRAY_TYPE=12,So.ASYNC_ITERATOR_TYPE=99,So.BOOLEAN_TYPE=3,So.FIRST_NODE_TYPE=9,So.MAP_TYPE=11,So.NODES_TYPE=7,So.NUMBERS_TYPE=13,So.NUMBER_TYPE=1,So.STRINGS_TYPE=10,So.STRING_TYPE=2,So.XPATH_3_1_LANGUAGE="XPath3.1",So.XQUERY_3_1_LANGUAGE="XQuery3.1",So.XQUERY_UPDATE_3_1_LANGUAGE="XQueryUpdate3.1",So));var Xl={},Uh=(Xl.equalOp="eqOp",Xl.notEqualOp="neOp",Xl.lessThanOrEqualOp="leOp",Xl.lessThanOp="ltOp",Xl.greaterThanOrEqualOp="geOp",Xl.greaterThanOp="gtOp",Xl),Yl={},WS=(Yl.eqOp="eqOp",Yl.neOp="neOp",Yl.leOp="geOp",Yl.ltOp="gtOp",Yl.geOp="leOp",Yl.gtOp="ltOp",Yl);function My(t,r,s,i){var u=wt(mt(t,["firstOperand","*"]),"type"),g=wt(mt(t,["secondOperand","*"]),"type");if(!u||!g)return ba("Can not generate code for value compare without both types");var b=[47,1];if(!b.includes(u.type)||!b.includes(g.type))return ba("Unsupported types in compare: ["+Xe[u.type]+", "+Xe[g.type]+"]");if(!(b=new Map([["eqOp","==="],["neOp","!=="]])).has(r))return ba(r+" not yet implemented");var _=b.get(r);return b=(r=j(Fu(t,"firstOperand",s,i))).next().value,r.next(),r=Mc(r=Ti(b,s,i),u,i),bn(Uo(i,r,"first"),function(D){var H=j(Fu(t,"secondOperand",s,i)),ae=H.next().value;return H.next(),H=Mc(H=Ti(ae,s,i),g,i),bn(Uo(i,H,"second"),function(ve){var ze=[];return Go(u)&&ze.push(D.code+" === null"),Go(g)&&ze.push(ve.code+" === null"),Vn("("+(ze.length?ze.join(" || ")+" ? null : ":"")+D.code+" "+_+" "+ve.code+")",{type:0},[].concat(C(D.H),C(ve.H)))})})}function Py(t,r,s,i,u,g){var b=wt(mt(t,[r,"*"]),"type"),_=wt(mt(t,[s,"*"]),"type");if(!b||!_)return ba("Can not generate code for general compare without both types");var D=[47,1];if(!D.includes(b.type)||!D.includes(_.type))return ba("Unsupported types in compare: ["+Xe[b.type]+", "+Xe[_.type]+"]");if(!(D=new Map([["eqOp","==="],["neOp","!=="]])).has(i))return ba(i+" not yet implemented");var H=D.get(i);return i=(r=j(Fu(t,r,u,g))).next().value,r.next(),b=Mc(r=Ti(i,u,g),b,g),bn(Uo(g,b,"single"),function(ae){var ve=j(Fu(t,s,u,g)),ze=ve.next().value;return ve.next(),bn(Uo(g,ze,"multiple"),function(Ye){if(Ye.va.type!==1)return ba("can only generate general compare for a single value and a generator");var st=hd(g,md(g,"n")),ht=Mc(st,_,g);return bn(u,function(Bt){return bn(ht,function(wn){return Vn(`(function () {
									for (const `+st.code+" of "+Ye.code+"("+Bt.code+`)) {
										`+wn.H.join(`
`)+`
										if (`+wn.code+" "+H+" "+ae.code+`) {
											return true;
										}
									}
									return false;
								})()`,{type:0},[].concat(C(ae.H),C(st.H),C(Bt.H),C(Ye.H)))})})})})}function Mu(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var KS={"false#0":eT,"local-name#0":$y,"local-name#1":$y,"name#0":zy,"name#1":zy,"not#1":QS,"true#0":tT},zh={},XS=(zh["http://fontoxml.com/fontoxpath"]=["version#0"],zh[""]=["root#1","path#1"],zh);function YS(t,r,s,i){var u=j(i.h(t,s,i)),g=u.next().value;if(u.next(),t=wt(t,"type"),!r||r.g===2||r.g===1)return ba("Not supported: sequence arguments with multiple items");if(Z(r.type,53))return Lh(r=Ti(g,s,i),t,i);switch(r.type){case 59:return Ti(g,s,i);case 0:return Bu(g,t,s,i);case 1:return Fy(g,t,s,i)}return ba("Argument types not supported: "+(t?Xe[t.type]:"unknown")+" -> "+Xe[r.type])}function Ly(t,r,s,i){if(t.length!==r.length||r.some(function(_){return _===4}))return ba("Not supported: variadic function or mismatch in argument count");if(t.length===0)return Vn("",{type:0},[]);var u=j(t);t=u.next().value;var g=V(u);u=(r=j(r)).next().value;var b=V(r);return t=Uo(i,YS(t,u,s,i),"arg"),g.length===0?t:bn(t,function(_){return bn(Ly(g,b,s,i),function(D){return Vn(_.code+", "+D.code,{type:0},[].concat(C(_.H),C(D.H)))})})}function qS(t,r){return bn(t,function(s){return r&&r.g!==2&&r.g!==1&&([0,1].includes(r.type)||Z(r.type,53))?s:ba("Function return type "+Xe[r.type]+" not supported")})}function ZS(t,r,s){var i=Oa(be(t,"functionName")),u=i.localName,g=i.namespaceURI,b=(i=rn(be(t,"arguments"),"*")).length,_=u+"#"+b,D=g===s.B;if(D){var H=KS[_];if(H!==void 0)return H(t,r,s)}return(t=XS[D?"":g])&&!t.includes(_)?ba("Not supported: built-in function not on allow list: "+_):(t=Ec(g,u,b))?t.I?ba("Not supported: updating functions"):qS(r=bn(r=Ly(i,t.j,r,s),function(ae){return Vn("runtimeLib.callFunction(domFacade, "+Mu(g)+", "+Mu(u)+", ["+ae.code+"], options)",{type:0},ae.H)}),t.i):ba("Unknown function / arity: "+_)}function JS(t,r){return bn(Uo(r,t,"contextItem"),function(s){return Vn(s.code,{type:0},[].concat(C(s.H),["if ("+s.code+" === undefined || "+s.code+` === null) {
					throw errXPDY0002('The function which was called depends on dynamic context, which is absent.');
				}`]))})}function Uy(t,r,s,i){if((t=mt(t,["arguments","*"]))&&t[0]!=="contextItemExpr"){var u=wt(t,"type");if(!u||!Z(u.type,53))return ba("name function only implemented if arg is a node");u=(t=j(s.h(t,r,s))).next().value,t.next(),t=u}else t=JS(r,s);return bn(Uo(s,r=Ti(t,r,s),"arg"),function(g){return Vn("("+g.code+" ? "+i(g.code)+" : '')",{type:0},g.H)})}function zy(t,r,s){return Uy(t,r,s,function(i){return"((("+i+".prefix || '').length !== 0 ? "+i+`.prefix + ':' : '')
		+ (`+i+".localName || "+i+".target || ''))"})}function $y(t,r,s){return Uy(t,r,s,function(i){return"("+i+".localName || "+i+".target || '')"})}function QS(t,r,s){var i=mt(t,["arguments","*"]);t=wt(i,"type");var u=(i=j(s.h(i,r,s))).next().value;return i.next(),bn(r=Bu(u,t,r,s),function(g){return Vn("!"+g.code,{type:0},g.H)})}function eT(){return Vn("false",{type:0},[])}function tT(){return Vn("true",{type:0},[])}function Gy(t,r,s,i){var u=j(Fu(t,"firstOperand",s,i)),g=u.next().value;u=u.next().value;var b=wt(mt(t,["firstOperand","*"]),"type");g=Bu(g,b,s,i);var _=(b=j(Fu(t,"secondOperand",s,i))).next().value;return b=b.next().value,[g=bn(g,function(D){var H=wt(mt(t,["secondOperand","*"]),"type");return bn(H=Bu(_,H,s,i),function(ae){return Vn("("+D.code+" "+r+" "+ae.code+")",{type:0},[].concat(C(D.H),C(ae.H)))})}),u=r==="&&"?os(u,b):u===b?u:null]}function Vy(t,r,s){return bn(t,function(i){return bn(r,function(u){return bn(s,function(g){return Vn("for ("+i.code+`) {
						`+u.H.join(`
`)+`
						if (!(`+u.code+`)) {
							continue;
						}
						`+g.H.join(`
`)+`
						`+g.code+`
					}`,{type:2},i.H)})})})}function nT(t,r,s,i,u){var g=r?', "'+r+'"':"";return Vy(r=bn(i,function(b){return bn(u,function(_){return Vn("let "+b.code+" = domFacade.getFirstChild("+_.code+g+`);
							`+b.code+`;
							`+b.code+" = domFacade.getNextSibling("+b.code+g+")",{type:2},[].concat(C(b.H),C(_.H)))})}),t,s)}function aT(t,r,s,i,u){var g=os(r,"type-2"),b=bn(u,function(_){return Vn("("+_.code+" && "+_.code+".nodeType === /*ELEMENT_NODE*/ 1 ? domFacade.getAllAttributes("+_.code+(g?', "'+g+'"':"")+") : [])",{type:0},_.H)});return Vy(r=bn(i,function(_){return bn(b,function(D){return Vn("const "+_.code+" of "+D.code,{type:2},[].concat(C(_.H),C(D.H)))})}),t,s)}function rT(t,r,s,i,u){var g=r?', "'+r+'"':"";return Hy(i,r=bn(u,function(b){return Vn("domFacade.getParentNode("+b.code+g+")",{type:0},b.H)}),t,s)}function Hy(t,r,s,i){var u=Ru(t,s);return bn(t,function(g){return bn(r,function(b){return bn(u,function(_){return bn(i,function(D){return Vn("const "+g.code+" = "+b.code+`;
						`+_.H.join(`
`)+`
						if (`+_.code+`) {
							`+D.H.join(`
`)+`
							`+D.code+`
						}`,{type:2},[].concat(C(g.H),C(b.H)))})})})})}function oT(t,r,s,i,u,g){switch(t=Ht(t)){case"attribute":return[aT(r,s,i,u,g),"type-1"];case"child":return[nT(r,s,i,u,g),null];case"parent":return[rT(r,s,i,u,g),null];case"self":return[Hy(u,g,r,i),s];default:return[ba("Unsupported: the "+t+" axis"),null]}}var Pu={dc:"textTest",Vb:"elementTest",$b:"nameTest",ec:"Wildcard",Sb:"anyKindTest"},Wy=Object.values(Pu);function sT(t){return[bn(t,function(r){return Vn(r.code+".nodeType === /*TEXT_NODE*/ 3",{type:0},[])}),"type-3"]}function iT(t,r){if(t.namespaceURI===null&&t.prefix!=="*"){if(!(r=r.aa(t.prefix||"")||null)&&t.prefix)throw Error("XPST0081: The prefix "+t.prefix+" could not be resolved.");t.namespaceURI=r}}function Lu(t,r,s,i){iT(t,i);var u=t.prefix,g=t.namespaceURI,b=t.localName;return Ph(s,function(_){var D=Vn(r?_.code+`.nodeType
						&& (`+_.code+`.nodeType === /*ELEMENT_NODE*/ 1
						|| `+_.code+".nodeType === /*ATTRIBUTE_NODE*/ 2)":_.code+`.nodeType
						&& `+_.code+".nodeType === /*ELEMENT_NODE*/ 1",{type:0},[]);if(u==="*")return b==="*"?[D,r?"type-1-or-type-2":"type-1"]:[Ru(D,Vn(_.code+".localName === "+Mu(b),{type:0},[])),"name-"+b];D=b==="*"?D:Ru(D,Vn(_.code+".localName === "+Mu(b),{type:0},[]));var H=Vn(Mu(g),{type:0},[]);return H=u===""&&r?bn(H,function(ae){return Vn(_.code+".nodeType === /*ELEMENT_NODE*/ 1 ? "+ae.code+" : null",{type:0},ae.H)}):H,[Ru(D,H=bn(H,function(ae){return Vn("("+_.code+".namespaceURI || null) === (("+ae.code+") || null)",{type:0},ae.H)})),"name-"+b]})}function lT(t,r,s){var i=(t=be(t,"elementName"))&&be(t,"star");return t===null||i?[bn(r,function(u){return Vn(u.code+".nodeType === /*ELEMENT_NODE*/ 1",{type:0},[])}),"type-1"]:Lu(t=Oa(be(t,"QName")),!1,r,s)}function uT(t){return[bn(t,function(r){return Vn("!!"+r.code+".nodeType",{type:0},[])}),null]}function Ky(t,r,s,i){var u=t[0];switch(u){case Pu.Vb:return lT(t,s,i);case Pu.dc:return sT(s);case Pu.$b:return Lu(Oa(t),r,s,i);case Pu.ec:return be(t,"star")?(u=be(t,"uri"))!==null?t=Lu({localName:"*",namespaceURI:Ht(u),prefix:""},r,s,i):(u=be(t,"NCName"),t=be(t,"*")[0]==="star"?Lu({localName:Ht(u),namespaceURI:null,prefix:"*"},r,s,i):Lu({localName:"*",namespaceURI:null,prefix:Ht(u)},r,s,i)):t=Lu({localName:"*",namespaceURI:null,prefix:"*"},r,s,i),t;case Pu.Sb:return uT(s);default:return[ba("Test not implemented: '"+u),null]}}function Xy(t,r,s){var i=j(s.h(t,r,s)),u=i.next().value;return i=i.next().value,[Bu(u,wt(t,"type"),r,s),i]}function Yy(t,r,s){var i=j((t=t?rn(t,"*"):[]).reduce(function(u,g){var b=(u=j(u)).next().value,_=u.next().value;if(!b)return Xy(g,r,s);var D=_;return Ph(b,function(H){var ae=j(Xy(g,r,s)),ve=ae.next().value;return ae=ae.next().value,D=os(_,ae),[bn(ve,function(ze){return Vn(H.code+" && "+ze.code,{type:0},[].concat(C(H.H),C(ze.H)))}),D]})},[null,null]));return t=i.next().value,i=i.next().value,[t?bn(t,function(u){return Vn(`(function () {
							`+u.H.join(`
`)+`
							return `+u.code+`;
						})()`,{type:0},[])}):null,i]}function $h(t,r,s,i){if(t.length===0)return[bn(s,function(ae){return Vn("yield "+ae.code+";",{type:2},ae.H)}),null];var u=(t=j(t)).next().value,g=V(t);if(0<rn(u,"lookup").length)return[ba("Unsupported: lookups"),null];var b=hd(i,md(i,"contextItem")),_=(t=j(Yy(t=be(u,"predicates"),b,i))).next().value,D=t.next().value;if(t=be(u,"xpathAxis")){if(!(u=be(u,Wy)))return[ba("Unsupported test in step"),null];var H=Ht(t);return u=(H=j(Ky(u,r=H==="attribute"||H==="self"&&r,b,i))).next().value,H=H.next().value,u=_===null?u:Ru(u,_),D=os(H,D),H=(r=j($h(g,r,b,i))).next().value,r.next(),oT(t,u,D,H,b,s)}return(t=mt(u,["filterExpr","*"]))?(t=(D=j(i.h(t,s,i))).next().value,D=D.next().value,[bn(t,function(ae){var ve=g.length===0?Vn("",{type:2},[]):Vn("if ("+b.code+" !== null && !"+b.code+`.nodeType) {
									throw new Error('XPTY0019: The result of E1 in a path expression E1/E2 should evaluate to a sequence of nodes.');
								}`,{type:2},[]),ze=j($h(g,!0,b,i)),Ye=ze.next().value;return ze.next(),ze=_===null?Ye:bn(_,function(st){return bn(Ye,function(ht){return Vn("if ("+st.code+`) {
									`+ht.H.join(`
`)+`
									`+ht.code+`
								}`,{type:2},st.H)})}),bn(ze,function(st){switch(ae.va.type){case 1:return bn(s,function(ht){return Vn("for (const "+b.code+" of "+ae.code+"("+ht.code+`)) {
									`+st.H.join(`
`)+`
									`+st.code+`
								}`,{type:2},[].concat(C(b.H),C(ae.H),C(ve.H)))});case 0:return Vn("const "+b.code+" = "+ae.code+`;
							`+ve.code+`
							if (`+b.code+` !== null) {
								`+st.H.join(`
`)+`
								`+st.code+`
							}`,{type:2},[].concat(C(b.H),C(ae.H),C(ve.H)));default:return ba("Unsupported generated code type for filterExpr")}})}),D]):[ba("Unsupported: unknown step type"),null]}function cT(t){return bn(t,function(r){return Vn(`(function () {
				let n = `+r.code+`;
				while (n.nodeType !== /*DOCUMENT_NODE*/9) {
					n = domFacade.getParentNode(n);
					if (n === null) {
						throw new Error('XPDY0050: the root node of the context node is not a document node.');
					}
				}
				return n;
			})()`,{type:0},r.H)})}function pT(t,r,s){return Ph(r,function(i){if(0<rn(t,"lookup").length)return[ba("Unsupported: lookups"),null];var u=be(t,"predicates"),g=j(Yy(u,i,s));u=g.next().value,g=g.next().value;var b=be(t,Wy);if(!b)return[ba("Unsupported test in step"),null];var _=j(Ky(b,!0,i,s));return b=_.next().value,_=_.next().value,u=u===null?b:Ru(b,u),g=os(_,g),[bn(u,function(D){return Vn("(("+D.code+") ? "+i.code+" : null)",{type:0},[].concat(C(i.H),C(D.H)))}),g]})}function dT(t,r,s){var i=rn(t,"stepExpr");if(i.length===1){var u=be(i[0],"xpathAxis");if(u&&Ht(u)==="self")return pT(i[0],r,s)}var g=hd(s,md(s,"contextItem"));return r=(t=be(t,"rootExpr"))?Uo(s,cT(g),"root"):g,s=(i=j($h(i,!t,r,s))).next().value,i=i.next().value,[bn(s,function(b){return Vn("(function* ("+g.code+`) {
			`+b.H.join(`
`)+`
			`+b.code+`
		})`,{type:1},[])}),i]}function fT(t,r,s){var i=t[0];switch(i){case"contextItemExpr":return[r,null];case"pathExpr":return dT(t,r,s);case"andOp":return Gy(t,"&&",r,s);case"orOp":return Gy(t,"||",r,s);case"stringConstantExpr":return[Vn(t=Mu(t=be(t,"value")[1]||""),{type:0},[]),null];case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":case"isOp":case"nodeBeforeOp":case"nodeAfterOp":e:switch(i){case"eqOp":case"neOp":case"ltOp":case"leOp":case"gtOp":case"geOp":case"isOp":t=My(t,i,r,s);break e;case"equalOp":case"notEqualOp":case"lessThanOrEqualOp":case"lessThanOp":case"greaterThanOrEqualOp":case"greaterThanOp":var u=wt(mt(t,["firstOperand","*"]),"type"),g=wt(mt(t,["secondOperand","*"]),"type");t=u&&g?u.g===3&&g.g===3?My(t,Uh[i],r,s):u.g===3?Py(t,"firstOperand","secondOperand",Uh[i],r,s):g.g===3?Py(t,"secondOperand","firstOperand",WS[Uh[i]],r,s):ba("General comparison for sequences is not implemented"):ba("types of compare are not known");break e;default:t=ba("Unsupported compare type: "+i)}return[t,null];case"functionCallExpr":return[ZS(t,r,s),null];default:return[ba("Unsupported: the base expression '"+i+"'."),null]}}function hT(t,r){this.o=new Map,this.v=new Map,this.aa=t,this.B=r,this.h=fT}function Uo(t,r,s){return bn(r,function(i){var u=t.o.get(i);return u||(u=Vn(u=md(t,s),i.va,[].concat(C(i.H),["const "+u+" = "+i.code+";"])),t.o.set(i,u),t.o.set(u,u)),u})}function hd(t,r){return r=Vn(r,{type:0},[]),t.o.set(r,r),r}function md(t,r){r=r===void 0?"v":r;var s=t.v.get(r)||0;return t.v.set(r,s+1),r+s}function qy(t){var r=rn(t,"*");if(t[0]==="pathExpr")return!0;for(r=(t=j(r)).next();!r.done;r=t.next())if(qy(r.value))return!0;return!1}function mT(t,r,s){if(s=s||{},r=r||0,typeof t=="string"){t=oh(t);var i={$:s.language==="XQuery3.1"||s.language==="XQueryUpdate3.1",debug:!1};try{var u=Rc(t,i)}catch(_){Ao(t,_)}}else u=nd(t);if(!(t=be(u,"mainModule")))return ba("Unsupported: XQuery Library modules are not supported.");if(be(t,"prolog"))return ba("Unsupported: XQuery Prologs are not supported.");if(i=s.defaultFunctionNamespaceURI===void 0?"http://www.w3.org/2005/xpath-functions":s.defaultFunctionNamespaceURI,Yn(u,s=new Ac(new Ca(new ne((t=new hT(s.namespaceResolver||Cy(null),i)).aa,{},i,s.functionNameResolver||Bh("http://www.w3.org/2005/xpath-functions"))))),s=be(u,"mainModule"))if(be(s,"prolog"))t=ba("Unsupported: XQuery.");else{var g=mt(s,["queryBody","*"]);s=hd(t,"contextItem");var b=j(t.h(g,s,t));i=b.next().value,b.next();e:switch(g=wt(g,"type"),r){case 9:t=Lh(r=Ti(i,s,t),g,t);break e;case 7:t=HS(i,g,s,t);break e;case 3:t=Bu(i,g,s,t);break e;case 2:t=Fy(i,g,s,t);break e;default:t=ba("Unsupported: the return type '"+r+"'.")}t.isAstAccepted&&(t=`
		`+t.H.join(`
`)+`
		return `+t.code+";",r=`
	return (contextItem, domFacade, runtimeLib, options) => {
		const {
			errXPDY0002,
		} = runtimeLib;`,qy(u)&&(r+=`
		if (!contextItem) {
			throw errXPDY0002("Context is needed to evaluate the given path expression.");
		}

		if (!contextItem.nodeType) {
			throw new Error("Context item must be subtype of node().");
		}
		`),t={code:r+(t+`}
//# sourceURL=generated.js`),isAstAccepted:!0})}else t=ba("Unsupported: Can not execute a library module.");return t}function Zy(t,r,s){var i=t.stack;i&&(i.includes(t.message)&&(i=i.substr(i.indexOf(t.message)+t.message.length).trim()),(i=i.split(`
`)).splice(10),i=(i=i.map(function(u){return u.startsWith("    ")||u.startsWith("	")?u:"    "+u})).join(`
`)),t=Error.call(this,"Custom XPath function Q{"+s+"}"+r+` raised:
`+t.message+`
`+i),this.message=t.message,"stack"in t&&(this.stack=t.stack)}function Jy(t,r,s){return r.g===0?t.G()?null:Kl(t.first(),s).next(0).value:r.g===2||r.g===1?t.O().map(function(i){if(Z(i.type,47))throw Error("Cannot pass attribute nodes to custom functions");return Kl(i,s).next(0).value}):Kl(t.first(),s).next(0).value}function gT(t){if(typeof t=="object")return t;if((t=t.split(":")).length!==2)throw Error("Do not register custom functions in the default function namespace");var r=j(t);t=r.next().value,r=r.next().value;var s=x[t];if(!s){if(s="generated_namespace_uri_"+t,x[t])throw Error("Prefix already registered: Do not register the same prefix twice.");x[t]=s}return{localName:r,namespaceURI:s}}function yT(t,r,s,i){var u=(t=gT(t)).namespaceURI,g=t.localName;if(!u)throw an();var b=r.map(function(D){return dn(D)}),_=dn(s);m(u,g,b,_,function(D,H,ae){var ve=Array.from(arguments);ve.splice(0,3),ve=ve.map(function(st,ht){return Jy(st,b[ht],H)});var ze={};ze.currentContext=H.l,ze.domFacade=H.h.h;try{var Ye=i.apply(void 0,[ze].concat(C(ve)))}catch(st){throw new Zy(st,g,u)}return Ye&&typeof Ye=="object"&&Object.getOwnPropertySymbols(Ye).includes(Oh)?J.create(Ye.Hb):Nr(H.h,Ye,_)})}N(Zy,Error);var bT={callFunction:function(t,r,s,i,u){var g=Ec(r,s,i.length);if(!g)throw Error("function not found for codegen function call");r=new ms({N:null,Ka:0,Da:J.empty(),Aa:{}});var b=new ur(t);return t=new Os(!1,!1,b,null,null,u?u.currentContext:null,null),Jy(i=g.callFunction.apply(g,[r,t,null].concat(C(i.map(function(_,D){return Nr(b,_,g.j[D])})))),{type:59,g:0},t)},errXPDY0002:Kr};function wT(t,r,s,i){return s=s||new na,t()(r??null,s,bT,i)}var gd={},Qy=(gd["http://www.w3.org/2005/XQueryX"]="xqx",gd["http://www.w3.org/2007/xquery-update-10"]="xquf",gd["http://fontoxml.com/fontoxpath"]="x",gd);function vT(t,r){switch(t){case"copySource":case"insertAfter":case"insertAsFirst":case"insertAsLast":case"insertBefore":case"insertInto":case"modifyExpr":case"newNameExpr":case"replacementExpr":case"replaceValue":case"returnExpr":case"sourceExpr":case"targetExpr":case"transformCopies":case"transformCopy":return{localName:t,ub:r||"http://www.w3.org/2005/XQueryX"};case"deleteExpr":case"insertExpr":case"renameExpr":case"replaceExpr":case"transformExpr":return{localName:t,ub:"http://www.w3.org/2007/xquery-update-10"};case"x:stackTrace":return{localName:"stackTrace",ub:"http://fontoxml.com/fontoxpath"};default:return{localName:t,ub:"http://www.w3.org/2005/XQueryX"}}}function eb(t,r,s,i,u){if(typeof s=="string")return s.length===0?null:r.createTextNode(s);if(!Array.isArray(s))throw new TypeError("JsonML element should be an array or string");var g=(i=vT(s[0],i)).localName;i=i.ub;var b=r.createElementNS(i,Qy[i]+":"+g),_=s[1],D=1;if(typeof _=="object"&&!Array.isArray(_)){if(_!==null)for(var H=(D=j(Object.keys(_))).next();!H.done;H=D.next()){var ae=_[H=H.value];ae!==null&&(H==="type"?ae!==void 0&&t.setAttributeNS(b,i,"fontoxpath:"+H,St(ae)):(H!=="start"&&H!=="end"||g!=="stackTrace"||(ae=JSON.stringify(ae)),u&&H==="prefix"&&ae===""||t.setAttributeNS(b,i,Qy[i]+":"+H,ae)))}D=2}for(g=D,_=s.length;g<_;++g)(D=eb(t,r,s[g],i,u))!==null&&t.insertBefore(b,D,null);return b}function xT(t,r,s,i){i=i===void 0?Do:i,t=oh(t);try{var u=Rc(t,{$:r.language==="XQuery3.1"||r.language==="XQueryUpdate3.1",debug:r.debug})}catch(D){Ao(t,D)}var g=new ne(r.namespaceResolver||function(){return null},{},r.defaultFunctionNamespaceURI===void 0?"http://www.w3.org/2005/xpath-functions":r.defaultFunctionNamespaceURI,r.functionNameResolver||function(){return null});g=new Ca(g);var b=be(u,["mainModule","libraryModule"]),_=be(b,"moduleDecl");return _&&Vt(g,Ht(be(_,"prefix")),_=Ht(be(_,"uri"))),(b=be(b,"prolog"))&&Th(b,g,!1,t),r.annotateAst!==!1&&ag(u,new Ac(g)),g=new na,r=eb(i,s,u,null,r.wc===!1),i.insertBefore(r,s.createComment(t),g.getFirstChild(r)),r}function kT(t){return Promise.resolve(t)}function _T(t,r){if(ag(r=Rc(t,{$:!0,debug:(r=r===void 0?{debug:!1}:r).debug}),new Ac(void 0)),!(r=be(r,"libraryModule")))throw Error("XQuery module must be declared in a library module.");var s=be(r,"moduleDecl"),i=be(s,"uri"),u=Ht(i);if(i=Ht(s=be(s,"prefix")),Vt(s=new Ca(new ne(function(){return null},Object.create(null),"http://www.w3.org/2005/xpath-functions",Bh("http://www.w3.org/2005/xpath-functions"))),i,u),(r=be(r,"prolog"))!==null){try{var g=Th(r,s,!0,t)}catch(b){Ao(t,b)}g.Ma.forEach(function(b){if(u!==b.namespaceURI)throw Error("XQST0048: Functions and variables declared in a module must reside in the module target namespace.")}),Cg(u,g)}else Cg(u,{Ma:[],Va:[],ra:null,source:t});return u}var Gh=new Map;function Vh(t){var r;e:{if(r=td.get(t)){for(var s=j(Object.keys(r)),i=s.next();!i.done;i=s.next())if(r[i=i.value]&&r[i].length){r=r[i][0].h;break e}}r=null}if(r)return r;if(Gh.has(t))return Gh.get(t);if((r=mt(r=typeof t=="string"?Rc(t,{$:!1}):nd(t),["mainModule","queryBody","*"]))===null)throw Error("Library modules do not have a specificity");return r=ah(r,{ua:!1,$:!1}),Gh.set(t,r),r}function ET(t){return Vh(t).B()}function AT(t,r){return un(Vh(t).o,Vh(r).o)}var ST=new na;return h!==void 0&&(h.compareSpecificity=AT,h.compileXPathToJavaScript=mT,h.domFacade=ST,h.evaluateXPath=kr,h.evaluateXPathToArray=RS,h.evaluateXPathToAsyncIterator=By,h.evaluateXPathToBoolean=FS,h.evaluateXPathToFirstNode=MS,h.evaluateXPathToMap=PS,h.evaluateXPathToNodes=LS,h.evaluateXPathToNumber=US,h.evaluateXPathToNumbers=zS,h.evaluateXPathToString=$S,h.evaluateXPathToStrings=GS,h.evaluateUpdatingExpression=OS,h.evaluateUpdatingExpressionSync=BS,h.executeJavaScriptCompiledXPath=wT,h.executePendingUpdateList=VS,h.getBucketForSelector=ET,h.getBucketsForNode=jr,h.precompileXPath=kT,h.registerXQueryModule=_T,h.registerCustomXPathFunction=yT,h.parseScript=xT,h.profiler=DS,h.createTypedValueFactory=NS,h.finalizeModuleRegistration=Dc,h.Language=CS,h.ReturnType=xr),h}(l,p))}]]);v1.get=n=>Av.get(n);v1.has=n=>Av.has(n);/*!
 * This file is part of eyeo's Anti-Circumvention Snippets module (@eyeo/snippets),
 * Copyright (C) 2006-present eyeo GmbH
 * 
 * @eyeo/snippets is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 * 
 * @eyeo/snippets is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with @eyeo/snippets.  If not, see <http://www.gnu.org/licenses/>.
 */const x1=(n,...e)=>{const a=Proxy,{apply:o,bind:l,call:p}=Function,f=p.bind(o),d=p.bind(l),c=p.bind(p),h={get:(se,Fe)=>d(p,se[Fe])},y=se=>new a(se,h),w=(se,Fe)=>new a(se,{apply:(Pe,Be,Le)=>f(Fe,Be,Le)}),k={get:(se,Fe)=>d(se[Fe],se)},A=se=>new a(se,k),{assign:S,defineProperties:T,freeze:I,getOwnPropertyDescriptor:j,getOwnPropertyDescriptors:V,getPrototypeOf:C}=A(Object),{hasOwnProperty:q}=y({}),{species:L}=Symbol,R={get(se,Fe){const Pe=se[Fe];class Be extends Pe{}const Le=V(Pe.prototype);delete Le.constructor,I(T(Be.prototype,Le));const Ue=V(Pe);return delete Ue.length,delete Ue.prototype,Ue[L]={value:Be},I(T(Be,Ue))}},G=se=>new a(se,R),F=typeof n<"u"?n:{};typeof globalThis>"u"&&(window.globalThis=window);const{apply:O,ownKeys:N}=A(Reflect),E="world"in F,B=E&&F.world==="ISOLATED",M=E&&F.world==="MAIN",P=typeof chrome=="object"&&!!chrome.runtime,$=typeof browser=="object"&&!!browser.runtime,ee=!M&&(B||P||$),K=se=>ee?se:X(se,re(se)),{create:X,defineProperties:Y,defineProperty:Q,freeze:te,getOwnPropertyDescriptor:ge,getOwnPropertyDescriptors:re}=A(Object),_e=A(globalThis),$e=ee?globalThis:G(globalThis),{Map:oe,RegExp:ie,Set:xe,WeakMap:he,WeakSet:Ce}=$e,qe=(se,Fe,Pe=null)=>{const Be=N(Fe);for(const Le of N(se)){if(Be.includes(Le))continue;const Ue=ge(se,Le);if(Pe&&"value"in Ue){const{value:et}=Ue;typeof et=="function"&&(Ue.value=Pe(et))}Q(Fe,Le,Ue)}},we=se=>{const Fe=$e[se];class Pe extends Fe{}const{toString:Be,valueOf:Le}=Fe.prototype;Y(Pe.prototype,{toString:{value:Be},valueOf:{value:Le}});const Ue=se.toLowerCase(),et=at=>function(){const gt=O(at,this,arguments);return typeof gt===Ue?new Pe(gt):gt};return qe(Fe,Pe,et),qe(Fe.prototype,Pe.prototype,et),Pe},Re=te({frozen:new he,hidden:new Ce,iframePropertiesToAbort:{read:new xe,write:new xe},abortedIframes:new he}),Ze=new ie("^[A-Z]"),it=ee&&(P&&chrome||$&&browser)||void 0;var De=new Proxy(new oe([["chrome",it],["browser",it],["isExtensionContext",ee],["variables",Re],["console",K(console)],["document",globalThis.document],["JSON",K(JSON)],["Map",oe],["Math",K(Math)],["Number",ee?Number:we("Number")],["RegExp",ie],["Set",xe],["String",ee?String:we("String")],["WeakMap",he],["WeakSet",Ce],["MouseEvent",MouseEvent]]),{get(se,Fe){if(se.has(Fe))return se.get(Fe);let Pe=globalThis[Fe];return typeof Pe=="function"&&(Pe=(Ze.test(Fe)?$e:_e)[Fe]),se.set(Fe,Pe),Pe},has:(se,Fe)=>se.has(Fe)});const Ie={WeakSet,WeakMap,WeakValue:class{has(){return!1}set(){}}},{apply:nt}=Reflect,{Map:lt,WeakMap:Ot,WeakSet:fe,setTimeout:le}=De;let ye=!0,rt=se=>{se.clear(),ye=!ye};var Et=(function(se){const{WeakSet:Fe,WeakMap:Pe,WeakValue:Be}=this||Ie,Le=new Fe,Ue=new Pe,et=new Be;return function(at){if(Le.has(at))return at;if(Ue.has(at))return Ue.get(at);if(et.has(at))return et.get(at);const gt=nt(se,this,arguments);return Le.add(gt),gt!==at&&(typeof at=="object"&&at?Ue:et).set(at,gt),gt}}).bind({WeakMap:Ot,WeakSet:fe,WeakValue:class extends lt{set(se,Fe){return ye&&(ye=!ye,le(rt,0,this)),super.set(se,Fe)}}});const{concat:ue,includes:Kt,join:He,reduce:Ct,unshift:Xt}=y([]),me=G(globalThis),{Map:Se,WeakMap:ut}=me,Z=new Se,vt=se=>{const Fe=(Be=>{const Le=[];let Ue=Be;for(;Ue;){if(Z.has(Ue))Xt(Le,Z.get(Ue));else{const et=V(Ue);Z.set(Ue,et),Xt(Le,et)}Ue=C(Ue)}return Xt(Le,{}),f(S,null,Le)})(typeof se=="function"?se.prototype:se),Pe={get(Be,Le){if(Le in Fe){const{value:Ue,get:et}=Fe[Le];if(et)return c(et,Be);if(typeof Ue=="function")return d(Ue,Be)}return Be[Le]},set(Be,Le,Ue){if(Le in Fe){const{set:et}=Fe[Le];if(et)return c(et,Be,Ue),!0}return Be[Le]=Ue,!0}};return Be=>new a(Be,Pe)},{isExtensionContext:Yt,Array:Un,Number:ke,String:Xe,Object:$t}=De,{isArray:St}=Un,{getOwnPropertyDescriptor:Pt,setPrototypeOf:dn}=$t,{toString:kn}=$t.prototype,{slice:Pn}=Xe.prototype,{get:En}=Pt(Node.prototype,"nodeType"),mn=Yt?{}:{Attr:vt(Attr),CanvasRenderingContext2D:vt(CanvasRenderingContext2D),CSSStyleDeclaration:vt(CSSStyleDeclaration),Document:vt(Document),Element:vt(Element),HTMLCanvasElement:vt(HTMLCanvasElement),HTMLElement:vt(HTMLElement),HTMLImageElement:vt(HTMLImageElement),HTMLScriptElement:vt(HTMLScriptElement),MutationRecord:vt(MutationRecord),Node:vt(Node),ShadowRoot:vt(ShadowRoot),get CSS2Properties(){return mn.CSSStyleDeclaration}},ot=(se,Fe)=>{if(Fe!=="Element"&&Fe in mn)return mn[Fe](se);if(St(se))return dn(se,Un.prototype);const Pe=(Be=>c(Pn,c(kn,Be),8,-1))(se);if(Pe in mn)return mn[Pe](se);if(Pe in De)return dn(se,De[Pe].prototype);if("nodeType"in se)switch(c(En,se)){case 1:if(!(Fe in mn))throw new Error("unknown hint "+Fe);return mn[Fe](se);case 2:return mn.Attr(se);case 3:return mn.Node(se);case 9:return mn.Document(se)}throw new Error("unknown brand "+Pe)};var Oe=Yt?se=>se===window||se===globalThis?De:se:Et((se,Fe="Element")=>{if(se===window||se===globalThis)return De;switch(typeof se){case"object":return se&&ot(se,Fe);case"string":return new Xe(se);case"number":return new ke(se);default:throw new Error("unsupported value")}});const nr={get(se,Fe){const Pe=se;for(;!q(se,Fe);)se=C(se);const{get:Be,set:Le}=j(se,Fe);return function(){return arguments.length?f(Le,Pe,arguments):c(Be,Pe)}}},J=se=>new a(se,nr);let{Math:ha,setInterval:Za,performance:ar}=Oe(window);const to={mark(){},end(){},toString:()=>"{mark(){},end(){}}"};let ds=!0;function qn(se,Fe=10){if(ds)return to;function Pe(){let Be=Oe([]);for(let{name:Le,duration:Ue}of ar.getEntriesByType("measure"))Be.push({name:Le,duration:Ue});Be.length&&ar.clearMeasures()}return qn[se]||(qn[se]=Za(Pe,ha.round(6e4/ha.min(60,Fe)))),{mark(){ar.mark(se)},end(Be=!1){ar.measure(se,se);const Le=ar.getEntriesByName(se,"measure"),Ue=Le.length>0?Le[Le.length-1]:null;console.log("PROFILER:",Ue),ar.clearMarks(se),Be&&(clearInterval(qn[se]),delete qn[se],Pe())}}}let jr=!1;function na(){return jr}const{console:Mr}=Oe(window),Do=()=>{};function Ua(...se){let{mark:Fe,end:Pe}=qn("log");if(na()){const Be=["%c DEBUG","font-weight: bold;"],Le=se.indexOf("error"),Ue=se.indexOf("warn"),et=se.indexOf("success"),at=se.indexOf("info");Le!==-1?(Be[0]+=" - ERROR",Be[1]+="color: red; border:2px solid red",Oe(se).splice(Le,1)):Ue!==-1?(Be[0]+=" - WARNING",Be[1]+="color: orange; border:2px solid orange ",Oe(se).splice(Ue,1)):et!==-1?(Be[0]+=" - SUCCESS",Be[1]+="color: green; border:2px solid green",Oe(se).splice(et,1)):at!==-1&&(Be[1]+="color: black;",Oe(se).splice(at,1)),Oe(se).unshift(...Be)}Fe(),Mr.log(...se),Pe()}function Zn(se){return d(na()?Ua:Do,null,se)}let{Array:gr,Math:ur,RegExp:yo}=Oe(window);function Ra(se){let{length:Fe}=se;if(Fe>1&&se[0]==="/"){let Pe=se[Fe-1]==="/";if(Pe||Fe>2&&Oe(se).endsWith("/i")){let Be=[Oe(se).slice(1,Pe?-1:-2)];return Pe||Be.push("i"),new yo(...Be)}}return new yo(Oe(se).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))}function _r(){return Oe(ur.floor(2116316160*ur.random()+60466176)).toString(36)}function Tn(se){return Oe(gr.from(se)).map(Fe=>`'${Fe}'`).join(" ")}let{parseFloat:Jo,variables:fs,clearTimeout:Co,fetch:zn,setTimeout:cr,Array:Pr,Error:rr,Map:Oo,Object:Ln,ReferenceError:Hn,Set:bo,WeakMap:It}=Oe(window),{onerror:Zt}=J(window),Kn=Node.prototype,aa=Element.prototype,hn=null;function Xn(se,Fe,Pe,Be=!0){let Le=Oe(Fe),Ue=Le.indexOf(".");if(Ue==-1){let Ee=Ln.getOwnPropertyDescriptor(se,Fe);if(Ee&&!Ee.configurable)return;let Ke=Ln.assign({},Pe,{configurable:Be});if(!Ee&&!Ke.get&&Ke.set){let Nt=se[Fe];Ke.get=()=>Nt}return void Ln.defineProperty(se,Fe,Ke)}let et=Le.slice(0,Ue).toString();Fe=Le.slice(Ue+1).toString();let at=se[et];!at||typeof at!="object"&&typeof at!="function"||Xn(at,Fe,Pe);let gt=Ln.getOwnPropertyDescriptor(se,et);if(gt&&!gt.configurable)return;hn||(hn=new It),hn.has(se)||hn.set(se,new Oo);let ct=hn.get(se);if(ct.has(et))return void ct.get(et).set(Fe,Pe);let kt=new Oo([[Fe,Pe]]);ct.set(et,kt),Ln.defineProperty(se,et,{get:()=>at,set(Ee){if(at=Ee,at&&(typeof at=="object"||typeof at=="function"))for(let[Ke,Nt]of kt)Xn(at,Ke,Nt)},configurable:Be})}function Ga(se){let Fe=Zt();Zt((...Pe)=>{let Be=Pe.length&&Pe[0];return!(typeof Be!="string"||!Oe(Be).includes(se))||(typeof Fe=="function"?f(Fe,this,Pe):void 0)})}function hs(se,Fe,Pe,Be="",Le=!0){let Ue=Zn(se);if(!Pe)return void Ue("error","no property to abort on read");let et=_r();Ue("info",`aborting on ${Pe} access`),Xn(Fe,Pe,{get:function(){throw Ue("success",`${Pe} access aborted`,`
FILTER: ${se} ${Be}`),new Hn(et)},set(){}},Le),Ga(et)}function Bo(se,Fe,Pe,Be="",Le=!0){let Ue=Zn(se);if(!Pe)return void Ue("error","no property to abort on write");let et=_r();Ue("info",`aborting when setting ${Pe}`),Xn(Fe,Pe,{set:function(){throw Ue("success",`setting ${Pe} aborted`,`
FILTER: ${se} ${Be}`),new Hn(et)}},Le),Ga(et)}function Ja(se,Fe=!1,Pe=!1){let Be=fs.abortedIframes,Le=fs.iframePropertiesToAbort;const Ue=Tn(se);for(let at of Pr.from(window.frames))if(Be.has(at))for(let gt of se)Fe&&Be.get(at).read.add({property:gt,formattedProperties:Ue}),Pe&&Be.get(at).write.add({property:gt,formattedProperties:Ue});for(let at of se)Fe&&Le.read.add({property:at,formattedProperties:Ue}),Pe&&Le.write.add({property:at,formattedProperties:Ue});function et(){for(let at of Pr.from(window.frames)){Be.has(at)||Be.set(at,{read:new bo(Le.read),write:new bo(Le.write)});let gt=Be.get(at).read;if(gt.size>0){let kt=Pr.from(gt);gt.clear();for(let{property:Ee,formattedProperties:Ke}of kt)hs("abort-on-iframe-property-read",at,Ee,Ke)}let ct=Be.get(at).write;if(ct.size>0){let kt=Pr.from(ct);ct.clear();for(let{property:Ee,formattedProperties:Ke}of kt)Bo("abort-on-iframe-property-write",at,Ee,Ke)}}}et(),Be.has(document)||(Be.set(document,!0),function(at){let gt;function ct(Ke,Nt){for(let Dt of Nt)Xn(Ke,Dt,kt(Ke,Dt))}function kt(Ke,Nt){let Dt=Ke[Nt];return{get:()=>function(...xt){let Ft;return Ft=f(Dt,this,xt),at&&at(),Ft}}}function Ee(Ke,Nt){let Dt=Ln.getOwnPropertyDescriptor(Ke,Nt),{set:xt}=Dt||{};return{set(Ft){let Tt;return Tt=c(xt,this,Ft),at&&at(),Tt}}}ct(Kn,["appendChild","insertBefore","replaceChild"]),ct(aa,["append","prepend","replaceWith","after","before","insertAdjacentElement","insertAdjacentHTML"]),gt=Ee(aa,"innerHTML"),Xn(aa,"innerHTML",gt),gt=Ee(aa,"outerHTML"),Xn(aa,"outerHTML",gt)}(et))}let{Object:$o}=window;function wo(se,Fe){if(!(se instanceof $o))return;let Pe=se,Be=Oe(Fe).split(".");if(Be.length===0)return;for(let Ue=0;Ue<Be.length-1;Ue++){let et=Be[Ue];if(!q(Pe,et)||(Pe=Pe[et],!(Pe instanceof $o)))return}let Le=Be[Be.length-1];return q(Pe,Le)?[Pe,Le]:void 0}const pr=Oe(/^\d+$/);function Ar(se){switch(se){case"false":return!1;case"true":return!0;case"null":return null;case"noopFunc":return()=>{};case"trueFunc":return()=>!0;case"falseFunc":return()=>!1;case"emptyArray":return[];case"emptyObj":return{};case"undefined":return;case"":return se;default:if(pr.test(se))return Jo(se);throw new rr(`[override-property-read snippet]: Value "${se}" is not valid.`)}}function Va(se,Fe){if(!se||!se.length)return!0;const Pe=_r(),Be=new rr(Pe),Le=new URL(self.location.href);Le.hash="";const Ue=/(.*?@)?(\S+)(:\d+):\d+\)?$/,et=[];for(let gt of Be.stack.split(/[\n\r]+/)){if(Oe(gt).includes(Pe))continue;gt=Oe(gt).trim();const ct=Oe(Ue).exec(gt);if(ct===null)continue;let kt=ct[2];Oe(kt).startsWith("(")&&(kt=Oe(kt).slice(1)),kt===Le.href?kt="inlineScript":Oe(kt).startsWith("<anonymous>")&&(kt="injectedScript");let Ee=ct[1]?Oe(ct[1]).slice(0,-1):Oe(gt).slice(0,Oe(ct).index).trim();Oe(Ee).startsWith("at")&&(Ee=Oe(Ee).slice(2).trim());let Ke=ct[3];Oe(et).push(" "+`${Ee} ${kt}${Ke}:1`.trim())}et[0]="stackDepth:"+(et.length-1);const at=Oe(et).join(`
`);for(let gt of se)if(Ra(gt).test(at))return Fe("info",`Found needle in stack trace: ${gt}`),!0;return Fe("info",`Stack trace does not match any needle. Stack trace: ${at}`),!1}new Oo;let{HTMLScriptElement:Qa,Object:Fa,ReferenceError:Ir}=Oe(window),Lr=Fa.getPrototypeOf(Qa);const{Error:Hr,Object:dr,Array:oo,Map:vo}=Oe(window);let Na=null;function Cs(se,Fe,Pe){let Be=se;for(const Le of Pe){if(!Be||!q(Be,Le))return!1;Be=Be[Le]}if(typeof Be=="string"||typeof Be=="number"){const Le=Be.toString();return Fe.test(Le)}return!1}const{Array:mi,Blob:xo,Error:Yr,Object:Nr,Reflect:va}=Oe(window),Ro=[];let{Error:ms,URL:Hi}=Oe(window),{cookie:Fo}=J(document);const{Map:qr,Object:Wr,Reflect:Dr,WeakMap:Mo}=Oe(window),Os=window.EventTarget.prototype.addEventListener,or=window.EventTarget.prototype.removeEventListener,Sr=new Mo;let Kr=[],{console:Ur,document:ko,getComputedStyle:gi,isExtensionContext:_o,variables:Pa,Array:Bs,MutationObserver:Qs,Object:ei,XPathEvaluator:Qo,XPathExpression:Wi,XPathResult:Go}=Oe(window);const{querySelectorAll:es}=ko,Ki=es&&d(es,ko);function gs(se,Fe=!1){return Xi(se,Ki.bind(ko),ko,Fe)}function Sl(se,Fe,Pe,Be){const Le=Fe.getAttribute("xlink:href")||Fe.getAttribute("href");if(Le){const et=Ki(Le)[0];if(!et&&na())return Ur.log("No elements found matching",Le),!1;if(!(Ue=se)||Ue.length===0||Ue.every(gt=>gt.trim()==="")){const gt=Be.length>0?Be:[];return Pe.push({element:et,rootParents:[...gt,Fe]}),!1}const at=et.querySelectorAll.bind(et);return{nextBoundElement:et,nestedSelectorsString:se.join("^^"),next$$:at}}var Ue}function Tl(se,Fe){const Pe=function(Be,Le=!1){try{const Ue=navigator.userAgent.includes("Firefox")?Be.openOrClosedShadowRoot:browser.dom.openOrClosedShadowRoot(Be);return Ue===null&&na()&&!Le&&Ur.log("Shadow root not found or not added in element yet",Be),Ue}catch(Ue){return na()&&!Le&&Ur.log("Error while accessing shadow root",Be,Ue),null}}(Fe);if(Pe){const{querySelectorAll:Be}=Pe,Le=Be&&d(Be,Pe).bind(Pe);return{nextBoundElement:Fe,nestedSelectorsString:":host "+se.join("^^"),next$$:Le}}return!1}function Xi(se,Fe,Pe,Be,Le=[]){if(se.includes("^^")){const[et,at,...gt]=se.split("^^");let ct,kt;switch(at){case"svg":kt=Sl;break;case"sh":kt=Tl;break;default:return na()&&Ur.log(at,` is not supported. Supported commands are: 
^^sh^^
^^svg^^`),[]}ct=et.trim()===""?[Pe]:Fe(et);const Ee=[];for(const Ke of ct){const Nt=kt(gt,Ke,Ee,Le);if(!Nt)continue;const{next$$:Dt,nestedSelectorsString:xt,nextBoundElement:Ft}=Nt,Tt=Xi(xt,Dt,Ft,Be,[...Le,Ke]);Tt&&Ee.push(...Tt)}return Ee}const Ue=Fe(se);return Be?[...Ue].map(et=>({element:et,rootParents:Le.length>0?Le:[]})):Ue}const{assign:jl,setPrototypeOf:ti}=ei;class Rs extends Wi{evaluate(...Fe){return ti(f(super.evaluate,this,Fe),Go.prototype)}}class Vo extends Qo{createExpression(...Fe){return ti(f(super.createExpression,this,Fe),Rs.prototype)}}function Fs(se){if(Pa.hidden.has(se))return!1;(function(Ue){_o&&typeof checkElement=="function"&&checkElement(Ue)})(se),Pa.hidden.add(se);let{style:Fe}=Oe(se),Pe=Oe(Fe,"CSSStyleDeclaration"),Be=Oe([]),{debugCSSProperties:Le}=F;for(let[Ue,et]of Le||[["display","none"]])Pe.setProperty(Ue,et,"important"),Be.push([Ue,Pe.getPropertyValue(Ue)]);return new Qs(()=>{for(let[Ue,et]of Be){let at=Pe.getPropertyValue(Ue),gt=Pe.getPropertyPriority(Ue);at==et&&gt=="important"||Pe.setProperty(Ue,et,"important")}}).observe(se,{attributes:!0,attributeFilter:["style"]}),!0}function ni(se){let Fe=se;if(Fe.startsWith("xpath(")&&Fe.endsWith(")")){let Pe=function(Be){let Le=Be;if(Le.startsWith("xpath(")&&Le.endsWith(")")){let Ue=Le.slice(6,-1),et=new Vo().createExpression(Ue,null),at=Go.ORDERED_NODE_SNAPSHOT_TYPE;return gt=>{if(!gt)return;let ct=et.evaluate(ko,at,null),{snapshotLength:kt}=ct;for(let Ee=0;Ee<kt;Ee++)gt(ct.snapshotItem(Ee))}}return Ue=>gs(Be).forEach(Ue)}(se);return()=>{let Be=Oe([]);return Pe(Le=>Be.push(Le)),Be}}return()=>Bs.from(gs(se))}let{ELEMENT_NODE:ts,TEXT_NODE:ns,prototype:zr}=Node,{prototype:sr}=Element,{prototype:Yi}=HTMLElement,{console:yi,variables:Cr,DOMParser:Ms,Error:qi,MutationObserver:bi,Object:wi,ReferenceError:Il}=Oe(window),{getOwnPropertyDescriptor:Ps}=wi;const{CanvasRenderingContext2D:Zi,document:Nl,Map:ai,MutationObserver:Dl,Object:Ji,Set:vi,WeakSet:Qi}=Oe(window);let so,Ls=new vi,ys=new Qi;function ra(se,Fe,Pe,Be){Ls.add({canvasElement:se,rule:Fe,functionName:Pe,text:Be})}Oe(window);const{Map:Eo,MutationObserver:el,Object:Ha,Set:xi,WeakSet:Te}=Oe(window);let Me=Element.prototype,{attachShadow:Ge}=Me,tt=new Te,Je=new Eo,Qe=null;const{Array:jt,Error:Rt,JSON:Lt,Map:cn,Object:vn,Response:gn}=Oe(window);let Gt=null,{Array:nn,Error:jn,JSON:Jt,Map:On,Object:pn,Response:ja}=Oe(window),Qn=null;const{Error:$n,Object:Wa,Map:Gn}=Oe(window);let Jn=null;function er(se,Fe,Pe){if(!Pe.length){if(typeof se=="string"||typeof se=="number"){const Le=se.toString();return Fe.test(Le)}return!1}let Be=se;for(const Le of Pe){if(!Be||!q(Be,Le))return!1;Be=Be[Le]}if(typeof Be=="string"||typeof Be=="number"){const Le=Be.toString();return Fe.test(Le)}return!1}let{Error:Er}=Oe(window),{Error:ln,Map:oa,Object:sa,console:Da}=Oe(window),{toString:ca}=Function.prototype,Ka=EventTarget.prototype,{addEventListener:An}=Ka,tr=null,{fetch:yr}=Oe(window),Zr=!1;const Jr=[],Tr=[],br=()=>{Zr||(window.fetch=w(yr,(...se)=>{let[Fe]=se;if(Jr.length>0&&typeof Fe=="string"){let Pe;try{Pe=new URL(Fe)}catch(Be){if(!(Be instanceof TypeError))throw Be;Pe=new URL(Fe,Oe(document).location)}Jr.forEach(Be=>Be(Pe)),se[0]=Pe.href}return f(yr,self,se).then(Pe=>{let Be=Pe;return Tr.forEach(Le=>{Be=Le(Be)}),Be})}),Zr=!0)};let no,{Map:bs,Object:Us,RegExp:io,Response:tl}=Oe(window);const{Error:Cl,Object:nl,atob:al,btoa:rl,RegExp:Ol}=Oe(window);let ri,Ho,{RegExp:ol,XMLHttpRequest:Bl,WeakMap:as}=Oe(window),ki,{delete:wu,has:Rl}=y(URLSearchParams.prototype);const Fl={"abort-current-inline-script":function(se,Fe=null){const Pe=Tn(arguments),Be=Zn("abort-current-inline-script"),{mark:Le,end:Ue}=qn("abort-current-inline-script"),et=Fe?Ra(Fe):null,at=_r(),gt=Oe(document).currentScript;let ct=window;const kt=Oe(se).split("."),Ee=Oe(kt).pop();for(let Tt of Oe(kt))if(ct=ct[Tt],!ct||typeof ct!="object"&&typeof ct!="function")return void Be("warn",kt," is not found");const{get:Ke,set:Nt}=Fa.getOwnPropertyDescriptor(ct,Ee)||{};let Dt=ct[Ee];Dt===void 0&&Be("warn","The property",Ee,"doesn't exist yet. Check typos.");const xt=()=>{const Tt=Oe(document).currentScript;if(Tt instanceof Lr&&Oe(Tt,"HTMLScriptElement").src==""&&Tt!=gt&&(!et||et.test(Oe(Tt).textContent)))throw Be("success",kt,` is aborted 
`,Tt,`
FILTER: abort-current-inline-script`,Pe),new Ir(at)},Ft={get(){return xt(),Ke?c(Ke,this):Dt},set(Tt){xt(),Nt?c(Nt,this,Tt):Dt=Tt}};Le(),Xn(ct,Ee,Ft),Ue(),Ga(at)},"abort-on-iframe-property-read":function(...se){const{mark:Fe,end:Pe}=qn("abort-on-iframe-property-read");Fe(),Ja(se,!0,!1),Pe()},"abort-on-iframe-property-write":function(...se){const{mark:Fe,end:Pe}=qn("abort-on-iframe-property-write");Fe(),Ja(se,!1,!0),Pe()},"abort-on-property-read":function(se,Fe){const Pe=Fe!=="false",Be=Tn(arguments),{mark:Le,end:Ue}=qn("abort-on-property-read");Le(),hs("abort-on-property-read",window,se,Be,Pe),Ue()},"abort-on-property-write":function(se,Fe){const Pe=Tn(arguments),{mark:Be,end:Le}=qn("abort-on-property-write"),Ue=Fe!=="false";Be(),Bo("abort-on-property-write",window,se,Pe,Ue),Le()},"array-override":function(se,Fe,Pe="false",Be,Le){if(!se)throw new Hr("[array-override snippet]: Missing method to override.");if(!Fe)throw new Hr("[array-override snippet]: Missing needle.");Na||(Na=new vo);let Ue=Zn("array-override");const{mark:et,end:at}=qn("array-override"),gt=Tn(arguments);if(se!=="push"||Na.has("push"))if(se!=="includes"||Na.has("includes")){if(se==="forEach"&&!Na.has("forEach")){et();const{forEach:Dt}=oo.prototype;Na.set("forEach",Oe([])),dr.defineProperty(window.Array.prototype,"forEach",{value:w(Dt,function(xt,Ft){const Tt=Na.get("forEach");return f(Dt,this,[function(At,_n,Qt){for(const{needleRegex:Sa,pathSegments:za,stackNeedles:Or}of Tt)if(za.length||typeof At!="string"&&typeof At!="number"){if(za.length&&typeof At=="object"&&At!==null&&Cs(At,Sa,za)&&Va(Or,Ue))return void Ue("success",`Array.forEach skipped callback for object containing needle: ${Sa}
FILTER: array-override ${gt}`)}else{const Br=At.toString();if(Br.match&&Br.match(Sa)&&Va(Or,Ue))return void Ue("success",`Array.forEach skipped callback for item matching needle: ${Sa}
FILTER: array-override ${gt}`)}return f(xt,Ft||this,[At,_n,Qt])},Ft])})}),Ue("info","Wrapped Array.prototype.forEach"),at()}}else{et();const{includes:Dt}=oo.prototype;Na.set("includes",Oe([])),dr.defineProperty(window.Array.prototype,"includes",{value:w(Dt,function(xt){const Ft=Na.get("includes");for(const{needleRegex:Tt,retVal:At,pathSegments:_n,stackNeedles:Qt}of Ft)if(_n.length||typeof xt!="string"&&typeof xt!="number"){if(_n.length&&typeof xt=="object"&&xt!==null&&Cs(xt,Tt,_n)&&Va(Qt,Ue))return Ue("success",`Array.includes returned ${At} for object containing ${Tt}
FILTER: array-override ${gt}`),At}else if(xt.toString().match&&xt.toString().match(Tt)&&Va(Qt,Ue))return Ue("success",`Array.includes returned ${At} for ${Tt}
FILTER: array-override ${gt}`),At;return f(Dt,this,arguments)})}),Ue("info","Wrapped Array.prototype.includes"),at()}else{et();const{push:Dt}=oo.prototype;Na.set("push",Oe([])),dr.defineProperty(window.Array.prototype,"push",{value:w(Dt,function(xt){const Ft=Na.get("push");for(const{needleRegex:Tt,pathSegments:At,stackNeedles:_n}of Ft)if(At.length||typeof xt!="string"&&typeof xt!="number"){if(At.length&&typeof xt=="object"&&xt!==null&&Cs(xt,Tt,At)&&Va(_n,Ue))return void Ue("success",`Array.push is ignored for object containing needle: ${Tt}
FILTER: array-override ${gt}`)}else{const Qt=xt.toString();if(Qt.match&&Qt.match(Tt)&&Va(_n,Ue))return void Ue("success",`Array.push is ignored for needle: ${Tt}
FILTER: array-override ${gt}`)}return f(Dt,this,arguments)})}),Ue("info","Wrapped Array.prototype.push"),at()}const ct=Ra(Fe);let kt=[];Be&&(kt=Be.split("."));let Ee=[];Le&&(Ee=Le.split(",").map(Dt=>Dt.trim()));const Ke=Na.get(se),Nt=Pe==="true";Ke.push({needleRegex:ct,retVal:Nt,pathSegments:kt,stackNeedles:Ee}),Na.set(se,Ke)},"blob-override":function(se,Fe="",Pe=null){if(!se)throw new Yr("[blob-override snippet]: Missing parameter search.");const Be=Zn("blob-override"),Le=Tn(arguments),{mark:Ue,end:et}=qn("blob-override");if(Ue(),Ro.push({match:Ra(se),replaceWith:Fe,needle:Pe?Ra(Pe):null,formattedArgs:Le}),Ro.length>1)return;const at=xo;function gt(ct,kt={}){if(mi.isArray(ct)){let Ke=Oe(ct).join("");for(const Nt of Oe(Ro))Nt.needle&&!Nt.needle.test(Ke)||!Nt.match.test(Ke)||(Ke=Ke.replace(Nt.match,Nt.replaceWith),Be("success",`Replaced: ${Nt.match} → ${Nt.replaceWith},
FILTER: blob-override ${Nt.formattedArgs}`));ct=[Ke]}const Ee=va.construct(at,[ct,kt]);return Nr.setPrototypeOf(Ee,gt.prototype),Ee}gt.prototype=at.prototype,Nr.setPrototypeOf(gt,at),window.Blob=gt,Be("info","Wrapped Blob constructor in context "),et()},"cookie-remover":function(se,Fe=!1){if(!se)throw new ms("[cookie-remover snippet]: No cookie to remove.");const Pe=Tn(arguments);let Be=Zn("cookie-remover");const{mark:Le,end:Ue}=qn("cookie-remover");let et=Ra(se);if(!Oe(/^http|^about/).test(location.protocol))return void Be("warn","Snippet only works for http or https and about.");function at(){return Oe(Fo()).split(";").filter(ct=>et.test(Oe(ct).split("=")[0]))}const gt=()=>{Be("info","Parsing cookies for matches"),Le();for(const ct of Oe(at())){let kt=Oe(location.hostname);!kt&&Oe(location.ancestorOrigins)&&Oe(location.ancestorOrigins[0])&&(kt=new Hi(Oe(location.ancestorOrigins[0])).hostname);const Ee=Oe(ct).split("=")[0],Ke="expires=Thu, 01 Jan 1970 00:00:00 GMT",Nt="path=/",Dt=kt.split(".");for(let xt=Dt.length;xt>0;xt--){const Ft=Dt.slice(Dt.length-xt).join(".");Fo(`${Oe(Ee).trim()}=;${Ke};${Nt};domain=${Ft}`),Fo(`${Oe(Ee).trim()}=;${Ke};${Nt};domain=.${Ft}`),Be("success",`Set expiration date on ${Ee}`,`
FILTER: cookie-remover`,Pe)}}Ue()};if(gt(),Fe){let ct=at();setInterval(()=>{let kt=at();if(kt!==ct)try{gt()}finally{ct=kt}},1e3)}},profile:function(){ds=!1},debug:function(){jr=!0},"event-override":function(se,Fe,Pe=null){const Be=Tn(arguments),Le={eventType:se,mode:Fe,needle:Pe?Ra(Pe):null,formattedArgs:Be};if(Kr.includes(Le)||Kr.push(Le),Kr.length>1)return;let Ue=Zn("[event-override]");const{mark:et,end:at}=qn("event-override"),gt=Wr.getOwnPropertyDescriptor(window.EventTarget.prototype,"addEventListener");gt.configurable&&Wr.defineProperty(window.EventTarget.prototype,"addEventListener",{...gt,value:w(Os,function(kt,Ee,Ke){et();const Nt=Kr.filter(Tt=>Tt.eventType===kt);if(!Nt.length||kt!==Nt[0].eventType)return at(),f(Os,this,arguments);const Dt=Nt.find(Tt=>Tt.mode==="disable"&&(!Tt.needle||Tt.needle.test(Ee.toString())));if(Dt)return Ue("success",`Disabling ${Dt.eventType} event, 
FILTER: event-override ${Dt.formattedArgs}`),void at();const xt=Nt.filter(Tt=>Tt.mode==="trusted"&&(!Tt.needle||Tt.needle.test(Ee.toString())));if(typeof Ee!="function"&&(!Ee||typeof Ee.handleEvent!="function")||!xt.length||kt!==xt[0].eventType)return at(),f(Os,this,arguments);const Ft=function(Tt){const At=new Proxy(Tt,{get(_n,Qt){if(Qt==="isTrusted")return Ue("success",`Providing trusted value for ${Tt.type} event`),!0;const Sa=Dr.get(_n,Qt);return typeof Sa=="function"?function(...za){return f(Sa,_n,za)}:Sa}});return typeof Ee=="function"?c(Ee,this,At):c(Ee.handleEvent,Ee,At)};return Ft.originalListener=Ee,Sr.has(Ee)||Sr.set(Ee,new qr),Sr.get(Ee).set(kt,Ft),Ue("info",`
Wrapping event listener for ${kt}`),at(),f(Os,this,[kt,Ft,Ke])})});const ct=Wr.getOwnPropertyDescriptor(window.EventTarget.prototype,"removeEventListener");ct.configurable&&Wr.defineProperty(window.EventTarget.prototype,"removeEventListener",{...ct,value:w(or,function(kt,Ee,Ke){if(Ee&&Sr.has(Ee)&&Sr.get(Ee).has(kt)){const Nt=Sr.get(Ee).get(kt);return Sr.get(Ee).delete(kt),f(or,this,[kt,Nt,Ke])}return f(or,this,arguments)})}),Ue("info","Initialized event-override snippet")},"freeze-element":function(se,Fe="",...Pe){let Be,Le,Ue=!1,et=!1,at=Oe(Pe).filter(yt=>!Ke(yt)),gt=Oe(Pe).filter(yt=>Ke(yt)).map(Ra),ct=_r(),kt=ni(se);(function(){let yt=Oe(Fe).split("+");yt.length===1&&yt[0]===""&&(yt=[]);for(let fn of yt)switch(fn){case"subtree":Ue=!0;break;case"abort":et=!0;break;default:throw new qi("[freeze] Unknown option passed to the snippet. [selector]: "+se+" [option]: "+fn)}})();let Ee={selector:se,shouldAbort:et,rid:ct,exceptionSelectors:at,regexExceptions:gt,changeId:0};function Ke(yt){return yt.length>=2&&yt[0]=="/"&&yt[yt.length-1]=="/"}function Nt(){Le=kt(),Dt(Le,!1)}function Dt(yt,fn=!0){for(let yn of yt)Cr.frozen.has(yn)||(Cr.frozen.set(yn,Ee),!fn&&Ue&&new bi(ma=>{for(let In of Oe(ma))Dt(Oe(In,"MutationRecord").addedNodes)}).observe(yn,{childList:!0,subtree:!0}),Ue&&Oe(yn).nodeType===ts&&Dt(Oe(yn).childNodes))}function xt(yt,...fn){Ua(`[freeze][${yt}] `,...fn)}function Ft(yt,fn,yn,ma){let In=ma.selector,Bn=ma.changeId,qt=typeof yt=="string",un=ma.shouldAbort?"aborting":"watching";switch(yi.groupCollapsed(`[freeze][${Bn}] ${un}: ${In}`),yn){case"appendChild":case"append":case"prepend":case"insertBefore":case"replaceChild":case"insertAdjacentElement":case"insertAdjacentHTML":case"insertAdjacentText":case"innerHTML":case"outerHTML":xt(Bn,qt?"text: ":"node: ",yt),xt(Bn,"added to node: ",fn);break;case"replaceWith":case"after":case"before":xt(Bn,qt?"text: ":"node: ",yt),xt(Bn,"added to node: ",Oe(fn).parentNode);break;case"textContent":case"innerText":case"nodeValue":xt(Bn,"content of node: ",fn),xt(Bn,"changed to: ",yt)}xt(Bn,`using the function "${yn}"`),yi.groupEnd(),ma.changeId++}function Tt(yt,fn){if(fn){for(let yn of fn)if(yn.test(yt))return!0}return!1}function At(yt){throw new Il(yt)}function _n(yt,fn,yn,ma){let In=new Ms,{body:Bn}=Oe(In.parseFromString(yt,"text/html")),qt=Qt(Oe(Bn).childNodes,fn,yn,ma);return Oe(qt).map(un=>{switch(Oe(un).nodeType){case ts:return Oe(un).outerHTML;case ns:return Oe(un).textContent;default:return""}}).join("")}function Qt(yt,fn,yn,ma){let In=Oe([]);for(let Bn of yt)Sa(Bn,fn,yn,ma)&&In.push(Bn);return In}function Sa(yt,fn,yn,ma){let In=ma.shouldAbort,Bn=ma.regexExceptions,qt=ma.exceptionSelectors,un=ma.rid;if(typeof yt=="string"){let wr=yt;return!!Tt(wr,Bn)||(na()&&Ft(wr,fn,yn,ma),In&&At(un),na())}let ea=yt;switch(Oe(ea).nodeType){case ts:return!!function(wr,lo){if(lo){let zs=Oe(wr);for(let uo of lo)if(zs.matches(uo))return!0}return!1}(ea,qt)||(In&&(na()&&Ft(ea,fn,yn,ma),At(un)),!!na()&&(Fs(ea),Ft(ea,fn,yn,ma),!0));case ns:return!!Tt(Oe(ea).textContent,Bn)||(na()&&Ft(ea,fn,yn,ma),In&&At(un),!1);default:return!0}}function za(yt,fn,yn,ma){let In=Ps(yt,fn)||{},Bn=In.get&&c(In.get,yt)||In.value;if(Bn)return{get:()=>function(...qt){if(yn(this)){let un=ma(this);if(un){let ea=qt[0];if(!Sa(ea,this,fn,un))return ea}}return f(Bn,this,qt)}}}function Or(yt,fn,yn,ma){let In=Ps(yt,fn)||{},Bn=In.get&&c(In.get,yt)||In.value;if(Bn)return{get:()=>function(...qt){if(!yn(this))return f(Bn,this,qt);let un=ma(this);if(!un)return f(Bn,this,qt);let ea=Qt(qt,this,fn,un);return ea.length>0?f(Bn,this,ea):void 0}}}function Br(yt,fn,yn,ma){let In=Ps(yt,fn)||{},Bn=In.get&&c(In.get,yt)||In.value;if(Bn)return{get:()=>function(...qt){let[un,ea]=qt,wr=un==="afterbegin"||un==="beforeend";if(yn(this,wr)){let lo=ma(this,wr);if(lo){let zs,uo=wr?this:Oe(this).parentNode;switch(fn){case"insertAdjacentElement":if(!Sa(ea,uo,fn,lo))return ea;break;case"insertAdjacentHTML":return zs=_n(ea,uo,fn,lo),zs?c(Bn,this,un,zs):void 0;case"insertAdjacentText":if(!Sa(ea,uo,fn,lo))return}}}return f(Bn,this,qt)}}}function Xa(yt,fn,yn,ma){let In=Ps(yt,fn)||{},{set:Bn}=In;if(Bn)return{set(qt){if(!yn(this))return c(Bn,this,qt);let un=ma(this);if(!un)return c(Bn,this,qt);let ea=_n(qt,this,fn,un);return ea?c(Bn,this,ea):void 0}}}function Ta(yt,fn,yn,ma){let In=Ps(yt,fn)||{},{set:Bn}=In;if(Bn)return{set(qt){if(!yn(this))return c(Bn,this,qt);let un=ma(this);return un?Sa(qt,this,fn,un)?c(Bn,this,qt):void 0:c(Bn,this,qt)}}}Cr.frozen.has(document)||(Cr.frozen.set(document,!0),function(){let yt;function fn(un){return un&&Cr.frozen.has(un)}function yn(un){try{return un&&(Cr.frozen.has(un)||Cr.frozen.has(Oe(un).parentNode))}catch{return!1}}function ma(un,ea){try{return un&&(Cr.frozen.has(un)&&ea||Cr.frozen.has(Oe(un).parentNode)&&!ea)}catch{return!1}}function In(un){return Cr.frozen.get(un)}function Bn(un){try{if(Cr.frozen.has(un))return Cr.frozen.get(un);let ea=Oe(un).parentNode;return Cr.frozen.get(ea)}catch{}}function qt(un,ea){try{if(Cr.frozen.has(un)&&ea)return Cr.frozen.get(un);let wr=Oe(un).parentNode;return Cr.frozen.get(wr)}catch{}}yt=za(zr,"appendChild",fn,In),Xn(zr,"appendChild",yt),yt=za(zr,"insertBefore",fn,In),Xn(zr,"insertBefore",yt),yt=za(zr,"replaceChild",fn,In),Xn(zr,"replaceChild",yt),yt=Or(sr,"append",fn,In),Xn(sr,"append",yt),yt=Or(sr,"prepend",fn,In),Xn(sr,"prepend",yt),yt=Or(sr,"replaceWith",yn,Bn),Xn(sr,"replaceWith",yt),yt=Or(sr,"after",yn,Bn),Xn(sr,"after",yt),yt=Or(sr,"before",yn,Bn),Xn(sr,"before",yt),yt=Br(sr,"insertAdjacentElement",ma,qt),Xn(sr,"insertAdjacentElement",yt),yt=Br(sr,"insertAdjacentHTML",ma,qt),Xn(sr,"insertAdjacentHTML",yt),yt=Br(sr,"insertAdjacentText",ma,qt),Xn(sr,"insertAdjacentText",yt),yt=Xa(sr,"innerHTML",fn,In),Xn(sr,"innerHTML",yt),yt=Xa(sr,"outerHTML",yn,Bn),Xn(sr,"outerHTML",yt),yt=Ta(zr,"textContent",fn,In),Xn(zr,"textContent",yt),yt=Ta(Yi,"innerText",fn,In),Xn(Yi,"innerText",yt),yt=Ta(zr,"nodeValue",fn,In),Xn(zr,"nodeValue",yt)}()),Be=new bi(Nt),Be.observe(document,{childList:!0,subtree:!0}),Nt()},"hide-if-canvas-contains":function(se,Fe="canvas"){const Pe=Zn("hide-if-canvas-contains"),Be=Tn(arguments),{mark:Le,end:Ue}=qn("hide-if-canvas-contains");if(!se)return void Pe("error","The parameter 'search' is required");if(!so){let gt=function(ct){const kt=at[ct];Ji.defineProperty(window.CanvasRenderingContext2D.prototype,ct,{value:w(kt,function(Ee,...Ke){for(const[Nt,Dt]of so)if(Nt.test(Ee)){const xt=this.canvas;let Ft=Oe(xt).closest(Dt.selector);Ft&&!ys.has(Ft)?(Fs(Ft),ys.add(Ft),Pe("success","Matched: ",Ft,`
FILTER: hide-if-canvas-contains ${Dt.formattedArguments}`)):ra(xt,Dt,ct,Ee)}return f(kt,this,[Ee,...Ke])})})};Le();const at=Zi.prototype;Pe("info","CanvasRenderingContext2D proxied"),gt("fillText"),gt("strokeText"),so=new ai,new Dl(ct=>{for(let kt of Oe(ct))kt.type==="childList"&&Ls.forEach(({canvasElement:Ee,rule:Ke,functionName:Nt,text:Dt})=>{let xt=Oe(Ee).closest(Ke.selector);xt&&!ys.has(xt)&&(Fs(xt),ys.add(xt),Ls.delete({canvasElement:Ee,rule:Ke,functionName:Nt,text:Dt}),Zn("hide-if-canvas-contains")("success","Matched: ",xt,`
FILTER: hide-if-canvas-contains ${Ke.formattedArguments}`))})}).observe(Nl,{childList:!0,subtree:!0}),Ue()}const et=Ra(se);so.set(et,{selector:Fe,formattedArguments:Be})},"hide-if-shadow-contains":function(se,Fe="*"){const Pe=Tn(arguments);let Be=`${se}\\${Fe}`;Je.has(Be)||Je.set(Be,[Ra(se),Fe,Do],Pe);const Le=Zn("hide-if-shadow-contains"),{mark:Ue,end:et}=qn("hide-if-shadow-contains");Qe||(Qe=new el(at=>{Ue();let gt=new xi;for(let{target:ct}of Oe(at)){let kt=Oe(ct).parentNode;for(;kt;)[ct,kt]=[kt,Oe(ct).parentNode];if(!tt.has(ct)&&!gt.has(ct)){gt.add(ct);for(let[Ee,Ke,Nt]of Je.values())if(Ee.test(Oe(ct).textContent)){let Dt=Oe(ct.host).closest(Ke);Dt&&(Nt(),Oe(ct).appendChild(document.createElement("style")).textContent=":host {display: none !important}",Fs(Dt),tt.add(ct),Le("success","Hiding: ",Dt,`
FILTER: hide-if-shadow-contains ${Pe}`)),et()}}}}),Ha.defineProperty(Me,"attachShadow",{value:w(Ge,function(){let at=f(Ge,this,arguments);return Le("info","attachShadow is called for: ",at),Qe.observe(at,{childList:!0,characterData:!0,subtree:!0}),at})}))},"json-override":function(se,Fe,Pe="",Be=""){if(!se)throw new Rt("[json-override snippet]: Missing paths to override.");if(Fe===void 0)throw new Rt("[json-override snippet]: No value to override with.");if(!Gt){let gt=function(Nt,Dt){for(let{formattedArgs:xt,prune:Ft,needle:Tt,filter:At,value:_n}of Gt.values())if(!At||At.test(Dt)){if(Oe(Tt).some(Qt=>!wo(Nt,Qt)))return Nt;for(let Qt of Ft)Qt.includes("{}")||Qt.includes("[]")?ct(Nt,Qt,_n,xt):kt(Nt,Qt,_n,xt)}return Nt},ct=function(Nt,Dt,xt,Ft){let Tt=Oe(Dt).split("."),At=Nt;for(let _n=0;_n<Tt.length;_n++){let Qt=Tt[_n];if(Qt==="[]")return void(jt.isArray(At)&&(Ue("info",`Iterating over array at: ${Qt}`),Oe(At).forEach(Sa=>{Sa!=null&&ct(Sa,Tt.slice(_n+1).join("."),xt,Ft)})));if(Qt==="{}")return void(At&&typeof At=="object"&&(Ue("info",`Iterating over object at: ${Qt}`),vn.keys(At).forEach(Sa=>{let za=At[Sa];za!=null&&ct(za,Tt.slice(_n+1).join("."),xt,Ft)})));if(!At||typeof At!="object"||!q(At,Qt))return;_n===Tt.length-1?(Ue("success",`Found ${Dt}, replaced it with ${xt}`,`
FILTER: json-override ${Ft}`),At[Qt]=Ar(xt)):At=At[Qt]}},kt=function(Nt,Dt,xt,Ft){let Tt=wo(Nt,Dt);Tt!==void 0&&(Ue("success",`Found ${Dt}, replaced it with ${xt}`,`
FILTER: json-override ${Ft}`),Tt[0][Tt[1]]=Ar(xt))},Ue=Zn("json-override");const{mark:et,end:at}=qn("json-override");et();let{parse:Ee}=Lt;Gt=new cn,vn.defineProperty(window.JSON,"parse",{value:w(Ee,function(Nt){return gt(f(Ee,this,arguments),Nt)})}),Ue("info","Wrapped JSON.parse for override");let{json:Ke}=gn.prototype;vn.defineProperty(window.Response.prototype,"json",{value:w(Ke,function(Nt){return f(Ke,this,arguments).then(Dt=>gt(Dt,Nt))})}),Ue("info","Wrapped Response.json for override"),at()}const Le=Tn(arguments);Gt.set(se,{formattedArgs:Le,prune:Oe(se).split(/ +/),needle:Pe.length?Oe(Pe).split(/ +/):[],filter:Be?Ra(Be):null,value:Fe})},"json-prune":function(se,Fe="",Pe=""){if(!se)throw new jn("Missing paths to prune");if(!Qn){let at=function(Ke){for(let{prune:Nt,needle:Dt,stackNeedle:xt,formattedArgs:Ft}of Qn.values()){if(Oe(Dt).length>0&&Oe(Dt).some(Tt=>!wo(Ke,Tt))||Oe(xt)&&Oe(xt).length>0&&!Va(xt,Le))return Ke;for(let Tt of Nt)Tt.includes("{}")||Tt.includes("[]")?gt(Ke,Tt,Ft):ct(Ke,Tt,Ft)}return Ke},gt=function(Ke,Nt,Dt){let xt=Oe(Nt).split("."),Ft=Ke;for(let Tt=0;Tt<xt.length;Tt++){let At=xt[Tt];if(At==="[]")return void(nn.isArray(Ft)&&(Le("info",`Iterating over array at: ${At}`),Oe(Ft).forEach(_n=>gt(_n,xt.slice(Tt+1).join("."),Dt))));if(At==="{}")return void(typeof Ft=="object"&&Ft!==null&&(Le("info",`Iterating over object at: ${At}`),pn.keys(Ft).forEach(_n=>gt(Ft[_n],xt.slice(Tt+1).join("."),Dt))));if(!Ft||typeof Ft!="object"||!q(Ft,At))return;Tt===xt.length-1?(Le("success",`Found ${Nt} and deleted, 
FILTER: json-prune ${Dt}`),delete Ft[At]):Ft=Ft[At]}},ct=function(Ke,Nt,Dt){let xt=wo(Ke,Nt);xt!==void 0&&(Le("success",`Found ${Nt} and deleted`,`
FILTER: json-prune ${Dt}`),delete xt[0][xt[1]])},Le=Zn("json-prune");const{mark:Ue,end:et}=qn("json-prune");Ue();let{parse:kt}=Jt;Qn=new On,pn.defineProperty(window.JSON,"parse",{value:w(kt,function(){return at(f(kt,this,arguments))})}),Le("info","Wrapped JSON.parse for prune");let{json:Ee}=ja.prototype;pn.defineProperty(window.Response.prototype,"json",{value:w(Ee,function(){return f(Ee,this,arguments).then(Ke=>at(Ke))})}),Le("info","Wrapped Response.json for prune"),et()}const Be=Tn(arguments);Qn.set(se,{formattedArgs:Be,prune:Oe(se).split(/ +/),needle:Fe.length?Oe(Fe).split(/ +/):[],stackNeedle:Pe.length?Oe(Pe).split(/ +/):[]})},"map-override":function(se,Fe,Pe="",Be,Le){if(!se)throw new $n("[map-override snippet]: Missing method to override.");if(!Fe)throw new $n("[map-override snippet]: Missing needle.");Jn||(Jn=new Gn);let Ue=Zn("map-override");const{mark:et,end:at}=qn("map-override"),gt=Tn(arguments);if(se!=="set"||Jn.has("set"))if(se!=="get"||Jn.has("get")){if(se==="has"&&!Jn.has("has")){et();const{has:Dt}=Gn.prototype;Jn.set("has",Oe([])),Wa.defineProperty(window.Map.prototype,"has",{value:w(Dt,function(xt){const Ft=Jn.get("has");for(const{needleRegex:Tt,retVal:At,stackNeedles:_n}of Ft)if(typeof xt=="string"||typeof xt=="number"){const Qt=xt.toString();if(Tt.test(Qt)&&Va(_n,Ue))return Ue("success",`Map.has returned ${At} for key: ${Qt}
FILTER: map-override ${gt}`),At}return f(Dt,this,arguments)})}),Ue("info","Wrapped Map.prototype.has"),at()}}else{et();const{get:Dt}=Gn.prototype;Jn.set("get",Oe([])),Wa.defineProperty(window.Map.prototype,"get",{value:w(Dt,function(xt){const Ft=Jn.get("get");for(const{needleRegex:Tt,retVal:At,stackNeedles:_n}of Ft)if(typeof xt=="string"||typeof xt=="number"){const Qt=xt.toString();if(Tt.test(Qt)&&Va(_n,Ue))return Ue("success",`Map.get returned ${At} for key: ${Qt}
FILTER: map-override ${gt}`),At}return f(Dt,this,arguments)})}),Ue("info","Wrapped Map.prototype.get"),at()}else{et();const{set:Dt}=Gn.prototype;Jn.set("set",Oe([])),Wa.defineProperty(window.Map.prototype,"set",{value:w(Dt,function(xt,Ft){const Tt=Jn.get("set");for(const{needleRegex:At,pathSegments:_n,stackNeedles:Qt}of Tt)if(er(Ft,At,_n)&&Va(Qt,Ue))return Ue("success",`Map.set is ignored for value matching needle: ${At}
FILTER: map-override ${gt}`),this;return f(Dt,this,arguments)})}),Ue("info","Wrapped Map.prototype.set"),at()}const ct=Ra(Fe);let kt=[];Be&&(kt=Be.split("."));let Ee=[];Le&&(Ee=Le.split(",").map(Dt=>Dt.trim()));const Ke=Jn.get(se);let Nt;se==="get"?Nt=Pe===""?void 0:Pe:se==="has"&&(Nt=Pe==="true"),Ke.push({needleRegex:ct,retVal:Nt,pathSegments:kt,stackNeedles:Ee}),Jn.set(se,Ke)},"override-property-read":function(se,Fe,Pe){if(!se)throw new Er("[override-property-read snippet]: No property to override.");if(Fe===void 0)throw new Er("[override-property-read snippet]: No value to override with.");const Be=Tn(arguments);let Le=Zn("override-property-read");const{mark:Ue,end:et}=qn("override-property-read");let at=Ar(Fe);Le("info",`Overriding ${se}.`);const gt=Pe!=="false";Ue(),Xn(window,se,{get:()=>(Le("success",`${se} override done.`,`
FILTER: override-property-read`,Be),at),set(){}},gt),et()},"prevent-listener":function(se,Fe,Pe){if(!se)throw new ln("[prevent-listener snippet]: No event type.");if(!tr){tr=new oa;let at=Zn("[prevent]");const{mark:gt,end:ct}=qn("prevent-listener");sa.defineProperty(Ka,"addEventListener",{value:w(An,function(kt,Ee){gt();for(let{evt:Ke,handlers:Nt,selectors:Dt}of tr.values()){if(!Ke.test(kt))continue;let xt=this instanceof Element;for(let Ft=0;Ft<Nt.length;Ft++){const Tt=Nt[Ft],At=Dt[Ft];if(!At||xt&&Oe(this).matches(At)){if(Tt){const _n=function(){try{const Qt=String(typeof Ee=="function"?Ee:Ee.handleEvent);return Tt.test(Qt)}catch(Qt){return at("error","Error while trying to stringify listener: ",Qt),!1}};if(!function(){try{const Qt=c(ca,typeof Ee=="function"?Ee:Ee.handleEvent);return Tt.test(Qt)}catch(Qt){return at("error","Error while trying to stringify listener: ",Qt),!1}}()&&!_n())continue}return void(na()&&(Da.groupCollapsed("DEBUG [prevent] was successful",`
FILTER: prevent-listener ${et}`),at("success",`type: ${kt} matching ${Ke}`),at("success","handler:",Ee),Tt&&at("success",`matching ${Tt}`),At&&at("success","on element: ",this,` matching ${At}`),at("success","was prevented from being added"),Da.groupEnd()))}}}return ct(),f(An,this,arguments)})}),at("info","Wrapped addEventListener")}const Be=Tn(arguments);tr.has(se)||tr.set(se,{evt:Ra(se),handlers:[],selectors:[],formattedArgs:Be});let{handlers:Le,selectors:Ue,formattedArgs:et}=tr.get(se);Le.push(Fe?Ra(Fe):null),Ue.push(Pe)},"replace-fetch-response":function(se,Fe="",Pe=null){const Be=Tn(arguments),Le=Zn("replace-fetch-response"),{mark:Ue,end:et}=qn("replace-fetch-response");if(!se)return void Le("error","The parameter 'search' is required");if(!no){const kt=Ee=>(Ue(),Oe(Ee).clone().text().then(Ke=>{let Nt=Oe(Ke);for(const[xt,{replacement:Ft,needle:Tt,formattedArgs:At}]of no){if(Tt){if(!Ra(Tt).test(Nt)){na()&&(console.groupCollapsed(`DEBUG [replace-fetch-response] warn: '${Tt}' not found in fetch response`),Le("warn",`${Nt}`),console.groupEnd());continue}na()&&(console.groupCollapsed(`DEBUG [replace-fetch-response] success: '${Tt}' found in fetch response`),Le("info",`${Nt}`),console.groupEnd())}Nt=Nt.replace(xt,Ft),na()&&Nt.toString()!==Ke.toString()&&(console.groupCollapsed(`DEBUG [replace-fetch-response] success: '${xt}' replaced with '${Ft}' in fetch response`,`
FILTER: replace-fetch-response ${At}`),Le("success",`${Nt}`),console.groupEnd())}if(Nt.toString()===Ke.toString())return Ee;const Dt=new tl(Nt.toString(),{status:Ee.status,statusText:Ee.statusText,headers:Ee.headers});return Us.defineProperties(Dt,{ok:{value:Ee.ok},redirected:{value:Ee.redirected},type:{value:Ee.type},url:{value:Ee.url}}),et(),Dt}));no=new bs,Le("info","Network API proxied"),at=kt,Tr.push(at),br()}var at;const gt=Ra(se),ct=new io(gt,"g");no.set(ct,{replacement:Fe,needle:Pe,formattedArgs:Be})},"replace-outbound-value":function(se,Fe="",Pe="",Be="",Le="",Ue=""){if(!se)throw new Cl("[replace-outbound-value snippet]: Missing method path.");let et=Zn("replace-outbound-value");const{mark:at,end:gt}=qn("replace-outbound-value");function ct(At,_n,Qt,Sa){if(Sa==="base64")try{if(function(Br){try{if(Br==="")return!1;const Xa=al(Br),Ta=rl(Xa),yt=Oe(Br).replace(/=+$/,"").toString();return Oe(Ta).replace(/=+$/,"").toString()===yt}catch{return!1}}(At)){const Br=al(At);et("info",`Decoded base64 content: ${Br}`);const Xa=_n?Oe(Br).replace(_n,Qt).toString():Br;et("info",Xa!==Br?`Modified decoded content: ${Xa}`:"Decoded content was not modified");const Ta=rl(Xa);return et("info",`Re-encoded to base64: ${Ta}`),Ta}et("info",`Content is plain text: ${At}`);const za=_n?Oe(At).replace(_n,Qt).toString():At;et("info",za!==At?`Modified plain text content: ${za}`:"Plain text content was not modified");const Or=rl(za);return et("info",`Encoded to base64: ${Or}`),Or}catch(za){return et("info",`Error processing base64 content: ${za.message}`),At}return _n?Oe(At).replace(_n,Qt).toString():At}function kt(At,_n,Qt,Sa,za,Or){const Br=Qt?new Ol(Ra(Qt),"g"):null;if(_n.length&&typeof At=="object"&&At!==null){const Xa=Qt?function(Ta,yt,fn,yn,ma){if(!yt.length)return Ta;let In=Ta;for(let ea=0;ea<yt.length-1;ea++){if(!In||typeof In!="object")return et("info",`Cannot navigate to path: property '${yt[ea]}' not found`),Ta;In=In[yt[ea]]}const Bn=yt[yt.length-1];if(!In||typeof In!="object"||!(Bn in In))return et("info",`Target property '${Bn}' not found at path`),Ta;const qt=In[Bn];if(typeof qt!="string")return et("info","Property at path is not a string: "+typeof qt),Ta;const un=ct(qt,fn,yn,ma);if(un!==qt){const ea=JSON.parse(JSON.stringify(Ta));let wr=ea;for(let lo=0;lo<yt.length-1;lo++)wr=wr[yt[lo]];return wr[Bn]=un,et("info",`Replaced value at path '${yt.join(".")}': '${qt}' -> '${un}'`),ea}return Ta}(At,_n,Br,Sa,za):At;return Xa!==At&&et("success",`Replaced outbound value
FILTER: replace-outbound-value ${Or}`),Xa}if(typeof At=="string"){Qt||et("info",`Original text content: ${At}`);const Xa=Qt?ct(At,Br,Sa,za):At;return Xa!==At&&et("success",`Replaced outbound value: ${Xa} 
FILTER: replace-outbound-value ${Or}`),Xa}return et("info",_n.length?"Content is not an object or path not specified":"Content is not a string"),At}Tn(arguments),at();const Ee=function(At,_n){let Qt=At,Sa=Oe(_n).split(".");for(let za=0;za<Sa.length-1;za++){let Or=Sa[za];if(!Qt||typeof Qt!="object")return{base:Qt,prop:Or,remainingPath:Sa.slice(za).join("."),success:!1};Qt=Qt[Or]}return{base:Qt,prop:Sa[Sa.length-1],success:!0}}(window,se);if(!Ee.success)return et("error",`Could not reach the end of the prop chain: ${se}. Remaining path: ${Ee.remainingPath}`),void gt();const{base:Ke,prop:Nt}=Ee,Dt=Ke[Nt];if(!Dt||typeof Dt!="function")return et("error",`Could not retrieve the method: ${se}`),void gt();let xt=[];Le&&(xt=Oe(Le).split("."));let Ft=[];Ue&&(Ft=Oe(Ue).split(",").map(At=>At.trim()));let Tt=!1;nl.defineProperty(Ke,Nt,{value:w(Dt,function(){if(Tt)return f(Dt,this,arguments);Tt=!0;const At=f(Dt,this,arguments);if(Ft.length&&!Va(Ft,et))return Tt=!1,At;if(At&&typeof At.then=="function")return et("info","Method returned a Promise, modifying resolved value"),Tt=!1,At.then(Qt=>{const Sa=typeof Qt=="object"?JSON.stringify(Qt):Qt;return et("info",`Promise resolved with value: ${Sa}`),kt(Qt,xt,Fe,Pe,Be,Le)}).catch(Qt=>{throw et("info",`Promise rejected: ${Qt.message}`),Qt});const _n=kt(At,xt,Fe,Pe,Be,Le);return Tt=!1,_n})}),et("info",`Wrapped ${se}`),gt()},"replace-xhr-response":function(se,Fe="",Pe=null){const Be=Tn(arguments),Le=Zn("replace-xhr-response"),{mark:Ue,end:et}=qn("replace-xhr-response");if(!se)return void Le("error","The parameter 'pattern' is required");ri||(ri=new as,Ho=new Map,Le("info","XMLHttpRequest proxied"),window.XMLHttpRequest=class extends Bl{open(ct,kt,...Ee){const Ke={method:ct,url:kt};return ri.set(this,Ke),super.open(ct,kt,...Ee)}send(...ct){return super.send(...ct)}get response(){const ct=super.response,kt=ri.get(this);if(kt===void 0)return ct;Ue();const Ee=typeof ct=="string"?ct.length:void 0;if(kt.lastResponseLength!==Ee&&(kt.response=void 0,kt.lastResponseLength=Ee),kt.response!==void 0)return kt.response;if(typeof ct!="string")return kt.response=ct;let Ke=ct;for(const[Nt,{replacement:Dt,needle:xt,formattedArgs:Ft}]of Ho){if(xt){if(!Ra(xt).test(Ke)){na()&&(console.groupCollapsed(`DEBUG [replace-xhr-response] warn: '${xt}' not found in XHR response`),Le("warn",Ke),console.groupEnd());continue}na()&&(console.groupCollapsed(`DEBUG [replace-xhr-response] success: '${xt}' found in XHR response`),Le("info",Ke),console.groupEnd())}Ke=Oe(Ke).replace(Nt,Dt).toString(),na()&&ct.toString()!==Ke.toString()&&(console.groupCollapsed(`DEBUG [replace-xhr-response] success: '${Nt}' replaced with '${Dt}' in XHR response`,`
FILTER: replace-xhr-response ${Ft}`),Le("success",Ke),console.groupEnd())}return et(),kt.response=Ke.toString()}get responseText(){const ct=this.response;return typeof ct!="string"?super.responseText:ct}});const at=Ra(se),gt=new ol(at,"g");Ho.set(gt,{replacement:Fe,needle:Pe,formattedArgs:Be})},"strip-fetch-query-parameter":function(se,Fe=null){const Pe=Tn(arguments),Be=Zn("strip-fetch-query-parameter"),{mark:Le,end:Ue}=qn("strip-fetch-query-parameter"),et=gt=>{Le();for(let[ct,kt]of ki.entries()){const{reg:Ee,args:Ke}=kt;Ee&&!Ee.test(gt)||Rl(gt.searchParams,ct)&&(Be("success",`${ct} has been stripped from url ${gt}`,`
FILTER: strip-fetch-query-parameter ${Ke}`),wu(gt.searchParams,ct))}Ue()};var at;ki||(ki=new Map,at=et,Jr.push(at),br()),ki.set(se,{reg:Fe&&Ra(Fe),args:Pe})},trace:function(...se){f(Ua,null,se)}};let _i;for(const[se,...Fe]of e)if(Fl.hasOwnProperty(se))try{_i=Fl[se].apply(_i,Fe)}catch(Pe){console.error(Pe)}_i=void 0},Sv=new Map([["abort-current-inline-script",null],["abort-on-iframe-property-read",null],["abort-on-iframe-property-write",null],["abort-on-property-read",null],["abort-on-property-write",null],["array-override",null],["blob-override",null],["cookie-remover",null],["profile",null],["debug",null],["event-override",null],["freeze-element",null],["hide-if-canvas-contains",null],["hide-if-shadow-contains",null],["json-override",null],["json-prune",null],["map-override",null],["override-property-read",null],["prevent-listener",null],["replace-fetch-response",null],["replace-outbound-value",null],["replace-xhr-response",null],["strip-fetch-query-parameter",null],["trace",null]]);x1.get=n=>Sv.get(n);x1.has=n=>Sv.has(n);/*
 * This file is part of eyeo's mlaf module (@eyeo/mlaf),
 * Copyright (C) 2006-present eyeo GmbH
 *
 * @eyeo/mlaf is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * @eyeo/mlaf is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with @eyeo/mlaf.  If not, see <http://www.gnu.org/licenses/>.
 *
 * The following npm packages may be included in this file:
 *
 * - tfjs
 * - tfjs-backend-cpu
 * - tfjs-backend-webgl
 * - tfjs-converter
 * - tfjs-core
 * - tfjs-data
 * - tfjs-layers
 *
 * These packages contain the following information about the license:
 *
 *  * @license
 *  * Copyright 2018-2022 Google LLC. All Rights Reserved.
 *  * Licensed under the Apache License, Version 2.0 (the "License");
 *  * you may not use this file except in compliance with the License.
 *  * You may obtain a copy of the License at
 *  *
 *  * http://www.apache.org/licenses/LICENSE-2.0
 *  *
 *  * Unless required by applicable law or agreed to in writing, software
 *  * distributed under the License is distributed on an "AS IS" BASIS,
 *  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  * See the License for the specific language governing permissions and
 *  * limitations under the License.
 *  * =============================================================================
 */function lO(n,e){return e.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(o){if(o!=="default"&&!(o in n)){var l=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return a[o]}})}})}),Object.freeze(n)}const uO=1e-7,cO=1e-4;class pO{constructor(e,a){this.backend=e,this.dataMover=a,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,a){this.dataIdsCount++,this.data.set(e,a)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Tv{refCount(e){return notYetImplemented("refCount")}incRef(e){return notYetImplemented("incRef")}timerAvailable(){return!0}time(e){return notYetImplemented("time")}read(e){return notYetImplemented("read")}readSync(e){return notYetImplemented("readSync")}readToGPU(e,a){return notYetImplemented("readToGPU")}numDataIds(){return notYetImplemented("numDataIds")}disposeData(e,a){return notYetImplemented("disposeData")}write(e,a,o){return notYetImplemented("write")}move(e,a,o,l,p){return notYetImplemented("move")}memory(){return notYetImplemented("memory")}floatPrecision(){return notYetImplemented("floatPrecision")}epsilon(){return this.floatPrecision()===32?uO:cO}dispose(){return notYetImplemented("dispose")}}function dO(n){return n%2===0?n:n+1}function fO(n){let e=0;for(let a=0;a<n.length;a++)e+=n[a];return e}function on(n,e){if(!n)throw new Error(typeof e=="string"?e:e())}function jv(n,e,a=""){on(zo(n,e),()=>a+` Shapes ${n} and ${e} must match`)}function Iv(n){on(n!=null,()=>"The input to the tensor constructor must be a non-null value.")}function rc(n,e=[],a=!1){if(e==null&&(e=[]),Array.isArray(n)||Li(n)&&!a)for(let o=0;o<n.length;++o)rc(n[o],e,a);else e.push(n);return e}function Cn(n){if(n.length===0)return 1;let e=n[0];for(let a=1;a<n.length;a++)e*=n[a];return e}function zo(n,e){if(n===e)return!0;if(n==null||e==null||n.length!==e.length)return!1;for(let a=0;a<n.length;a++)if(n[a]!==e[a])return!1;return!0}function Nv(n){return n%1===0}function Om(n){const e=Math.ceil(Math.sqrt(n));return[e,Math.ceil(n/e)]}function Qh(n,e){return e<=n.length?n:n+" ".repeat(e-n.length)}function qb(n,e=o=>0,a){return new Promise((o,l)=>{let p=0;const f=()=>{if(n()){o();return}p++;const d=e(p);setTimeout(f,d)};f()})}function hO(n,e){let a=1,o=-1;for(let p=0;p<n.length;++p)if(n[p]>=0)a*=n[p];else if(n[p]===-1){if(o!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${o} and dim ${p}`);o=p}else if(n[p]<0)throw Error(`Shapes can not be < 0. Found ${n[p]} at dim ${p}`);if(o===-1){if(e>0&&e!==a)throw Error(`Size(${e}) must match the product of shape ${n}`);return n}if(a===0)throw Error(`Cannot infer the missing size in [${n}] when there are 0 elements`);if(e%a!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${a}`);const l=n.slice();return l[o]=e/a,l}function _l(n,e){const a=e.length;return n=n==null?e.map((o,l)=>l):[].concat(n),on(n.every(o=>o>=-a&&o<a),()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${n}`),on(n.every(o=>Nv(o)),()=>`All values in axis param must be integers but got axis ${n}`),n.map(o=>o<0?a+o:o)}function ap(n,e){const a=[],o=[],l=e!=null&&Array.isArray(e)&&e.length===0,p=e==null||l?null:_l(e,n).sort();let f=0;for(let d=0;d<n.length;++d){if(p!=null){if(p[f]===d&&n[d]!==1)throw new Error(`Can't squeeze axis ${d} since its dim '${n[d]}' is not 1`);(p[f]==null||p[f]>d)&&n[d]===1&&(a.push(n[d]),o.push(d)),p[f]<=d&&f++}n[d]!==1&&(a.push(n[d]),o.push(d))}return{newShape:a,keptDims:o}}function yc(n,e){let a=null;if(n==null||n==="float32")a=new Float32Array(e);else if(n==="int32")a=new Int32Array(e);else if(n==="bool")a=new Uint8Array(e);else throw new Error(`Unknown data type ${n}`);return a}function Dv(n,e){let a=null;if(n==null||n==="float32")a=new Float32Array(e);else if(n==="int32")a=new Int32Array(e);else if(n==="bool")a=new Uint8Array(e);else if(n==="string")a=new Array(e);else throw new Error(`Unknown data type ${n}`);return a}function mO(n){return n==="bool"||n==="complex64"||n==="float32"||n==="int32"||n==="string"}function gO(n,e){return!(e==="complex64"||e==="float32"&&n!=="complex64"||e==="int32"&&n!=="float32"&&n!=="complex64"||e==="bool"&&n==="bool")}function Li(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray}function Bm(n){if(n==="float32"||n==="int32")return 4;if(n==="complex64")return 8;if(n==="bool")return 1;throw new Error(`Unknown dtype ${n}`)}function yO(n){if(n==null)return 0;let e=0;return n.forEach(a=>e+=a.length),e}function bO(n){return typeof n=="number"}function k1(n){return Array.isArray(n)?k1(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray?"int32":bO(n)?"float32":isString(n)?"string":isBoolean(n)?"bool":"float32"}function Zb(n){return!!(n&&n.constructor&&n.call&&n.apply)}function wO(n,e){for(let a=e;a<n;++a)if(n%a===0)return a;return n}function us(n){const e=n.length;if(e<2)return[];const a=new Array(e-1);a[e-2]=n[e-1];for(let o=e-3;o>=0;--o)a[o]=a[o+1]*n[o+1];return a}function Cv(n,e,a,o=!1){const l=new Array;if(e.length===1){const p=e[0]*(o?2:1);for(let f=0;f<p;f++)l[f]=a[n+f]}else{const p=e[0],f=e.slice(1),d=f.reduce((c,h)=>c*h)*(o?2:1);for(let c=0;c<p;c++)l[c]=Cv(n+c*d,f,a,o)}return l}function Rm(n,e,a=!1){if(n.length===0)return e[0];const o=n.reduce((l,p)=>l*p)*(a?2:1);if(o===0)return[];if(o!==e.length)throw new Error(`[${n}] does not match the input size ${e.length}${a?" for a complex tensor":""}.`);return Cv(0,n,e,a)}function Ov(n,e){const a=uu(n,e);for(let o=0;o<a.length;o++)a[o]=1;return a}function uu(n,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool")return new Uint8Array(n);throw new Error(`Unknown data type ${e}`)}function Bv(n){n.forEach(e=>{on(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${n}].`)})}function Fm(n,e,a){if(e===0)return 0;if(e===1)return n[0];let o=n[n.length-1];for(let l=0;l<n.length-1;++l)o+=a[l]*n[l];return o}function Rv(n,e,a){if(e===0)return[];if(e===1)return[n];const o=new Array(e);for(let l=0;l<o.length-1;++l)o[l]=Math.floor(n/a[l]),n-=o[l]*a[l];return o[o.length-1]=n,o}function oc(n){return n&&n.then&&typeof n.then=="function"}const Jb="tfjsflags";class vO{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=xO,this.populateURLFlags()}setPlatform(e,a){this.platform!=null&&(_t().getBool("IS_TEST")||_t().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=a}registerFlag(e,a,o){if(this.flagRegistry[e]={evaluationFn:a,setHook:o},this.urlFlags[e]!=null){const l=this.urlFlags[e];_t().getBool("IS_TEST")||_t().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${l}.`),this.set(e,l)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const a=this.evaluateFlag(e);if(oc(a))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=a,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,a){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=a,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(a)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);Jb in e&&e[Jb].split(",").forEach(o=>{const[l,p]=o.split(":");this.urlFlags[l]=parseValue(l,p)})}}function xO(n){const e={};return n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(a,...o)=>(kO(e,o[0],o[1]),o.join("="))),e}function kO(n,e,a){n[decodeURIComponent(e)]=decodeURIComponent(a||"")}function _t(){return Fv}let Fv=null;function _O(n){Fv=n}let em;function Mv(){if(em==null){let n;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else if(typeof self<"u")n=self;else throw new Error("Could not find a global object");em=n}return em}function EO(){const n=Mv();return n._tfGlobals==null&&(n._tfGlobals=new Map),n._tfGlobals}function _1(n,e){const a=EO();if(a.has(n))return a.get(n);{const o=e();return a.set(n,o),a.get(n)}}const AO="Abs",E1="Add",Pv="BatchMatMul",SO="Bincount",A1="Cast",TO="Complex",jO="ComplexAbs",Lv="Concat",IO="Conv2DBackpropFilter",NO="Conv2DBackpropInput",DO="DepthwiseConv2dNativeBackpropFilter",CO="DepthwiseConv2dNativeBackpropInput",OO="RealDiv",BO="Equal",RO="Exp",FO="ExpandDims",MO="FFT",Uv="GatherV2",PO="Greater",S1="Identity",LO="IsFinite",UO="Log",zO="Log1p",$O="LogicalAnd",GO="Max",VO="Maximum",zv="Mean",HO="Minimum",$v="Multiply",WO="Neg",KO="NotEqual",XO="OneHot",Gv="Pack",Vv="PadV2",YO="Pow",Hv="Prod",qO="Range",ZO="Real",Wv="Relu",Kv="Reshape",JO="Reverse",Xv="Select",QO="Slice",Yv="Sigmoid",qv="Sum",eB="SquaredDifference",tB="Sub",nB="Tile",Zv="Unpack",aB="ZerosLike",Mm="_FusedMatMul";function yl(...n){_t().getBool("IS_TEST")||_t().getBool("PROD")||console.warn(...n)}function rB(...n){_t().getBool("IS_TEST")||_t().getBool("PROD")||console.log(...n)}const Ld=_1("kernelRegistry",()=>new Map),oB=_1("gradRegistry",()=>new Map);function Qb(n,e){const a=Jv(n,e);return Ld.get(a)}function ew(n){return oB.get(n)}function tw(n){const e=Ld.entries(),a=[];for(;;){const{done:o,value:l}=e.next();if(o)break;const[p,f]=l,[d]=p.split("_");d===n&&a.push(f)}return a}function sB(n){const{kernelName:e,backendName:a}=n,o=Jv(e,a);Ld.has(o)&&yl(`The kernel '${e}' for backend '${a}' is already registered`),Ld.set(o,n)}function Jv(n,e){return`${e}_${n}`}var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pm=hr,_s=null;try{_s=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function hr(n,e,a){this.low=n|0,this.high=e|0,this.unsigned=!!a}hr.prototype.__isLong__;Object.defineProperty(hr.prototype,"__isLong__",{value:!0});function qo(n){return(n&&n.__isLong__)===!0}hr.isLong=qo;var nw={},aw={};function hu(n,e){var a,o,l;return e?(n>>>=0,(l=0<=n&&n<256)&&(o=aw[n],o)?o:(a=mr(n,(n|0)<0?-1:0,!0),l&&(aw[n]=a),a)):(n|=0,(l=-128<=n&&n<128)&&(o=nw[n],o)?o:(a=mr(n,n<0?-1:0,!1),l&&(nw[n]=a),a))}hr.fromInt=hu;function Es(n,e){if(isNaN(n))return e?Ql:As;if(e){if(n<0)return Ql;if(n>=Qv)return n0}else{if(n<=-ow)return Yo;if(n+1>=ow)return t0}return n<0?Es(-n,e).neg():mr(n%sc|0,n/sc|0,e)}hr.fromNumber=Es;function mr(n,e,a){return new hr(n,e,a)}hr.fromBits=mr;var Ud=Math.pow;function T1(n,e,a){if(n.length===0)throw Error("empty string");if(n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return As;if(typeof e=="number"?(a=e,e=!1):e=!!e,a=a||10,a<2||36<a)throw RangeError("radix");var o;if((o=n.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return T1(n.substring(1),e,a).neg();for(var l=Es(Ud(a,8)),p=As,f=0;f<n.length;f+=8){var d=Math.min(8,n.length-f),c=parseInt(n.substring(f,f+d),a);if(d<8){var h=Es(Ud(a,d));p=p.mul(h).add(Es(c))}else p=p.mul(l),p=p.add(Es(c))}return p.unsigned=e,p}hr.fromString=T1;function Js(n,e){return typeof n=="number"?Es(n,e):typeof n=="string"?T1(n,e):mr(n.low,n.high,typeof e=="boolean"?e:n.unsigned)}hr.fromValue=Js;var rw=65536,iB=1<<24,sc=rw*rw,Qv=sc*sc,ow=Qv/2,sw=hu(iB),As=hu(0);hr.ZERO=As;var Ql=hu(0,!0);hr.UZERO=Ql;var Xu=hu(1);hr.ONE=Xu;var e0=hu(1,!0);hr.UONE=e0;var Lm=hu(-1);hr.NEG_ONE=Lm;var t0=mr(-1,2147483647,!1);hr.MAX_VALUE=t0;var n0=mr(-1,-1,!0);hr.MAX_UNSIGNED_VALUE=n0;var Yo=mr(0,-2147483648,!1);hr.MIN_VALUE=Yo;var zt=hr.prototype;zt.toInt=function(){return this.unsigned?this.low>>>0:this.low};zt.toNumber=function(){return this.unsigned?(this.high>>>0)*sc+(this.low>>>0):this.high*sc+(this.low>>>0)};zt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Yo)){var a=Es(e),o=this.div(a),l=o.mul(a).sub(this);return o.toString(e)+l.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var p=Es(Ud(e,6),this.unsigned),f=this,d="";;){var c=f.div(p),h=f.sub(c.mul(p)).toInt()>>>0,y=h.toString(e);if(f=c,f.isZero())return y+d;for(;y.length<6;)y="0"+y;d=""+y+d}};zt.getHighBits=function(){return this.high};zt.getHighBitsUnsigned=function(){return this.high>>>0};zt.getLowBits=function(){return this.low};zt.getLowBitsUnsigned=function(){return this.low>>>0};zt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Yo)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,a=31;a>0&&!(e&1<<a);a--);return this.high!=0?a+33:a+1};zt.isZero=function(){return this.high===0&&this.low===0};zt.eqz=zt.isZero;zt.isNegative=function(){return!this.unsigned&&this.high<0};zt.isPositive=function(){return this.unsigned||this.high>=0};zt.isOdd=function(){return(this.low&1)===1};zt.isEven=function(){return(this.low&1)===0};zt.equals=function(e){return qo(e)||(e=Js(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};zt.eq=zt.equals;zt.notEquals=function(e){return!this.eq(e)};zt.neq=zt.notEquals;zt.ne=zt.notEquals;zt.lessThan=function(e){return this.comp(e)<0};zt.lt=zt.lessThan;zt.lessThanOrEqual=function(e){return this.comp(e)<=0};zt.lte=zt.lessThanOrEqual;zt.le=zt.lessThanOrEqual;zt.greaterThan=function(e){return this.comp(e)>0};zt.gt=zt.greaterThan;zt.greaterThanOrEqual=function(e){return this.comp(e)>=0};zt.gte=zt.greaterThanOrEqual;zt.ge=zt.greaterThanOrEqual;zt.compare=function(e){if(qo(e)||(e=Js(e)),this.eq(e))return 0;var a=this.isNegative(),o=e.isNegative();return a&&!o?-1:!a&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};zt.comp=zt.compare;zt.negate=function(){return!this.unsigned&&this.eq(Yo)?Yo:this.not().add(Xu)};zt.neg=zt.negate;zt.add=function(e){qo(e)||(e=Js(e));var a=this.high>>>16,o=this.high&65535,l=this.low>>>16,p=this.low&65535,f=e.high>>>16,d=e.high&65535,c=e.low>>>16,h=e.low&65535,y=0,w=0,k=0,A=0;return A+=p+h,k+=A>>>16,A&=65535,k+=l+c,w+=k>>>16,k&=65535,w+=o+d,y+=w>>>16,w&=65535,y+=a+f,y&=65535,mr(k<<16|A,y<<16|w,this.unsigned)};zt.subtract=function(e){return qo(e)||(e=Js(e)),this.add(e.neg())};zt.sub=zt.subtract;zt.multiply=function(e){if(this.isZero())return As;if(qo(e)||(e=Js(e)),_s){var a=_s.mul(this.low,this.high,e.low,e.high);return mr(a,_s.get_high(),this.unsigned)}if(e.isZero())return As;if(this.eq(Yo))return e.isOdd()?Yo:As;if(e.eq(Yo))return this.isOdd()?Yo:As;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(sw)&&e.lt(sw))return Es(this.toNumber()*e.toNumber(),this.unsigned);var o=this.high>>>16,l=this.high&65535,p=this.low>>>16,f=this.low&65535,d=e.high>>>16,c=e.high&65535,h=e.low>>>16,y=e.low&65535,w=0,k=0,A=0,S=0;return S+=f*y,A+=S>>>16,S&=65535,A+=p*y,k+=A>>>16,A&=65535,A+=f*h,k+=A>>>16,A&=65535,k+=l*y,w+=k>>>16,k&=65535,k+=p*h,w+=k>>>16,k&=65535,k+=f*c,w+=k>>>16,k&=65535,w+=o*y+l*h+p*c+f*d,w&=65535,mr(A<<16|S,w<<16|k,this.unsigned)};zt.mul=zt.multiply;zt.divide=function(e){if(qo(e)||(e=Js(e)),e.isZero())throw Error("division by zero");if(_s){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var a=(this.unsigned?_s.div_u:_s.div_s)(this.low,this.high,e.low,e.high);return mr(a,_s.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ql:As;var o,l,p;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ql;if(e.gt(this.shru(1)))return e0;p=Ql}else{if(this.eq(Yo)){if(e.eq(Xu)||e.eq(Lm))return Yo;if(e.eq(Yo))return Xu;var f=this.shr(1);return o=f.div(e).shl(1),o.eq(As)?e.isNegative()?Xu:Lm:(l=this.sub(e.mul(o)),p=o.add(l.div(e)),p)}else if(e.eq(Yo))return this.unsigned?Ql:As;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();p=As}for(l=this;l.gte(e);){o=Math.max(1,Math.floor(l.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(o)/Math.LN2),c=d<=48?1:Ud(2,d-48),h=Es(o),y=h.mul(e);y.isNegative()||y.gt(l);)o-=c,h=Es(o,this.unsigned),y=h.mul(e);h.isZero()&&(h=Xu),p=p.add(h),l=l.sub(y)}return p};zt.div=zt.divide;zt.modulo=function(e){if(qo(e)||(e=Js(e)),_s){var a=(this.unsigned?_s.rem_u:_s.rem_s)(this.low,this.high,e.low,e.high);return mr(a,_s.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};zt.mod=zt.modulo;zt.rem=zt.modulo;zt.not=function(){return mr(~this.low,~this.high,this.unsigned)};zt.and=function(e){return qo(e)||(e=Js(e)),mr(this.low&e.low,this.high&e.high,this.unsigned)};zt.or=function(e){return qo(e)||(e=Js(e)),mr(this.low|e.low,this.high|e.high,this.unsigned)};zt.xor=function(e){return qo(e)||(e=Js(e)),mr(this.low^e.low,this.high^e.high,this.unsigned)};zt.shiftLeft=function(e){return qo(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?mr(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):mr(0,this.low<<e-32,this.unsigned)};zt.shl=zt.shiftLeft;zt.shiftRight=function(e){return qo(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?mr(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):mr(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};zt.shr=zt.shiftRight;zt.shiftRightUnsigned=function(e){if(qo(e)&&(e=e.toInt()),e&=63,e===0)return this;var a=this.high;if(e<32){var o=this.low;return mr(o>>>e|a<<32-e,a>>>e,this.unsigned)}else return e===32?mr(a,0,this.unsigned):mr(a>>>e-32,0,this.unsigned)};zt.shru=zt.shiftRightUnsigned;zt.shr_u=zt.shiftRightUnsigned;zt.toSigned=function(){return this.unsigned?mr(this.low,this.high,!1):this};zt.toUnsigned=function(){return this.unsigned?this:mr(this.low,this.high,!0)};zt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};zt.toBytesLE=function(){var e=this.high,a=this.low;return[a&255,a>>>8&255,a>>>16&255,a>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};zt.toBytesBE=function(){var e=this.high,a=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,a>>>24,a>>>16&255,a>>>8&255,a&255]};hr.fromBytes=function(e,a,o){return o?hr.fromBytesLE(e,a):hr.fromBytesBE(e,a)};hr.fromBytesLE=function(e,a){return new hr(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,a)};hr.fromBytesBE=function(e,a){return new hr(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],a)};var lB=lO({__proto__:null,default:Pm},[Pm]);const uB=Pm||lB;function j1(n){return uB.fromString(n,!0,16)}j1("c3a5c85c97cb3127");j1("b492b66fbe98f273");j1("9ae16a3b2f90404f");function a0(n,e){return e==="string"?encodeString(n):I1([n],e)}function cB(n,e){return n instanceof Float32Array&&e==="float32"||n instanceof Int32Array&&e==="int32"||n instanceof Uint8Array&&e==="bool"}function I1(n,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=rc(n)),_t().getBool("DEBUG")&&checkConversionForErrors(n,e),cB(n,e))return n;if(e==null||e==="float32"||e==="complex64")return new Float32Array(n);if(e==="int32")return new Int32Array(n);if(e==="bool"){const a=new Uint8Array(n.length);for(let o=0;o<a.length;++o)Math.round(n[o])!==0&&(a[o]=1);return a}else throw new Error(`Unknown data type ${e}`)}function Ks(){return _t().platform.now()}class pB{constructor(e,a){this.backendTimer=e,this.logger=a,a==null&&(this.logger=new dB)}profileKernel(e,a,o){let l;const p=()=>{l=o()};let f;const d=Ks();if(this.backendTimer.timerAvailable())f=this.backendTimer.time(p);else{p();for(const h of l)h.dataSync();f=Promise.resolve({kernelMs:Ks()-d})}if(_t().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let h=0;h<l.length;h++){const y=l[h];y.data().then(w=>{checkComputationForErrors(w,y.dtype,e)})}return{kernelName:e,outputs:l,inputs:a,timeMs:f.then(h=>h.kernelMs),extraInfo:f.then(h=>h.getExtraProfileInfo!=null?h.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:a,outputs:o,timeMs:l,inputs:p,extraInfo:f}=e;o.forEach(d=>{Promise.all([d.data(),l,f]).then(c=>{this.logger.logKernelProfile(a,d,c[0],c[1],p,c[2])})})}}class dB{logKernelProfile(e,a,o,l,p,f){const d=typeof l=="number"?Qh(`${l}ms`,9):l.error,c=Qh(e,25),h=a.rank,y=a.size,w=Qh(a.shape.toString(),14);let k="";for(const A in p){const S=p[A];if(S!=null){const T=S.shape||a.shape,I=T.length;k+=`${A}: ${I}D ${I>0?T:""} `}}console.log(`%c${c}	%c${d}	%c${h}D ${w}	%c${y}	%c${k}	%c${f}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function fB(n,e,a){const o={},l={};for(let c=0;c<e.length;c++)o[e[c].id]=!0;for(let c=0;c<n.length;c++){const h=n[c],y=h.inputs;for(const w in y){const k=y[w];let A=!1;for(let S=0;S<e.length;S++)if(o[k.id]){h.outputs.forEach(T=>o[T.id]=!0),A=!0,l[h.id]=!0;break}if(A)break}}const p={};p[a.id]=!0;const f={};for(let c=n.length-1;c>=0;c--){const h=n[c],y=h.inputs;for(let w=0;w<h.outputs.length;w++)if(p[h.outputs[w].id]){for(const k in y)p[y[k].id]=!0,f[h.id]=!0;break}}const d=[];for(let c=0;c<n.length;c++){const h=n[c];if(l[h.id]&&f[h.id]){const y={};for(const k in h.inputs){const A=h.inputs[k];o[A.id]&&(y[k]=A)}const w=Object.assign({},h);w.inputs=y,w.outputs=h.outputs,d.push(w)}}return d}class hB{constructor(e,a,o){if(this.dtype=a,this.shape=e.slice(),this.size=Cn(e),o!=null){const l=o.length;on(l===this.size,()=>`Length of values '${l}' does not match the size inferred by the shape '${this.size}'.`)}if(a==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=o||Dv(a,this.size),this.strides=us(e)}set(e,...a){a.length===0&&(a=[0]),on(a.length===this.rank,()=>`The number of provided coordinates (${a.length}) must match the rank (${this.rank})`);const o=this.locToIndex(a);this.values[o]=e}get(...e){e.length===0&&(e=[0]);let a=0;for(const l of e){if(l<0||l>=this.shape[a]){const p=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(p)}a++}let o=e[e.length-1];for(let l=0;l<e.length-1;++l)o+=this.strides[l]*e[l];return this.values[o]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let a=e[e.length-1];for(let o=0;o<e.length-1;++o)a+=this.strides[o]*e[o];return a}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const a=new Array(this.shape.length);for(let o=0;o<a.length-1;++o)a[o]=Math.floor(e/this.strides[o]),e-=a[o]*this.strides[o];return a[a.length-1]=e,a}get rank(){return this.shape.length}toTensor(){return Xs().makeTensor(this.values,this.shape,this.dtype)}}let Xs=null,Wu=null;function mB(n){Xs=n}function gB(n){Wu=n}class Xo{constructor(e,a,o,l){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=a||"float32",this.size=Cn(e),this.strides=us(e),this.dataId=o,this.id=l,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Wu.buffer(this.shape,this.dtype,e)}bufferSync(){return Wu.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Rm(this.shape,e,this.dtype==="complex64")}arraySync(){return Rm(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Xs().read(this.dataId);if(this.dtype==="string"){const a=await e;try{return a.map(o=>decodeString(o))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Xs().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Xs().readSync(this.dataId);if(this.dtype==="string")try{return e.map(a=>decodeString(a))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Xs().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(Xs().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Wu.print(this,e)}clone(){return this.throwIfDisposed(),Wu.clone(this)}toString(e=!1){const a=this.dataSync();return tensorToString(a,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Wu.cast(this,e)}variable(e=!0,a,o){return this.throwIfDisposed(),Xs().makeVariable(this,e,a,o)}}Object.defineProperty(Xo,Symbol.hasInstance,{value:n=>!!n&&n.data!=null&&n.dataSync!=null&&n.throwIfDisposed!=null});function bc(){return _1("Tensor",()=>Xo)}bc();class Um extends Xo{constructor(e,a,o,l){super(e.shape,e.dtype,e.dataId,l),this.trainable=a,this.name=o}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!zo(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Xs().disposeTensor(this),this.dataId=e.dataId,Xs().incRef(this,null)}dispose(){Xs().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Um,Symbol.hasInstance,{value:n=>n instanceof Xo&&n.assign!=null&&n.assign instanceof Function});var iw;(function(n){n.R0="R0",n.R1="R1",n.R2="R2",n.R3="R3",n.R4="R4",n.R5="R5",n.R6="R6"})(iw||(iw={}));var zm;(function(n){n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64"})(zm||(zm={}));var $m;(function(n){n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64"})($m||($m={}));var Gm;(function(n){n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64"})(Gm||(Gm={}));var Vm;(function(n){n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64"})(Vm||(Vm={}));const yB={float32:Gm,int32:zm,bool:$m,complex64:Vm};function Ui(n,e){if(n==="string"||e==="string"){if(n==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${n} with ${e}`)}return yB[n][e]}function r0(n){return Ui(n,"int32")}function ps(n,e){if(n.dtype===e.dtype)return[n,e];const a=Ui(n.dtype,e.dtype);return[n.cast(a),e.cast(a)]}function o0(n){const e=[];return s0(n,e,new Set),e}function s0(n,e,a){if(n==null)return;if(n instanceof Xo){e.push(n);return}if(!bB(n))return;const o=n;for(const l in o){const p=o[l];a.has(p)||(a.add(p),s0(p,e,a))}}function bB(n){return Array.isArray(n)||typeof n=="object"}function tm(n){return n.kernelName!=null}class lw{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class ic{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new lw}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let a=0;a<e.length;a++){const o=e[a];if(await this.initializeBackend(o).success){await this.setBackend(o);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:a}=this.initializeBackendsAndReturnBest();if(a)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:a}=this.initializeBackend(e);if(a)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,a,o=1){return e in this.registryFactory?(yl(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:a,priority:o},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:a,asyncInit:o}=this.initializeBackend(e);if(!(o?await a:a))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new pB(this.backendInstance),!0}setupRegisteredKernels(){tw(this.backendName).forEach(a=>{a.setupFunc!=null&&a.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){tw(e).forEach(o=>{o.disposeFunc!=null&&o.disposeFunc(this.registry[e])})}initializeBackend(e){const a=this.registryFactory[e];if(a==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const o=a.factory();if(o&&!(o instanceof Tv)&&typeof o.then=="function"){const l=++this.pendingBackendInitId,p=o.then(f=>l<this.pendingBackendInitId?!1:(this.registry[e]=f,this.pendingBackendInit=null,!0)).catch(f=>(l<this.pendingBackendInitId||(this.pendingBackendInit=null,yl(`Initialization of backend ${e} failed`),yl(f.stack||f.message)),!1));return this.pendingBackendInit=p,{success:p,asyncInit:!0}}else return this.registry[e]=o,{success:!0,asyncInit:!1}}catch(o){return yl(`Initialization of backend ${e} failed`),yl(o.stack||o.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,a)=>this.registryFactory[a].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let a=0;a<e.length;a++){const o=e[a],{success:l,asyncInit:p}=this.initializeBackend(o);if(p||l)return{name:o,asyncInit:p}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,a){const o=this.state.tensorInfo.get(a),l=o.backend,p=this.readSync(a),f=l.refCount(a);l.disposeData(a,!0),o.backend=e,e.move(a,p,o.shape,o.dtype,f),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,a){let o=null;if(a==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");a=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof a!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}let l;return this.scopedRun(()=>this.startScope(o),()=>this.endScope(l),()=>(l=a(),l instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),l))}scopedRun(e,a,o){e();try{const l=o();return a(),l}catch(l){throw a(),l}}nextTensorId(){return ic.nextTensorId++}nextVariableId(){return ic.nextVariableId++}clone(e){const a=Ut.runKernel(S1,{x:e}),o={x:e},l=f=>({x:()=>{const d="float32",c={x:f},h={dtype:d};return Ut.runKernel(A1,c,h)}}),p=[];return this.addTapeNode(this.state.activeScope.name,o,[a],l,p,{}),a}runKernel(e,a,o){if(this.backendName==null&&this.backend,!(Qb(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:a,attrs:o})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,a,o){const l=this.backend.numDataIds();let p=0;o.forEach(c=>{p+=c.dtype==="complex64"?3:1});const f=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],d=l-a-p-f;if(d>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${d} data ids) after running '${e}'`)}runKernelFunc(e){let a,o=[];const l=this.isTapeOn(),p=this.state.numBytes,f=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let d;this.backendName==null&&this.backend;let c;const h=tm(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(tm(e)){const{kernelName:S,inputs:T,attrs:I}=e;this.backendName==null&&this.backend;const j=Qb(S,this.backendName);on(j!=null,()=>`Cannot find registered kernel '${S}' for backend '${this.backendName}'`),d=()=>{const V=this.backend.numDataIds();c=j.kernelFunc({inputs:T,attrs:I,backend:this.backend});const C=Array.isArray(c)?c:[c];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(S,V,C);const q=C.map(L=>L.rank!=null?L:this.makeTensorFromTensorInfo(L));if(l){const L=this.getTensorsForGradient(S,T,q);o=this.saveTensorsForBackwardMode(L)}return q}}else{const{forwardFunc:S}=e,T=I=>{l&&(o=I.map(j=>this.keep(this.clone(j))))};d=()=>{const I=this.backend.numDataIds();c=this.tidy(()=>S(this.backend,T));const j=Array.isArray(c)?c:[c];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(h,I,j),j}}const{inputs:y,attrs:w}=e,k=tm(e)?null:e.backwardsFunc;let A;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?a=d():(A=this.profiler.profileKernel(h,y,()=>d()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(A),a=A.outputs)}),l&&this.addTapeNode(h,y,a,k,o,w),this.state.profiling&&this.state.activeProfile.kernels.push({name:h,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-f,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(y).map(S=>y[S]!=null?y[S].shape:null),outputShapes:a.map(S=>S.shape),kernelTimeMs:A.timeMs,extraInfo:A.extraInfo}),Array.isArray(c)?a:a[0]}saveTensorsForBackwardMode(e){return e.map(o=>this.keep(this.clone(o)))}getTensorsForGradient(e,a,o){const l=ew(e);if(l!=null){const p=l.inputsToSave||[],f=l.outputsToSave||[];let d;l.saveAllInputs?(on(Array.isArray(a),()=>"saveAllInputs is true, expected inputs to be an array."),d=Object.keys(a).map(h=>a[h])):d=p.map(h=>a[h]);const c=o.filter((h,y)=>f[y]);return d.concat(c)}return[]}makeTensor(e,a,o,l){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");o=o||"float32",l=l||this.backend;let p=e;o==="string"&&isString(e[0])&&(p=e.map(c=>encodeString(c)));const f=l.write(p,a,o),d=new Xo(a,o,f,this.nextTensorId());if(this.trackTensor(d,l),o==="string"){const c=this.state.tensorInfo.get(f),h=yO(p);this.state.numBytes+=h-c.bytes,c.bytes=h}return d}makeTensorFromDataId(e,a,o,l){o=o||"float32";const p={dataId:e,shape:a,dtype:o};return this.makeTensorFromTensorInfo(p,l)}makeTensorFromTensorInfo(e,a){const{dataId:o,shape:l,dtype:p}=e,f=new Xo(l,p,o,this.nextTensorId());return this.trackTensor(f,a),f}makeVariable(e,a=!0,o,l){o=o||this.nextVariableId().toString(),l!=null&&l!==e.dtype&&(e=e.cast(l));const p=new Um(e,a,o,this.nextTensorId());if(this.state.registeredVariables[p.name]!=null)throw new Error(`Variable with name ${p.name} was already registered`);return this.state.registeredVariables[p.name]=p,this.incRef(p,this.backend),p}trackTensor(e,a){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let o=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(o=e.size*Bm(e.dtype)),this.state.numBytes+=o,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:a||this.backend,dtype:e.dtype,shape:e.shape,bytes:o})),e instanceof Um||this.track(e)}incRef(e,a){this.trackTensor(e,a),this.backend.incRef(e.dataId)}removeDataId(e,a){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===a&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const a=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=a.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const o=e.size*Bm(e.dtype);this.state.numBytes-=o}a.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,a.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const a=this.state.registeredVariables[e];this.disposeVariable(a)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const a=this.state.numBytes,o=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(l=>l.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-a,this.state.activeProfile.newTensors=this.state.numTensors-o;for(const l of this.state.activeProfile.kernels)l.kernelTimeMs=await l.kernelTimeMs,l.extraInfo=await l.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,a,o,l,p,f){const d={id:this.state.nextTapeNodeId++,kernelName:e,inputs:a,outputs:o,saved:p},c=ew(e);c!=null&&(l=c.gradFunc),l!=null&&(d.gradient=h=>(h=h.map((y,w)=>{if(y==null){const k=o[w],A=uu(k.size,k.dtype);return this.makeTensor(A,k.shape,k.dtype)}return y}),l(h.length>1?h:h[0],p,f))),this.state.activeTape.push(d)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const a={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(a.name=e),this.state.scopeStack.push(a),this.state.activeScope=a}endScope(e){const a=o0(e),o=new Set(a.map(p=>p.id));for(let p=0;p<this.state.activeScope.track.length;p++){const f=this.state.activeScope.track[p];!f.kept&&!o.has(f.id)&&f.dispose()}const l=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],a.forEach(p=>{!p.kept&&p.scopeId===l.id&&this.track(p)})}gradients(e,a,o,l=!1){if(on(a.length>0,()=>"gradients() received an empty list of xs."),o!=null&&o.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${o.dtype}'`);const p=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));on(p instanceof Xo,()=>"The result y returned by f() must be a tensor.");const f=fB(this.state.activeTape,a,p);if(!l&&f.length===0&&a.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const d={};d[p.id]=o??wB(p.shape),backpropagateGradients(d,f,h=>this.tidy(h),vB);const c=a.map(h=>d[h.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(h=>{for(const y of h.saved)y.dispose()}),this.state.activeTape=null),{value:p,grads:c}})}customGrad(e){return on(Zb(e),()=>"The f passed in customGrad(f) must be a function."),(...a)=>{on(a.every(d=>d instanceof Xo),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let o;const l={};a.forEach((d,c)=>{l[c]=d});const p=(d,c)=>(o=e(...a,c),on(o.value instanceof Xo,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),on(Zb(o.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o.value),f=(d,c)=>{const h=o.gradFunc(d,c),y=Array.isArray(h)?h:[h];on(y.length===a.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),on(y.every(k=>k instanceof Xo),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const w={};return y.forEach((k,A)=>{w[A]=()=>k}),w};return this.runKernelFunc({forwardFunc:p,backwardsFunc:f,inputs:l})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,a){return this.state.tensorInfo.get(e).backend.readToGPU(e,a)}async time(e){const a=Ks(),o=await this.backend.time(e);return o.wallMs=Ks()-a,o}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new lw;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}ic.nextTensorId=0;ic.nextVariableId=0;function wB(n){const e=Ov(Cn(n),"float32");return Ut.makeTensor(e,n,"float32")}function i0(){const n=Mv();if(n._tfengine==null){const e=new vO(n);n._tfengine=new ic(e)}return _O(n._tfengine.ENV),mB(()=>n._tfengine),n._tfengine}const Ut=i0();function vB(n,e){const a={a:n,b:e};return Ut.runKernel(E1,a)}function xB(){return typeof navigator<"u"&&navigator!=null}function l0(n){if(n||xB()){if(n||(n=navigator),n.product==="ReactNative")return!0;const e=n.userAgent||n.vendor||(typeof window<"u"?window.opera:"");if(!e){const a=n;return a.userAgentData&&a.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function u0(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const js=_t();js.registerFlag("DEBUG",()=>!1,n=>{n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});js.registerFlag("IS_BROWSER",()=>u0());js.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");js.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));js.registerFlag("PROD",()=>!1);js.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>js.getBool("DEBUG"));js.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);js.registerFlag("IS_TEST",()=>!1);js.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);js.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);js.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function Qd(n,e){let a=n;if(Li(n))return e==="string"?[]:[n.length];if(!Array.isArray(n))return[];const o=[];for(;Array.isArray(a)||Li(a)&&e!=="string";)o.push(a.length),a=a[0];return Array.isArray(n)&&_t().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&deepAssertShapeConsistency(n,o,[]),o}function uw(n,e,a,o){if(n!=="string_or_numeric"){if(n==null)throw new Error("Expected dtype cannot be null.");if(n!=="numeric"&&n!==e||n==="numeric"&&e==="string")throw new Error(`Argument '${a}' passed to '${o}' must be ${n} tensor, but got ${e} tensor`)}}function sn(n,e,a,o="numeric"){if(n instanceof Xo)return uw(o,n.dtype,e,a),n;let l=k1(n);if(l!=="string"&&["bool","int32","float32"].indexOf(o)>=0&&(l=o),uw(o,l,e,a),n==null||!Li(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string"){const c=n==null?"null":n.constructor.name;throw new Error(`Argument '${e}' passed to '${a}' must be a Tensor or TensorLike, but got '${c}'`)}const p=Qd(n,l);!Li(n)&&!Array.isArray(n)&&(n=[n]);const d=l!=="string"?I1(n,l):rc(n,[],!0);return Ut.makeTensor(d,p,l)}function c0(n,e,a,o="numeric"){if(!Array.isArray(n))throw new Error(`Argument ${e} passed to ${a} must be a \`Tensor[]\` or \`TensorLike[]\``);return n.map((p,f)=>sn(p,`${e}[${f}]`,a,o))}const p0="__op";function Wt(n){const e=Object.keys(n);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let a=e[0];const o=n[a];a.endsWith("_")&&(a=a.substring(0,a.length-1)),a=a+p0;const l=(...p)=>{Ut.startScope(a);try{const f=o(...p);return oc(f)&&console.error("Cannot return a Promise inside of tidy."),Ut.endScope(f),f}catch(f){throw Ut.endScope(null),f}};return Object.defineProperty(l,"name",{value:a,configurable:!0}),l}function kB(n,e){const a=sn(n,"real","complex"),o=sn(e,"imag","complex");jv(a.shape,o.shape,`real and imag shapes, ${a.shape} and ${o.shape}, must match in call to tf.complex().`);const l={real:a,imag:o};return Ut.runKernel(TO,l)}const ef=Wt({complex_:kB});function tf(n,e,a,o){if(o==null&&(o=k1(n)),o==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Li(n)&&!Array.isArray(n)&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Bv(e);const l=Cn(e),p=Cn(a);on(l===p,()=>`Based on the provided shape, [${e}], the tensor should have ${l} values but has ${p}`);for(let f=0;f<a.length;++f){const d=a[f],c=f===a.length-1?d!==Cn(e.slice(f)):!0;on(a[f]===e[f]||!c,()=>`Error creating a new Tensor. Inferred shape (${a}) does not match the provided shape (${e}). `)}}return!Li(n)&&!Array.isArray(n)&&(n=[n]),e=e||a,n=o!=="string"?I1(n,o):rc(n,[],!0),Ut.makeTensor(n,e,o)}function Fi(n,e,a){const o=Qd(n,a);return tf(n,e,o,a)}const Hm={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},cw=4;function d0(n,e){const a={};let o,l=0;for(const p of e){const f=p.name,d=p.dtype,c=p.shape,h=Cn(c);let y;if("quantization"in p){const w=p.quantization;if(w.dtype==="uint8"||w.dtype==="uint16"){if(!("min"in w&&"scale"in w))throw new Error(`Weight ${p.name} with quantization ${w.dtype} doesn't have corresponding metadata min and scale.`)}else if(w.dtype==="float16"){if(d!=="float32")throw new Error(`Weight ${p.name} is quantized with ${w.dtype} which only supports weights of type float32 not ${d}.`)}else throw new Error(`Weight ${p.name} has unknown quantization dtype ${w.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const k=Hm[w.dtype],A=n.slice(l,l+h*k),S=w.dtype==="uint8"?new Uint8Array(A):new Uint16Array(A);if(d==="float32")if(w.dtype==="uint8"||w.dtype==="uint16"){y=new Float32Array(S.length);for(let T=0;T<S.length;T++){const I=S[T];y[T]=I*w.scale+w.min}}else if(w.dtype==="float16")o===void 0&&(o=getFloat16Decoder()),y=o(S);else throw new Error(`Unsupported quantization type ${w.dtype} for weight type float32.`);else if(d==="int32"){if(w.dtype!=="uint8"&&w.dtype!=="uint16")throw new Error(`Unsupported quantization type ${w.dtype} for weight type int32.`);y=new Int32Array(S.length);for(let T=0;T<S.length;T++){const I=S[T];y[T]=Math.round(I*w.scale+w.min)}}else throw new Error(`Unsupported dtype in weight '${f}': ${d}`);l+=h*k}else if(d==="string"){const w=Cn(p.shape);y=[];for(let k=0;k<w;k++){const A=new Uint32Array(n.slice(l,l+cw))[0];l+=cw;const S=new Uint8Array(n.slice(l,l+A));y.push(S),l+=A}}else{const w=Hm[d],k=n.slice(l,l+h*w);if(d==="float32")y=new Float32Array(k);else if(d==="int32")y=new Int32Array(k);else if(d==="bool")y=new Uint8Array(k);else if(d==="complex64"){y=new Float32Array(k);const A=new Float32Array(y.length/2),S=new Float32Array(y.length/2);for(let j=0;j<A.length;j++)A[j]=y[j*2],S[j]=y[j*2+1];const T=Fi(A,c,"float32"),I=Fi(S,c,"float32");a[f]=ef(T,I),T.dispose(),I.dispose()}else throw new Error(`Unsupported dtype in weight '${f}': ${d}`);l+=h*w}d!=="complex64"&&(a[f]=Fi(y,c,d))}return a}function _B(n,e){const a={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:e};return n.signature!=null&&(a.signature=n.signature),n.userDefinedMetadata!=null&&(a.userDefinedMetadata=n.userDefinedMetadata),n.modelInitializer!=null&&(a.modelInitializer=n.modelInitializer),n.trainingConfig!=null&&(a.trainingConfig=n.trainingConfig),a}async function EB(n,e){const a={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy};if(n.trainingConfig!=null&&(a.trainingConfig=n.trainingConfig),n.weightsManifest!=null){const[o,l]=await e(n.weightsManifest);a.weightSpecs=o,a.weightData=l}return n.signature!=null&&(a.signature=n.signature),n.userDefinedMetadata!=null&&(a.userDefinedMetadata=n.userDefinedMetadata),n.modelInitializer!=null&&(a.modelInitializer=n.modelInitializer),a}function nf(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:n.modelTopology==null?0:stringByteLength(JSON.stringify(n.modelTopology)),weightSpecsBytes:n.weightSpecs==null?0:stringByteLength(JSON.stringify(n.weightSpecs)),weightDataBytes:n.weightData==null?0:n.weightData.byteLength}}class Fr{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Fr.instance==null&&(Fr.instance=new Fr),Fr.instance}static registerSaveRouter(e){Fr.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Fr.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Fr.getHandlers(e,"save")}static getLoadHandlers(e,a){return Fr.getHandlers(e,"load",a)}static getHandlers(e,a,o){const l=[];return(a==="load"?Fr.getInstance().loadRouters:Fr.getInstance().saveRouters).forEach(f=>{const d=f(e,o);d!==null&&l.push(d)}),l}}const AB=n=>Fr.registerSaveRouter(n),SB=n=>Fr.registerLoadRouter(n),TB=n=>Fr.getSaveHandlers(n),jB=(n,e)=>Fr.getLoadHandlers(n,e),Wm="tensorflowjs",Km=1,Yu="models_store",eu="model_info_store";class zd{constructor(e){if(this.indexedDB=getIndexedDBFactory(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,a){return new Promise((o,l)=>{const p=this.indexedDB.open(Wm,Km);p.onupgradeneeded=()=>setUpDatabase(p),p.onsuccess=()=>{const f=p.result;if(a==null){const d=f.transaction(Yu,"readonly"),h=d.objectStore(Yu).get(this.modelPath);h.onsuccess=()=>{if(h.result==null)return f.close(),l(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));o(h.result.modelArtifacts)},h.onerror=y=>(f.close(),l(h.error)),d.oncomplete=()=>f.close()}else{const d=nf(a),c=f.transaction(eu,"readwrite");let h=c.objectStore(eu);const y=h.put({modelPath:this.modelPath,modelArtifactsInfo:d});let w;y.onsuccess=()=>{w=f.transaction(Yu,"readwrite");const A=w.objectStore(Yu).put({modelPath:this.modelPath,modelArtifacts:a,modelArtifactsInfo:d});A.onsuccess=()=>o({modelArtifactsInfo:d}),A.onerror=S=>{h=c.objectStore(eu);const T=h.delete(this.modelPath);T.onsuccess=()=>(f.close(),l(A.error)),T.onerror=I=>(f.close(),l(A.error))}},y.onerror=k=>(f.close(),l(y.error)),c.oncomplete=()=>{w==null?f.close():w.oncomplete=()=>f.close()}}},p.onerror=f=>l(p.error)})}}zd.URL_SCHEME="indexeddb://";const f0=n=>_t().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(zd.URL_SCHEME)?browserIndexedDB(n.slice(zd.URL_SCHEME.length)):null;Fr.registerSaveRouter(f0);Fr.registerLoadRouter(f0);class IB{constructor(){this.indexedDB=getIndexedDBFactory()}async listModels(){return new Promise((e,a)=>{const o=this.indexedDB.open(Wm,Km);o.onupgradeneeded=()=>setUpDatabase(o),o.onsuccess=()=>{const l=o.result,p=l.transaction(eu,"readonly"),d=p.objectStore(eu).getAll();d.onsuccess=()=>{const c={};for(const h of d.result)c[h.modelPath]=h.modelArtifactsInfo;e(c)},d.onerror=c=>(l.close(),a(d.error)),p.oncomplete=()=>l.close()},o.onerror=l=>a(o.error)})}async removeModel(e){return e=maybeStripScheme$1(e),new Promise((a,o)=>{const l=this.indexedDB.open(Wm,Km);l.onupgradeneeded=()=>setUpDatabase(l),l.onsuccess=()=>{const p=l.result,f=p.transaction(eu,"readwrite"),d=f.objectStore(eu),c=d.get(e);let h;c.onsuccess=()=>{if(c.result==null)return p.close(),o(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const y=d.delete(e),w=()=>{h=p.transaction(Yu,"readwrite");const A=h.objectStore(Yu).delete(e);A.onsuccess=()=>a(c.result.modelArtifactsInfo),A.onerror=S=>o(c.error)};y.onsuccess=w,y.onerror=k=>(w(),p.close(),o(c.error))}},c.onerror=y=>(p.close(),o(c.error)),f.oncomplete=()=>{h==null?p.close():h.oncomplete=()=>p.close()}},l.onerror=p=>o(l.error)})}}const Ci="/",Ku="tensorflowjs_models",h0="info",NB="model_topology",DB="weight_specs",CB="weight_data",OB="model_metadata";function m0(n){return{info:[Ku,n,h0].join(Ci),topology:[Ku,n,NB].join(Ci),weightSpecs:[Ku,n,DB].join(Ci),weightData:[Ku,n,CB].join(Ci),modelMetadata:[Ku,n,OB].join(Ci)}}function g0(n){for(const e of Object.values(n))window.localStorage.removeItem(e)}function BB(n){const e=n.split(Ci);if(e.length<3)throw new Error(`Invalid key format: ${n}`);return e.slice(1,e.length-1).join(Ci)}class $d{constructor(e){if(!_t().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=m0(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const a=JSON.stringify(e.modelTopology),o=JSON.stringify(e.weightSpecs),l=nf(e);try{this.LS.setItem(this.keys.info,JSON.stringify(l)),this.LS.setItem(this.keys.topology,a),this.LS.setItem(this.keys.weightSpecs,o),this.LS.setItem(this.keys.weightData,arrayBufferToBase64String(e.weightData));const p={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(p)),{modelArtifactsInfo:l}}catch{throw g0(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${l.modelTopologyBytes}, weightSpecsBytes=${l.weightSpecsBytes}, weightDataBytes=${l.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const a={},o=JSON.parse(this.LS.getItem(this.keys.topology));if(o==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);a.modelTopology=o;const l=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(l==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);a.weightSpecs=l;const p=this.LS.getItem(this.keys.modelMetadata);if(p!=null){const d=JSON.parse(p);a.format=d.format,a.generatedBy=d.generatedBy,a.convertedBy=d.convertedBy,d.signature!=null&&(a.signature=d.signature),d.userDefinedMetadata!=null&&(a.userDefinedMetadata=d.userDefinedMetadata),d.modelInitializer!=null&&(a.modelInitializer=d.modelInitializer),d.trainingConfig!=null&&(a.trainingConfig=d.trainingConfig)}const f=this.LS.getItem(this.keys.weightData);if(f==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return a.weightData=base64StringToArrayBuffer(f),a}}$d.URL_SCHEME="localstorage://";const y0=n=>_t().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith($d.URL_SCHEME)?browserLocalStorage(n.slice($d.URL_SCHEME.length)):null;Fr.registerSaveRouter(y0);Fr.registerLoadRouter(y0);class RB{constructor(){on(_t().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),on(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},a=Ku+Ci,o=Ci+h0;for(let l=0;l<this.LS.length;++l){const p=this.LS.key(l);if(p.startsWith(a)&&p.endsWith(o)){const f=BB(p);e[f]=JSON.parse(this.LS.getItem(p))}}return e}async removeModel(e){e=maybeStripScheme(e);const a=m0(e);if(this.LS.getItem(a.info)==null)throw new Error(`Cannot find model at path '${e}'`);const o=JSON.parse(this.LS.getItem(a.info));return g0(a),o}}const pw="://";class pi{constructor(){this.managers={}}static getInstance(){return pi.instance==null&&(pi.instance=new pi),pi.instance}static registerManager(e,a){on(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(pw)&&(e=e.slice(0,e.indexOf(pw))),on(e.length>0,()=>"scheme must not be an empty string.");const o=pi.getInstance();on(o.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),o.managers[e]=a}static getManager(e){const a=pi.getInstance().managers[e];if(a==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return a}static getSchemes(){return Object.keys(pi.getInstance().managers)}}class FB{fetch(e,a){return fetch(e,a)}now(){return performance.now()}encode(e,a){if(a!=="utf-8"&&a!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${a}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,a){return new TextDecoder(a).decode(e)}}if(_t().get("IS_BROWSER")){_t().setPlatform("browser",new FB);try{pi.registerManager($d.URL_SCHEME,new RB)}catch{}try{pi.registerManager(zd.URL_SCHEME,new IB)}catch{}}function zi(n,e="float32",a){return e=e||"float32",Bv(n),new hB(n,e,a)}function MB(n,e){const a=sn(n,"x","cast");if(!mO(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&a.dtype!=="string"||e!=="string"&&a.dtype==="string")throw new Error("Only strings can be casted to strings");const o={x:a},l={dtype:e};return Ut.runKernel(A1,o,l)}const $i=Wt({cast_:MB});function PB(n){const a={x:sn(n,"x","clone","string_or_numeric")};return Ut.runKernel(S1,a)}const rp=Wt({clone_:PB});function b0(n,e=!1){console.log(n.toString(e))}i0();const LB={buffer:zi,cast:$i,clone:rp,print:b0};gB(LB);const UB="model",zB=".json",$B=".weights.bin";class lc{constructor(e){if(!_t().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(lc.URL_SCHEME)&&(e=e.slice(lc.URL_SCHEME.length)),(e==null||e.length===0)&&(e=UB),this.modelJsonFileName=e+zB,this.weightDataFileName=e+$B}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const a=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const o=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],l=_B(e,o),p=window.URL.createObjectURL(new Blob([JSON.stringify(l)],{type:"application/json"})),f=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(f.download=this.modelJsonFileName,f.href=p,await defer(()=>f.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const d=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;d.download=this.weightDataFileName,d.href=a,await defer(()=>d.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:nf(e)}}}}lc.URL_SCHEME="downloads://";const GB=n=>_t().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(lc.URL_SCHEME)?browserDownloads(n.slice(lc.URL_SCHEME.length)):null;Fr.registerSaveRouter(GB);function VB(n){return async(e,a="",o)=>{const l=e.map(()=>!1),p={},f=o!=null?o.map(()=>!1):[],d=[];if(e.forEach((A,S)=>{let T=0;A.weights.forEach(I=>{const j="quantization"in I?I.quantization.dtype:I.dtype,V=Hm[j]*Cn(I.shape),C=()=>{l[S]=!0,p[S]==null&&(p[S]=[]),p[S].push({manifestEntry:I,groupOffset:T,sizeBytes:V})};o!=null?o.forEach((q,L)=>{q===I.name&&(C(),f[L]=!0)}):C(),d.push(I.name),T+=V})}),!f.every(A=>A)){const A=o.filter((S,T)=>!f[T]);throw new Error(`Could not find weights in manifest with names: ${A.join(", ")}. 
Manifest JSON has weights with names: ${d.join(", ")}.`)}const c=l.reduce((A,S,T)=>(S&&A.push(T),A),[]),h=[];c.forEach(A=>{e[A].paths.forEach(S=>{const T=a+(a.endsWith("/")?"":"/")+S;h.push(T)})});const y=await n(h),w={};let k=0;return c.forEach(A=>{const S=e[A].paths.length;let T=0;for(let q=0;q<S;q++)T+=y[k+q].byteLength;const I=new ArrayBuffer(T),j=new Uint8Array(I);let V=0;for(let q=0;q<S;q++){const L=new Uint8Array(y[k+q]);j.set(L,V),V+=L.byteLength}p[A].forEach(q=>{const L=I.slice(q.groupOffset,q.groupOffset+q.sizeBytes),R=d0(L,[q.manifestEntry]);for(const G in R)w[G]=R[G]}),k+=S}),w}}const w0=(n,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let a=!0;if(Array.isArray(n)?a=n.every(o=>isHTTPScheme(o)):a=isHTTPScheme(n),a)return http(n,e)}return null};Fr.registerSaveRouter(w0);Fr.registerLoadRouter(w0);function HB(n,e){return http(n,e)}var v0=Object.freeze({__proto__:null,browserFiles:()=>{},browserHTTPRequest:HB,concatenateArrayBuffers:()=>{},decodeWeights:d0,encodeWeights:()=>{},fromMemory:()=>{},fromMemorySync:()=>{},getLoadHandlers:jB,getModelArtifactsForJSON:EB,getModelArtifactsInfoForJSON:nf,getSaveHandlers:TB,http:()=>{},isHTTPScheme:()=>{},loadWeights:()=>{},registerLoadRouter:SB,registerSaveRouter:AB,weightsLoaderFactory:VB,withSaveHandler:()=>{},withSaveHandlerSync:()=>{},copyModel:()=>{},listModels:()=>{},moveModel:()=>{},removeModel:()=>{}});function WB(n,e,a=!1,o=!1){let l=sn(n,"a","matMul"),p=sn(e,"b","matMul");[l,p]=ps(l,p);const f={a:l,b:p},d={transposeA:a,transposeB:o};return Ut.runKernel(Pv,f,d)}const Wo=Wt({matMul_:WB});function KB(n,e,a=1,o=0){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const p={indices:sn(n,"indices","oneHot","int32")},f={depth:e,onValue:a,offValue:o};return Ut.runKernel(XO,p,f)}const x0=Wt({oneHot_:KB});function k0(){_t().set("PROD",!0)}function Gu(){return Ut}function qa(n,e){return Ut.tidy(n,e)}function cs(n){o0(n).forEach(a=>a.dispose())}function Oi(n){return Ut.keep(n)}function XB(n,e,a=1){return Ut.registerBackend(n,e,a)}function YB(n){const a={x:sn(n,"x","neg")};return Ut.runKernel(WO,a)}const qB=Wt({neg_:YB});function ZB(n){const a={input:sn(n,"input","real")};return Ut.runKernel(ZO,a)}const JB=Wt({real_:ZB});Wt({confusionMatrix_:()=>{}});function Gd(n,e){const a=n.length,o=[];for(let l=0;l<a;l++){const p=a-1-l,f=n[p]||1;(e[e.length-1-l]||1)>1&&f===1&&o.unshift(p)}return o}function _0(n,e){const a=[];for(let o=0;o<e.length;o++){const l=n[n.length-o-1],p=e.length-o-1,f=e[p];(l==null||l===1&&f>1)&&a.unshift(p)}return a}function mo(n,e){const a=[],o=Math.max(n.length,e.length);for(let l=0;l<o;l++){let p=n[n.length-l-1];p==null&&(p=1);let f=e[e.length-l-1];if(f==null&&(f=1),p===1)a.unshift(f);else if(f===1)a.unshift(p);else if(p!==f){const d=`Operands could not be broadcast together with shapes ${n} and ${e}.`;throw Error(d)}else a.unshift(p)}return a}Wt({fromPixels_:()=>{}});function QB(n,e,a){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(n.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${n.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(a.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${a}`);if(a.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(n.size===0)throw new Error(`Updates specified for empty output. updates shape: ${n.shape}`)}validateUpdateShape(a,e,n)}function E0(n,e,a){const o=n.shape.length;on(o===e.length,()=>`Error in slice${o}D: Length of begin ${e} must match the rank of the array (${o}).`),on(o===a.length,()=>`Error in slice${o}D: Length of size ${a} must match the rank of the array (${o}).`);for(let l=0;l<o;++l)on(e[l]+a[l]<=n.shape[l],()=>`Error in slice${o}D: begin[${l}] + size[${l}] (${e[l]+a[l]}) would overflow input.shape[${l}] (${n.shape[l]})`)}function N1(n,e,a){let o=a.length;for(let l=0;l<a.length;l++)if(a[l]>1){o=l;break}for(let l=o+1;l<a.length;l++)if(e[l]>0||a[l]!==n[l])return!1;return!0}function A0(n,e){let a=n.length>0?n[n.length-1]:1;for(let o=0;o<n.length-1;o++)a+=n[o]*e[o];return a}function S0(n,e,a){let o;const l=n.shape.length;typeof e=="number"?o=[e,...new Array(l-1).fill(0)]:e.length<l?o=e.concat(new Array(l-e.length).fill(0)):o=e.slice(),o.forEach(f=>{on(f!==-1,()=>"slice() does not support negative begin indexing.")});let p;return a==null?p=new Array(l).fill(-1):typeof a=="number"?p=[a,...new Array(l-1).fill(-1)]:a.length<l?p=a.concat(new Array(l-a.length).fill(-1)):p=a,p=p.map((f,d)=>f>=0?f:(on(f===-1,()=>`Negative size values should be exactly -1 but got ${f} for the slice() size at index ${d}.`),n.shape[d]-o[d])),[o,p]}var eR=Object.freeze({__proto__:null,assertParamsValid:E0,maskToAxes:()=>{},computeOutShape$2:()=>{},stridesWithElidedDims:()=>{},getNormalizedAxes:()=>{},startIndicesWithElidedDims:()=>{},stopIndicesWithElidedDims:()=>{},stridesForAxis:()=>{},startForAxis:()=>{},stopForAxis:()=>{},isSliceContinous:N1,computeFlatOffset:A0,parseSliceParams:S0,sliceInfo:()=>{}});class tR{getClassName(){return this.constructor.className}static fromConfig(e,a){return new e(a)}}class Zl{constructor(){this.classNameMap={}}static getMap(){return Zl.instance==null&&(Zl.instance=new Zl),Zl.instance}static register(e){Zl.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function mu(n){on(n.className!=null,()=>"Class being registered does not have the static className property defined."),on(typeof n.className=="string",()=>"className is required to be a string, but got type "+typeof n.className),on(n.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),Zl.register(n)}function nR(n,e){let a=sn(n,"a","add"),o=sn(e,"b","add");[a,o]=ps(a,o);const l={a,b:o};return Ut.runKernel(E1,l)}const Ma=Wt({add_:nR});function aR(n,e){let a=sn(n,"a","div"),o=sn(e,"b","div");if([a,o]=ps(a,o),a.dtype==="int32"&&o.dtype==="int32")return floorDiv(a,o);const l={a,b:o},p={};return Ut.runKernel(OO,l,p)}const qs=Wt({div_:aR});function rR(n,e){let a=sn(n,"a","mul"),o=sn(e,"b","mul");[a,o]=ps(a,o);const l={a,b:o};return Ut.runKernel($v,l)}const wa=Wt({mul_:rR});function oR(n){const e=sn(n,"x","abs");if(e.dtype==="complex64"){const a={x:e};return Ut.runKernel(jO,a)}else{const a={x:e};return Ut.runKernel(AO,a)}}const ci=Wt({abs_:oR});function sR(n,e,a,o,l,p,f="channelsLast"){const[d,c]=parseTupleParam(e);let h;if(f==="channelsLast")h=[d,c,n[3],n[3]];else if(f==="channelsFirst")h=[d,c,n[1],n[1]];else throw new Error(`Unknown dataFormat ${f}`);return T0(n,h,a,o,l,p,!1,f)}function T0(n,e,a,o,l,p,f=!1,d="channelsLast"){let[c,h,y,w]=[-1,-1,-1,-1];if(d==="channelsLast")[c,h,y,w]=n;else if(d==="channelsFirst")[c,w,h,y]=n;else throw new Error(`Unknown dataFormat ${d}`);const[k,A,,S]=e,[T,I]=parseTupleParam(a),[j,V]=parseTupleParam(o),C=dw(k,j),q=dw(A,V),{padInfo:L,outHeight:R,outWidth:G}=getPadAndOutInfo(l,h,y,T,I,C,q,p,d),F=f?S*w:S;let O;return d==="channelsFirst"?O=[c,F,R,G]:d==="channelsLast"&&(O=[c,R,G,F]),{batchSize:c,dataFormat:d,inHeight:h,inWidth:y,inChannels:w,outHeight:R,outWidth:G,outChannels:F,padInfo:L,strideHeight:T,strideWidth:I,filterHeight:k,filterWidth:A,effectiveFilterHeight:C,effectiveFilterWidth:q,dilationHeight:j,dilationWidth:V,inShape:n,outShape:O,filterShape:e}}function dw(n,e){return e<=1?n:n+(n-1)*(e-1)}function iR(n){if(n==="NHWC")return"channelsLast";if(n==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${n}`)}function lR(n,e){const o={x:sn(n,"x","reshape","string_or_numeric")},l={shape:e};return Ut.runKernel(Kv,o,l)}const fa=Wt({reshape_:lR});function uR(n,e=0){on(n.length>=1,()=>"Pass at least one tensor to concat");const a=c0(n,"tensors","concat","string_or_numeric");if(a[0].dtype==="complex64"&&a.forEach(p=>{if(p.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${p.dtype}. `)}),a.length===1)return rp(a[0]);const o=a,l={axis:e};return Ut.runKernel(Lv,o,l)}const Yc=Wt({concat_:uR});function cR(n){const a={x:sn(n,"x","sigmoid","float32")};return Ut.runKernel(Yv,a)}const pR=Wt({sigmoid_:cR});function dR(n,e,a){const o=sn(n,"x","slice","string_or_numeric");if(o.rank===0)throw new Error("Slicing scalar is not possible");const l={x:o},p={begin:e,size:a};return Ut.runKernel(QO,l,p)}const Vd=Wt({slice_:dR});Wt({batchNorm2d_:()=>{}});Wt({batchNorm3d_:()=>{}});Wt({batchNorm4d_:()=>{}});function fR(n,e,a){const o=sn(n,"x","bincount"),l=sn(e,"weights","bincount");on(o.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${o.dtype}`),on(a>=0,()=>`size must be non-negative, but got ${a}.`),on(l.size===o.size||l.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${o.shape}, weights shape: ${l.shape}.`);const p={x:o,weights:l},f={size:a};return Ut.runKernel(SO,p,f)}const hR=Wt({bincount_:fR});function mR(n,e){let a=sn(n,"broadcastTo","x");const o=a.shape;if(e.some(h=>!(h>0)||h%1!==0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<a.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${a.rank}.`);if(e.length>a.rank){const h=a.shape.slice();for(;h.length<e.length;)h.unshift(1);a=fa(a,h)}const l=a.shape,p=Array.from(e);for(let h=e.length-1;h>=0;h--)if(l[h]===e[h])p[h]=1;else if(a.shape[h]!==1)throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${e}].`);if(p.map((h,y)=>h>1?y:-1).filter(h=>h>=0).length===0)return rp(a);const d={x:a},c={reps:p};return Ut.runKernel(nB,d,c)}const Nd=Wt({broadcastTo_:mR});Wt({concat1d_:()=>{}});Wt({concat2d_:()=>{}});Wt({concat3d_:()=>{}});Wt({concat4d_:()=>{}});Wt({conv1d_:()=>{}});function gR(n,e,a,o,l,p="NHWC",f){on(n.length===e.rank,()=>`Length of inShape (${n.length}) and rank of dy (${e.rank}) must match`);let d=n,c=e,h=!1;e.rank===3&&(h=!0,c=fa(e,[1,e.shape[0],e.shape[1],e.shape[2]]),d=[1,n[0],n[1],n[2]]),on(d.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${d.length}.`),on(c.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${c.rank}`),on(a.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${a.rank}`);const y=p==="NHWC"?d[3]:d[1],w=p==="NHWC"?c.shape[3]:c.shape[1];on(y===a.shape[2],()=>`Error in conv2dDerInput: depth of input (${y}) must match input depth for filter ${a.shape[2]}.`),on(w===a.shape[3],()=>`Error in conv2dDerInput: depth of output (${w}) must match output depth for filter ${a.shape[3]}.`),checkPadOnDimRoundingMode("conv2dDerInput",l,f);const k={dy:c,filter:a},A={strides:o,pad:l,dataFormat:p,dimRoundingMode:f,inputShape:d},S=Ut.runKernel(NO,k,A);return h?fa(S,[S.shape[1],S.shape[2],S.shape[3]]):S}Wt({conv2DBackpropInput_:gR});Wt({conv2dTranspose_:()=>{}});Wt({conv3dTranspose_:()=>{}});function yR(n,e){let a=sn(n,"a","equal","string_or_numeric"),o=sn(e,"b","equal","string_or_numeric");[a,o]=ps(a,o),mo(a.shape,o.shape);const l={a,b:o};return Ut.runKernel(BO,l)}const bR=Wt({equal_:yR});function wR(n,e,a){const o=sn(e,"a","where"),l=sn(a,"b","where"),p=sn(n,"condition","where","bool"),f=mo(mo(p.shape,o.shape),l.shape),d=Nd(p,f),c=Nd(o,f),h=Nd(l,f),y={condition:d,t:c,e:h};return Ut.runKernel(Xv,y)}const j0=Wt({where_:wR});function vR(n){const a={x:sn(n,"x","zerosLike")};return Ut.runKernel(aB,a)}const Zs=Wt({zerosLike_:vR});function xR(n,e){const a=sn(n,"t1","dot"),o=sn(e,"t2","dot");on((a.rank===1||a.rank===2)&&(o.rank===1||o.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${a.rank} and ${o.rank}.`);const l=a.rank===1?a.size:a.shape[1],p=o.rank===1?o.size:o.shape[0];if(on(l===p,()=>`Error in dot: inner dimensions of inputs must match, but got ${l} and ${p}.`),a.rank===1&&o.rank===1){const f=fa(a,[1,-1]),d=fa(o,[-1,1]),c=Wo(f,d);return fa(c,[])}else if(a.rank===1&&o.rank===2){const f=fa(a,[1,-1]),d=fa(o,[o.shape[0],o.shape[1]]),c=Wo(f,d);return fa(c,[c.size])}else if(a.rank===2&&o.rank===1){const f=fa(o,[-1,1]),d=Wo(a,f);return fa(d,[d.size])}else{const f=fa(o,[o.shape[0],o.shape[1]]);return Wo(a,f)}}const I0=Wt({dot_:xR});function D1(n,e){for(let a=0;a<n.length;++a)if(n[n.length-a-1]!==e-1-a)return!1;return!0}function op(n,e){const a=[],o=n.length;for(let p=0;p<o;p++)e.indexOf(p)===-1&&a.push(n[p]);const l=e.map(p=>n[p]);return[a,l]}function wc(n,e){const a=e.map(o=>1);return combineLocations(n,a,e)}function af(n,e,a){on(D1(e,a),()=>`${n} supports only inner-most axes for now. Got axes ${e} and rank-${a} input.`)}function rf(n,e){if(D1(n,e))return null;const a=[];for(let o=0;o<e;++o)n.indexOf(o)===-1&&a.push(o);return n.forEach(o=>a.push(o)),a}function of(n,e){const a=[];for(let o=e-n;o<e;++o)a.push(o);return a}function kR(n,e=null,a=!1){const l={x:sn(n,"x","max")},p={reductionIndices:e,keepDims:a};return Ut.runKernel(GO,l,p)}const Kc=Wt({max_:kR});function ho(n,e){if((Li(n)&&e!=="string"||Array.isArray(n))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Li(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return tf(n,[],[],e)}function _R(n){const e=sn(n,"x","square"),a={};return Ut.runKernel("Square",{x:e},a)}const Mi=Wt({square_:_R});function ER(n,e=null,a=!1){let o=sn(n,"x","sum");o.dtype==="bool"&&(o=$i(o,"int32"));const l={x:o},p={axis:e,keepDims:a};return Ut.runKernel(qv,l,p)}const di=Wt({sum_:ER});function AR(n,e="euclidean",a=null,o=!1){n=sn(n,"x","norm");const l=N0(n,e,a);let p=l.shape;if(o){const f=_l(a,n.shape);p=wc(l.shape,f)}return fa(l,p)}function N0(n,e,a=null){if(n.rank===0)return ci(n);if(n.rank!==1&&a===null)return N0(fa(n,[-1]),e,a);if(n.rank===1||typeof a=="number"||Array.isArray(a)&&a.length===1){if(e===1)return di(ci(n),a);if(e===1/0)return Kc(ci(n),a);if(e===-1/0)return min(ci(n),a);if(e==="euclidean"||e===2)return sqrt(di(pow$1(ci(n),ho(2,"int32")),a));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(a)&&a.length===2){if(e===1)return Kc(di(ci(n),a[0]),a[1]-1);if(e===1/0)return Kc(di(ci(n),a[1]),a[0]);if(e===-1/0)return min(di(ci(n),a[1]),a[0]);if(e==="fro"||e==="euclidean")return sqrt(di(Mi(n),a));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${a}`)}const SR=Wt({norm_:AR});function TR(n){const a={x:sn(n,"x","exp")};return Ut.runKernel(RO,a)}const D0=Wt({exp_:TR});function jR(n,e=0){const a=sn(n,"x","expandDims","string_or_numeric");on(e<=a.rank,()=>"Axis must be <= rank of the tensor");const o={input:a},l={dim:e};return Ut.runKernel(FO,o,l)}const IR=Wt({expandDims_:jR});function NR(n,e,a=0,o=0){const l=sn(n,"x","gather"),p=sn(e,"indices","gather","int32"),f={x:l,indices:p},d={axis:a,batchDims:o};return Ut.runKernel(Uv,f,d)}const DR=Wt({gather_:NR});function CR(n,e){let a=sn(n,"a","greater","string_or_numeric"),o=sn(e,"b","greater","string_or_numeric");[a,o]=ps(a,o),mo(a.shape,o.shape);const l={a,b:o};return Ut.runKernel(PO,l)}const OR=Wt({greater_:CR});function BR(n){const a={x:sn(n,"x","log","float32")};return Ut.runKernel(UO,a)}const C0=Wt({log_:BR});function RR(n){const a={x:sn(n,"x","log1p")};return Ut.runKernel(zO,a)}const FR=Wt({log1p_:RR});function fw(n){return Ut.customGrad(n)}function MR(n,e){let a=sn(n,"a","sub"),o=sn(e,"b","sub");[a,o]=ps(a,o);const l={a,b:o};return Ut.runKernel(tB,l)}const wl=Wt({sub_:MR});function PR(n,e=null,a=!1){const o=sn(n,"x","logSumExp"),l=_l(e,o.shape),p=Kc(o,l,!0),f=wl(o,p),d=D0(f),c=di(d,l),h=C0(c),y=Ma(fa(p,h.shape),h);if(a){const w=wc(y.shape,l);return fa(y,w)}return y}const LR=Wt({logSumExp_:PR});function UR(n,e){const a=sn(n,"a","logicalAnd","bool"),o=sn(e,"b","logicalAnd","bool");mo(a.shape,o.shape);const l={a,b:o};return Ut.runKernel($O,l)}const zR=Wt({logicalAnd_:UR});Wt({searchSorted_:()=>{}});function $R(n,e){let a=sn(n,"a","maximum"),o=sn(e,"b","maximum");[a,o]=ps(a,o),a.dtype==="bool"&&(a=$i(a,"int32"),o=$i(o,"int32")),mo(a.shape,o.shape);const l={a,b:o};return Ut.runKernel(VO,l)}const O0=Wt({maximum_:$R});function GR(n,e=null,a=!1){const l={x:sn(n,"x","mean")},p={axis:e,keepDims:a};return Ut.runKernel(zv,l,p)}const VR=Wt({mean_:GR});function uc(n,e="float32"){if(e==="complex64"){const o=uc(n,"float32"),l=uc(n,"float32");return ef(o,l)}const a=uu(Cn(n),e);return Ut.makeTensor(a,n,e)}function B0(n,e="float32"){if(e==="complex64"){const o=B0(n,"float32"),l=uc(n,"float32");return ef(o,l)}const a=Ov(Cn(n),e);return Ut.makeTensor(a,n,e)}function HR(n,e){let a=sn(n,"a","minimum"),o=sn(e,"b","minimum");[a,o]=ps(a,o),a.dtype==="bool"&&(a=$i(a,"int32"),o=$i(o,"int32")),mo(a.shape,o.shape);const l={a,b:o};return Ut.runKernel(HO,l)}const WR=Wt({minimum_:HR});Wt({multiRNNCell_:()=>{}});function KR(n,e){let a=sn(n,"a","notEqual","string_or_numeric"),o=sn(e,"b","notEqual","string_or_numeric");[a,o]=ps(a,o),mo(a.shape,o.shape);const l={a,b:o};return Ut.runKernel(KO,l)}const XR=Wt({notEqual_:KR});Wt({outerProduct_:()=>{}});function YR(n,e,a=0){const o=sn(n,"x","pad");if(o.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const l={paddings:e,constantValue:a},p={x:o};return Ut.runKernel(Vv,p,l)}const R0=Wt({pad_:YR});Wt({pad1d_:()=>{}});Wt({pad2d_:()=>{}});Wt({pad3d_:()=>{}});Wt({pad4d_:()=>{}});function qR(n,e=null,a=!1){let o=sn(n,"x","prod");o.dtype==="bool"&&(o=$i(o,"int32"));const l={x:o},p={axis:e,keepDims:a};return Ut.runKernel(Hv,l,p)}const ZR=Wt({prod_:qR});var F0={exports:{}};(function(n){(function(e,a,o){function l(c){var h=this,y=d();h.next=function(){var w=2091639*h.s0+h.c*23283064365386963e-26;return h.s0=h.s1,h.s1=h.s2,h.s2=w-(h.c=w|0)},h.c=1,h.s0=y(" "),h.s1=y(" "),h.s2=y(" "),h.s0-=y(c),h.s0<0&&(h.s0+=1),h.s1-=y(c),h.s1<0&&(h.s1+=1),h.s2-=y(c),h.s2<0&&(h.s2+=1),y=null}function p(c,h){return h.c=c.c,h.s0=c.s0,h.s1=c.s1,h.s2=c.s2,h}function f(c,h){var y=new l(c),w=h&&h.state,k=y.next;return k.int32=function(){return y.next()*4294967296|0},k.double=function(){return k()+(k()*2097152|0)*11102230246251565e-32},k.quick=k,w&&(typeof w=="object"&&p(w,y),k.state=function(){return p(y,{})}),k}function d(){var c=4022871197,h=function(y){y=String(y);for(var w=0;w<y.length;w++){c+=y.charCodeAt(w);var k=.02519603282416938*c;c=k>>>0,k-=c,k*=c,c=k>>>0,k-=c,c+=k*4294967296}return(c>>>0)*23283064365386963e-26};return h}a&&a.exports?a.exports=f:this.alea=f})(fu,n)})(F0);var M0={exports:{}};(function(n){(function(e,a,o){function l(d){var c=this,h="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var w=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^w^w>>>8},d===(d|0)?c.x=d:h+=d;for(var y=0;y<h.length+64;y++)c.x^=h.charCodeAt(y)|0,c.next()}function p(d,c){return c.x=d.x,c.y=d.y,c.z=d.z,c.w=d.w,c}function f(d,c){var h=new l(d),y=c&&c.state,w=function(){return(h.next()>>>0)/4294967296};return w.double=function(){do var k=h.next()>>>11,A=(h.next()>>>0)/4294967296,S=(k+A)/(1<<21);while(S===0);return S},w.int32=h.next,w.quick=w,y&&(typeof y=="object"&&p(y,h),w.state=function(){return p(h,{})}),w}a&&a.exports?a.exports=f:this.xor128=f})(fu,n)})(M0);var P0={exports:{}};(function(n){(function(e,a,o){function l(d){var c=this,h="";c.next=function(){var w=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(w^w<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,d===(d|0)?c.x=d:h+=d;for(var y=0;y<h.length+64;y++)c.x^=h.charCodeAt(y)|0,y==h.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function p(d,c){return c.x=d.x,c.y=d.y,c.z=d.z,c.w=d.w,c.v=d.v,c.d=d.d,c}function f(d,c){var h=new l(d),y=c&&c.state,w=function(){return(h.next()>>>0)/4294967296};return w.double=function(){do var k=h.next()>>>11,A=(h.next()>>>0)/4294967296,S=(k+A)/(1<<21);while(S===0);return S},w.int32=h.next,w.quick=w,y&&(typeof y=="object"&&p(y,h),w.state=function(){return p(h,{})}),w}a&&a.exports?a.exports=f:this.xorwow=f})(fu,n)})(P0);var L0={exports:{}};(function(n){(function(e,a,o){function l(d){var c=this;c.next=function(){var y=c.x,w=c.i,k,A;return k=y[w],k^=k>>>7,A=k^k<<24,k=y[w+1&7],A^=k^k>>>10,k=y[w+3&7],A^=k^k>>>3,k=y[w+4&7],A^=k^k<<7,k=y[w+7&7],k=k^k<<13,A^=k^k<<9,y[w]=A,c.i=w+1&7,A};function h(y,w){var k,A=[];if(w===(w|0))A[0]=w;else for(w=""+w,k=0;k<w.length;++k)A[k&7]=A[k&7]<<15^w.charCodeAt(k)+A[k+1&7]<<13;for(;A.length<8;)A.push(0);for(k=0;k<8&&A[k]===0;++k);for(k==8?A[7]=-1:A[k],y.x=A,y.i=0,k=256;k>0;--k)y.next()}h(c,d)}function p(d,c){return c.x=d.x.slice(),c.i=d.i,c}function f(d,c){d==null&&(d=+new Date);var h=new l(d),y=c&&c.state,w=function(){return(h.next()>>>0)/4294967296};return w.double=function(){do var k=h.next()>>>11,A=(h.next()>>>0)/4294967296,S=(k+A)/(1<<21);while(S===0);return S},w.int32=h.next,w.quick=w,y&&(y.x&&p(y,h),w.state=function(){return p(h,{})}),w}a&&a.exports?a.exports=f:this.xorshift7=f})(fu,n)})(L0);var U0={exports:{}};(function(n){(function(e,a,o){function l(d){var c=this;c.next=function(){var y=c.w,w=c.X,k=c.i,A,S;return c.w=y=y+1640531527|0,S=w[k+34&127],A=w[k=k+1&127],S^=S<<13,A^=A<<17,S^=S>>>15,A^=A>>>12,S=w[k]=S^A,c.i=k,S+(y^y>>>16)|0};function h(y,w){var k,A,S,T,I,j=[],V=128;for(w===(w|0)?(A=w,w=null):(w=w+"\0",A=0,V=Math.max(V,w.length)),S=0,T=-32;T<V;++T)w&&(A^=w.charCodeAt((T+32)%w.length)),T===0&&(I=A),A^=A<<10,A^=A>>>15,A^=A<<4,A^=A>>>13,T>=0&&(I=I+1640531527|0,k=j[T&127]^=A+I,S=k==0?S+1:0);for(S>=128&&(j[(w&&w.length||0)&127]=-1),S=127,T=4*128;T>0;--T)A=j[S+34&127],k=j[S=S+1&127],A^=A<<13,k^=k<<17,A^=A>>>15,k^=k>>>12,j[S]=A^k;y.w=I,y.X=j,y.i=S}h(c,d)}function p(d,c){return c.i=d.i,c.w=d.w,c.X=d.X.slice(),c}function f(d,c){d==null&&(d=+new Date);var h=new l(d),y=c&&c.state,w=function(){return(h.next()>>>0)/4294967296};return w.double=function(){do var k=h.next()>>>11,A=(h.next()>>>0)/4294967296,S=(k+A)/(1<<21);while(S===0);return S},w.int32=h.next,w.quick=w,y&&(y.X&&p(y,h),w.state=function(){return p(h,{})}),w}a&&a.exports?a.exports=f:this.xor4096=f})(fu,n)})(U0);var z0={exports:{}};(function(n){(function(e,a,o){function l(d){var c=this,h="";c.next=function(){var w=c.b,k=c.c,A=c.d,S=c.a;return w=w<<25^w>>>7^k,k=k-A|0,A=A<<24^A>>>8^S,S=S-w|0,c.b=w=w<<20^w>>>12^k,c.c=k=k-A|0,c.d=A<<16^k>>>16^S,c.a=S-w|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,d===Math.floor(d)?(c.a=d/4294967296|0,c.b=d|0):h+=d;for(var y=0;y<h.length+20;y++)c.b^=h.charCodeAt(y)|0,c.next()}function p(d,c){return c.a=d.a,c.b=d.b,c.c=d.c,c.d=d.d,c}function f(d,c){var h=new l(d),y=c&&c.state,w=function(){return(h.next()>>>0)/4294967296};return w.double=function(){do var k=h.next()>>>11,A=(h.next()>>>0)/4294967296,S=(k+A)/(1<<21);while(S===0);return S},w.int32=h.next,w.quick=w,y&&(typeof y=="object"&&p(y,h),w.state=function(){return p(h,{})}),w}a&&a.exports?a.exports=f:this.tychei=f})(fu,n)})(z0);var $0={exports:{}};(function(n){(function(e,a,o){var l=256,p=6,f=52,d="random",c=o.pow(l,p),h=o.pow(2,f),y=h*2,w=l-1,k;function A(q,L,R){var G=[];L=L==!0?{entropy:!0}:L||{};var F=j(I(L.entropy?[q,C(a)]:q??V(),3),G),O=new S(G),N=function(){for(var E=O.g(p),B=c,M=0;E<h;)E=(E+M)*l,B*=l,M=O.g(1);for(;E>=y;)E/=2,B/=2,M>>>=1;return(E+M)/B};return N.int32=function(){return O.g(4)|0},N.quick=function(){return O.g(4)/4294967296},N.double=N,j(C(O.S),a),(L.pass||R||function(E,B,M,P){return P&&(P.S&&T(P,O),E.state=function(){return T(O,{})}),M?(o[d]=E,B):E})(N,F,"global"in L?L.global:this==o,L.state)}function S(q){var L,R=q.length,G=this,F=0,O=G.i=G.j=0,N=G.S=[];for(R||(q=[R++]);F<l;)N[F]=F++;for(F=0;F<l;F++)N[F]=N[O=w&O+q[F%R]+(L=N[F])],N[O]=L;(G.g=function(E){for(var B,M=0,P=G.i,$=G.j,ee=G.S;E--;)B=ee[P=w&P+1],M=M*l+ee[w&(ee[P]=ee[$=w&$+B])+(ee[$]=B)];return G.i=P,G.j=$,M})(l)}function T(q,L){return L.i=q.i,L.j=q.j,L.S=q.S.slice(),L}function I(q,L){var R=[],G=typeof q,F;if(L&&G=="object")for(F in q)try{R.push(I(q[F],L-1))}catch{}return R.length?R:G=="string"?q:q+"\0"}function j(q,L){for(var R=q+"",G,F=0;F<R.length;)L[w&F]=w&(G^=L[w&F]*19)+R.charCodeAt(F++);return C(L)}function V(){try{var q;return k&&(q=k.randomBytes)?q=q(l):(q=new Uint8Array(l),(e.crypto||e.msCrypto).getRandomValues(q)),C(q)}catch{var L=e.navigator,R=L&&L.plugins;return[+new Date,e,R,e.screen,C(a)]}}function C(q){return String.fromCharCode.apply(0,q)}if(j(o.random(),a),n.exports){n.exports=A;try{k=require("crypto")}catch{}}else o["seed"+d]=A})(typeof self<"u"?self:fu,[],Math)})($0);var JR=F0.exports,QR=M0.exports,eF=P0.exports,tF=L0.exports,nF=U0.exports,aF=z0.exports,vc=$0.exports;vc.alea=JR;vc.xor128=QR;vc.xorwow=eF;vc.xorshift7=tF;vc.xor4096=nF;vc.tychei=aF;function rF(n,e,a=1,o="float32"){if(a===0)throw new Error("Cannot have a step of zero");const l={start:n,stop:e,step:a,dtype:o};return Ut.runKernel(qO,{},l)}function oF(n){const a={x:sn(n,"x","relu")};return Ut.runKernel(Wv,a)}const sF=Wt({relu_:oF});function iF(n,e){const o={x:sn(n,"x","reverse")},l={dims:e};return Ut.runKernel(JO,o,l)}const lF=Wt({reverse_:iF});Wt({separableConv2d_:()=>{}});function uF(n){on(n.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${n.dtype}.`);const e={input:n};return Ut.runKernel(MO,e)}const G0=Wt({fft_:uF});function cF(n,e){let a=sn(n,"a","squaredDifference"),o=sn(e,"b","squaredDifference");[a,o]=ps(a,o),mo(a.shape,o.shape);const l={a,b:o},p={};return Ut.runKernel(eB,l,p)}const pF=Wt({squaredDifference_:cF});function dF(n,e){const a=sn(n,"x","squeeze","string_or_numeric");return fa(a,ap(a.shape,e).newShape)}const fF=Wt({squeeze_:dF});function hF(n,e=0){const a=c0(n,"tensors","stack","string_or_numeric");on(a.length>=1,()=>"Pass at least one tensor to tf.stack"),a.length>0&&on(e<=a[0].rank,()=>"Axis must be <= rank of the tensor");const o=a,l={axis:e};return Ut.runKernel(Gv,o,l)}const cc=Wt({stack_:hF});function mF(n,e){Iv(n);const a=Qd(n,e);if(a.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return tf(n,null,a,e)}function V0(n,e,a){if(Iv(n),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const o=Qd(n,a);if(o.length!==2&&o.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(o.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return tf(n,e,o,a)}function gF(n,e=0){const a=sn(n,"x","unstack","string_or_numeric");on(e>=-a.shape.length&&e<a.shape.length,()=>`Axis = ${e} is not in [-${a.shape.length}, ${a.shape.length})`);const o={value:a},l={axis:e};return Ut.runKernel(Zv,o,l)}const xc=Wt({unstack_:gF});function yF(n,e,a,o,l,p="NHWC",f){let d=n;n.rank===3&&(d=fa(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let c=e;c.rank===3&&(c=fa(e,[1,e.shape[0],e.shape[1],e.shape[2]])),on(d.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${d.shape}.`),on(c.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${c.shape}.`),on(a.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${a}.`);const h=p==="NHWC"?d.shape[3]:d.shape[1],y=p==="NHWC"?c.shape[3]:c.shape[1];on(h===a[2],()=>`Error in conv2dDerFilter: depth of input ${h}) must match input depth in filter (${a[2]}.`),on(y===a[3],()=>`Error in conv2dDerFilter: depth of dy (${y}) must match output depth for filter (${a[3]}).`),checkPadOnDimRoundingMode("conv2dDerFilter",l,f);const w={x:d,dy:c},k={strides:o,pad:l,dataFormat:p,dimRoundingMode:f,filterShape:a};return Ut.runKernel(IO,w,k)}Wt({conv2DBackpropFilter_:yF});function H0(n,e,a){if(a==null||a==="linear")return n;if(a==="relu")return wa(n,step(e));throw new Error(`Cannot compute gradient for fused activation ${a}.`)}function W0(n,e){let a=e;const o=_0(n.shape,e.shape);return o.length>0&&(a=di(a,o)),fa(a,n.shape)}const K0=(n,e)=>!(n>0)||e==="linear";function bF(n,e,a,o,l,p=[1,1],f){let d=n;n.rank===3&&(d=fa(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let c=e;c.rank===3&&(c=fa(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const h={x:d,dy:c},y={strides:o,pad:l,dimRoundingMode:f,dilations:p,filterShape:a};return Ut.runKernel(DO,h,y)}Wt({depthwiseConv2dNativeBackpropFilter_:bF});function wF(n,e,a,o,l,p=[1,1],f){let d=e,c=!1;e.rank===3&&(c=!0,d=fa(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const h={dy:d,filter:a},y={strides:o,pad:l,dimRoundingMode:f,dilations:p,inputShape:n},w=Ut.runKernel(CO,h,y);return c?fa(w,[w.shape[1],w.shape[2],w.shape[3]]):w}Wt({depthwiseConv2dNativeBackpropInput_:wF});function vF({a:n,b:e,transposeA:a=!1,transposeB:o=!1,bias:l,activation:p="linear",preluActivationWeights:f,leakyreluAlpha:d=.2}){if(K0(Ut.state.gradientDepth,p)===!1){let E=Wo(n,e,a,o);return l!=null&&(E=Ma(E,l)),applyActivation(E,p,f,d)}let c=sn(n,"a","fused matMul"),h=sn(e,"b","fused matMul");[c,h]=ps(c,h);const y=a?c.shape[c.rank-2]:c.shape[c.rank-1],w=o?h.shape[h.rank-1]:h.shape[h.rank-2],k=a?c.shape[c.rank-1]:c.shape[c.rank-2],A=o?h.shape[h.rank-2]:h.shape[h.rank-1],S=c.shape.slice(0,-2),T=h.shape.slice(0,-2),I=Cn(S),j=Cn(T);on(y===w,()=>`Error in fused matMul: inner shapes (${y}) and (${w}) of Tensors with shapes ${c.shape} and ${h.shape} and transposeA=${a} and transposeB=${o} must match.`);const C=mo(c.shape.slice(0,-2),h.shape.slice(0,-2)).concat([k,A]),q=a?fa(c,[I,y,k]):fa(c,[I,k,y]),L=o?fa(h,[j,A,w]):fa(h,[j,w,A]);let R;l!=null&&(R=sn(l,"bias","fused matMul"),[R]=ps(R,c),mo(C,R.shape));let G;f!=null&&(G=sn(f,"prelu weights","fused matMul"));const F=(E,B)=>{const[M,P,$,ee]=B,K=H0(fa(E,$.shape),$,p);let X,Y;if(!a&&!o?(X=Wo(K,P,!1,!0),Y=Wo(M,K,!0,!1)):!a&&o?(X=Wo(K,P,!1,!1),Y=Wo(K,M,!0,!1)):a&&!o?(X=Wo(P,K,!1,!0),Y=Wo(M,K,!1,!1)):(X=Wo(P,K,!0,!0),Y=Wo(K,M,!0,!0)),l!=null){const Q=W0(ee,K);return[X,Y,Q]}else return[X,Y]},O={a:q,b:L,bias:R,preluActivationWeights:G},N={transposeA:a,transposeB:o,activation:p,leakyreluAlpha:d};return l==null?fw((B,M,P)=>{const $=Ut.runKernel(Mm,O,N);return P([B,M,$]),{value:fa($,C),gradFunc:F}})(q,L):fw((B,M,P,$)=>{const ee=Ut.runKernel(Mm,O,N);return $([B,M,ee,P]),{value:fa(ee,C),gradFunc:F}})(q,L,R)}const xF=Wt({fusedMatMul_:vF});var kF=Object.freeze({__proto__:null,conv2d_:()=>{},depthwiseConv2d_:()=>{},matMul:xF});function _F(n,e,a,o=!1,l=0){let p=0;const f=[];for(;p+e<=n.size;)f.push(Vd(n,p,e)),p+=a;if(o)for(;p<n.size;){const d=p+e-n.size,c=Yc([Vd(n,p,e-d),fill$1([d],l)]);f.push(c),p+=a}return f.length===0?V0([],[0,e]):fa(Yc(f),[f.length,e])}const EF=Wt({frame_:_F});var hw;(function(n){n[n.NONE=0]="NONE",n[n.MEAN=1]="MEAN",n[n.SUM=2]="SUM",n[n.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(hw||(hw={}));Wt({computeWeightedLoss_:()=>{}});Wt({cosineDistance_:()=>{}});Wt({hingeLoss_:()=>{}});Wt({sigmoidCrossEntropy_:()=>{}});Wt({softmaxCrossEntropy_:()=>{}});const AF={fft:G0,ifft_:()=>{},rfft_:()=>{},irfft_:()=>{}},SF={hammingWindow_:()=>{},hannWindow_:()=>{},frame:EF,stft_:()=>{}},TF={flipLeftRight_:()=>{},grayscaleToRGB_:()=>{},resizeNearestNeighbor_:()=>{},resizeBilinear_:()=>{},rotateWithOffset_:()=>{},cropAndResize_:()=>{},nonMaxSuppression_:()=>{},nonMaxSuppressionAsync_:()=>{},nonMaxSuppressionWithScore_:()=>{},nonMaxSuppressionWithScoreAsync_:()=>{},nonMaxSuppressionPadded_:()=>{},nonMaxSuppressionPaddedAsync_:()=>{},threshold_:()=>{},transform_:()=>{}},jF={bandPart_:()=>{},gramSchmidt_:()=>{},qr_:()=>{}},IF={absoluteDifference_:()=>{},computeWeightedLoss_:()=>{},cosineDistance_:()=>{},hingeLoss_:()=>{},huberLoss_:()=>{},logLoss_:()=>{},meanSquaredError_:()=>{},sigmoidCrossEntropy_:()=>{},softmaxCrossEntropy_:()=>{}},NF={sparseFillEmptyRows_:()=>{},sparseReshape_:()=>{},sparseSegmentMean_:()=>{},sparseSegmentSum_:()=>{}},DF={stringNGrams_:()=>{},stringSplit_:()=>{},stringToHashBucketFast_:()=>{}};class gu extends tR{minimize(e,a=!1,o){const{value:l,grads:p}=this.computeGradients(e,o);if(o!=null){const f=o.map(d=>({name:d.name,tensor:p[d.name]}));this.applyGradients(f)}else this.applyGradients(p);return cs(p),a?l:(l.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,a){return variableGrads(e,a)}dispose(){this.iterations_!=null&&cs(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:ho(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(gu,Symbol.hasInstance,{value:n=>n.minimize!=null&&n.computeGradients!=null&&n.applyGradients!=null});class X0 extends gu{constructor(e,a,o=null){super(),this.learningRate=e,this.rho=a,this.epsilon=o,this.accumulatedGrads=[],this.accumulatedUpdates=[],o==null&&(this.epsilon=Ut.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Ut.registeredVariables[o],f=!1;this.accumulatedGrads[l]==null&&(this.accumulatedGrads[l]={originalName:`${o}/accum_grad`,variable:qa(()=>Zs(p).variable(f))}),this.accumulatedUpdates[l]==null&&(this.accumulatedUpdates[l]={originalName:`${o}/accum_var`,variable:qa(()=>Zs(p).variable(f))});const d=Array.isArray(e)?e[l].tensor:e[o];if(d==null)return;const c=this.accumulatedGrads[l].variable,h=this.accumulatedUpdates[l].variable;qa(()=>{const y=Ma(wa(c,this.rho),wa(Mi(d),1-this.rho)),w=wa(qs(sqrt(Ma(h,this.epsilon)),sqrt(Ma(c,this.epsilon))),d),k=Ma(wa(h,this.rho),wa(Mi(w),1-this.rho));c.assign(y),h.assign(k);const A=Ma(wa(w,-this.learningRate),p);p.assign(A)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(cs(this.accumulatedGrads.map(e=>e.variable)),cs(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=e.length/2,o=!1;this.accumulatedGrads=e.slice(0,a).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})),this.accumulatedUpdates=e.slice(a,a*2).map(l=>({originalName:l.name,variable:l.tensor.variable(o)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,a){return new e(a.learningRate,a.rho,a.epsilon)}}X0.className="Adadelta";mu(X0);class Y0 extends gu{constructor(e,a=.1){super(),this.learningRate=e,this.initialAccumulatorValue=a,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Ut.registeredVariables[o];this.accumulatedGrads[l]==null&&(this.accumulatedGrads[l]={originalName:`${o}/accumulator`,variable:qa(()=>fill$1(p.shape,this.initialAccumulatorValue).variable(!1))});const f=Array.isArray(e)?e[l].tensor:e[o];if(f==null)return;const d=this.accumulatedGrads[l].variable;qa(()=>{const c=Ma(d,Mi(f));d.assign(c);const h=Ma(wa(qs(f,sqrt(Ma(c,Ut.backend.epsilon()))),-this.learningRate),p);p.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&cs(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=!1;this.accumulatedGrads=e.map(o=>({originalName:o.name,variable:o.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,a){return new e(a.learningRate,a.initialAccumulatorValue)}}Y0.className="Adagrad";mu(Y0);class q0 extends gu{constructor(e,a,o,l=null){super(),this.learningRate=e,this.beta1=a,this.beta2=o,this.epsilon=l,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],qa(()=>{this.accBeta1=ho(a).variable(),this.accBeta2=ho(o).variable()}),l==null&&(this.epsilon=Ut.backend.epsilon())}applyGradients(e){const a=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);qa(()=>{const o=wl(1,this.accBeta1),l=wl(1,this.accBeta2);a.forEach((p,f)=>{const d=Ut.registeredVariables[p],c=!1;this.accumulatedFirstMoment[f]==null&&(this.accumulatedFirstMoment[f]={originalName:`${p}/m`,variable:qa(()=>Zs(d).variable(c))}),this.accumulatedSecondMoment[f]==null&&(this.accumulatedSecondMoment[f]={originalName:`${p}/v`,variable:qa(()=>Zs(d).variable(c))});const h=Array.isArray(e)?e[f].tensor:e[p];if(h==null)return;const y=this.accumulatedFirstMoment[f].variable,w=this.accumulatedSecondMoment[f].variable,k=Ma(wa(y,this.beta1),wa(h,1-this.beta1)),A=Ma(wa(w,this.beta2),wa(Mi(h),1-this.beta2)),S=qs(k,o),T=qs(A,l);y.assign(k),w.assign(A);const I=Ma(wa(qs(S,Ma(sqrt(T),this.epsilon)),-this.learningRate),d);d.assign(I)}),this.accBeta1.assign(wa(this.accBeta1,this.beta1)),this.accBeta2.assign(wa(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&cs(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&cs(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e),qa(()=>{this.accBeta1.assign(pow$1(this.beta1,this.iterations_+1)),this.accBeta2.assign(pow$1(this.beta2,this.iterations_+1))});const a=e.length/2,o=!1;this.accumulatedFirstMoment=e.slice(0,a).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})),this.accumulatedSecondMoment=e.slice(a,a*2).map(l=>({originalName:l.name,variable:l.tensor.variable(o)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,a){return new e(a.learningRate,a.beta1,a.beta2,a.epsilon)}}q0.className="Adam";mu(q0);class Z0 extends gu{constructor(e,a,o,l=null,p=0){super(),this.learningRate=e,this.beta1=a,this.beta2=o,this.epsilon=l,this.decay=p,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],qa(()=>{this.iteration=ho(0).variable(),this.accBeta1=ho(a).variable()}),l==null&&(this.epsilon=Ut.backend.epsilon())}applyGradients(e){const a=Array.isArray(e)?e.map(o=>o.name):Object.keys(e);qa(()=>{const o=wl(1,this.accBeta1),l=qs(-this.learningRate,Ma(wa(this.iteration,this.decay),1));a.forEach((p,f)=>{const d=Ut.registeredVariables[p],c=!1;this.accumulatedFirstMoment[f]==null&&(this.accumulatedFirstMoment[f]={originalName:`${p}/m`,variable:Zs(d).variable(c)}),this.accumulatedWeightedInfNorm[f]==null&&(this.accumulatedWeightedInfNorm[f]={originalName:`${p}/v`,variable:Zs(d).variable(c)});const h=Array.isArray(e)?e[f].tensor:e[p];if(h==null)return;const y=this.accumulatedFirstMoment[f].variable,w=this.accumulatedWeightedInfNorm[f].variable,k=Ma(wa(y,this.beta1),wa(h,1-this.beta1)),A=wa(w,this.beta2),S=ci(h),T=O0(A,S);y.assign(k),w.assign(T);const I=Ma(wa(qs(l,o),qs(k,Ma(T,this.epsilon))),d);d.assign(I)}),this.iteration.assign(Ma(this.iteration,1)),this.accBeta1.assign(wa(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&cs(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&cs(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,a){return new e(a.learningRate,a.beta1,a.beta2,a.epsilon,a.decay)}}Z0.className="Adamax";mu(Z0);class C1 extends gu{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Array.isArray(e)?e[l].tensor:e[o];if(p==null)return;const f=Ut.registeredVariables[o];qa(()=>{const d=Ma(wa(this.c,p),f);f.assign(d)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Oi(ho(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,a){return new e(a.learningRate)}}C1.className="SGD";mu(C1);class J0 extends C1{constructor(e,a,o=!1){super(e),this.learningRate=e,this.momentum=a,this.useNesterov=o,this.accumulations=[],this.m=ho(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Ut.registeredVariables[o];this.accumulations[l]==null&&(this.accumulations[l]={originalName:`${o}/momentum`,variable:qa(()=>Zs(p).variable(!1))});const f=this.accumulations[l].variable,d=Array.isArray(e)?e[l].tensor:e[o];d!=null&&qa(()=>{let c;const h=Ma(wa(this.m,f),d);this.useNesterov?c=Ma(wa(this.c,Ma(d,wa(h,this.m))),p):c=Ma(wa(this.c,h),p),f.assign(h),p.assign(c)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&cs(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=!1;this.accumulations=e.map(o=>({originalName:o.name,variable:o.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,a){return new e(a.learningRate,a.momentum,a.useNesterov)}}J0.className="Momentum";mu(J0);class Q0 extends gu{constructor(e,a=.9,o=0,l=null,p=!1){if(super(),this.learningRate=e,this.decay=a,this.momentum=o,this.epsilon=l,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=p,l==null&&(this.epsilon=Ut.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(o=>o.name):Object.keys(e)).forEach((o,l)=>{const p=Ut.registeredVariables[o],f=!1;this.accumulatedMeanSquares[l]==null&&(this.accumulatedMeanSquares[l]={originalName:`${o}/rms`,variable:qa(()=>Zs(p).variable(f))}),this.accumulatedMoments[l]==null&&(this.accumulatedMoments[l]={originalName:`${o}/momentum`,variable:qa(()=>Zs(p).variable(f))}),this.accumulatedMeanGrads[l]==null&&this.centered&&(this.accumulatedMeanGrads[l]={originalName:`${o}/mg`,variable:qa(()=>Zs(p).variable(f))});const d=Array.isArray(e)?e[l].tensor:e[o];if(d==null)return;const c=this.accumulatedMeanSquares[l].variable,h=this.accumulatedMoments[l].variable;qa(()=>{const y=Ma(wa(c,this.decay),wa(Mi(d),1-this.decay));if(this.centered){const w=this.accumulatedMeanGrads[l].variable,k=Ma(wa(w,this.decay),wa(d,1-this.decay)),A=qs(wa(d,this.learningRate),sqrt(wl(y,Ma(Mi(k),this.epsilon)))),S=Ma(wa(h,this.momentum),A);c.assign(y),w.assign(k),h.assign(S);const T=wl(p,S);p.assign(T)}else{const w=Ma(wa(c,this.decay),wa(Mi(d),1-this.decay)),k=Ma(wa(h,this.momentum),qs(wa(d,this.learningRate),sqrt(Ma(w,this.epsilon))));c.assign(w),h.assign(k);const A=wl(p,k);p.assign(A)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&cs(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&cs(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&cs(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=this.centered?e.length/3:e.length/2,o=!1;this.accumulatedMeanSquares=e.slice(0,a).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})),this.accumulatedMoments=e.slice(a,a*2).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})),this.centered&&(this.accumulatedMeanGrads=e.slice(a*2,a*3).map(l=>({originalName:l.name,variable:l.tensor.variable(o)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,a){return new e(a.learningRate,a.decay,a.momentum,a.epsilon,a.centered)}}Q0.className="RMSProp";mu(Q0);function ex(n,e){const a=n[0].length;n.forEach((l,p)=>{on(l.length===a,()=>`Error in concat${a}D: rank of tensors[${p}] must be the same as the rank of the rest (${a})`)}),on(e>=0&&e<a,()=>`Error in concat${a}D: axis must be between 0 and ${a-1}.`);const o=n[0];n.forEach((l,p)=>{for(let f=0;f<a;f++)on(f===e||l[f]===o[f],()=>`Error in concat${a}D: Shape of tensors[${p}] (${l}) does not match the shape of the rest (${o}) along the non-concatenated axis ${p}.`)})}function qc(n,e){const a=n[0].slice();for(let o=1;o<n.length;o++)a[e]+=n[o][e];return a}const tx=30;function nx(n){return n<=tx?n:wO(n,Math.floor(Math.sqrt(n)))}const CF=1.7580993408473768,OF=1.0507009873554805,BF=.3275911,RF=.254829592,FF=-.284496736,MF=1.421413741,PF=-1.453152027,LF=1.061405429;function ax(n,e,a,o){const l=e.shape.length,p=n.shape.length;if(o!==0&&(o<-l||o>l))throw new Error(`Expect batchDims in the range of [-${l}, ${l}], but got ${o}`);if(o<0&&(o+=l),o>p)throw new Error(`batchDims (${o}) must be less than rank(x) (
    ${p}).`);if(a<o)throw new Error(`batchDims (${o}) must be less than or equal to axis (${a}).`);for(let w=0;w<o;++w)if(n.shape[w]!==e.shape[w])throw new Error(`x.shape[${w}]: ${n.shape[w]} should be equal to indices.shape[${w}]: ${e.shape[w]}.`);const f=n.shape[a],d=[];let c=1,h=1,y=1;for(let w=0;w<o;++w)d.push(n.shape[w]),c*=n.shape[w];for(let w=o;w<a;w++)d.push(n.shape[w]),h*=n.shape[w];for(let w=o;w<l;w++)d.push(e.shape[w]);for(let w=a+1;w<p;w++)d.push(n.shape[w]),y*=n.shape[w];return{batchSize:c,sliceSize:y,outerSize:h,dimSize:f,outputShape:d}}var UF=Object.freeze({__proto__:null,segOpComputeOptimalWindowSize:()=>{},computeOutShape$2:()=>{},collectGatherOpShapeInfo:ax}),zF=Object.freeze({__proto__:null,slice_util:eR,segment_util:UF,fromUint8ToStringArray:()=>{},fromStringArrayToUint8:()=>{},upcastType:Ui,axesAreInnerMostDims:D1,combineLocations:()=>{},computeOutAndReduceShapes:op,expandShapeToKeepDim:wc,assertAxesAreInnerMostDims:af,getAxesPermutation:rf,getUndoAxesPermutation:()=>{},getInnerMostAxes:of,getBroadcastDims:Gd,getReductionAxes:_0,assertAndGetBroadcastShape:mo,assertParamsConsistent:ex,computeOutShape$2:()=>{},computeDilation2DInfo:()=>{},computePool2DInfo:sR,computePool3DInfo:()=>{},computeConv2DInfo:T0,computeConv3DInfo:()=>{},computeDefaultPad:()=>{},tupleValuesAreOne:()=>{},eitherStridesOrDilationsAreOne:()=>{},convertConv2DDataFormat:iR,checkPadOnDimRoundingMode:()=>{},getFusedDyActivation:H0,getFusedBiasGradient:W0,applyActivation:()=>{},shouldFuse:K0,PARALLELIZE_THRESHOLD:tx,computeOptimalWindowSize:nx,getImageCenter:()=>{},getReshaped:()=>{},getPermuted:()=>{},getReshapedPermuted:()=>{},getSliceBeginCoords:()=>{},getSliceSize:()=>{},prepareAndValidate:()=>{},validateUpdateShape:()=>{},validateInput:QB,calculateShapes:()=>{},SELU_SCALEALPHA:CF,SELU_SCALE:OF,ERF_P:BF,ERF_A1:RF,ERF_A2:FF,ERF_A3:MF,ERF_A4:PF,ERF_A5:LF,warn:yl,log:rB,mergeRealAndImagArrays:()=>{},splitRealAndImagArrays:()=>{},complexWithEvenIndex:()=>{},complexWithOddIndex:()=>{},getComplexWithIndex:()=>{},assignToTypedArray:()=>{},exponents:()=>{},exponent:()=>{},decodeEinsumEquation:()=>{},getEinsumPermutation:()=>{},checkEinsumDimSizes:()=>{},getEinsumComputePath:()=>{},isIdentityPermutation:()=>{},prepareSplitSize:()=>{},getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>{},getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>{},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>{},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>{},getSparseReshapeNegativeOutputDimErrorMessage:()=>{},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>{},getSparseReshapeInputOutputMultipleErrorMessage:()=>{},getSparseReshapeInputOutputMismatchErrorMessage:()=>{},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>{},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>{},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>{},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>{}});const $F=_t();$F.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,n=>{n&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var vs;(function(n){n[n.DT_INVALID=0]="DT_INVALID",n[n.DT_FLOAT=1]="DT_FLOAT",n[n.DT_DOUBLE=2]="DT_DOUBLE",n[n.DT_INT32=3]="DT_INT32",n[n.DT_UINT8=4]="DT_UINT8",n[n.DT_INT16=5]="DT_INT16",n[n.DT_INT8=6]="DT_INT8",n[n.DT_STRING=7]="DT_STRING",n[n.DT_COMPLEX64=8]="DT_COMPLEX64",n[n.DT_INT64=9]="DT_INT64",n[n.DT_BOOL=10]="DT_BOOL",n[n.DT_QINT8=11]="DT_QINT8",n[n.DT_QUINT8=12]="DT_QUINT8",n[n.DT_QINT32=13]="DT_QINT32",n[n.DT_BFLOAT16=14]="DT_BFLOAT16",n[n.DT_QINT16=15]="DT_QINT16",n[n.DT_QUINT16=16]="DT_QUINT16",n[n.DT_UINT16=17]="DT_UINT16",n[n.DT_COMPLEX128=18]="DT_COMPLEX128",n[n.DT_HALF=19]="DT_HALF",n[n.DT_RESOURCE=20]="DT_RESOURCE",n[n.DT_VARIANT=21]="DT_VARIANT",n[n.DT_UINT32=22]="DT_UINT32",n[n.DT_UINT64=23]="DT_UINT64",n[n.DT_FLOAT_REF=101]="DT_FLOAT_REF",n[n.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",n[n.DT_INT32_REF=103]="DT_INT32_REF",n[n.DT_UINT8_REF=104]="DT_UINT8_REF",n[n.DT_INT16_REF=105]="DT_INT16_REF",n[n.DT_INT8_REF=106]="DT_INT8_REF",n[n.DT_STRING_REF=107]="DT_STRING_REF",n[n.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",n[n.DT_INT64_REF=109]="DT_INT64_REF",n[n.DT_BOOL_REF=110]="DT_BOOL_REF",n[n.DT_QINT8_REF=111]="DT_QINT8_REF",n[n.DT_QUINT8_REF=112]="DT_QUINT8_REF",n[n.DT_QINT32_REF=113]="DT_QINT32_REF",n[n.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",n[n.DT_QINT16_REF=115]="DT_QINT16_REF",n[n.DT_QUINT16_REF=116]="DT_QUINT16_REF",n[n.DT_UINT16_REF=117]="DT_UINT16_REF",n[n.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",n[n.DT_HALF_REF=119]="DT_HALF_REF",n[n.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",n[n.DT_VARIANT_REF=121]="DT_VARIANT_REF",n[n.DT_UINT32_REF=122]="DT_UINT32_REF",n[n.DT_UINT64_REF=123]="DT_UINT64_REF"})(vs||(vs={}));var mw;(function(n){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(n.CheckpointFormatVersion||(n.CheckpointFormatVersion={}))})(mw||(mw={}));const GF={};function rx(n){return GF[n]}function U(n,e,a,o,l){const p=e.inputParams[n];if(p&&p.inputIndexStart!==void 0){const d=p.inputIndexStart,c=p.inputIndexEnd===0?void 0:p.inputIndexEnd===void 0?d+1:p.inputIndexEnd;if(p.type==="tensor")return Io(e.inputNames[p.inputIndexStart],a,o,l);if(p.type==="tensors")return e.inputNames.slice(d,c).map(k=>Io(k,a,o,l));const h=Io(e.inputNames.slice(d)[0],a,o,l),y=h.dataSync();return p.type==="number"?y[0]:Rm(h.shape,y)}const f=e.attrParams[n];return f&&f.value}function Io(n,e,a,o){const[l,p]=Ko(n);if(o!=null){const d=o.getHashTableHandleByName(l);if(d!=null)return d}const f=a.currentContextIds.find(d=>!!e[Hd(l,d)]);return f!==void 0?e[Hd(l,f)][p]:void 0}function VF(n,e,a){return e[Hd(n,a.currentContextId)]}function fi(n,e){const[a,o,l]=Ko(n);return[Hd(a,e&&e.currentContextId),o,l]}function Hd(n,e){return e?`${n}-${e}`:n}function Ko(n){const e=n.split(":");if(e.length===1)return[n,0,void 0];const a=e[0],o=e.length===3?e[1]:void 0,l=Number(e[e.length-1]);return[a,l,o]}function nm(n,e,a){let o=U("pad",n,e,a);if(o==="explicit"){o=U("explicitPaddings",n,e,a);const l=[[0,0],[0,0],[0,0],[0,0]];for(let p=0;p<4;p++)l[p][0]=o[p*2],l[p][1]=o[p*2+1];return l}return o}function Ni(n){return n.kept?n:rp(n)}const HF=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var WF=Object.freeze({__proto__:null,json:HF});const KF=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var XF=Object.freeze({__proto__:null,json:KF});const YF=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}];var qF=Object.freeze({__proto__:null,json:YF});const ZF=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}];var JF=Object.freeze({__proto__:null,json:ZF});const QF=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}];var eM=Object.freeze({__proto__:null,json:QF});const tM=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var nM=Object.freeze({__proto__:null,json:tM});const aM=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}];var rM=Object.freeze({__proto__:null,json:aM});const oM=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}];var sM=Object.freeze({__proto__:null,json:oM});const iM=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}];var lM=Object.freeze({__proto__:null,json:iM});const uM=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}];var cM=Object.freeze({__proto__:null,json:uM});const pM=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var dM=Object.freeze({__proto__:null,json:pM});const fM=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}];var hM=Object.freeze({__proto__:null,json:fM});const mM=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}];var gM=Object.freeze({__proto__:null,json:mM});const yM=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}];var bM=Object.freeze({__proto__:null,json:yM});const wM=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}];var vM=Object.freeze({__proto__:null,json:wM});const xM=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}];var kM=Object.freeze({__proto__:null,json:xM});const _M=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}];var EM=Object.freeze({__proto__:null,json:_M});const AM=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}];var SM=Object.freeze({__proto__:null,json:AM});const TM=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];var jM=Object.freeze({__proto__:null,json:TM});class gw{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[WF,XF,qF,JF,eM,nM,rM,sM,lM,cM,dM,hM,gM,bM,vM,kM,EM,SM,jM],a=[].concat(...e.map(o=>o.json));this.opMappers=a.reduce((o,l)=>(o[l.tfOpName]=l,o),{})}transformGraph(e,a={}){const o=e.node,l=[],p=[],f=[],d=o.reduce((T,I)=>(T[I.name]=this.mapNode(I),I.op.startsWith("Placeholder")?l.push(T[I.name]):I.op==="Const"?p.push(T[I.name]):(I.input==null||I.input.length===0)&&f.push(T[I.name]),T),{});let c=[];const h=[];let y={},w={};a!=null&&(y=this.mapSignatureEntries(a.inputs),w=this.mapSignatureEntries(a.outputs));const k=Object.keys(d);k.forEach(T=>{const I=d[T];I.inputNames.forEach((j,V)=>{const[C,,q]=fi(j),L=d[C];if(L.outputs!=null){const R=L.outputs.indexOf(q);if(R!==-1){const G=`${C}:${R}`;I.inputNames[V]=G}}I.inputs.push(L),L.children.push(I)})}),Object.keys(w).length===0?k.forEach(T=>{const I=d[T];I.children.length===0&&h.push(I)}):Object.keys(w).forEach(T=>{const[I]=fi(T),j=d[I];j!=null&&(j.signatureKey=w[T],h.push(j))}),Object.keys(y).length>0?Object.keys(y).forEach(T=>{const[I]=fi(T),j=d[I];j&&(j.signatureKey=y[T],c.push(j))}):c=l;let A={};e.library!=null&&e.library.function!=null&&(A=e.library.function.reduce((T,I)=>(T[I.signature.name]=this.mapFunction(I),T),{}));const S={nodes:d,inputs:c,outputs:h,weights:p,placeholders:l,signature:a,functions:A};return f.length>0&&(S.initNodes=f),S}mapSignatureEntries(e){return Object.keys(e||{}).reduce((a,o)=>(a[e[o].name]=o,a),{})}mapNode(e){const a=rx(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const o={name:e.name,op:e.op,category:a.category,inputNames:(e.input||[]).map(l=>l.startsWith("^")?l.slice(1):l),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:a.outputs};return a.inputs!=null&&(o.inputParams=a.inputs.reduce((l,p)=>(l[p.name]={type:p.type,inputIndexStart:p.start,inputIndexEnd:p.end},l),{})),a.attrs!=null&&(o.attrParams=a.attrs.reduce((l,p)=>{const f=p.type;let d;switch(p.type){case"string":d=Xm(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Xm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"string[]":d=Qm(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Qm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"number":d=qm(e.attr,p.tfName,p.defaultValue||0),d===void 0&&p.tfDeprecatedName&&(d=qm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"number[]":d=getNumericArrayParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getNumericArrayParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"bool":d=Ym(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Ym(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"bool[]":d=getBoolArrayParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getBoolArrayParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"shape":d=Jm(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Jm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"shape[]":d=getTensorShapeArrayParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getTensorShapeArrayParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"dtype":d=Zm(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=Zm(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"dtype[]":d=getDtypeArrayParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getDtypeArrayParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"func":d=getFuncParam(e.attr,p.tfName,p.defaultValue),d===void 0&&p.tfDeprecatedName&&(d=getFuncParam(e.attr,p.tfDeprecatedName,p.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${p.type} for op: ${e.op}`)}return l[p.name]={value:d,type:f},l},{})),o}mapFunction(e){const a=e.nodeDef,o=[],l=[];let p={};a!=null&&(p=a.reduce((w,k)=>(w[k.name]=this.mapNode(k),k.op==="Const"&&l.push(w[k.name]),w),{}));const f=[],d=[];e.signature.inputArg.forEach(w=>{const[k]=fi(w.name),A={name:k,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:sx(w.type),type:"dtype"}},children:[]};A.signatureKey=w.name,f.push(A),p[k]=A}),Object.keys(p).forEach(w=>{const k=p[w];k.inputNames.forEach((A,S)=>{const[T,,I]=fi(A),j=p[T];if(j.outputs!=null){const V=j.outputs.indexOf(I);if(V!==-1){const C=`${T}:${V}`;k.inputNames[S]=C}}k.inputs.push(j),j.children.push(k)})});const h=e.ret;e.signature.outputArg.forEach(w=>{const[k,A]=fi(h[w.name]),S=p[k];S!=null&&(S.defaultOutput=A,d.push(S))});const y=this.mapArgsToSignature(e);return{nodes:p,inputs:f,outputs:d,weights:l,placeholders:o,signature:y}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((a,o)=>(a[o.name]=this.mapArgToTensorInfo(o),a),{}),outputs:e.signature.outputArg.reduce((a,o)=>(a[o.name]=this.mapArgToTensorInfo(o,e.ret),a),{})}}mapArgToTensorInfo(e,a){let o=e.name;return a!=null&&(o=a[o]),{name:o,dtype:e.type}}}function IM(n){const e=_t().global;if(typeof e.atob<"u")return e.atob(n);if(typeof Buffer<"u")return new Buffer(n,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function ox(n,e){const a=Array.isArray(n)?String.fromCharCode.apply(null,n):IM(n);return e?a:a.toLowerCase()}function Xm(n,e,a,o=!1){const l=n[e];return l!=null?ox(l.s,o):a}function Ym(n,e,a){const o=n[e];return o?o.b:a}function qm(n,e,a){const o=n[e]||{},l=o.i!=null?o.i:o.f!=null?o.f:a;return typeof l=="number"?l:parseInt(l,10)}function sx(n){switch(typeof n=="string"&&(n=vs[n]),n){case vs.DT_FLOAT:case vs.DT_HALF:return"float32";case vs.DT_INT32:case vs.DT_INT64:case vs.DT_INT8:case vs.DT_UINT8:return"int32";case vs.DT_BOOL:return"bool";case vs.DT_DOUBLE:return"float32";case vs.DT_STRING:return"string";default:return null}}function Zm(n,e,a){const o=n[e];return o&&o.type?sx(o.type):a}function NM(n){if(!n.unknownRank)return n.dim!=null?n.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function Jm(n,e,a){const o=n[e];return o&&o.shape?NM(o.shape):a}function Qm(n,e,a,o=!1){const l=n[e];return l&&l.list&&l.list.s?l.list.s.map(p=>ox(p,o)):a}class DM{constructor(e,a,o){this.node=e,this.tensorMap=a,this.context=o,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(l=>this.getInput(l)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((l,p)=>(l[p]=this.getAttr(p),l),{}))}getInput(e){return Io(e,this.tensorMap,this.context)}getAttr(e,a){const o=this.node.rawAttrs[e];if(o.tensor!=null)return Io(e,this.tensorMap,this.context);if(o.i!=null||o.f!=null)return qm(this.node.rawAttrs,e,a);if(o.s!=null)return Xm(this.node.rawAttrs,e,a);if(o.b!=null)return Ym(this.node.rawAttrs,e,a);if(o.shape!=null)return Jm(this.node.rawAttrs,e,a);if(o.type!=null)return Zm(this.node.rawAttrs,e,a);if(o.list!=null){if(o.list.i!=null||o.list.f!=null)return getNumericArrayParam(this.node.rawAttrs,e,a);if(o.list.s!=null)return Qm(this.node.rawAttrs,e,a);if(o.list.shape!=null)return getTensorShapeArrayParam(this.node.rawAttrs,e,a);if(o.list.b!=null)return getBoolArrayParam(this.node.rawAttrs,e,a);if(o.list.type!=null)return getDtypeArrayParam(this.node.rawAttrs,e,a)}return a}}var go=Object.freeze({__proto__:null,abs:ci,acos_:()=>{},acosh_:()=>{},add:Ma,addN_:()=>{},all_:()=>{},any_:()=>{},argMax_:()=>{},argMin_:()=>{},asin_:()=>{},asinh_:()=>{},atan_:()=>{},atan_:()=>{},atanh_:()=>{},avgPool_:()=>{},avgPool3d_:()=>{},basicLSTMCell_:()=>{},batchToSpaceND_:()=>{},batchNorm_:()=>{},batchNorm2d_:()=>{},batchNorm3d_:()=>{},batchNorm4d_:()=>{},bincount:hR,broadcastArgs_:()=>{},broadcastTo:Nd,buffer:zi,cast:$i,ceil_:()=>{},clipByValue_:()=>{},clone:rp,complex:ef,concat:Yc,concat1d_:()=>{},concat2d_:()=>{},concat3d_:()=>{},concat4d_:()=>{},conv1d_:()=>{},conv2d_:()=>{},conv2dTranspose_:()=>{},conv3d_:()=>{},conv3dTranspose_:()=>{},cos_:()=>{},cosh_:()=>{},cumprod_:()=>{},cumsum_:()=>{},denseBincount_:()=>{},depthToSpace_:()=>{},depthwiseConv2d_:()=>{},diag_:()=>{},dilation2d_:()=>{},div:qs,divNoNan_:()=>{},dot:I0,einsum_:()=>{},elu_:()=>{},equal:bR,erf_:()=>{},euclideanNorm_:()=>{},exp:D0,expandDims:IR,expm1_:()=>{},eye_:()=>{},fill$1:()=>{},floor_:()=>{},floorDiv_:()=>{},gather:DR,greater:OR,greaterEqual_:()=>{},imag_:()=>{},isFinite_:()=>{},isInf_:()=>{},isNaN_:()=>{},leakyRelu_:()=>{},less_:()=>{},lessEqual_:()=>{},linspace:()=>{},localResponseNormalization_:()=>{},log:C0,log1p:FR,logSigmoid_:()=>{},logSoftmax_:()=>{},logSumExp:LR,logicalAnd:zR,logicalNot_:()=>{},logicalOr_:()=>{},logicalXor_:()=>{},lowerBound:()=>{},matMul:Wo,max:Kc,maxPool_:()=>{},maxPool3d_:()=>{},maxPoolWithArgmax_:()=>{},maximum:O0,mean:VR,meshgrid:()=>{},min_:()=>{},minimum:WR,mirrorPad_:()=>{},mod_:()=>{},moments_:()=>{},mul:wa,multiRNNCell_:()=>{},multinomial_:()=>{},neg:qB,notEqual:XR,oneHot:x0,ones:B0,onesLike_:()=>{},outerProduct_:()=>{},pad:R0,pad1d_:()=>{},pad2d_:()=>{},pad3d_:()=>{},pad4d_:()=>{},pool_:()=>{},pow_:()=>{},prelu_:()=>{},print:b0,prod:ZR,rand_:()=>{},randomGamma_:()=>{},randomNormal_:()=>{},randomStandardNormal_:()=>{},randomUniform_:()=>{},range:rF,real:JB,reciprocal_:()=>{},relu:sF,relu6_:()=>{},reshape:fa,reverse:lF,reverse1d_:()=>{},reverse2d_:()=>{},reverse3d_:()=>{},reverse4d_:()=>{},round$1:()=>{},rsqrt_:()=>{},scalar:ho,selu_:()=>{},separableConv2d_:()=>{},setdiff1dAsync_:()=>{},sigmoid:pR,sign_:()=>{},sin_:()=>{},sinh_:()=>{},slice:Vd,slice1d_:()=>{},slice2d_:()=>{},slice3d_:()=>{},slice4d_:()=>{},softmax_:()=>{},softplus_:()=>{},spaceToBatchND_:()=>{},fft:G0,ifft_:()=>{},irfft_:()=>{},rfft_:()=>{},split_:()=>{},sqrt_:()=>{},square:Mi,squaredDifference:pF,squeeze:fF,stack:cc,step_:()=>{},stridedSlice_:()=>{},sub:wl,sum:di,tan_:()=>{},tanh_:()=>{},tensor:Fi,tensor1d:mF,tensor2d:V0,tensor3d:()=>{},tensor4d:()=>{},tensor5d:()=>{},tensor6d:()=>{},tile_:()=>{},topk_:()=>{},truncatedNormal_:()=>{},unique_:()=>{},unsortedSegmentSum_:()=>{},unstack:xc,upperBound:()=>{},variable:()=>{},where:j0,whereAsync_:()=>{},zeros:uc,zerosLike:Zs,op:Wt,OP_SCOPE_SUFFIX:p0,booleanMaskAsync_:()=>{},transpose_:()=>{},norm:SR,movingAverage_:()=>{},scatterND_:()=>{},searchSorted_:()=>{},sparseToDense_:()=>{},gatherND_:()=>{},dropout_:()=>{},enclosingPowerOfTwo:()=>{},cosineWindow:()=>{},inTopKAsync_:()=>{},image:TF,linalg:jF,losses:IF,spectral:AF,fused:kF,signal:SF,sparse:NF,string:DF});const CM=(n,e,a,o=go)=>{switch(n.op){case"BiasAdd":case"AddV2":case"Add":return[o.add(U("a",n,e,a),U("b",n,e,a))];case"AddN":return[o.addN(U("tensors",n,e,a))];case"FloorMod":case"Mod":return[o.mod(U("a",n,e,a),U("b",n,e,a))];case"Mul":return[o.mul(U("a",n,e,a),U("b",n,e,a))];case"RealDiv":case"Div":return[o.div(U("a",n,e,a),U("b",n,e,a))];case"DivNoNan":return[o.divNoNan(U("a",n,e,a),U("b",n,e,a))];case"FloorDiv":return[o.floorDiv(U("a",n,e,a),U("b",n,e,a))];case"Sub":return[o.sub(U("a",n,e,a),U("b",n,e,a))];case"Minimum":return[o.minimum(U("a",n,e,a),U("b",n,e,a))];case"Maximum":return[o.maximum(U("a",n,e,a),U("b",n,e,a))];case"Pow":return[o.pow(U("a",n,e,a),U("b",n,e,a))];case"SquaredDifference":return[o.squaredDifference(U("a",n,e,a),U("b",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},OM=(n,e,a,o=go)=>{switch(n.op){case"Abs":case"ComplexAbs":return[o.abs(U("x",n,e,a))];case"Acos":return[o.acos(U("x",n,e,a))];case"Acosh":return[o.acosh(U("x",n,e,a))];case"Asin":return[o.asin(U("x",n,e,a))];case"Asinh":return[o.asinh(U("x",n,e,a))];case"Atan":return[o.atan(U("x",n,e,a))];case"Atan2":return[o.atan2(U("x",n,e,a),U("y",n,e,a))];case"Atanh":return[o.atanh(U("x",n,e,a))];case"Ceil":return[o.ceil(U("x",n,e,a))];case"Complex":return[o.complex(U("real",n,e,a),U("imag",n,e,a))];case"Cos":return[o.cos(U("x",n,e,a))];case"Cosh":return[o.cosh(U("x",n,e,a))];case"Elu":return[o.elu(U("x",n,e,a))];case"Erf":return[o.erf(U("x",n,e,a))];case"Exp":return[o.exp(U("x",n,e,a))];case"Expm1":return[o.expm1(U("x",n,e,a))];case"Floor":return[o.floor(U("x",n,e,a))];case"Log":return[o.log(U("x",n,e,a))];case"Log1p":return[o.log1p(U("x",n,e,a))];case"Imag":return[o.imag(U("x",n,e,a))];case"Neg":return[o.neg(U("x",n,e,a))];case"Reciprocal":return[o.reciprocal(U("x",n,e,a))];case"Real":return[o.real(U("x",n,e,a))];case"Relu":return[o.relu(U("x",n,e,a))];case"Round":return[o.round(U("x",n,e,a))];case"Selu":return[o.selu(U("x",n,e,a))];case"Sigmoid":return[o.sigmoid(U("x",n,e,a))];case"Sin":return[o.sin(U("x",n,e,a))];case"Sign":return[o.sign(U("x",n,e,a))];case"Sinh":return[o.sinh(U("x",n,e,a))];case"Softplus":return[o.softplus(U("x",n,e,a))];case"Sqrt":return[o.sqrt(U("x",n,e,a))];case"Square":return[o.square(U("x",n,e,a))];case"Tanh":return[o.tanh(U("x",n,e,a))];case"Tan":return[o.tan(U("x",n,e,a))];case"ClipByValue":return[o.clipByValue(U("x",n,e,a),U("clipValueMin",n,e,a),U("clipValueMax",n,e,a))];case"Relu6":return[o.relu6(U("x",n,e,a))];case"Rsqrt":return[o.rsqrt(Io(n.inputNames[0],e,a))];case"Prod":return[o.prod(U("x",n,e,a),U("axes",n,e,a))];case"LeakyRelu":return[o.leakyRelu(U("x",n,e,a),U("alpha",n,e,a))];case"Prelu":return[o.prelu(U("x",n,e,a),U("alpha",n,e,a))];case"IsNan":return[o.isNaN(Io(n.inputNames[0],e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}};function Uc(n,e,a){let o=yw(n,a);const l=!fullDefinedShape(o);if(l&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${o}`);if(l&&e.forEach(p=>{o=yw(p.shape,o)}),!fullDefinedShape(o))throw new Error(`Non-fully-defined elementShape: ${o}`);return o}function yw(n,e){if(typeof n=="number")return e;if(typeof e=="number")return n;if(n.length!==e.length)throw new Error(`Incompatible ranks during merge: ${n} vs. ${e}`);const a=[];for(let o=0;o<n.length;++o){const l=n[o],p=e[o];if(l>=0&&p>=0&&l!==p)throw new Error(`Incompatible shape during merge: ${n} vs. ${e}`);a[o]=l>=0?l:p}return a}class BM{constructor(e,a,o,l,p,f,d){this.name=e,this.dtype=a,this.maxSize=o,this.elementShape=l,this.identicalElementShapes=p,this.dynamicSize=f,this.clearAfterRead=d,this.tensors=[],this.closed_=!1,this.idTensor=ho(0),Oi(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(a=>{(e==null||!e.has(a.tensor.id))&&a.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const a=this.tensors[e];if(a.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(a.cleared=!0),a.read=!0,a.tensor}readMany(e){return e.map(a=>this.read(a))}write(e,a){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const o=this.tensors[e]||{};if(a.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${a.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=a.shape),assertShapesMatchAllowUndefinedSize(this.elementShape,a.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),o.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(o.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);o.tensor=a,Oi(a),o.written=!0,this.tensors[e]=o}writeMany(e,a){if(e.length!==a.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${a.length}.`);e.forEach((o,l)=>this.write(o,a[l]))}gather(e,a){if(a&&a!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${a}`);if(e)e=e.slice(0,this.size());else{e=[];for(let l=0;l<this.size();l++)e.push(l)}if(e.length===0)return Fi([],[0].concat(this.elementShape));const o=this.readMany(e);return assertShapesMatchAllowUndefinedSize(this.elementShape,o[0].shape,"TensorArray shape mismatch: "),cc(o,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Fi([],[0].concat(this.elementShape));const a=[];for(let l=0;l<this.size();l++)a.push(l);const o=this.readMany(a);return assertShapesMatchAllowUndefinedSize(this.elementShape,o[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${o[0].shape})`),Yc(o,0)}scatter(e,a){if(a.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${a.dtype}`);if(e.length!==a.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${a.shape[0]}`);const o=Math.max(...e);if(!this.dynamicSize&&o>=this.maxSize)throw new Error(`Max index must be < array size (${o}  vs. ${this.maxSize})`);this.writeMany(e,xc(a,0))}split(e,a){if(a.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${a.dtype}`);let o=0;const l=e.map(c=>(o+=c,o));if(o!==a.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${o}, and tensor's shape is: ${a.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const p=o===0?0:a.size/o,f=[];qa(()=>{a=fa(a,[1,o,p]);for(let c=0;c<e.length;++c){const y=[0,c===0?0:l[c-1],0],w=[1,e[c],p];f[c]=fa(Vd(a,y,w),this.elementShape)}return f});const d=[];for(let c=0;c<e.length;c++)d[c]=c;this.writeMany(d,f)}}class pc{constructor(e,a,o,l=-1){this.tensors=e,this.elementShape=a,this.elementDtype=o,e!=null&&e.forEach(p=>{if(o!==p.dtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${p.dtype}`);assertShapesMatchAllowUndefinedSize(a,p.shape,"TensorList shape mismatch: "),Oi(p)}),this.idTensor=ho(0),this.maxNumElements=l,Oi(this.idTensor)}get id(){return this.idTensor.id}copy(){return new pc([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(a=>{(e==null||!e.has(a.id))&&a.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,a,o=-1){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(o!==-1&&this.tensors.length!==o)throw new Error(`Operation expected a list with ${o} elements but got a list with ${this.tensors.length} elements.`);assertShapesMatchAllowUndefinedSize(e,this.elementShape,"TensorList shape mismatch: ");const l=Uc(this.elementShape,this.tensors,e);return qa(()=>{const p=this.tensors.map(f=>fa(f,l));return cc(p,0)})}popBack(e,a){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const o=Uc(this.elementShape,this.tensors,e),l=this.tensors.pop();return assertShapesMatchAllowUndefinedSize(l.shape,e,"TensorList shape mismatch: "),fa(l,o)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(assertShapesMatchAllowUndefinedSize(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Oi(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const a=new pc([],this.elementShape,this.elementDtype,this.maxNumElements);a.tensors.length=e;for(let o=0;o<Math.min(this.tensors.length,e);++o)a.tensors[o]=this.tensors[o];return a}getItem(e,a,o){if(o!==this.elementDtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);assertShapesMatchAllowUndefinedSize(this.tensors[e].shape,a,"TensorList shape mismatch: ");const l=Uc(this.elementShape,this.tensors,a);return fa(this.tensors[e],l)}setItem(e,a){if(a.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);assertShapesMatchAllowUndefinedSize(this.elementShape,a.shape,"TensorList shape mismatch: "),Oi(a),this.tensors[e]=a}gather(e,a,o){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);assertShapesMatchAllowUndefinedSize(this.elementShape,o,"TensorList shape mismatch: "),e=e.slice(0,this.size());const l=Uc(this.elementShape,this.tensors,o);return e.length===0?Fi([],[0].concat(l)):qa(()=>{const p=e.map(f=>fa(this.tensors[f],l));return cc(p,0)})}concat(e,a){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);assertShapesMatchAllowUndefinedSize(this.elementShape,a,"TensorList shape mismatch: ");const o=Uc(this.elementShape,this.tensors,a);return this.size()===0?Fi([],[0].concat(o)):qa(()=>{const l=this.tensors.map(p=>fa(p,o));return Yc(l,0)})}}function RM(n,e,a){const o=n.dtype;if(n.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${n.shape}`);if(n.dtype!==a)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${a}`);const l=n.shape.slice(1);assertShapesMatchAllowUndefinedSize(l,e,"TensorList shape mismatch: ");const p=xc(n);return new pc(p,e,o)}function FM(n,e,a,o){return new pc([],n,e,o)}function MM(n,e,a,o){if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const l=Math.max(...e);if(o!=null&&o!==-1&&l>=o)throw new Error(`Max index must be < array size (${l}  vs. ${o})`);const p=new pc([],a,n.dtype,o),f=xc(n,0);return e.forEach((d,c)=>{p.setItem(d,f[c])}),p}const PM=async(n,e,a)=>{switch(n.op){case"If":case"StatelessIf":{const o=U("thenBranch",n,e,a),l=U("elseBranch",n,e,a),p=U("cond",n,e,a),f=U("args",n,e,a);return(await p.data())[0]?a.functionMap[o].executeFunctionAsync(f,a.tensorArrayMap,a.tensorListMap):a.functionMap[l].executeFunctionAsync(f,a.tensorArrayMap,a.tensorListMap)}case"While":case"StatelessWhile":{const o=U("body",n,e,a),l=U("cond",n,e,a),p=U("args",n,e,a),f=await a.functionMap[l].executeFunctionAsync(p,a.tensorArrayMap,a.tensorListMap),d=p.map(y=>y.id);let c=await f[0].data();f.forEach(y=>{!y.kept&&d.indexOf(y.id)===-1&&y.dispose()});let h=p;for(;c[0];){const y=h;h=await a.functionMap[o].executeFunctionAsync(h,a.tensorArrayMap,a.tensorListMap);const w=h.map(A=>A.id);y.forEach(A=>{!A.kept&&d.indexOf(A.id)===-1&&w.indexOf(A.id)===-1&&A.dispose()});const k=await a.functionMap[l].executeFunctionAsync(h,a.tensorArrayMap,a.tensorListMap);c=await k[0].data(),k.forEach(A=>{!A.kept&&d.indexOf(A.id)===-1&&w.indexOf(A.id)===-1&&A.dispose()})}return h}case"LoopCond":{const o=U("pred",n,e,a);return[Ni(o)]}case"Switch":{const o=U("pred",n,e,a);let l=U("data",n,e,a);return l.kept||(l=Ni(l)),(await o.data())[0]?[void 0,l]:[l,void 0]}case"Merge":{const o=n.inputNames.find(l=>Io(l,e,a)!==void 0);if(o){const l=Io(o,e,a);return[Ni(l)]}return}case"Enter":{const o=U("frameName",n,e,a),l=U("tensor",n,e,a);return a.enterFrame(o),[Ni(l)]}case"Exit":{const o=U("tensor",n,e,a);return a.exitFrame(),[Ni(o)]}case"NextIteration":{const o=U("tensor",n,e,a);return a.nextIteration(),[Ni(o)]}case"TensorArrayV3":{const o=U("size",n,e,a),l=U("dtype",n,e,a),p=U("elementShape",n,e,a),f=U("dynamicSize",n,e,a),d=U("clearAfterRead",n,e,a),c=U("identicalElementShapes",n,e,a),h=U("name",n,e,a),y=new BM(h,l,o,p,c,f,d);return a.addTensorArray(y),[y.idTensor,ho(1)]}case"TensorArrayWriteV3":{const o=U("tensorArrayId",n,e,a),l=U("index",n,e,a),p=U("tensor",n,e,a),f=a.getTensorArray(o.id);return f.write(l,p),[f.idTensor]}case"TensorArrayReadV3":{const o=U("tensorArrayId",n,e,a),l=U("index",n,e,a);return[a.getTensorArray(o.id).read(l)]}case"TensorArrayGatherV3":{const o=U("tensorArrayId",n,e,a),l=U("indices",n,e,a),p=U("dtype",n,e,a);return[a.getTensorArray(o.id).gather(l,p)]}case"TensorArrayScatterV3":{const o=U("tensorArrayId",n,e,a),l=U("indices",n,e,a),p=U("tensor",n,e,a),f=a.getTensorArray(o.id);return f.scatter(l,p),[f.idTensor]}case"TensorArrayConcatV3":{const o=U("tensorArrayId",n,e,a),l=a.getTensorArray(o.id),p=U("dtype",n,e,a);return[l.concat(p)]}case"TensorArraySplitV3":{const o=U("tensorArrayId",n,e,a),l=U("tensor",n,e,a),p=U("lengths",n,e,a),f=a.getTensorArray(o.id);return f.split(p,l),[f.idTensor]}case"TensorArraySizeV3":{const o=U("tensorArrayId",n,e,a),l=a.getTensorArray(o.id);return[ho(l.size(),"int32")]}case"TensorArrayCloseV3":{const o=U("tensorArrayId",n,e,a),l=a.getTensorArray(o.id);return l.clearAndClose(),[l.idTensor]}case"TensorListSetItem":{const o=U("tensorListId",n,e,a),l=U("index",n,e,a),p=U("tensor",n,e,a),f=a.getTensorList(o.id);return f.setItem(l,p),[f.idTensor]}case"TensorListGetItem":{const o=U("tensorListId",n,e,a),l=U("index",n,e,a),p=U("elementShape",n,e,a),f=U("elementDType",n,e,a);return[a.getTensorList(o.id).getItem(l,p,f)]}case"TensorListScatterV2":case"TensorListScatter":{const o=U("indices",n,e,a),l=U("tensor",n,e,a),p=U("elementShape",n,e,a),f=U("numElements",n,e,a),d=MM(l,o,p,f);return a.addTensorList(d),[d.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const o=U("elementShape",n,e,a),l=U("elementDType",n,e,a);let p;n.op==="TensorListReserve"?p="numElements":p="maxNumElements";const f=U(p,n,e,a),d=n.op==="TensorListReserve"?-1:f,c=FM(o,l,f,d);return a.addTensorList(c),[c.idTensor]}case"TensorListGather":{const o=U("tensorListId",n,e,a),l=U("indices",n,e,a),p=U("elementShape",n,e,a),f=U("elementDType",n,e,a);return[a.getTensorList(o.id).gather(l,f,p)]}case"TensorListStack":{const o=U("tensorListId",n,e,a),l=U("elementShape",n,e,a),p=U("elementDType",n,e,a),f=U("numElements",n,e,a);return[a.getTensorList(o.id).stack(l,p,f)]}case"TensorListFromTensor":{const o=U("tensor",n,e,a),l=U("elementShape",n,e,a),p=U("elementDType",n,e,a),f=RM(o,l,p);return a.addTensorList(f),[f.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const o=U("tensorListId",n,e,a),l=a.getTensorList(o.id),p=U("dtype",n,e,a),f=U("elementShape",n,e,a);return[l.concat(p,f)]}case"TensorListPushBack":{const o=U("tensorListId",n,e,a),l=U("tensor",n,e,a),p=a.getTensorList(o.id);return p.pushBack(l),[p.idTensor]}case"TensorListPopBack":{const o=U("tensorListId",n,e,a),l=U("elementShape",n,e,a),p=U("elementDType",n,e,a);return[a.getTensorList(o.id).popBack(l,p)]}case"TensorListSplit":{const o=U("tensor",n,e,a),l=U("elementShape",n,e,a),p=U("lengths",n,e,a),f=split$1(o,p,l);return a.addTensorList(f),[f.idTensor]}case"TensorListLength":{const o=U("tensorListId",n,e,a),l=a.getTensorList(o.id);return[ho(l.size(),"int32")]}case"TensorListResize":{const o=U("tensorListId",n,e,a),l=U("size",n,e,a),f=a.getTensorList(o.id).resize(l);return a.addTensorList(f),[f.idTensor]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},LM=(n,e,a,o=go)=>{switch(n.op){case"Conv1D":{const l=U("stride",n,e,a),p=U("pad",n,e,a),f=U("dataFormat",n,e,a).toUpperCase(),d=U("dilation",n,e,a);return[o.conv1d(U("x",n,e,a),U("filter",n,e,a),l,p,f,d)]}case"Conv2D":{const l=U("strides",n,e,a),p=nm(n,e,a),f=U("dataFormat",n,e,a).toUpperCase(),d=U("dilations",n,e,a);return[o.conv2d(U("x",n,e,a),U("filter",n,e,a),[l[1],l[2]],p,f,[d[1],d[2]])]}case"_FusedConv2D":{const{stride:l,pad:p,dataFormat:f,dilations:d,biasArg:c,preluArg:h,activationFunc:y,leakyreluAlpha:w}=fusedConvAndDepthWiseParams(n,e,a);return[o.fused.conv2d({x:U("x",n,e,a),filter:U("filter",n,e,a),strides:[l[1],l[2]],pad:p,dataFormat:f,dilations:[d[1],d[2]],bias:c,activation:y,preluActivationWeights:h,leakyreluAlpha:w})]}case"FusedDepthwiseConv2dNative":{const{stride:l,pad:p,dataFormat:f,dilations:d,biasArg:c,preluArg:h,activationFunc:y,leakyreluAlpha:w}=fusedConvAndDepthWiseParams(n,e,a);return[o.fused.depthwiseConv2d({x:U("x",n,e,a),filter:U("filter",n,e,a),strides:[l[1],l[2]],pad:p,dataFormat:f,dilations:[d[1],d[2]],bias:c,activation:y,preluActivationWeights:h,leakyreluAlpha:w})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const l=U("outputShape",n,e,a),p=U("strides",n,e,a),f=nm(n,e,a);return[o.conv2dTranspose(U("x",n,e,a),U("filter",n,e,a),l,[p[1],p[2]],f)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const l=U("strides",n,e,a),p=nm(n,e,a),f=U("dilations",n,e,a),d=U("dataFormat",n,e,a).toUpperCase();return[o.depthwiseConv2d(U("input",n,e,a),U("filter",n,e,a),[l[1],l[2]],p,d,[f[1],f[2]])]}case"Conv3D":{const l=U("strides",n,e,a),p=U("pad",n,e,a),f=U("dataFormat",n,e,a).toUpperCase(),d=U("dilations",n,e,a);return[o.conv3d(U("x",n,e,a),U("filter",n,e,a),[l[1],l[2],l[3]],p,f,[d[1],d[2],d[3]])]}case"AvgPool":{const l=U("strides",n,e,a),p=U("pad",n,e,a),f=U("kernelSize",n,e,a);return[o.avgPool(U("x",n,e,a),[f[1],f[2]],[l[1],l[2]],p)]}case"MaxPool":{const l=U("strides",n,e,a),p=U("pad",n,e,a),f=U("kernelSize",n,e,a);return[o.maxPool(U("x",n,e,a),[f[1],f[2]],[l[1],l[2]],p)]}case"MaxPoolWithArgmax":{const l=U("strides",n,e,a),p=U("pad",n,e,a),f=U("kernelSize",n,e,a),d=U("includeBatchInIndex",n,e,a),{result:c,indexes:h}=o.maxPoolWithArgmax(U("x",n,e,a),[f[1],f[2]],[l[1],l[2]],p,d);return[c,h]}case"AvgPool3D":{const l=U("strides",n,e,a),p=U("pad",n,e,a),f=U("kernelSize",n,e,a);return[o.avgPool3d(U("x",n,e,a),[f[1],f[2],f[3]],[l[1],l[2],l[3]],p)]}case"MaxPool3D":{const l=U("strides",n,e,a),p=U("pad",n,e,a),f=U("kernelSize",n,e,a);return[o.maxPool3d(U("x",n,e,a),[f[1],f[2],f[3]],[l[1],l[2],l[3]],p)]}case"Dilation2D":{const l=U("strides",n,e,a),p=U("pad",n,e,a),f=U("dilations",n,e,a),d=l[1],c=l[2],h=f[1],y=f[2];return[o.dilation2d(U("x",n,e,a),U("filter",n,e,a),[d,c],p,[h,y],"NHWC")]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},UM=(n,e,a,o=go)=>{switch(n.op){case"Fill":{const l=U("shape",n,e,a),p=U("dtype",n,e,a),f=U("value",n,e,a);return[o.fill(l,f,p)]}case"LinSpace":{const l=U("start",n,e,a),p=U("stop",n,e,a),f=U("num",n,e,a);return[o.linspace(l,p,f)]}case"Multinomial":{const l=U("logits",n,e,a),p=U("numSamples",n,e,a),f=U("seed",n,e,a);return[o.multinomial(l,p,f)]}case"OneHot":{const l=U("indices",n,e,a),p=U("depth",n,e,a),f=U("onValue",n,e,a),d=U("offValue",n,e,a);return[o.oneHot(l,p,f,d)]}case"Ones":return[o.ones(U("shape",n,e,a),U("dtype",n,e,a))];case"OnesLike":return[o.onesLike(U("x",n,e,a))];case"RandomStandardNormal":return[o.randomStandardNormal(U("shape",n,e,a),U("dtype",n,e,a),U("seed",n,e,a))];case"RandomUniform":return[o.randomUniform(U("shape",n,e,a),U("minval",n,e,a),U("maxval",n,e,a),U("dtype",n,e,a))];case"Range":{const l=U("start",n,e,a),p=U("stop",n,e,a),f=U("step",n,e,a);return[o.range(l,p,f,U("dtype",n,e,a))]}case"TruncatedNormal":{const l=U("shape",n,e,a),p=U("mean",n,e,a),f=U("stdDev",n,e,a),d=U("seed",n,e,a);return[o.truncatedNormal(l,p,f,U("dtype",n,e,a),d)]}case"Zeros":return[o.zeros(U("shape",n,e,a),U("dtype",n,e,a))];case"ZerosLike":return[o.zerosLike(U("x",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},zM=async(n,e,a,o,l=go)=>{switch(n.op){case"NonMaxSuppressionV5":{const{boxes:p,scores:f,maxOutputSize:d,iouThreshold:c,scoreThreshold:h,softNmsSigma:y}=nmsParams(n,e,a),w=await l.image.nonMaxSuppressionWithScoreAsync(p,f,d,c,h,y);return[w.selectedIndices,w.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:p,scores:f,maxOutputSize:d,iouThreshold:c,scoreThreshold:h}=nmsParams(n,e,a),y=U("padToMaxOutputSize",n,e,a),w=await l.image.nonMaxSuppressionPaddedAsync(p,f,d,c,h,y);return[w.selectedIndices,w.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:p,scores:f,maxOutputSize:d,iouThreshold:c,scoreThreshold:h}=nmsParams(n,e,a);return[await l.image.nonMaxSuppressionAsync(p,f,d,c,h)]}case"Where":{const p=l.cast(U("condition",n,e,a),"bool"),f=[await l.whereAsync(p)];return p.dispose(),f}case"ListDiff":return l.setdiff1dAsync(U("x",n,e,a),U("y",n,e,a));default:throw TypeError(`Node type ${n.op} is not implemented`)}},$M=(n,e,a,o=go)=>{switch(n.op){case"LowerBound":{const l=U("sortedSequence",n,e,a),p=U("values",n,e,a);return[o.lowerBound(l,p)]}case"TopKV2":{const l=U("x",n,e,a),p=U("k",n,e,a),f=U("sorted",n,e,a),d=o.topk(l,p,f);return[d.values,d.indices]}case"UpperBound":{const l=U("sortedSequence",n,e,a),p=U("values",n,e,a);return[o.upperBound(l,p)]}case"Unique":{const l=U("x",n,e,a),p=o.unique(l);return[p.values,p.indices]}case"UniqueV2":{const l=U("x",n,e,a),p=U("axis",n,e,a),f=o.unique(l,p);return[f.values,f.indices]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},GM=(n,e,a,o=go)=>{switch(n.op){case"Const":return e[n.name];case"PlaceholderWithDefault":const l=U("default",n,e,a);return[Io(n.name,e,a)||l];case"Placeholder":return[Io(n.name,e,a)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const y=U("x",n,e,a);return[Ni(y)]}case"IdentityN":return U("x",n,e,a).map(y=>Ni(y));case"Snapshot":const p=U("x",n,e,a);return[Ni(p)];case"Shape":return[o.tensor1d(U("x",n,e,a).shape,"int32")];case"ShapeN":return U("x",n,e,a).map(y=>o.tensor1d(y.shape));case"Size":return[o.scalar(U("x",n,e,a).size,"int32")];case"Rank":return[o.scalar(U("x",n,e,a).rank,"int32")];case"NoOp":return[o.scalar(1)];case"Print":const f=U("x",n,e,a),d=U("data",n,e,a),c=U("message",n,e,a),h=U("summarize",n,e,a);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(c);for(let y=0;y<d.length;y++)console.log(Array.prototype.slice.call(d[y].dataSync()).slice(0,h));return[f];default:throw TypeError(`Node type ${n.op} is not implemented`)}};class VM{constructor(e,a){this.keyDType=e,this.valueDType=a,this.handle=ho(0),this.tensorMap=new Map,Oi(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return ho(this.size(),"int32")}async import(e,a){this.checkKeyAndValueTensor(e,a);const o=await e.data();return this.tensorMap.forEach(l=>l.dispose()),this.tensorMap.clear(),qa(()=>{const l=xc(a),p=o.length,f=l.length;on(p===f,()=>`The number of elements doesn't match, keys has ${p} elements, the values has ${f} elements.`);for(let d=0;d<p;d++){const c=o[d],h=l[d];Oi(h),this.tensorMap.set(c,h)}return this.handle})}async find(e,a){this.checkKeyAndValueTensor(e,a);const o=await e.data();return qa(()=>{const l=[];for(let p=0;p<o.length;p++){const f=o[p],d=this.findWithDefault(f,a);l.push(d)}return cc(l)})}findWithDefault(e,a){const o=this.tensorMap.get(e);return o??a}checkKeyAndValueTensor(e,a){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(a.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${a.dtype}`)}}const HM=async(n,e,a,o)=>{switch(n.op){case"HashTable":case"HashTableV2":{const l=U("keyDType",n,e,a),p=U("valueDType",n,e,a),f=new VM(l,p);return o.addHashTable(n.name,f),[f.handle]}case"LookupTableImport":case"LookupTableImportV2":{const l=U("tableHandle",n,e,a,o),p=U("keys",n,e,a),f=U("values",n,e,a);return[await o.getHashTableById(l.id).import(p,f)]}case"LookupTableFind":case"LookupTableFindV2":{const l=U("tableHandle",n,e,a,o),p=U("keys",n,e,a),f=U("defaultValue",n,e,a);return[await o.getHashTableById(l.id).find(p,f)]}case"LookupTableSize":case"LookupTableSizeV2":{const l=U("tableHandle",n,e,a,o);return[o.getHashTableById(l.id).tensorSize()]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},WM=(n,e,a,o=go)=>{switch(n.op){case"ResizeBilinear":{const l=U("images",n,e,a),p=U("size",n,e,a),f=U("alignCorners",n,e,a),d=U("halfPixelCenters",n,e,a);return[o.image.resizeBilinear(l,[p[0],p[1]],f,d)]}case"ResizeNearestNeighbor":{const l=U("images",n,e,a),p=U("size",n,e,a),f=U("alignCorners",n,e,a),d=U("halfPixelCenters",n,e,a);return[o.image.resizeNearestNeighbor(l,[p[0],p[1]],f,d)]}case"CropAndResize":{const l=U("image",n,e,a),p=U("boxes",n,e,a),f=U("boxInd",n,e,a),d=U("cropSize",n,e,a),c=U("method",n,e,a),h=U("extrapolationValue",n,e,a);return[o.image.cropAndResize(l,p,f,d,c,h)]}case"ImageProjectiveTransformV3":{const l=U("images",n,e,a),p=U("transforms",n,e,a),f=U("outputShape",n,e,a),d=U("fillValue",n,e,a),c=U("interpolation",n,e,a),h=U("fillMode",n,e,a);return[o.image.transform(l,p,c.toLowerCase(),h.toLowerCase(),d,f)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},KM=(n,e,a,o=go)=>{switch(n.op){case"Equal":return[o.equal(U("a",n,e,a),U("b",n,e,a))];case"NotEqual":return[o.notEqual(U("a",n,e,a),U("b",n,e,a))];case"Greater":return[o.greater(U("a",n,e,a),U("b",n,e,a))];case"GreaterEqual":return[o.greaterEqual(U("a",n,e,a),U("b",n,e,a))];case"Less":return[o.less(U("a",n,e,a),U("b",n,e,a))];case"LessEqual":return[o.lessEqual(U("a",n,e,a),U("b",n,e,a))];case"LogicalAnd":return[o.logicalAnd(U("a",n,e,a),U("b",n,e,a))];case"LogicalNot":return[o.logicalNot(U("a",n,e,a))];case"LogicalOr":return[o.logicalOr(U("a",n,e,a),U("b",n,e,a))];case"Select":case"SelectV2":return[o.where(U("condition",n,e,a),U("a",n,e,a),U("b",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},XM=(n,e,a,o=go)=>{switch(n.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[o.matMul(U("a",n,e,a),U("b",n,e,a),U("transposeA",n,e,a),U("transposeB",n,e,a))];case"Einsum":return[o.einsum(U("equation",n,e,a),...U("tensors",n,e,a))];case"Transpose":return[o.transpose(U("x",n,e,a),U("perm",n,e,a))];case"_FusedMatMul":const[l,p]=U("fusedOps",n,e,a),f=l==="biasadd",d=p==="prelu",c=U("numArgs",n,e,a),h=U("leakyreluAlpha",n,e,a);if(f){if(d&&c!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!d&&c!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[y,w]=U("args",n,e,a);return[o.fused.matMul({a:U("a",n,e,a),b:U("b",n,e,a),transposeA:U("transposeA",n,e,a),transposeB:U("transposeB",n,e,a),bias:y,activation:p,preluActivationWeights:w,leakyreluAlpha:h})];default:throw TypeError(`Node type ${n.op} is not implemented`)}},YM=(n,e,a,o=go)=>{switch(n.op){case"EuclideanNorm":return[o.euclideanNorm(U("x",n,e,a),U("axis",n,e,a),U("keepDims",n,e,a))];case"FusedBatchNorm":case"FusedBatchNormV2":return[o.batchNorm(U("x",n,e,a),U("mean",n,e,a),U("variance",n,e,a),U("offset",n,e,a),U("scale",n,e,a),U("epsilon",n,e,a))];case"FusedBatchNormV3":return[o.batchNorm(U("x",n,e,a),U("mean",n,e,a),U("variance",n,e,a),U("offset",n,e,a),U("scale",n,e,a),U("epsilon",n,e,a))];case"LRN":return[o.localResponseNormalization(U("x",n,e,a),U("radius",n,e,a),U("bias",n,e,a),U("alpha",n,e,a),U("beta",n,e,a))];case"Softmax":return[o.softmax(U("x",n,e,a))];case"LogSoftmax":return[o.logSoftmax(U("x",n,e,a))];case"SparseToDense":return[o.sparseToDense(U("sparseIndices",n,e,a),U("outputShape",n,e,a),U("sparseValues",n,e,a),U("defaultValue",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},qM=(n,e,a,o=go)=>{switch(n.op){case"Max":{const d=U("axis",n,e,a),c=U("keepDims",n,e,a);return[o.max(U("x",n,e,a),d,c)]}case"Mean":{const d=U("axis",n,e,a),c=U("keepDims",n,e,a);return[o.mean(U("x",n,e,a),d,c)]}case"Min":{const d=U("axis",n,e,a),c=U("keepDims",n,e,a);return[o.min(U("x",n,e,a),d,c)]}case"Sum":{const d=U("axis",n,e,a),c=U("keepDims",n,e,a);return[o.sum(U("x",n,e,a),d,c)]}case"All":{const d=U("axis",n,e,a),c=U("keepDims",n,e,a);return[o.all(U("x",n,e,a),d,c)]}case"Any":{const d=U("axis",n,e,a),c=U("keepDims",n,e,a);return[o.any(U("x",n,e,a),d,c)]}case"ArgMax":{const d=U("axis",n,e,a);return[o.argMax(U("x",n,e,a),d)]}case"ArgMin":{const d=U("axis",n,e,a);return[o.argMin(U("x",n,e,a),d)]}case"Prod":{const d=U("axis",n,e,a),c=U("keepDims",n,e,a);return[o.prod(U("x",n,e,a),d,c)]}case"Cumprod":{const d=U("axis",n,e,a),c=U("exclusive",n,e,a),h=U("reverse",n,e,a);return[o.cumprod(U("x",n,e,a),d,c,h)]}case"Cumsum":{const d=U("axis",n,e,a),c=U("exclusive",n,e,a),h=U("reverse",n,e,a);return[o.cumsum(U("x",n,e,a),d,c,h)]}case"Bincount":const l=U("x",n,e,a),p=U("weights",n,e,a),f=U("size",n,e,a);return[o.bincount(l,p,f)];case"DenseBincount":{const d=U("x",n,e,a),c=U("weights",n,e,a),h=U("size",n,e,a),y=U("binaryOutput",n,e,a);return[o.denseBincount(d,c,h,y)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},ZM=(n,e,a,o=go)=>{switch(n.op){case"ConcatV2":case"Concat":{const l=U("n",n,e,a),p=U("axis",n,e,a);let f=U("tensors",n,e,a);return f=f.slice(0,l),[o.concat(f,p)]}case"Gather":{const l=U("x",n,e,a),p=U("indices",n,e,a);return[o.gather(l,o.cast(p,"int32"),0)]}case"GatherV2":{const l=U("axis",n,e,a),p=U("batchDims",n,e,a),f=U("x",n,e,a),d=U("indices",n,e,a);return[o.gather(f,o.cast(d,"int32"),l,p)]}case"Reverse":{const l=U("dims",n,e,a),p=[];for(let d=0;d<l.length;d++)l[d]&&p.push(d);const f=U("x",n,e,a);return[o.reverse(f,p)]}case"ReverseV2":{const l=U("axis",n,e,a),p=U("x",n,e,a);return[o.reverse(p,l)]}case"Slice":{const l=U("begin",n,e,a),p=U("size",n,e,a);return[o.slice(U("x",n,e,a),l,p)]}case"StridedSlice":{const l=U("begin",n,e,a),p=U("end",n,e,a),f=U("strides",n,e,a),d=U("beginMask",n,e,a),c=U("endMask",n,e,a),h=U("ellipsisMask",n,e,a),y=U("newAxisMask",n,e,a),w=U("shrinkAxisMask",n,e,a),k=U("x",n,e,a);return[o.stridedSlice(k,l,p,f,d,c,h,y,w)]}case"Pack":return qa(()=>{const l=U("axis",n,e,a),p=U("tensors",n,e,a),f=p[0].shape,d=o.squeeze(p[0]).shape,c=p.map(h=>{const y=zo(h.shape,f);if(!y&&!zo(o.squeeze(h).shape,d))throw new Error("the input tensors shape does not match");return y?h:o.reshape(h,f)});return[o.stack(c,l)]});case"Unpack":{const l=U("axis",n,e,a),p=U("tensor",n,e,a);return o.unstack(p,l)}case"Tile":{const l=U("reps",n,e,a);return[o.tile(U("x",n,e,a),l)]}case"Split":case"SplitV":{const l=U("axis",n,e,a),p=U("numOrSizeSplits",n,e,a),f=U("x",n,e,a);return o.split(f,p,l)}case"ScatterNd":{const l=U("indices",n,e,a),p=U("values",n,e,a),f=U("shape",n,e,a);return[o.scatterND(l,p,f)]}case"GatherNd":{const l=U("x",n,e,a),p=U("indices",n,e,a);return[o.gatherND(l,p)]}case"SparseToDense":{const l=U("sparseIndices",n,e,a),p=U("outputShape",n,e,a),f=U("sparseValues",n,e,a),d=U("defaultValue",n,e,a);return[o.sparseToDense(l,f,p,f.dtype===d.dtype?d:o.cast(d,f.dtype))]}default:throw TypeError(`Node type ${n.op} is not implemented`)}},JM=(n,e,a,o=go)=>{switch(n.op){case"SparseFillEmptyRows":{const{outputIndices:l,outputValues:p,emptyRowIndicator:f,reverseIndexMap:d}=o.sparse.sparseFillEmptyRows(U("indices",n,e,a),U("values",n,e,a),U("denseShape",n,e,a),U("defaultValue",n,e,a));return[l,p,f,d]}case"SparseReshape":{const{outputIndices:l,outputShape:p}=o.sparse.sparseReshape(U("inputIndices",n,e,a),U("inputShape",n,e,a),U("newShape",n,e,a));return[l,p]}case"SparseSegmentMean":return[o.sparse.sparseSegmentMean(U("data",n,e,a),U("indices",n,e,a),U("segmentIds",n,e,a))];case"SparseSegmentSum":return[o.sparse.sparseSegmentSum(U("data",n,e,a),U("indices",n,e,a),U("segmentIds",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},QM=(n,e,a,o=go)=>{switch(n.op){case"FFT":return[o.fft(U("x",n,e,a))];case"IFFT":return[o.ifft(U("x",n,e,a))];case"RFFT":return[o.rfft(U("x",n,e,a))];case"IRFFT":return[o.irfft(U("x",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},eP=(n,e,a,o=go)=>{switch(n.op){case"StringNGrams":{const{nGrams:l,nGramsSplits:p}=o.string.stringNGrams(U("data",n,e,a),U("dataSplits",n,e,a),U("separator",n,e,a),U("nGramWidths",n,e,a),U("leftPad",n,e,a),U("rightPad",n,e,a),U("padWidth",n,e,a),U("preserveShortSequences",n,e,a));return[l,p]}case"StringSplit":{const{indices:l,values:p,shape:f}=o.string.stringSplit(U("input",n,e,a),U("delimiter",n,e,a),U("skipEmpty",n,e,a));return[l,p,f]}case"StringToHashBucketFast":return[o.string.stringToHashBucketFast(U("input",n,e,a),U("numBuckets",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}},tP=(n,e,a,o=go)=>{switch(n.op){case"Cast":return[o.cast(U("x",n,e,a),U("dtype",n,e,a))];case"ExpandDims":{const l=U("axis",n,e,a);return[o.expandDims(U("x",n,e,a),l)]}case"Squeeze":{const l=U("axis",n,e,a);return[o.squeeze(U("x",n,e,a),l)]}case"Reshape":return[o.reshape(U("x",n,e,a),U("shape",n,e,a))];case"MirrorPad":return[o.mirrorPad(U("x",n,e,a),U("padding",n,e,a),U("mode",n,e,a))];case"PadV2":case"Pad":return[o.pad(U("x",n,e,a),U("padding",n,e,a),U("constantValue",n,e,a))];case"SpaceToBatchND":{const l=U("blockShape",n,e,a),p=U("paddings",n,e,a);return[o.spaceToBatchND(U("x",n,e,a),l,p)]}case"BatchToSpaceND":{const l=U("blockShape",n,e,a),p=U("crops",n,e,a);return[o.batchToSpaceND(U("x",n,e,a),l,p)]}case"DepthToSpace":{const l=U("blockSize",n,e,a),p=U("dataFormat",n,e,a).toUpperCase();return[o.depthToSpace(U("x",n,e,a),l,p)]}case"BroadcastTo":return[o.broadcastTo(U("x",n,e,a),U("shape",n,e,a))];case"BroadcastArgs":return[o.broadcastArgs(U("s0",n,e,a),U("s1",n,e,a))];default:throw TypeError(`Node type ${n.op} is not implemented`)}};function bw(n,e,a,o,l=qa){const p=((f,d,c)=>{switch(f.category){case"arithmetic":return l(()=>CM(f,d,c));case"basic_math":return l(()=>OM(f,d,c));case"control":return PM(f,d,c);case"convolution":return l(()=>LM(f,d,c));case"creation":return l(()=>UM(f,d,c));case"dynamic":return zM(f,d,c);case"evaluation":return l(()=>$M(f,d,c));case"image":return l(()=>WM(f,d,c));case"graph":return l(()=>GM(f,d,c));case"logical":return l(()=>KM(f,d,c));case"matrices":return l(()=>XM(f,d,c));case"normalization":return l(()=>YM(f,d,c));case"reduction":return l(()=>qM(f,d,c));case"slice_join":return l(()=>ZM(f,d,c));case"sparse":return l(()=>JM(f,d,c));case"spectral":return l(()=>QM(f,d,c));case"string":return l(()=>eP(f,d,c));case"transformation":return l(()=>tP(f,d,c));case"hash_table":return HM(f,d,c,o);case"custom":const h=rx(f.op);if(h&&h.customExecutor)return h.customExecutor(new DM(f,d,c));throw TypeError(`Custom op ${f.op} is not registered.`);default:throw TypeError(`Unknown op '${f.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(n,e,a);return oc(p)?p.then(f=>[].concat(f)):[].concat(p)}class ww{constructor(e={},a={},o={},l={}){this.weightMap=e,this.tensorArrayMap=a,this.tensorListMap=o,this.functionMap=l,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,a){return{id:e,frameName:a,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let a=0;a<this.contexts.length-1;a++){const o=this.contexts.slice(0,this.contexts.length-a);e.push(this.contextIdforContexts(o))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(a=>a.id===0&&a.iterationId===0?"":`${a.frameName}-${a.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const a in this.tensorArrayMap)this.tensorArrayMap[a].clearAndClose(e);for(const a in this.tensorListMap)this.tensorListMap[a].clearAndClose(e)}}function vw(n,e,a,o){const l=new Set,p=[];let f=null,d=null;const c=new Set,h=Object.keys(n).map(k=>Ko(k)[0]);let y=[];o!=null&&(y=o.map(k=>Ko(k.name)[0]));const w=[...e];for(;w.length>0;){const k=w.pop();if((ix(k)||sP(k)||iP(k))&&f==null&&(f=k,d=f.children.map(A=>A.name).filter(A=>l.has(A))),l.add(k.name),a[k.name]==null&&h.indexOf(k.name)===-1&&y.indexOf(k.name)===-1){if(k.inputs.length===0){p.push(k.name);continue}k.inputs.forEach(A=>{c.has(A.name)||(c.add(A.name),w.push(A))})}}return{inputs:n,outputs:e,usedNodes:l,missingInputs:p,dynamicNode:f,syncInputs:d}}function nP(n,e,a){const{usedNodes:o,inputs:l}=a,p=[],f=Object.keys(l).map(y=>Ko(y)[0]).map(y=>n.nodes[y]),d=n.initNodes;f.forEach(y=>{o.has(y.name)&&p.push(y)}),n.weights.forEach(y=>{o.has(y.name)&&p.push(y)}),d!=null&&d.forEach(y=>{o.has(y.name)&&p.push(y)});const c=new Set,h=[];for(;p.length>0;){const y=p.pop();c.add(y.name),e[y.name]||h.push(y),y.children.forEach(w=>{!c.has(w.name)&&o.has(w.name)&&w.inputs.every(k=>c.has(k.name))&&p.push(w)})}return h}const aP=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],rP=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],oP=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function ix(n){return aP.indexOf(n.op)>=0}function sP(n){return rP.indexOf(n.op)>=0}function iP(n){return oP.indexOf(n.op)>=0}class Wd{constructor(e,a){this.graph=e,this.parent=a,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(o=>{this._functionExecutorMap[o]=new Wd(e.functions[o],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const a=Object.keys(e).map(o=>e[o].map(l=>l.id));this._weightIds=[].concat(...a),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const a=e.signatureKey||e.name;return e.defaultOutput?`${a}:${e.defaultOutput}`:a})}get functions(){return Object.keys(this._functions).reduce((e,a)=>(e[a]=this._functions[a].signature,e),{})}getCompilationKey(e,a){const o=e.map(p=>p.name).sort(),l=a.map(p=>p.name).sort();return o.join(this.SEPERATOR)+"--"+l.join(this.SEPERATOR)}compile(e,a){const o=vw(e,a,this.weightMap,this._initNodes),{missingInputs:l,dynamicNode:p,syncInputs:f}=o;if(p!=null)throw new Error(`This execution contains the node '${p.name}', which has the dynamic op '${p.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${f}]`);if(l.length>0){const d=a.map(h=>h.name),c=Object.keys(e);throw new Error(`Cannot compute the outputs [${d}] from the provided inputs [${c}]. Missing the following inputs: [${l}]`)}return nP(this.graph,this.weightMap,o)}execute(e,a){e=this.mapInputs(e);const o=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),a=this.mapOutputs(a),this.checkOutputs(a);const l=o.map(w=>this.graph.nodes[Ko(w)[0]]),p=a.map(w=>Ko(w)[0]);let f=p.map(w=>this.graph.nodes[w]);this.resetIntermediateTensors(),f.length===0&&(f=this._outputs);const d=this.getCompilationKey(l,f);let c=this.compiledMap.get(d);c==null&&(c=this.compile(e,f),this.compiledMap.set(d,c));const h={},y={};return qa(()=>{const w=new ww(this.weightMap,h,y,this.functionExecutorMap),k=Object.assign({},this.weightMap);Object.keys(e).forEach(T=>{const[I,j]=Ko(T),V=[];V[j]=e[T],k[I]=V});const A=this.getFrozenTensorIds(k),S={};for(let T=0;T<c.length;T++){const I=c[T];if(!k[I.name]){const j=bw(I,k,w,this._resourceManager);if(oc(j))throw new Error(`The execution of the op '${I.op}' returned a promise. Please use model.executeAsync() instead.`);k[I.name]=j,this.checkTensorForDisposal(I.name,I,k,w,A,p,S)}}return this.parent==null&&w.dispose(A),a.map(T=>Io(T,k,w))})}getFrozenTensorIds(e){const a=[].concat.apply([],Object.keys(e).map(o=>e[o]).map(o=>o.map(l=>l.id)));return new Set(a)}checkTensorForDisposal(e,a,o,l,p,f,d){a.category==="control"||f.indexOf(e)!==-1||(o[e].forEach(c=>{c!=null&&(d[c.id]=(d[c.id]||0)+a.children.length)}),a.inputs.forEach(c=>{if(c.category!=="control"){const h=VF(c.name,o,l);h!=null&&h.forEach(y=>{if(y&&!y.kept&&!p.has(y.id)){const w=d[y.id];if(w===1){if(!this.keepTensorForDebug)y.dispose();else{const[k,A]=fi(a.name,l);this.intermediateTensors[k]?this.intermediateTensors[k][A]=y:(this.intermediateTensors[k]=[],this.intermediateTensors[k][A]=y)}delete d[y.id]}else w!=null&&d[y.id]--}})}}))}async executeAsync(e,a){return this._executeAsync(e,a)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach(e=>this.intermediateTensors[e].forEach(a=>a.dispose())),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach(e=>{this.tensorsMap[e].forEach(o=>{o&&!o.kept&&!o.isDisposed&&!this.keepIds.has(o.id)&&o.dispose()})})}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach(a=>a.dispose()),delete this.intermediateTensors[e]}async _executeAsync(e,a,o=!1,l={},p={}){o||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),a=this.mapOutputs(a),this.checkOutputs(a));try{this.keepTensorForDebug=_t().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(y){console.warn(y.message)}this.resetIntermediateTensors();const f=new ww(this.weightMap,l,p,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,f,a,o);const d=a.map(y=>Io(y,this.tensorsMap,f)),c=d.map(y=>y.id),h=Object.keys(e).map(y=>e[y].id);return this.keepIds=new Set([...c,...h,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&f.dispose(this.keepIds),d}async executeFunctionAsync(e,a,o){const l=e.reduce((p,f,d)=>(p[this.inputs[d].name]=f,p),{});return this._executeAsync(l,this.outputNodes,!0,a,o)}async executeWithControlFlow(e,a,o,l){const p=Object.keys(e),f=p.map(C=>this.graph.nodes[Ko(C)[0]]),d=o.map(C=>Ko(C)[0]);let c=d.map(C=>this.graph.nodes[C]);c.length===0&&(c=this._outputs);const{usedNodes:h,missingInputs:y,dynamicNode:w,syncInputs:k}=vw(e,c,this.weightMap,this._initNodes),A=[...f,...this.graph.weights,...this._initNodes||[]].map(C=>({node:C,contexts:a.currentContext})),S=Object.assign({},this.weightMap);Object.keys(e).forEach(C=>{const[q,L]=Ko(C),R=[];R[L]=e[C],S[q]=R});const T={},I=this.getFrozenTensorIds(S),j={};for(;A.length>0;){const C=this.processStack(f,A,a,S,j,I,d,T,h);await Promise.all(C)}w==null&&!l&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const V=c.filter(C=>!ix(C)&&!Io(C.name,S,a)).map(C=>C.name);if(V.length>0){let C="";throw w!=null&&(C=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${k}]`),new Error(`Cannot compute the outputs [${V}] from the provided inputs [${p}]. Consider providing the following inputs: [${y}]. ${C}`)}return S}processStack(e,a,o,l,p,f,d,c,h){const y=[];for(;a.length>0;){const w=a.pop();o.currentContext=w.contexts;let k="";if(w.node.op==="Enter"&&U("isConstant",w.node,l,o)&&([k]=fi(w.node.name,o)),l[w.node.name]==null){const A=bw(w.node,l,o,this._resourceManager);k||([k]=fi(w.node.name,o));const S=o.currentContext;oc(A)?y.push(A.then(T=>(l[k]=T,o.currentContext=S,this.checkTensorForDisposal(k,w.node,l,o,f,d,c),this.processChildNodes(w.node,a,o,l,p,h),T))):(l[k]=A,this.checkTensorForDisposal(k,w.node,l,o,f,d,c),this.processChildNodes(w.node,a,o,l,p,h))}else this.processChildNodes(w.node,a,o,l,p,h)}return y}processChildNodes(e,a,o,l,p,f){e.children.forEach(d=>{const[c]=fi(d.name,o);p[c]||!f.has(d.name)||(d.op==="Merge"?d.inputNames.some(h=>!!Io(h,l,o))&&(p[c]=!0,a.push({contexts:o.currentContext,node:d})):d.inputNames.every(h=>!!Io(h,l,o))&&(p[c]=!0,a.push({contexts:o.currentContext,node:d})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(a=>a.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(a=>{const o=e[a],[l]=Ko(a),p=this.graph.nodes[l];if(p.attrParams.shape&&p.attrParams.shape.value){const f=p.attrParams.shape.value,d=f.length===o.shape.length&&o.shape.every((c,h)=>f[h]===-1||f[h]===c);on(d,()=>`The shape of dict['${p.name}'] provided in model.execute(dict) must be [${f}], but was [${o.shape}]`)}p.attrParams.dtype&&p.attrParams.dtype.value&&on(o.dtype===p.attrParams.dtype.value,()=>`The dtype of dict['${p.name}'] provided in model.execute(dict) must be ${p.attrParams.dtype.value}, but was ${o.dtype}`)})}mapInputs(e){const a={};for(const o in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[o]!=null){const l=this._signature.inputs[o];a[l.name]=e[o]}else a[o]=e[o];return a}checkInputs(e){const a=Object.keys(e).filter(o=>{const[l]=Ko(o);return this.graph.nodes[l]==null});if(a.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${a}] that are not part of graph`)}mapOutputs(e){return e.map(a=>this._signature!=null&&this._signature.outputs!=null&&this._signature.outputs[a]!=null?this._signature.outputs[a].name:a,{})}checkOutputs(e){e.forEach(a=>{const[o]=Ko(a);if(!this.graph.nodes[o])throw new Error(`The output '${a}' is not found in the graph`)})}}class lP{constructor(e={},a={}){this.hashTableNameToHandle=e,this.hashTableMap=a}addHashTable(e,a){this.hashTableNameToHandle[e]=a.handle,this.hashTableMap[a.id]=a}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class uP{constructor(e,a={},o=v0){this.modelUrl=e,this.loadOptions=a,this.version="n/a",this.io=o,a==null&&(this.loadOptions={}),this.resourceManager=new lP}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const a=this.io.getLoadHandlers(e,this.loadOptions);if(a.length===0)a.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(a.length>1)throw new Error(`Found more than one (${a.length}) load handlers for URL '${[e]}'`);this.handler=a[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return oc(e)?e.then(a=>this.loadSync(a)):this.loadSync(e)}loadSync(e){this.artifacts=e;const a=this.artifacts.modelTopology;let o=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const p=this.artifacts.userDefinedMetadata;p.signature!=null&&(o=p.signature),p.structuredOutputKeys!=null&&(this.structuredOutputKeys=p.structuredOutputKeys)}this.signature=o,this.version=`${a.versions.producer}.${a.versions.minConsumer}`;const l=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Wd(gw.Instance.transformGraph(a,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(l),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const p=gw.Instance.transformGraph(e.modelInitializer);this.initializer=new Wd(p),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,a){if(typeof e=="string"){const o=this.io.getSaveHandlers(e);if(o.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(o.length>1)throw new Error(`Found more than one (${o.length}) save handlers for URL '${e}'`);e=o[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,a){const o=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const l=o instanceof Xo?[o]:o,p={};return l.forEach((f,d)=>p[this.structuredOutputKeys[d]]=f),p}return o}normalizeInputs(e){if(!(e instanceof Xo)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce((a,o,l)=>(a[o]=e[l],a),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,a){e=this.normalizeInputs(e),a=this.normalizeOutputs(a);const o=this.executor.execute(e,a);return o.length>1?o:o[0]}async executeAsync(e,a){e=this.normalizeInputs(e),a=this.normalizeOutputs(a);const o=await this.executor.executeAsync(e,a);return o.length>1?o:o[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((a,o)=>(a[o]=[e[o]],a),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function cP(n,e={},a=v0){if(n==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof n=="string"&&(n=getTFHubUrl(n));const o=new uP(n,e,a);return await o.load(),o}bc().prototype.pad=function(n,e){return this.throwIfDisposed(),R0(this,n,e)};bc().prototype.where=function(n,e){return this.throwIfDisposed(),j0(n,this,e)};bc().prototype.mul=function(n){return this.throwIfDisposed(),wa(this,n)};bc().prototype.dot=function(n){return this.throwIfDisposed(),I0(this,n)};bc().prototype.add=function(n){return this.throwIfDisposed(),Ma(this,n)};const Jl={},am={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function pP(n,e){Jl[n]=e}function Gi(n,e){if(!(n in Jl)||e!=null){const o=fP(n,e);if(o!==null)Jl[n]=o;else return console.log("Could not get context for WebGL version",n),null}const a=Jl[n];return a==null||a.isContextLost()?(delete Jl[n],Gi(n)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),Jl[n])}function dP(n){if(typeof OffscreenCanvas<"u"&&n===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function fP(n,e){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const a=e??dP(n);return a.addEventListener("webglcontextlost",o=>{o.preventDefault(),delete Jl[n]},!1),n===1?a.getContext("webgl",am)||a.getContext("experimental-webgl",am):a.getContext("webgl2",am)}var Zc;(function(n){n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH"})(Zc||(Zc={}));var Ss;(function(n){n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD"})(Ss||(Ss={}));var ro;(function(n){n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(ro||(ro={}));function lx(n,e){return[e,n]}function Ed(n){const e=Cn(n),a=Math.ceil(e/4);return Om(a)}function sf(n,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(n/2))]}function ux(n,e){const a=n;let o,l,p,f,d,c,h,y,w,k;return _t().getNumber("WEBGL_VERSION")===2?(o=a.R32F,l=a.R16F,p=a.RGBA16F,f=a.RGBA32F,d=a.RED,h=4,y=1,w=a.HALF_FLOAT,k=a.FLOAT,c=a.RGBA8):(o=n.RGBA,l=n.RGBA,p=n.RGBA,f=a.RGBA,d=n.RGBA,h=4,y=4,w=e!=null?e.HALF_FLOAT_OES:null,k=n.FLOAT,c=n.RGBA),{internalFormatFloat:o,internalFormatHalfFloat:l,internalFormatPackedHalfFloat:p,internalFormatPackedFloat:f,textureFormatFloat:d,downloadTextureFormat:c,downloadUnpackNumChannels:h,defaultNumChannels:y,textureTypeHalfFloat:w,textureTypeFloat:k}}function Nn(n,e){const a=e();return _t().getBool("DEBUG")&&checkWebGLError(n),a}function hP(n,e){const a=yu(n,()=>n.createShader(n.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Nn(n,()=>n.shaderSource(a,e)),Nn(n,()=>n.compileShader(a)),n.getShaderParameter(a,n.COMPILE_STATUS)===!1)throw console.log(n.getShaderInfoLog(a)),new Error("Failed to compile vertex shader.");return a}function mP(n,e){const a=yu(n,()=>n.createShader(n.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Nn(n,()=>n.shaderSource(a,e)),Nn(n,()=>n.compileShader(a)),_t().get("ENGINE_COMPILE_ONLY"))return a;if(n.getShaderParameter(a,n.COMPILE_STATUS)===!1)throw logShaderSourceAndInfoLog(e,n.getShaderInfoLog(a)),new Error("Failed to compile fragment shader.");return a}function gP(n){return yu(n,()=>n.createProgram(),"Unable to create WebGLProgram.")}function yP(n,e){if(Nn(n,()=>n.linkProgram(e)),!_t().get("ENGINE_COMPILE_ONLY")&&n.getProgramParameter(e,n.LINK_STATUS)===!1)throw console.log(n.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function bP(n,e){const a=yu(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return Nn(n,()=>n.bindBuffer(n.ARRAY_BUFFER,a)),Nn(n,()=>n.bufferData(n.ARRAY_BUFFER,e,n.STATIC_DRAW)),a}function wP(n,e){const a=yu(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return Nn(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,a)),Nn(n,()=>n.bufferData(n.ELEMENT_ARRAY_BUFFER,e,n.STATIC_DRAW)),a}function vP(n){return yu(n,()=>n.createTexture(),"Unable to create WebGLTexture.")}function xP(n,e){const a=_t().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||e<=0){const o=`[${n}x${e}]`;throw new Error("Requested texture size "+o+" is invalid.")}if(n>a||e>a){const o=`[${n}x${e}]`,l=`[${a}x${a}]`;throw new Error("Requested texture size "+o+" greater than WebGL maximum on this browser / GPU "+l+".")}}function kP(n){return yu(n,()=>n.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function xw(n,e,a,o,l,p,f){const d=n.getAttribLocation(e,a);return d===-1?!1:(Nn(n,()=>n.bindBuffer(n.ARRAY_BUFFER,o)),Nn(n,()=>n.vertexAttribPointer(d,l,n.FLOAT,!1,p,f)),Nn(n,()=>n.enableVertexAttribArray(d)),!0)}function _P(n,e,a){SP(n,a),Nn(n,()=>n.activeTexture(n.TEXTURE0+a)),Nn(n,()=>n.bindTexture(n.TEXTURE_2D,e))}function EP(n,e,a){return n.getUniformLocation(e,a)}function AP(n,e,a,o){Nn(n,()=>_P(n,e,o)),Nn(n,()=>n.uniform1i(a,o))}function rm(n,e,a){Nn(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,a)),Nn(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0))}function yu(n,e,a){const o=Nn(n,()=>e());if(o==null)throw new Error(a);return o}function SP(n,e){const a=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,o=e+n.TEXTURE0;if(o<n.TEXTURE0||o>a){const l=`[gl.TEXTURE0, gl.TEXTURE${a}]`;throw new Error(`textureUnit must be in ${l}.`)}}function dc(n,e=2){return Cn(n.slice(0,n.length-e))}function fc(n){if(n.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function om(n){let e=[1,1,1];return n.length===0||n.length===1&&n[0]===1||(e=[dc(n),...fc(n)]),e}function TP(n,e=!1){let a=_t().getNumber("WEBGL_MAX_TEXTURE_SIZE");e&&(a=a*2,n=n.map((l,p)=>p>=n.length-2?dO(n[p]):n[p]),n.length===1&&(n=[2,n[0]])),n.length!==2&&(n=ap(n).newShape);let o=Cn(n);if(n.length<=1&&o<=a)return[1,o];if(n.length===2&&n[0]<=a&&n[1]<=a)return n;if(n.length===3&&n[0]*n[1]<=a&&n[2]<=a)return[n[0]*n[1],n[2]];if(n.length===3&&n[0]<=a&&n[1]*n[2]<=a)return[n[0],n[1]*n[2]];if(n.length===4&&n[0]*n[1]*n[2]<=a&&n[3]<=a)return[n[0]*n[1]*n[2],n[3]];if(n.length===4&&n[0]<=a&&n[1]*n[2]*n[3]<=a)return[n[0],n[1]*n[2]*n[3]];if(e){const l=dc(n);let p=2,f=2;return n.length&&([p,f]=fc(n)),o=l*(p/2)*(f/2),Om(o).map(d=>d*2)}return Om(o)}function Ad(n){return n%2===0}function e1(n,e){if(n=n.slice(-2),e=e.slice(-2),zo(n,e)||!n.length||!e.length||n[0]===0||n[1]===0||e[0]===0||e[1]===0)return!0;if(n.length!==e.length){const a=n.slice(-1)[0],o=e.slice(-1)[0];if(a===o||Ad(a)&&Ad(o)&&(n[0]===1||e[0]===1))return!0}return n[1]===e[1]&&Ad(n[0])&&Ad(e[0])}let sm,im;function jP(n){if(sm==null){const e=Gi(n);sm=e.getParameter(e.MAX_TEXTURE_SIZE)}return sm}function IP(n){if(im==null){const e=Gi(n);im=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,im)}function qu(n,e){return n.getExtension(e)!=null}function kw(n){try{if(Gi(n)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function NP(n){if(n===0)return!1;const e=Gi(n);if(n===1){if(!qu(e,"OES_texture_float"))return!1}else if(!qu(e,"EXT_color_buffer_float"))return!1;return DP(e)}function DP(n){const e=ux(n),a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texImage2D(n.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const p=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,p),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,a,0);const f=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(a),n.deleteFramebuffer(p),f}function CP(n){return n!==2?!1:Gi(n).fenceSync!=null}const Sn=_t();Sn.registerFlag("HAS_WEBGL",()=>Sn.getNumber("WEBGL_VERSION")>0);Sn.registerFlag("WEBGL_VERSION",()=>kw(2)?2:kw(1)?1:0);Sn.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Sn.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Sn.get("WEBGL_VERSION")===2);Sn.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Sn.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Sn.registerFlag("WEBGL_PACK",()=>Sn.getBool("HAS_WEBGL"));Sn.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_PACK_CLIP",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_PACK_REDUCE",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_LAZILY_UNPACK",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_CONV_IM2COL",()=>Sn.getBool("WEBGL_PACK"));Sn.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>jP(Sn.getNumber("WEBGL_VERSION")));Sn.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>IP(Sn.getNumber("WEBGL_VERSION")));Sn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const n=Sn.getNumber("WEBGL_VERSION");return n===0?0:getWebGLDisjointQueryTimerVersion(n)});Sn.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Sn.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!l0());Sn.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>NP(Sn.getNumber("WEBGL_VERSION")));Sn.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Sn.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Sn.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Sn.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>isDownloadFloatTextureEnabled(Sn.getNumber("WEBGL_VERSION")));Sn.registerFlag("WEBGL_FENCE_API_ENABLED",()=>CP(Sn.getNumber("WEBGL_VERSION")));Sn.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Sn.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Sn.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,n=>{if(n<0&&n!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${n}.`)});Sn.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>l0()?1:-1,n=>{if(n<0&&n!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${n}.`)});Sn.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Sn.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Sn.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Sn.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);function Is(){let n,e,a,o,l,p,f,d,c,h;return _t().getNumber("WEBGL_VERSION")===2?(n="#version 300 es",e="in",a="out",o="in",l="texture",p="outputColor",f="out vec4 outputColor;",d=`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,c="",h=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(n="",e="attribute",a="varying",o="varying",l="texture2D",p="gl_FragColor",f="",d=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,c=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,h=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:n,attribute:e,varyingVs:a,varyingFs:o,texture2D:l,output:p,defineOutput:f,defineSpecialNaN:d,defineSpecialInf:c,defineRound:h}}function O1(n,e,a="index"){const o=us(e);return o.map((l,p)=>{const f=`int ${n[p]} = ${a} / ${l}`,d=p===o.length-1?`int ${n[p+1]} = ${a} - ${n[p]} * ${l}`:`index -= ${n[p]} * ${l}`;return`${f}; ${d};`}).join("")}function cx(n,e,a="index"){const o=us(e);return o.map((l,p)=>{const f=`int ${n[p]} = ${a} / outShapeStrides[${p}]`,d=p===o.length-1?`int ${n[p+1]} = ${a} - ${n[p]} * outShapeStrides[${p}]`:`index -= ${n[p]} * outShapeStrides[${p}]`;return`${f}; ${d};`}).join("")}function OP(n,e){const a=n.length,o=n.map(p=>`${e}[${p}]`),l=new Array(a-1);l[a-2]=o[a-1];for(let p=a-3;p>=0;--p)l[p]=`(${l[p+1]} * ${o[p+1]})`;return l}function BP(n,e,a="index"){const o=n.map((p,f)=>f),l=OP(o,e);return l.map((p,f)=>{const d=`int ${n[f]} = ${a} / ${l[f]}`,c=f===l.length-1?`int ${n[f+1]} = ${a} - ${n[f]} * ${l[f]}`:`index -= ${n[f]} * ${l[f]}`;return`${d}; ${c};`}).join("")}function B1(n){const e=us(n).map(a=>a.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function R1(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const px=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`,{getBroadcastDims:dx}=zF;function RP(n,e,a){const o=[];if(n.forEach(A=>{const S=Cn(A.shapeInfo.logicalShape);if(A.shapeInfo.isUniform?o.push(`uniform float ${A.name}${S>1?`[${S}]`:""};`):(o.push(`uniform sampler2D ${A.name};`),o.push(`uniform int offset${A.name};`)),a.enableShapeUniforms){const{uniformShape:T}=P1(a.packedInputs,A.shapeInfo.logicalShape,A.shapeInfo.texShape);switch(T.length){case 1:o.push(`uniform int ${A.name}Shape;`);break;case 2:o.push(`uniform ivec2 ${A.name}Shape;`);break;case 3:o.push(`uniform ivec3 ${A.name}Shape;`);break;case 4:o.push(`uniform ivec4 ${A.name}Shape;`);break}o.push(`uniform ivec2 ${A.name}TexShape;`)}}),a.enableShapeUniforms){switch(e.logicalShape.length){case 1:o.push("uniform int outShape;");break;case 2:o.push("uniform ivec2 outShape;"),o.push("uniform int outShapeStrides;");break;case 3:o.push("uniform ivec3 outShape;"),o.push("uniform ivec2 outShapeStrides;");break;case 4:o.push("uniform ivec4 outShape;"),o.push("uniform ivec3 outShapeStrides;");break}o.push("uniform ivec2 outTexShape;")}a.customUniforms&&a.customUniforms.forEach(A=>{o.push(`uniform ${A.type} ${A.name}${A.arrayIndex?`[${A.arrayIndex}]`:""};`)});const l=o.join(`
`),p=n.map(A=>FP(A,e,a.packedInputs,a.enableShapeUniforms)).join(`
`),f=e.texShape,d=Is(),c=LP(d);let h,y,w=$P(d);return e.isPacked?(h=MP(e.logicalShape,f,a.enableShapeUniforms),y=zP(d)):(h=PP(e.logicalShape,f,a.enableShapeUniforms),y=UP(d)),a.packedInputs&&(w+=WP),[w,c,y,l,h,p,a.userCode].join(`
`)}function F1(n,e=!1){const a=n.shapeInfo.logicalShape;switch(a.length){case 0:return getSamplerScalar(n,e);case 1:return JP(n,e);case 2:return e3(n,e);case 3:return n3(n,e);case 4:return getSampler4D(n,e);case 5:return getSampler5D(n);case 6:return getSampler6D(n);default:throw new Error(`${a.length}-D input sampling is not yet supported`)}}function fx(n,e){switch(n.shapeInfo.logicalShape.length){case 0:return getPackedSamplerScalar(n);case 1:return ZP(n,e);case 2:return QP(n,e);case 3:return t3(n,e);default:return a3(n,e)}}function FP(n,e,a=!1,o){let l="";a?l+=fx(n,o):l+=F1(n,o);const p=n.shapeInfo.logicalShape,f=e.logicalShape;return p.length<=f.length&&(a?l+=r3(n,e):l+=o3(n,e)),l}function MP(n,e,a){switch(n.length){case 0:return getOutputScalarCoords();case 1:return getOutputPacked1DCoords(n,e,a);case 2:return YP(n,e,a);case 3:return KP(n,e,a);default:return XP(n,e,a)}}function PP(n,e,a){switch(n.length){case 0:return getOutputScalarCoords();case 1:return getOutput1DCoords(n,e,a);case 2:return qP(n,e,a);case 3:return getOutput3DCoords(n,e,a);case 4:return getOutput4DCoords(n,e,a);case 5:return getOutput5DCoords(n,e);case 6:return getOutput6DCoords(n,e);default:throw new Error(`${n.length}-D output sampling is not yet supported`)}}function LP(n){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${n.texture2D}(textureSampler, uv).r;
    }
  `}function UP(n){return`
    void setOutput(float val) {
      ${n.output} = vec4(val, 0, 0, 0);
    }
  `}function zP(n){return`
    void setOutput(vec4 val) {
      ${n.output} = val;
    }
  `}function $P(n){return`${n.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${n.varyingFs} vec2 resultUV;
    ${n.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${n.defineSpecialNaN}
    ${n.defineSpecialInf}
    ${n.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${GP}
    ${VP}
    ${HP}
  `}const GP=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,VP=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,HP=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,WP=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function KP(n,e,a){if(a)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],l=Math.ceil(n[2]/2),p=l*Math.ceil(n[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      int b = index / ${p};
      index -= b * ${p};

      int r = 2 * (index / ${l});
      int c = imod(index, ${l}) * 2;

      return ivec3(b, r, c);
    }
  `}function XP(n,e,a){if(a)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],l=Math.ceil(n[n.length-1]/2),p=l*Math.ceil(n[n.length-2]/2);let f=p,d="",c="b, r, c";for(let h=2;h<n.length-1;h++)f*=n[n.length-h-1],d=`
      int b${h} = index / ${f};
      index -= b${h} * ${f};
    `+d,c=`b${h}, `+c;return`
    ivec${n.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));
      int index = resTexRC.x * ${o[1]} + resTexRC.y;

      ${d}

      int b = index / ${p};
      index -= b * ${p};

      int r = 2 * (index / ${l});
      int c = imod(index, ${l}) * 2;

      return ivec${n.length}(${c});
    }
  `}function YP(n,e,a){const o=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(zo(n,e))return a?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${o[0]}, ${o[1]}));
      }
    `;const l=Math.ceil(n[1]/2);return a?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${o[0]}, ${o[1]}));

      int index = resTexRC.x * ${o[1]} + resTexRC.y;
      int r = 2 * (index / ${l});
      int c = imod(index, ${l}) * 2;

      return ivec2(r, c);
    }
  `}function qP(n,e,a){return zo(n,e)?a?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:n[1]===1?a?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:n[0]===1?a?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:a?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${n[1]};
      int c = index - r * ${n[1]};
      return ivec2(r, c);
    }
  `}function M1(n){return`offset${n}`}function ZP(n,e){const a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),l=n.shapeInfo.texShape,p=Is();if(e)return`
    vec4 ${o}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${p.texture2D}(${a}, uv);
    }
  `;const f=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];return`
    vec4 ${o}(int index) {
      vec2 uv = packedUVfrom1D(
        ${f[0]}, ${f[1]}, index);
      return ${p.texture2D}(${a}, uv);
    }
  `}function JP(n,e){const a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1);if(n.shapeInfo.isUniform)return`
      float ${o}(int index) {
        ${getUniformSampler(n)}
      }
    `;const l=n.shapeInfo.texShape,p=l[0],f=l[1];if(f===1&&p===1)return`
      float ${o}(int index) {
        return sampleTexture(${a}, halfCR);
      }
    `;const d=M1(a);return f===1?e?`
      float ${o}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${d}) + 0.5) / float(${a}TexShape[0]));
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${o}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${d}) + 0.5) / ${p}.0);
        return sampleTexture(${a}, uv);
      }
    `:p===1?e?`
      float ${o}(int index) {
        vec2 uv = vec2((float(index + ${d}) + 0.5) / float(${a}TexShape[1]), 0.5);
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${o}(int index) {
        vec2 uv = vec2((float(index + ${d}) + 0.5) / ${f}.0, 0.5);
        return sampleTexture(${a}, uv);
      }
    `:e?`
    float ${o}(int index) {
      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index + ${d});
      return sampleTexture(${a}, uv);
    }
  `:`
    float ${o}(int index) {
      vec2 uv = uvFromFlat(${p}, ${f}, index + ${d});
      return sampleTexture(${a}, uv);
    }
  `}function QP(n,e){const a=n.shapeInfo.logicalShape,o=n.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),p=n.shapeInfo.texShape,f=p[0],d=p[1],c=Is();if(p!=null&&zo(a,p))return e?`
      vec4 ${l}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);

        return ${c.texture2D}(${o}, uv);
      }
    `:`
      vec4 ${l}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${d}.0, ${f}.0);

        return ${c.texture2D}(${o}, uv);
      }
    `;if(e)return`
    vec4 ${l}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${o}TexShape[0]) / 2.0), ceil(float(${o}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${o}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${c.texture2D}(${o}, uv);
    }
  `;const h=[Math.ceil(p[0]/2),Math.ceil(p[1]/2)],y=Math.ceil(a[1]/2);return`
    vec4 ${l}(int row, int col) {
      vec2 uv = packedUVfrom2D(${y}, ${h[0]}, ${h[1]}, row, col);
      return ${c.texture2D}(${o}, uv);
    }
  `}function e3(n,e){const a=n.shapeInfo.logicalShape,o=n.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),p=n.shapeInfo.texShape;if(p!=null&&zo(a,p)){if(e)return`
      float ${l}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `;const k=p[0],A=p[1];return`
    float ${l}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${A}.0, ${k}.0);
      return sampleTexture(${o}, uv);
    }
  `}const{newShape:f,keptDims:d}=ap(a),c=f;if(c.length<a.length){const k=L1(n,c),A=["row","col"];return`
      ${F1(k,e)}
      float ${l}(int row, int col) {
        return ${l}(${U1(A,d)});
      }
    `}if(n.shapeInfo.isUniform)return`
      float ${l}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${a[1]}, 1)));
        ${getUniformSampler(n)}
      }
    `;const h=p[0],y=p[1],w=M1(o);return y===1?e?`
      float ${l}(int row, int col) {
        float index = dot(vec3(row, col, ${w}), vec3(${o}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${o}TexShape[0]));
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${l}(int row, int col) {
      float index = dot(vec3(row, col, ${w}), vec3(${a[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${h}.0);
      return sampleTexture(${o}, uv);
    }
  `:h===1?e?`
      float ${l}(int row, int col) {
        float index = dot(vec3(row, col, ${w}), vec3(${o}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${o}TexShape[1]), 0.5);
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${l}(int row, int col) {
      float index = dot(vec3(row, col, ${w}), vec3(${a[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${y}.0, 0.5);
      return sampleTexture(${o}, uv);
    }
  `:e?`
      float ${l}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${o}Shape[1] + col + ${w};
        vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index);
        return sampleTexture(${o}, uv);
      }
    `:`
  float ${l}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${a[1]} + col + ${w};
    vec2 uv = uvFromFlat(${h}, ${y}, index);
    return sampleTexture(${o}, uv);
  }
`}function t3(n,e){const a=n.shapeInfo.logicalShape,o=n.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),p=n.shapeInfo.texShape,f=[Math.ceil(p[0]/2),Math.ceil(p[1]/2)];if(a[0]===1){const k=a.slice(1),A=[1,2],S=L1(n,k),T=["b","row","col"];return`
        ${fx(S,e)}
        vec4 ${l}(int b, int row, int col) {
          return ${l}(${U1(T,A)});
        }
      `}const d=Is();if(e)return`
    vec4 ${l}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${o}TexShape[0]) / 2.0), ceil(float(${o}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${o}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${o}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${d.texture2D}(${o}, uv);
    }
  `;const c=f[0],h=f[1],y=Math.ceil(a[2]/2),w=y*Math.ceil(a[1]/2);return`
    vec4 ${l}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${c}, ${h}, ${w}, ${y}, b, row, col);
      return ${d.texture2D}(${o}, uv);
    }
  `}function n3(n,e){const a=n.shapeInfo.logicalShape,o=n.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),p=a[1]*a[2],f=a[2],{newShape:d,keptDims:c}=ap(a),h=d;if(h.length<a.length){const T=L1(n,h),I=["row","col","depth"];return`
        ${F1(T,e)}
        float ${l}(int row, int col, int depth) {
          return ${l}(${U1(I,c)});
        }
      `}if(n.shapeInfo.isUniform)return`
      float ${l}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${p}, ${f}, 1)));
        ${getUniformSampler(n)}
      }
    `;const y=n.shapeInfo.texShape,w=y[0],k=y[1],A=n.shapeInfo.flatOffset;if(k===p&&A==null)return e?`
      float ${l}(int row, int col, int depth) {
        int stride1 = ${o}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
        float ${l}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${f}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${k}.0, ${w}.0);
          return sampleTexture(${o}, uv);
        }
      `;if(k===f&&A==null)return e?`
      float ${l}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${o}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${o}TexShape[1], ${o}TexShape[0]);
        return sampleTexture(${o}, uv);
      }
    `:`
    float ${l}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${a[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${k}.0, ${w}.0);
      return sampleTexture(${o}, uv);
    }
  `;const S=M1(o);return e?`
    float ${l}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${o}Shape[1] * ${o}Shape[2];
      int stride1 = ${o}Shape[2];
      int index = row * ${p} + col * ${f} + depth + ${S};
      vec2 uv = uvFromFlat(${o}TexShape[0], ${o}TexShape[1], index);
      return sampleTexture(${o}, uv);
    }
    `:`
      float ${l}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${p} + col * ${f} + depth + ${S};
        vec2 uv = uvFromFlat(${w}, ${k}, index);
        return sampleTexture(${o}, uv);
      }
  `}function a3(n,e){const a=n.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),l=Is();if(e)return`
    vec4 ${o}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${a}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${a}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${a}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${l.texture2D}(${a}, uv);
    }
  `;const p=n.shapeInfo.logicalShape,f=p.length,d=n.shapeInfo.texShape,c=[Math.ceil(d[0]/2),Math.ceil(d[1]/2)],h=c[0],y=c[1],w=Math.ceil(p[f-1]/2);let k=w*Math.ceil(p[f-2]/2),A="int b, int row, int col",S=`b * ${k} + (row / 2) * ${w} + (col / 2)`;for(let T=2;T<f-1;T++)A=`int b${T}, `+A,k*=p[f-T-1],S=`b${T} * ${k} + `+S;return`
    vec4 ${o}(${A}) {
      int index = ${S};
      int texR = index / ${y};
      int texC = index - texR * ${y};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${y}, ${h});
      return ${l.texture2D}(${a}, uv);
    }
  `}function r3(n,e){const a=n.name,o=a.charAt(0).toUpperCase()+a.slice(1),l="get"+o+"AtOutCoords",p=n.shapeInfo.logicalShape.length,f=e.logicalShape.length,d=dx(n.shapeInfo.logicalShape,e.logicalShape),c=Zo(f),h=f-p;let y;const w=["x","y","z","w","u","v"];p===0?y="":f<2&&d.length>=1?y="coords = 0;":y=d.map(V=>`coords.${w[V+h]} = 0;`).join(`
`);let k="";f<2&&p>0?k="coords":k=n.shapeInfo.logicalShape.map((V,C)=>`coords.${w[C+h]}`).join(", ");let A="return outputValue;";const T=Cn(n.shapeInfo.logicalShape)===1,j=Cn(e.logicalShape)===1;if(p===1&&!T&&!j)A=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(T&&!j)f===1?A=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:A=`
        return vec4(outputValue.x);
      `;else if(d.length){const V=p-2,C=p-1;d.indexOf(V)>-1&&d.indexOf(C)>-1?A="return vec4(outputValue.x);":d.indexOf(V)>-1?A="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":d.indexOf(C)>-1&&(A="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${l}() {
      ${c} coords = getOutputCoords();
      ${y}
      vec4 outputValue = get${o}(${k});
      ${A}
    }
  `}function o3(n,e){const a=n.name,o=a.charAt(0).toUpperCase()+a.slice(1),l="get"+o+"AtOutCoords",p=e.texShape,f=n.shapeInfo.texShape,d=n.shapeInfo.logicalShape.length,c=e.logicalShape.length;if(!n.shapeInfo.isUniform&&d===c&&n.shapeInfo.flatOffset==null&&zo(f,p))return`
      float ${l}() {
        return sampleTexture(${a}, resultUV);
      }
    `;const h=Zo(c),y=dx(n.shapeInfo.logicalShape,e.logicalShape),w=c-d;let k;const A=["x","y","z","w","u","v"];d===0?k="":c<2&&y.length>=1?k="coords = 0;":k=y.map(T=>`coords.${A[T+w]} = 0;`).join(`
`);let S="";return c<2&&d>0?S="coords":S=n.shapeInfo.logicalShape.map((T,I)=>`coords.${A[I+w]}`).join(", "),`
    float ${l}() {
      ${h} coords = getOutputCoords();
      ${k}
      return get${o}(${S});
    }
  `}function Zo(n){if(n<=1)return"int";if(n===2)return"ivec2";if(n===3)return"ivec3";if(n===4)return"ivec4";if(n===5)return"ivec5";if(n===6)return"ivec6";throw Error(`GPU for rank ${n} is not yet supported`)}function P1(n,e,a){const{newShape:o,keptDims:l}=ap(e),p=e.length,f=n&&p===3&&e[0]===1,d=f?e.slice(1):o,c=!n&&p>1&&!zo(e,a)&&o.length<p||f;return{useSqueezeShape:c,uniformShape:c?d:e,keptDims:l}}function L1(n,e){const a=JSON.parse(JSON.stringify(n));return a.shapeInfo.logicalShape=e,a}function U1(n,e){return e.map(a=>n[a]).join(", ")}function s3(n,e,a,o){const l=a.map((y,w)=>{const k={logicalShape:y.shape,texShape:y.isUniform?null:y.texData.texShape,isUniform:y.isUniform,isPacked:y.isUniform?!1:y.texData.isPacked,flatOffset:null};return y.texData!=null&&y.texData.slice!=null&&y.texData.slice.flatOffset>0&&(k.flatOffset=y.texData.slice.flatOffset),{name:e.variableNames[w],shapeInfo:k}}),p=l.map(y=>y.shapeInfo),f={logicalShape:o.shape,texShape:o.texData.texShape,isUniform:!1,isPacked:o.texData.isPacked,flatOffset:null},d=RP(l,f,e),c=mP(n.gl,d),h=n.createProgram(c);return _t().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:c,source:d,webGLProgram:h,inShapeInfos:p,outShapeInfo:f,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:e,fragmentShader:c,source:d,webGLProgram:h,inShapeInfos:p,outShapeInfo:f},hx(n,e,h))}function hx(n,e,a){const o={},l={},p={},f=[];let d,c,h,y=null,w=null;w=n.getUniformLocation(a,"NAN",!1),_t().getNumber("WEBGL_VERSION")===1&&(y=n.getUniformLocation(a,"INFINITY",!1));const k=!1;for(let A=0;A<e.variableNames.length;A++){const S=e.variableNames[A];o[S]=n.getUniformLocation(a,S,k),o[`offset${S}`]=n.getUniformLocation(a,`offset${S}`,k),e.enableShapeUniforms&&(l[`${S}Shape`]=n.getUniformLocation(a,`${S}Shape`,k),p[`${S}TexShape`]=n.getUniformLocation(a,`${S}TexShape`,k))}return e.enableShapeUniforms&&(d=n.getUniformLocation(a,"outShape",k),h=n.getUniformLocation(a,"outShapeStrides",k),c=n.getUniformLocation(a,"outTexShape",k)),e.customUniforms&&e.customUniforms.forEach((A,S)=>{f[S]=n.getUniformLocation(a,A.name,k)}),{uniformLocations:o,customUniformLocations:f,infLoc:y,nanLoc:w,inShapesLocations:l,inTexShapesLocations:p,outShapeLocation:d,outShapeStridesLocation:h,outTexShapeLocation:c}}function _w(n,e){if(n.length!==e.length)throw Error(`Binary was compiled with ${n.length} inputs, but was executed with ${e.length} inputs`);n.forEach((a,o)=>{const l=a.logicalShape,p=e[o],f=p.shape;if(!zo(l,f))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${l} and ${f} must match`);if(a.isUniform&&p.isUniform)return;const d=a.texShape,c=p.isUniform?null:p.texData.texShape;if(!zo(d,c))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${d} and ${c} must match`)})}function i3(n,e,a,o,l){e.program.enableShapeUniforms||(_w(e.inShapeInfos,a),_w([e.outShapeInfo],[o]));const p=o.texData.texture,f=o.texData.texShape;o.texData.isPacked?n.setOutputPackedMatrixTexture(p.texture,f[0],f[1]):n.setOutputMatrixTexture(p.texture,f[0],f[1]),n.setProgram(e.webGLProgram),_t().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&n.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&n.gl.uniform1f(e.nanLoc,NaN),a.forEach((c,h)=>{const y=e.program.variableNames[h],w=e.uniformLocations[y],k=e.uniformLocations[`offset${y}`],A=e.inShapesLocations[`${y}Shape`],S=e.inTexShapesLocations[`${y}TexShape`];if(A){const{uniformShape:T}=P1(e.program.packedInputs,c.shape,c.texData.texShape);switch(T.length){case 1:n.gl.uniform1iv(A,new Int32Array(T));break;case 2:n.gl.uniform2iv(A,new Int32Array(T));break;case 3:n.gl.uniform3iv(A,new Int32Array(T));break;case 4:n.gl.uniform4iv(A,new Int32Array(T));break}}if(S&&n.gl.uniform2i(S,c.texData.texShape[0],c.texData.texShape[1]),w!=null){if(c.isUniform){if(Cn(c.shape)<2)n.gl.uniform1f(w,c.uniformValues[0]);else{let T=c.uniformValues;T instanceof Float32Array||(T=new Float32Array(T)),n.gl.uniform1fv(w,T)}return}c.texData.slice!=null&&k!=null&&n.gl.uniform1i(k,c.texData.slice.flatOffset),n.setInputMatrixTexture(c.texData.texture.texture,w,h)}});const d=e.outShapeLocation;if(d)switch(o.shape.length){case 1:n.gl.uniform1iv(d,new Int32Array(o.shape));break;case 2:n.gl.uniform2iv(d,new Int32Array(o.shape));break;case 3:n.gl.uniform3iv(d,new Int32Array(o.shape));break;case 4:n.gl.uniform4iv(d,new Int32Array(o.shape));break}if(e.outShapeStridesLocation){const c=us(o.shape);switch(o.shape.length){case 2:n.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(c));break;case 3:n.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(c));break;case 4:n.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(c));break}}e.outTexShapeLocation&&n.gl.uniform2i(e.outTexShapeLocation,o.texData.texShape[0],o.texData.texShape[1]),e.program.customUniforms&&l&&e.program.customUniforms.forEach((c,h)=>{const y=e.customUniformLocations[h],w=l[h];if(c.type==="float")n.gl.uniform1fv(y,w);else if(c.type==="vec2")n.gl.uniform2fv(y,w);else if(c.type==="vec3")n.gl.uniform3fv(y,w);else if(c.type==="vec4")n.gl.uniform4fv(y,w);else if(c.type==="int")n.gl.uniform1iv(y,w);else if(c.type==="ivec2")n.gl.uniform2iv(y,w);else if(c.type==="ivec3")n.gl.uniform3iv(y,w);else if(c.type==="ivec4")n.gl.uniform4iv(y,w);else throw Error(`uniform type ${c.type} is not supported yet.`)}),n.executeProgram()}function l3(n,e,a){let o="";e.concat(a).forEach(f=>{const d=f.texData!=null&&f.texData.slice!=null&&f.texData.slice.flatOffset>0;if(n.enableShapeUniforms&&!f.isUniform){const c=f.texData.texShape,{useSqueezeShape:h,uniformShape:y,keptDims:w}=P1(n.packedInputs,f.shape,c);let k="",A="",S="";if(y.length===1&&n.packedInputs){const L=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];k=`${L[0]>1}_${L[1]>1}`}else if(y.length===2&&!n.packedInputs)A=`${y[0]>1}_${y[1]>1}`;else if(y.length>2&&!n.packedInputs){const L=us(y);S=`${L[0]===c[1]}_${L[L.length-1]===c[1]}`}const T=f.shape.length,I=y.length===2&&zo(f.shape,c),j=Cn(f.shape)===1,V=Gd(f.shape,a.shape),C=!n.packedInputs&&T===a.shape.length&&zo(c,a.texData.texShape),q=n.packedInputs||y.length>2?"":`${c[0]>1}_${c[1]>1}`;o+=`${T}_${C}_${h?w:""}_${y.length}_${j}_${V}_${I}_${k}_${A}_${S}_${q}_${d}`}else{const c=f.isUniform?"uniform":f.texData.texShape;o+=`${f.shape}_${c}_${d}`}});const l=n.userCode;let p=n.constructor.name;return p+="_"+o+"_"+l+`${_t().getNumber("WEBGL_VERSION")}`,p}function Ns(n){return _t().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&n<=4}class u3{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Zc.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=Is();this.outputShape=e,this.enableShapeUniforms=Ns(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?cx(["r","c","d"],e):O1(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${a.output} = result;
      }
    `}}class c3{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Zc.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=Is();this.outputShape=e,this.enableShapeUniforms=Ns(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?cx(["r","c","d"],e):O1(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${a.output} = result;
      }
    `}}class p3{constructor(e){this.variableNames=["A"],this.outTexUsage=Ss.DOWNLOAD;const a=Is();this.outputShape=e,this.userCode=`
      ${px}

      void main() {
        float x = getAAtOutCoords();
        ${a.output} = encode_float(x);
      }
    `}}class d3{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ss.DOWNLOAD;const a=Is();this.outputShape=e,this.userCode=`
      ${px}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${a.output} = encode_float(x);
      }
    `}}class f3{constructor(e,a=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const o=Is();this.outputShape=e,this.enableShapeUniforms=Ns(this.outputShape.length);let l="result";a&&(l="floor(result * 255. + 0.5)"),this.userCode=`
      ${this.enableShapeUniforms?R1():B1(e)}

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);

        int r = flatIndex / texShape[1];
        int c = imod(flatIndex, texShape[1]);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
        vec4 values = ${o.texture2D}(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        ${o.output} = vec4(${l}, 0., 0., 0.);
      }
    `}}class h3{constructor(e,a=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const o=Is();this.outputShape=e,this.enableShapeUniforms=Ns(this.outputShape.length);let l="",p="result";a&&(p="floor(result * 255. + 0.5)");for(let f=0;f<=1;f++)for(let d=0;d<=1;d++){const c=f*2+d;l+=`
          localCoords = coords;
          if(localCoords[2] + ${d} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${d};
          if (localCoords[1] + ${f} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${f};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${o.texture2D}(A, uv);

            if (offset == 0) {
              result[${c}] = values[0];
            } else if (offset == 1) {
              result[${c}] = values[1];
            } else if (offset == 2) {
              result[${c}] = values[2];
            } else {
              result[${c}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?R1():B1(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${l}

          ${o.output} = ${p};
        }
    `}}function m3(n){const e=Is(),a=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return hP(n,a)}function g3(n){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return bP(n,e)}function y3(n){const e=new Uint16Array([0,1,2,2,1,3]);return wP(n,e)}function mx(n,e,a,o,l,p){xP(e,a);const f=vP(n),d=n.TEXTURE_2D;return Nn(n,()=>n.bindTexture(d,f)),Nn(n,()=>n.texParameteri(d,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)),Nn(n,()=>n.texParameteri(d,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),Nn(n,()=>n.texParameteri(d,n.TEXTURE_MIN_FILTER,n.NEAREST)),Nn(n,()=>n.texParameteri(d,n.TEXTURE_MAG_FILTER,n.NEAREST)),_t().getNumber("WEBGL_VERSION")===1?Nn(n,()=>n.texImage2D(d,0,o,e,a,0,l,p,null)):Nn(n,()=>n.texStorage2D(d,1,o,e,a)),Nn(n,()=>n.bindTexture(n.TEXTURE_2D,null)),{texture:f,texShape:[a,e]}}function gx(n){return n.internalFormatFloat}function b3(n,e,a,o){const[l,p]=lx(e,a);return mx(n,l,p,gx(o),o.textureFormatFloat,n.FLOAT)}function yx(n){return n.internalFormatPackedFloat}function w3(n,e,a,o){const[l,p]=sf(e,a);return mx(n,l,p,yx(o),n.RGBA,n.FLOAT)}function v3(n,e,a){return Nn(n,()=>n.bindBuffer(n.ARRAY_BUFFER,a)),xw(n,e,"clipSpacePos",a,3,20,0)&&xw(n,e,"uv",a,2,20,12)}function x3(n,e,a,o,l,p){Nn(n,()=>n.bindTexture(n.TEXTURE_2D,e));let f,d,c;l instanceof Uint8Array?(f=new Uint8Array(a*o*4),d=n.UNSIGNED_BYTE,c=n.RGBA):(f=new Float32Array(a*o*4),d=n.FLOAT,c=p.internalFormatPackedFloat),f.set(l),_t().getNumber("WEBGL_VERSION")===2?Nn(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,a,o,n.RGBA,d,f)):Nn(n,()=>n.texImage2D(n.TEXTURE_2D,0,c,a,o,0,n.RGBA,d,f)),Nn(n,()=>n.bindTexture(n.TEXTURE_2D,null))}function k3(n,e,a,o){const l=n.createBuffer();Nn(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,l));const d=4*4*e*a;return Nn(n,()=>n.bufferData(n.PIXEL_PACK_BUFFER,d,n.STREAM_READ)),Nn(n,()=>n.readPixels(0,0,a,e,n.RGBA,n.FLOAT,0)),Nn(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,null)),l}function _3(n,e,a){const o=n,l=new Float32Array(a);return o.bindBuffer(o.PIXEL_PACK_BUFFER,e),o.getBufferSubData(o.PIXEL_PACK_BUFFER,0,l),o.bindBuffer(o.PIXEL_PACK_BUFFER,null),l}class lm{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const a=_t().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,pP(a,e)):this.gl=Gi(a);let o="WEBGL_color_buffer_float";const l="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),_t().getNumber("WEBGL_VERSION")===1){const p="OES_texture_float",f="OES_texture_half_float";if(this.textureFloatExtension=getExtensionOrThrow(this.gl,p),qu(this.gl,f))this.textureHalfFloatExtension=getExtensionOrThrow(this.gl,f);else if(_t().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(o),qu(this.gl,l))this.colorBufferHalfFloatExtension=getExtensionOrThrow(this.gl,l);else if(_t().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(o="EXT_color_buffer_float",qu(this.gl,o))this.colorBufferFloatExtension=this.gl.getExtension(o);else if(qu(this.gl,l))this.colorBufferHalfFloatExtension=this.gl.getExtension(l);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=g3(this.gl),this.indexBuffer=y3(this.gl),this.framebuffer=kP(this.gl),this.textureConfig=ux(this.gl,this.textureHalfFloatExtension)}get debug(){return _t().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;Nn(e,()=>e.finish()),Nn(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),Nn(e,()=>e.deleteFramebuffer(this.framebuffer)),Nn(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),Nn(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),Nn(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,a){return this.throwIfDisposed(),b3(this.gl,e,a,this.textureConfig)}createFloat16MatrixTexture(e,a){return this.throwIfDisposed(),createFloat16MatrixTexture(this.gl,e,a,this.textureConfig)}createUnsignedBytesMatrixTexture(e,a){return this.throwIfDisposed(),createUnsignedBytesMatrixTexture(this.gl,e,a,this.textureConfig)}uploadPixelDataToTexture(e,a){this.throwIfDisposed(),uploadPixelDataToTexture(this.gl,e,a)}uploadDenseMatrixToTexture(e,a,o,l){this.throwIfDisposed(),x3(this.gl,e,a,o,l,this.textureConfig)}createFloat16PackedMatrixTexture(e,a){return this.throwIfDisposed(),createFloat16PackedMatrixTexture(this.gl,e,a,this.textureConfig)}createPackedMatrixTexture(e,a){return this.throwIfDisposed(),w3(this.gl,e,a,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),Nn(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,a,o){return this.downloadMatrixDriver(e,()=>downloadByteEncodedFloatMatrixFromOutputTexture(this.gl,a,o,this.textureConfig))}downloadPackedMatrixFromBuffer(e,a,o,l,p,f){return downloadPackedMatrixFromBuffer(this.gl,e,a,o,l,p,f,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,a){return _3(this.gl,e,a)}createBufferFromTexture(e,a,o){this.bindTextureToFrameBuffer(e);const l=k3(this.gl,a,o,this.textureConfig);return this.unbindTextureToFrameBuffer(),l}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let a,o;if(_t().getBool("WEBGL_FENCE_API_ENABLED")){const l=e,p=l.fenceSync(l.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),o=()=>{const f=l.clientWaitSync(p,0,0);return f===l.ALREADY_SIGNALED||f===l.CONDITION_SATISFIED},a=p}else _t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(a=this.beginQuery(),this.endQuery(),o=()=>this.isQueryAvailable(a,_t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):o=()=>!0;return{query:a,isFencePassed:o}}downloadMatrixFromPackedTexture(e,a,o){return this.downloadMatrixDriver(e,()=>downloadMatrixFromPackedOutputTexture(this.gl,a,o))}createProgram(e){this.throwIfDisposed();const a=this.gl;this.vertexShader==null&&(this.vertexShader=m3(a));const o=gP(a);return Nn(a,()=>a.attachShader(o,this.vertexShader)),Nn(a,()=>a.attachShader(o,e)),yP(a,o),this.debug&&validateProgram(a,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=v3(a,this.program,this.vertexBuffer)),o}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&Nn(this.gl,()=>this.gl.deleteProgram(e))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&validateProgram(this.gl,this.program),Nn(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,a,o=!0){return this.throwIfDisposed(),o?getProgramUniformLocationOrThrow(this.gl,e,a):EP(this.gl,e,a)}getAttributeLocation(e,a){return this.throwIfDisposed(),Nn(this.gl,()=>this.gl.getAttribLocation(e,a))}getUniformLocationNoThrow(e,a){return this.throwIfDisposed(),this.gl.getUniformLocation(e,a)}setInputMatrixTexture(e,a,o){this.throwIfDisposed(),this.throwIfNoProgram(),AP(this.gl,e,a,o)}setOutputMatrixTexture(e,a,o){this.setOutputMatrixTextureDriver(e,o,a)}setOutputPackedMatrixTexture(e,a,o){this.throwIfDisposed();const[l,p]=sf(a,o);this.setOutputMatrixTextureDriver(e,l,p)}setOutputMatrixWriteRegion(e,a,o,l){this.setOutputMatrixWriteRegionDriver(o,e,l,a)}setOutputPackedMatrixWriteRegion(e,a,o,l){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&validateProgram(this.gl,this.program),validateFramebuffer(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),Nn(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Nn(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=getExtensionOrThrow(this.gl,_t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(_t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const o=this.gl,l=this.getQueryTimerExtensionWebGL2(),p=o.createQuery();return o.beginQuery(l.TIME_ELAPSED_EXT,p),p}const e=this.getQueryTimerExtensionWebGL1(),a=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,a),a}endQuery(){if(_t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const a=this.gl,o=this.getQueryTimerExtensionWebGL2();a.endQuery(o.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await qb(()=>this.disposed||this.isQueryAvailable(e,_t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,_t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,a){if(a===0)return null;if(a===2){const o=this.gl;return o.getQueryParameter(e,o.QUERY_RESULT)/1e6}else{const o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(e,o.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,a){if(a===0)return!0;if(a===2){const o=this.gl,l=this.getQueryTimerExtensionWebGL2(),p=o.getQueryParameter(e,o.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(l.GPU_DISJOINT_EXT)),p&&!this.disjoint}else{const o=this.getQueryTimerExtensionWebGL1(),l=o.getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),l&&!this.disjoint}}pollFence(e){return new Promise(a=>{this.addItemToPoll(()=>e.isFencePassed(),()=>a())})}pollItems(){const e=E3(this.itemsToPoll.map(a=>a.isDoneFn));for(let a=0;a<=e;++a){const{resolveFn:o}=this.itemsToPoll[a];o()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,a){this.itemsToPoll.push({isDoneFn:e,resolveFn:a}),!(this.itemsToPoll.length>1)&&qb(()=>(this.pollItems(),this.itemsToPoll.length===0))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),rm(this.gl,e,this.framebuffer),this.debug&&validateFramebuffer(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(rm(this.gl,this.outputTexture,this.framebuffer),this.debug&&validateFramebuffer(this.gl)):unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)}downloadMatrixDriver(e,a){this.bindTextureToFrameBuffer(e);const o=a();return this.unbindTextureToFrameBuffer(),o}setOutputMatrixTextureDriver(e,a,o){this.throwIfDisposed();const l=this.gl;rm(l,e,this.framebuffer),this.debug&&validateFramebuffer(l),this.outputTexture=e,Nn(l,()=>l.viewport(0,0,a,o)),Nn(l,()=>l.scissor(0,0,a,o))}setOutputMatrixWriteRegionDriver(e,a,o,l){this.throwIfDisposed(),Nn(this.gl,()=>this.gl.scissor(e,a,o,l))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function E3(n){let e=0;for(;e<n.length&&n[e]();++e);return e-1}function Ds(n){return(e,a,o,l,p)=>{const f=mo(e,a),d=f.length,c=us(f),h=Cn(f),y=yc(p,h),w=e.length,k=a.length,A=us(e),S=us(a),T=Gd(e,f),I=Gd(a,f);if(T.length+I.length===0)for(let j=0;j<y.length;++j)y[j]=n(o[j%o.length],l[j%l.length]);else for(let j=0;j<y.length;++j){const V=Rv(j,d,c),C=V.slice(-w);T.forEach(G=>C[G]=0);const q=Fm(C,w,A),L=V.slice(-k);I.forEach(G=>L[G]=0);const R=Fm(L,k,S);y[j]=n(o[q],l[R])}return[y,f]}}const A3=Ds((n,e)=>n+e);function S3(n,e,a,o,l){const p=Cn(o),f=uu(l,a);for(let d=0;d<n.length;d++){const c=n[d];if(c<0)throw new Error("Input x must be non-negative!");c>=l||(p>0?f[c]+=e[d]:f[c]+=1)}return f}function El(n){return(e,a,o)=>{const l=yc(a,e.length);for(let p=0;p<e.length;++p)l[p]=n(e[p],o);return l}}const T3=El(n=>Math.ceil(n));function j3(n,e,a,o){const l=Dv(a,Cn(e));if(o&&a!=="string"){let p=0;n.forEach(f=>{const d=Cn(f.shape);l.set(f.vals,p),p+=d})}else{let p=0;n.forEach(f=>{const d=a==="string"?fromUint8ToStringArray(f.vals):f.vals;let c=0;for(let h=0;h<f.shape[0];++h){const y=h*e[1]+p;for(let w=0;w<f.shape[1];++w)l[y+w]=d[c++]}p+=f.shape[1]})}return l}const I3=Ds((n,e)=>n===e?1:0),N3=El(n=>Math.exp(n)),D3=El(n=>Math.expm1(n)),C3=El(n=>Math.floor(n));function O3(n,e,a){const o=zi(a,n.dtype);for(let l=0;l<o.size;++l){const f=o.indexToLoc(l).slice(),d=f[0],c=f[2],h=e.locToIndex([d,c]);f[2]=e.values[h];const y=n.locToIndex(f);0<=y&&y<n.values.length&&(o.values[l]=n.values[y])}return o}const B3=Ds((n,e)=>n>e?1:0),R3=Ds((n,e)=>n>=e?1:0),F3=Ds((n,e)=>n<e?1:0),M3=Ds((n,e)=>n<=e?1:0),P3=El(n=>Math.log(n));function L3(n,e,a,o){const l=yc(o,Cn(a));for(let p=0;p<l.length;++p){const f=p*e;let d=n[f];for(let c=0;c<e;++c){const h=n[f+c];(Number.isNaN(h)||h>d)&&(d=h)}l[p]=d}return l}const U3=Ds((n,e)=>Math.max(n,e)),z3=Ds((n,e)=>Math.min(n,e)),bx=Ds((n,e)=>n*e);function $3(n,e,a){const o=a0(-1,a);return bx([],e,o,n,a)}const G3=Ds((n,e)=>n!==e?1:0);function V3(n,e,a,o,l){const p=e.length,f=Cn(e),d=us(e),c=us(l),h=yc(a,Cn(l));for(let y=0;y<f;++y){const w=Rv(y,p,d),k=new Array(w.length);for(let S=0;S<k.length;S++)k[S]=w[o[S]];const A=Fm(k,p,c);h[A]=n[y]}return h}function H3(n,e,a,o){const[l,p]=op(n,o),f=Ui(e,"int32"),d=uu(Cn(l),f),c=Cn(p);for(let h=0;h<d.length;++h){const y=h*c;let w=1;for(let k=0;k<c;++k)w*=a[y+k];d[h]=w}return{outVals:d,outShape:l,outDtype:f}}function W3(n,e,a,o){const l=n===e,p=n<e&&a<0,f=e<n&&a>1;if(l||p||f)return uu(0,o);const d=Math.abs(Math.ceil((e-n)/a)),c=uu(d,o);e<n&&a===1&&(a=-1),c[0]=n;for(let h=1;h<c.length;h++)c[h]=c[h-1]+a;return c}const K3=El(n=>1/Math.sqrt(n));function X3(n,e,a,o,l,p,f,d,c,h){const y=[o/l,l],w=n.values,k=e.values;if(o===0)return zi(a,e.dtype);const A=zi(y,e.dtype);typeof c=="string"||typeof c=="number"?A.values.fill(c):typeof c=="boolean"&&A.values.fill(+c);for(let S=0;S<p;S++){const T=[];let I=0;for(let j=0;j<f;j++){const V=w[S*f+j];T.push(V),I+=V*d[j]}if(I<0||I>=o/l)throw new Error(`Invalid indices: ${T} does not index into ${a}`);for(let j=0;j<l;j++)h?A.values[I*l+j]+=k[S*l+j]:A.values[I*l+j]=e.rank===0?k[0]:k[S*l+j]}return A}const Y3=El(n=>1/(1+Math.exp(-n)));function q3(n,e,a,o,l){const p=N1(o,e,a),f=Cn(a),d=us(o);if(p){const w=A0(e,d);return l==="string"?n.slice(w,w+f):n.subarray(w,w+f)}const c=l==="string"?fromUint8ToStringArray(n):n,h=zi(o,l,c),y=zi(a,l);for(let w=0;w<y.size;++w){const k=y.indexToLoc(w),A=k.map((S,T)=>S+e[T]);y.set(h.get(...A),...k)}return l==="string"?fromStringArrayToUint8(y.values):y.values}const Z3=El(n=>Math.sqrt(n)),J3=Ds((n,e)=>{const a=n-e;return a*a}),Q3=Ds((n,e)=>n-e);var eL=Object.freeze({__proto__:null,simpleAbsImpl:()=>{},addImpl:A3,bincountImpl:S3,bincountReduceImpl:()=>{},ceilImpl:T3,concatImpl:j3,equalImpl:I3,expImpl:N3,expm1Impl:D3,floorImpl:C3,gatherNdImpl:()=>{},gatherV2Impl:O3,greaterImpl:B3,greaterEqualImpl:R3,lessImpl:F3,lessEqualImpl:M3,linSpaceImpl:()=>{},logImpl:P3,maxImpl:L3,maximumImpl:U3,minimumImpl:z3,multiplyImpl:bx,negImpl:$3,notEqualImpl:G3,prodImpl:H3,rangeImpl:W3,rsqrtImpl:K3,scatterImpl:X3,sigmoidImpl:Y3,sliceImpl:q3,sparseFillEmptyRowsImpl:()=>{},sparseReshapeImpl:()=>{},sparseSegmentReductionImpl:()=>{},sqrtImpl:Z3,squaredDifferenceImpl:J3,stridedSliceImpl:()=>{},stringNGramsImpl:()=>{},stringSplitImpl:()=>{},stringToHashBucketFastImpl:()=>{},subImpl:Q3,tileImpl:()=>{},topKImpl:()=>{},transposeImpl:V3,uniqueImpl:()=>{}});const{addImpl:tL,bincountImpl:_$,bincountReduceImpl:E$,ceilImpl:A$,concatImpl:nL,equalImpl:S$,expImpl:T$,expm1Impl:j$,floorImpl:I$,gatherNdImpl:N$,gatherV2Impl:aL,greaterImpl:D$,greaterEqualImpl:C$,lessImpl:O$,lessEqualImpl:B$,linSpaceImpl:R$,logImpl:F$,maxImpl:M$,maximumImpl:P$,minimumImpl:L$,multiplyImpl:rL,negImpl:U$,notEqualImpl:oL,prodImpl:sL,rangeImpl:z$,rsqrtImpl:$$,scatterImpl:G$,sigmoidImpl:iL,simpleAbsImpl:lL,sliceImpl:uL,sparseFillEmptyRowsImpl:V$,sparseReshapeImpl:H$,sparseSegmentReductionImpl:W$,sqrtImpl:K$,stridedSliceImpl:X$,stringNGramsImpl:Y$,stringSplitImpl:q$,stringToHashBucketFastImpl:Z$,subImpl:J$,tileImpl:Q$,topKImpl:e5,transposeImpl:cL,uniqueImpl:t5}=eL;function wx(n,e){return["x","y","z","w","u","v"].slice(0,e).map(a=>`${n}.${a}`)}function xl(n,e){return e===1?[n]:wx(n,e)}function pL(n,e){if(n===1)return"rc";let a="";for(let o=0;o<n;o++)a+=e[o],o<n-1&&(a+=",");return a}class dL{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Ns(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const a=xl("rc",this.rank),o=Zo(this.rank),l=this.getOutOfBoundsCondition(a),p=this.getSetup(a),f=this.getOutput(a);this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();

          if(${l}) {
            setOutput(vec4(0));
          } else {
            ${p}

            setOutput(vec4(${f}));
          }
        }
      `}}getSourceCoordsArr(e){const a=[];for(let o=0;o<=1;o++)for(let l=0;l<=1;l++){let p=`${o===0?"r":"rp1"}, ${l===0?"c":"cp1"}`;for(let f=2;f<this.rank;f++)p=`${e[e.length-1-f]},`+p;a.push(p)}return a}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let a="";for(let o=this.rank-2;o<this.rank;o++)a+=`${e[o]} >= ${this.enableShapeUniforms?`outShape[${o}]`:this.outputShape[o]}`,o<this.rank-1&&(a+="||");return a}getSetup(e){if(this.rank===1)return"";const a=e.slice(-2),o=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],l=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${a[0]};
      int c = ${a[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${o};
      bool rEdge = rp1 >= ${l};
    `}getOutput(e){const a=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${a[0]}),
            cEdge ? 0. : getA(${a[1]}),
            rEdge ? 0. : getA(${a[2]}),
            rEdge || cEdge ? 0. : getA(${a[3]})`}}class vx{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Ns(this.outputShape.length);let o="";for(let l=0;l<4;l++){let p="thisRC = rc;";l%2===1&&(p+="thisRC.z += 1;"),l>1&&(p+="thisRC.y += 1;"),o+=`
        ${p}
        ${l>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${l}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${l>0?"}":""}
      `}this.userCode=`
      ${fL(a,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?R1():B1(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${o}

        setOutput(result);
      }
    `}}function fL(n,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?BP(["r","c","d"],"inputShape"):O1(["r","c","d"],n)}
      return ivec3(r, c, d);
    }
  `}class hL{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,a,o){const l=Aw(a,o),p=Sw(e,l,o);p in this.freeTextures||(this.freeTextures[p]=[]),p in this.usedTextures||(this.usedTextures[p]=[]);const f=Ew(e,l,this.gpgpu.gl,this.gpgpu.textureConfig,o);if(this.freeTextures[p].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=f,this.log();const c=this.freeTextures[p].shift();return this.usedTextures[p].push(c),c}let d;return l===ro.PACKED_2X2_FLOAT32?d=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):l===ro.PACKED_2X2_FLOAT16?d=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):l===ro.UNPACKED_FLOAT32?d=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):l===ro.UNPACKED_FLOAT16?d=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):l===ro.PACKED_4X1_UNSIGNED_BYTE&&(d=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[p].push(d),this.numUsedTextures++,this._numBytesAllocated+=f,this.log(),d}releaseTexture(e,a,o,l){if(this.freeTextures==null)return;const p=Aw(o,l),f=Sw(a,p,l);f in this.freeTextures||(this.freeTextures[f]=[]);const d=Ew(a,p,this.gpgpu.gl,this.gpgpu.textureConfig,l),c=_t().get("WEBGL_DELETE_TEXTURE_THRESHOLD");c!==-1&&this._numBytesAllocated>c?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=d):(this.freeTextures[f].push(e),this.numFreeTextures++,this._numBytesFree+=d),this.numUsedTextures--;const h=this.usedTextures[f],y=h.indexOf(e);if(y<0)throw new Error("Cannot release a texture that was never provided by this texture manager");h.splice(y,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const a=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*a)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(a=>{this.gpgpu.deleteMatrixTexture(a.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(a=>{this.gpgpu.deleteMatrixTexture(a.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function mL(n,e){const a=n;if(e===a.R32F)return 4;if(e===a.R16F)return 2;if(e===a.RGBA32F)return 16;if(e===n.RGBA)return 16;if(e===a.RGBA16F)return 8;if(e===a.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function Ew(n,e,a,o,l){const p=gL(e,o);let f;if(l){const[c,h]=sf(n[0],n[1]);f=c*h}else{const[c,h]=lx(n[0],n[1]);f=c*h}const d=mL(a,p);return f*d}function gL(n,e){switch(n){case ro.PACKED_2X2_FLOAT32:return yx(e);case ro.PACKED_2X2_FLOAT16:return getInternalFormatForFloat16PackedMatrixTexture(e);case ro.UNPACKED_FLOAT32:return gx(e);case ro.UNPACKED_FLOAT16:return getInternalFormatForFloat16MatrixTexture(e);case ro.PACKED_4X1_UNSIGNED_BYTE:return getInternalFormatForUnsignedBytesMatrixTexture(e);default:throw new Error(`Unknown physical texture type ${n}`)}}function yL(n){return _t().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?ro.PACKED_2X2_FLOAT32:ro.UNPACKED_FLOAT32:n?ro.PACKED_2X2_FLOAT16:ro.UNPACKED_FLOAT16}function Aw(n,e){if(n===Ss.UPLOAD)return ro.PACKED_2X2_FLOAT32;if(n===Ss.RENDER||n==null)return yL(e);if(n===Ss.DOWNLOAD||n===Ss.PIXELS)return ro.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${n}`)}function Sw(n,e,a){return`${n[0]}_${n[1]}_${e}_${a}`}class Vc{constructor(e,a){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Ns(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${a}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const z1="if (isnan(x)) return x;",bL="return x;",Tw="return abs(x);",wL="return (x >= 0.0) ? x : (exp(x) - 1.0);",vL=z1+`
  return (x < 0.0) ? 0.0 : x;
`,xL=z1+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Vu="return x;",kL="return 1.0 / (1.0 + exp(-1.0 * x));",_L="return x;",EL=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,AL=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,SL=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,TL="return 1.0 / (1.0 + exp(-1.0 * x));";class Hc{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Ns(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${a}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}class jL{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Ns(this.outputShape.length);const a=e.length,o=xl("rc",a),l=Zo(a),p=pL(a,o),f=o.slice(-2),d=a<=1?"rc":`vec2(${f.join(",")})`;this.userCode=`
      void main() {
        ${l} rc = getOutputCoords();
        vec4 packedInput = getA(${p});

        setOutput(getChannel(packedInput, ${d}));
      }
    `}}const IL=1e-7,NL=1e-4,Sd={};function DL(n){return n in Sd||(Sd[n]={}),Sd[n]}const CL=_t().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),OL=600;function BL(){return _t().global.screen==null?1024:_t().global.screen.height*_t().global.screen.width*window.devicePixelRatio*OL/1024/1024}class lf extends Tv{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!_t().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let a;if(e!=null){if(e instanceof lm)a=e;else{const o=Gi(_t().getNumber("WEBGL_VERSION"),e);a=new lm(o)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const o=Gi(_t().getNumber("WEBGL_VERSION"));a=new lm(o),this.binaryCache=DL(_t().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=a,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new hL(this.gpgpu),this.numMBBeforeWarning=BL(),this.texData=new pO(this,Gu())}nextDataId(){return lf.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,a,o){if((_t().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||_t().getBool("DEBUG"))&&this.checkNumericalProblems(e),o==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const l={id:this.nextDataId()};return this.texData.set(l,{shape:a,dtype:o,values:e,usage:Ss.UPLOAD,refCount:1}),l}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const a=this.texData.get(e);a.refCount++}decRef(e){if(this.texData.has(e)){const a=this.texData.get(e);a.refCount--}}move(e,a,o,l,p){if(_t().getBool("DEBUG")&&this.checkNumericalProblems(a),l==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:o,dtype:l,values:a,usage:Ss.UPLOAD,refCount:p})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const a=this.texData.get(e),{values:o,dtype:l,complexTensorInfos:p,slice:f,shape:d,isPacked:c}=a;if(f!=null){let k;c?k=new Hc(d,Vu):k=new Vc(d,Vu);const A=this.runWebGLProgram(k,[{dataId:e,shape:d,dtype:l}],l),S=this.readSync(A.dataId);return this.disposeIntermediateTensorInfo(A),S}if(o!=null)return this.convertAndCacheOnCPU(e);if(l==="string")return o;const h=this.activeTimers!=null;let y;h&&(y=Ks());let w;if(l==="complex64"){const k=this.readSync(p.real.dataId),A=this.readSync(p.imag.dataId);w=mergeRealAndImagArrays(k,A)}else w=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=Ks()-y),this.convertAndCacheOnCPU(e,w)}async read(e){if(this.pendingRead.has(e)){const S=this.pendingRead.get(e);return new Promise(T=>S.push(T))}const a=this.texData.get(e),{values:o,shape:l,slice:p,dtype:f,complexTensorInfos:d,isPacked:c}=a;if(p!=null){let S;c?S=new Hc(l,Vu):S=new Vc(l,Vu);const T=this.runWebGLProgram(S,[{dataId:e,shape:l,dtype:f}],f),I=this.read(T.dataId);return this.disposeIntermediateTensorInfo(T),I}if(o!=null)return this.convertAndCacheOnCPU(e);if(_t().getBool("DEBUG")&&!_t().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&_t().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let h=null,y;if(f!=="complex64"&&_t().get("WEBGL_BUFFER_SUPPORTED")){y=this.decode(e);const S=this.texData.get(y.dataId);h=this.gpgpu.createBufferFromTexture(S.texture.texture,...Ed(l))}this.pendingRead.set(e,[]),f!=="complex64"&&await this.gpgpu.createAndWaitForFence();let w;if(f==="complex64"){const S=await Promise.all([this.read(d.real.dataId),this.read(d.imag.dataId)]),T=S[0],I=S[1];w=mergeRealAndImagArrays(T,I)}else if(h==null)w=this.getValuesFromTexture(e);else{const S=Cn(l);w=this.gpgpu.downloadFloat32MatrixFromBuffer(h,S)}if(y!=null&&this.disposeIntermediateTensorInfo(y),h!=null){const S=this.gpgpu.gl;Nn(S,()=>S.deleteBuffer(h))}const k=this.convertAndCacheOnCPU(e,w),A=this.pendingRead.get(e);return this.pendingRead.delete(e),A.forEach(S=>S(k)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Gu().removeDataId(e,this),this.pendingDeletes--),k}readToGPU(e,a={}){const o=this.texData.get(e),{values:l,shape:p,slice:f,dtype:d,isPacked:c,texture:h}=o;if(d==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(f!=null){let A;c?A=new Hc(p,Vu):A=new Vc(p,Vu);const S=this.runWebGLProgram(A,[{dataId:e,shape:p,dtype:d}],d),T=this.readToGPU(S,a);return this.disposeIntermediateTensorInfo(S),T}if(h==null)throw l!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const y=this.decode(e,a.customTexShape),w=Gu().makeTensorFromTensorInfo(y),k=this.texData.get(y.dataId);return Object.assign({tensorRef:w},k.texture)}bufferSync(e){const a=this.readSync(e.dataId);if(e.dtype==="string")try{const o=a.map(l=>decodeString(l));return zi(e.shape,e.dtype,o)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return zi(e.shape,e.dtype,a)}checkNumericalProblems(e){if(e!=null)for(let a=0;a<e.length;a++){const o=e[a];if(!canBeRepresented(o))throw _t().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${o} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${o} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:a,dtype:o,isPacked:l}=this.texData.get(e),p=Cn(a);if(_t().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const k=this.decode(e),A=this.texData.get(k.dataId),S=this.gpgpu.downloadMatrixFromPackedTexture(A.texture.texture,...Ed(a)).subarray(0,p);return this.disposeIntermediateTensorInfo(k),S}const f=_t().getBool("WEBGL_PACK")&&l===!0,d=f?om(a):a,c=f?new d3(d):new p3(d),h=this.runWebGLProgram(c,[{shape:d,dtype:o,dataId:e}],"float32"),y=this.texData.get(h.dataId),w=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(y.texture.texture,y.texShape[0],y.texShape[1]).subarray(0,p);return this.disposeIntermediateTensorInfo(h),w}timerAvailable(){return _t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const a=this.activeTimers,o=[];let l=!1;this.programTimersStack==null?(this.programTimersStack=o,l=!0):this.activeTimers.push(o),this.activeTimers=o,e();const p=rc(this.activeTimers.map(c=>c.query)).filter(c=>c!=null),f=rc(this.activeTimers.map(c=>c.name)).filter(c=>c!=null);this.activeTimers=a,l&&(this.programTimersStack=null);const d={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(_t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const c=await Promise.all(p);d.kernelMs=fO(c),d.getExtraProfileInfo=()=>c.map((h,y)=>({name:f[y],ms:h})).map(h=>`${h.name}: ${h.ms}`).join(", ")}else d.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,d})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return _t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ks(),endMs:null}}endTimer(e){return _t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Ks(),e)}async getQueryTime(e){if(_t().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const a=e;return a.endMs-a.startMs}disposeData(e,a=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(a?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!a&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:o}=this.texData.get(e);return o!=null&&(this.disposeData(o.real.dataId,a),this.disposeData(o.imag.dataId,a)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:a,dtype:o,texShape:l,usage:p,isPacked:f,slice:d}=this.texData.get(e),c=d&&d.origDataId||e,h=this.dataRefCount.get(c);h>1?this.dataRefCount.set(c,h-1):(this.dataRefCount.delete(c),a!=null&&(this.numBytesInGPU-=this.computeBytes(l,o),this.textureManager.releaseTexture(a,l,p,f)));const y=this.texData.get(e);y.texture=null,y.texShape=null,y.isPacked=!1,y.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,a=CL){return _t().getBool("WEBGL_CPU_FORWARD")&&e.every(o=>this.texData.get(o.dataId).texture==null&&Cn(o.shape)<a)}getGPGPUContext(){return this.gpgpu}where(e){yl("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const a=e.dataSync();return whereImpl(e.shape,a)}packedUnaryOp(e,a,o){const l=new Hc(e.shape,a),p=this.compileAndRun(l,[e],o);return Gu().makeTensorFromTensorInfo(p)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const l=lL(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,l)}if(_t().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Tw,e.dtype);const a=new Vc(e.shape,Tw),o=this.compileAndRun(a,[e]);return Gu().makeTensorFromTensorInfo(o)}makeTensorInfo(e,a,o){let l;if(a==="string"&&o!=null&&o.length>0&&isString(o[0])){const p=o.map(f=>encodeString(f));l=this.write(p,e,a)}else l=this.write(o,e,a);return this.texData.get(l).usage=null,{dataId:l,shape:e,dtype:a}}makeOutput(e,a,o){return Gu().makeTensorFromTensorInfo(this.makeTensorInfo(e,a,o),this)}unpackTensor(e){const a=new jL(e.shape);return this.runWebGLProgram(a,[e],e.dtype)}packTensor(e){const a=new dL(e.shape);return this.runWebGLProgram(a,[e],e.dtype,null,!0)}packedReshape(e,a){const o=[dc(e.shape),...fc(e.shape)],l={dtype:e.dtype,shape:o,dataId:e.dataId},p=[dc(a),...fc(a)],f=new vx(p,o),d=!0,c=[o],h=this.runWebGLProgram(f,[l],e.dtype,c,d);return{dataId:h.dataId,shape:a,dtype:h.dtype}}decode(e,a){const o=this.texData.get(e),{isPacked:l,shape:p,dtype:f}=o;if(a!=null){const k=Cn(p),A=a[0]*a[1]*4;on(k<=A,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const d=om(p);let c;l?c=new c3(d):c=new u3(d);const h=!0,y=[a??Ed(d)],w=this.runWebGLProgram(c,[{shape:d,dtype:f,dataId:e}],f,y,h,a);return{dtype:f,shape:p,dataId:w.dataId}}runWebGLProgram(e,a,o,l,p=!1,f){const d=this.makeTensorInfo(e.outputShape,o),c=this.texData.get(d.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===Zc.DENSE){const j=f??Ed(e.outputShape);c.texShape=j.map(V=>V*2)}if(e.outTexUsage!=null&&(c.usage=e.outTexUsage),Cn(d.shape)===0)return c.values=yc(d.dtype,0),d;const h=[],y=a.map(j=>{if(j.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let V=this.texData.get(j.dataId);if(V.texture==null){if(!e.packedInputs&&Cn(j.shape)<=_t().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:j.shape,texData:null,isUniform:!0,uniformValues:V.values};e.packedInputs&&(V.isPacked=!0,V.shape=j.shape)}if(this.uploadToGPU(j.dataId),!!V.isPacked!=!!e.packedInputs)j=V.isPacked?this.unpackTensor(j):this.packTensor(j),h.push(j),V=this.texData.get(j.dataId);else if(V.isPacked&&!e1(V.shape,j.shape)){const C=j,q=j.shape;j.shape=V.shape,j=this.packedReshape(j,q),h.push(j),V=this.texData.get(j.dataId),C.shape=q}return{shape:j.shape,texData:V,isUniform:!1}});this.uploadToGPU(d.dataId);const w={shape:d.shape,texData:c,isUniform:!1},k=l3(e,y,w),A=this.getAndSaveBinary(k,()=>s3(this.gpgpu,e,y,w)),S=this.activeTimers!=null;let T;S&&(T=this.startTimer()),_t().get("ENGINE_COMPILE_ONLY")||i3(this.gpgpu,A,y,w,l),h.forEach(j=>this.disposeIntermediateTensorInfo(j)),S&&(T=this.endTimer(T),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(T)}));const I=_t().get("WEBGL_FLUSH_THRESHOLD");if(I>0){const j=Ks();j-this.lastGlFlushTime>I&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=j)}if(!_t().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&p===!1){const j=this.unpackTensor(d);return this.disposeIntermediateTensorInfo(d),j}return d}compileAndRun(e,a,o,l,p=!1){return o=o||a[0].dtype,this.runWebGLProgram(e,a,o,l,p)}getAndSaveBinary(e,a){return e in this.binaryCache||(this.binaryCache[e]=a()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(_t().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(a=>{this.gpgpu.deleteProgram(this.binaryCache[a].webGLProgram),delete this.binaryCache[a]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=qa(()=>{if(!_t().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=_t().getBool("DEBUG");_t().set("DEBUG",!1);const a=this.abs(ho(1e-8)).dataSync()[0];if(_t().set("DEBUG",e),a>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?IL:NL}uploadToGPU(e){const a=this.texData.get(e),{shape:o,dtype:l,values:p,texture:f,usage:d,isPacked:c}=a;if(f!=null)return;const h=this.activeTimers!=null;let y;h&&(y=Ks());let w=a.texShape;if(w==null&&(w=TP(o,c),a.texShape=w),p!=null){const k=om(o);let A,S=w[1],T=w[0];const I=p instanceof Uint8Array||p instanceof Uint8ClampedArray;(c||!I)&&([S,T]=sf(w[0],w[1])),c?A=new h3(k,I):A=new f3(k,I);const j=I?[T,S]:w,V=this.makeTensorInfo(j,l),C=this.texData.get(V.dataId);I?C.usage=Ss.PIXELS:C.usage=Ss.UPLOAD,C.texShape=j,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(V.dataId),S,T,p);const q=[[T,S]],R=this.runWebGLProgram(A,[V],l,q,!0),G=this.texData.get(R.dataId);a.texShape=G.texShape,a.isPacked=G.isPacked,a.usage=G.usage,_t().get("ENGINE_COMPILE_ONLY")?this.disposeData(R.dataId):(a.texture=G.texture,a.values=null,this.texData.delete(R.dataId)),this.disposeIntermediateTensorInfo(V),h&&(this.uploadWaitMs+=Ks()-y)}else{const k=this.acquireTexture(w,d,l,c);a.texture=k}}convertAndCacheOnCPU(e,a){const o=this.texData.get(e),{dtype:l}=o;return this.releaseGPUData(e),a!=null&&(o.values=RL(a,l)),o.values}acquireTexture(e,a,o,l){if(this.numBytesInGPU+=this.computeBytes(e,o),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const p=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${p} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,a,l)}computeBytes(e,a){return e[0]*e[1]*Bm(a)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,a]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(a));return Promise.all(e)}else{for(const[,a]of Object.entries(this.binaryCache)){const o=new Promise(l=>{try{this.checkCompletion_(a),l(!0)}catch(p){throw p}});e.push(o)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await nextFrame(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(logShaderSourceAndInfoLog(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:a,customUniformLocations:o,infLoc:l,nanLoc:p,inShapesLocations:f,inTexShapesLocations:d,outShapeLocation:c,outShapeStridesLocation:h,outTexShapeLocation:y}=hx(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=a,e.customUniformLocations=o,e.infLoc=l,e.nanLoc=p,e.inShapesLocations=f,e.inTexShapesLocations=d,e.outShapeLocation=c,e.outShapeStridesLocation=h,e.outTexShapeLocation=y}}}lf.nextDataId=0;function RL(n,e){if(e==="float32"||e==="complex64")return n;if(e==="int32"||e==="bool"){const a=e==="int32"?new Int32Array(n.length):new Uint8Array(n.length);for(let o=0;o<a.length;++o)a[o]=Math.round(n[o]);return a}else throw new Error(`Unknown dtype ${e}`)}u0()&&XB("webgl",()=>new lf,2);class t1{constructor(e,a,o){this.variableNames=["A","B"],this.outputShape=mo(a,o),this.enableShapeUniforms=Ns(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}const FL=`
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;
`;class xx{constructor(e,a,o,l=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=mo(a,o);const p=this.outputShape.length;this.enableShapeUniforms=Ns(p);let f="";if(l)if(p===0||Cn(this.outputShape)===1)f=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(f=`
          ${Zo(p)} coords = getOutputCoords();
        `,p===1)this.enableShapeUniforms?f+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:f+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const c=xl("coords",p);this.enableShapeUniforms?f+=`
            bool nextRowOutOfBounds =
              (${c[p-2]} + 1) >= outShape[${p} - 2];
            bool nextColOutOfBounds =
              (${c[p-1]} + 1) >= outShape[${p} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:f+=`
            bool nextRowOutOfBounds =
              (${c[p-2]} + 1) >= ${this.outputShape[p-2]};
            bool nextColOutOfBounds =
              (${c[p-1]} + 1) >= ${this.outputShape[p-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${f}

        setOutput(result);
      }
    `}}function cu(n){const{inputs:e,backend:a}=n,{x:o}=e;return a.incRef(o.dataId),{dataId:o.dataId,shape:o.shape,dtype:o.dtype}}const ML={kernelName:S1,backendName:"webgl",kernelFunc:cu};function uf(n){const{inputs:e,backend:a}=n,{real:o,imag:l}=e,p=a.makeTensorInfo(o.shape,"complex64"),f=a.texData.get(p.dataId),d=cu({inputs:{x:o},backend:a}),c=cu({inputs:{x:l},backend:a});return f.complexTensorInfos={real:d,imag:c},p}const PL="return (a < 0.) ? b * a : a;",LL=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,UL="return (a < 0.) ? b * a : a;",zL=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,$L="if (isnan(x)) return x;";function $1({opSnippet:n,packedOpSnippet:e,cpuKernelImpl:a,dtype:o}){return({inputs:l,backend:p})=>{const{x:f}=l,d=p,c=o||f.dtype;if(d.shouldExecuteOnCPU([f])&&a!=null){const w=d.texData.get(f.dataId),k=a(w.values,c);return d.makeTensorInfo(f.shape,c,k)}const h=_t().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let y;return h?y=new Hc(f.shape,e):y=new Vc(f.shape,n),d.runWebGLProgram(y,[f],c)}}function G1({opSnippet:n,packedOpSnippet:e,checkOutOfBounds:a=!1,supportsComplex:o=!1,cpuKernelImpl:l,dtype:p}){return({inputs:f,backend:d})=>{const{a:c,b:h}=f,y=d;if(o&&c.dtype==="complex64"){const S=y.texData.get(c.dataId),T=y.texData.get(h.dataId),[I,j]=[[S.complexTensorInfos.real,T.complexTensorInfos.real],[S.complexTensorInfos.imag,T.complexTensorInfos.imag]].map(C=>{const[q,L]=C,R={dataId:q.dataId,dtype:q.dtype,shape:c.shape},G={dataId:L.dataId,dtype:L.dtype,shape:h.shape},F=new t1(n,c.shape,h.shape);return y.runWebGLProgram(F,[R,G],Ui(q.dtype,L.dtype))}),V=uf({inputs:{real:I,imag:j},backend:y});return y.disposeIntermediateTensorInfo(I),y.disposeIntermediateTensorInfo(j),V}const w=p||Ui(c.dtype,h.dtype);if((c.dtype==="string"||h.dtype==="string"||y.shouldExecuteOnCPU([c,h]))&&l!=null){const S=y.texData.get(c.dataId).values,T=y.texData.get(h.dataId).values,I=c.dtype==="string"?fromUint8ToStringArray(S):S,j=c.dtype==="string"?fromUint8ToStringArray(T):T,[V,C]=l(c.shape,h.shape,I,j,w),q=y.makeTensorInfo(C,w),L=y.texData.get(q.dataId);return L.values=V,q}const k=_t().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let A;return k?A=new xx(e,c.shape,h.shape,a):A=new t1(n,c.shape,h.shape),y.runWebGLProgram(A,[c,h],w)}}function GL(n,e=!1){if(n==="linear")return e?_L:bL;if(n==="relu")return e?AL:vL;if(n==="elu")return e?EL:wL;if(n==="relu6")return e?SL:xL;if(n==="prelu")return e?zL:UL;if(n==="leakyrelu")return e?LL:PL;if(n==="sigmoid")return e?TL:kL;throw new Error(`Activation ${n} has not been implemented for the WebGL backend.`)}const jw="return a + b;",VL=G1({opSnippet:jw,packedOpSnippet:jw,supportsComplex:!0,cpuKernelImpl:tL}),HL={kernelName:E1,backendName:"webgl",kernelFunc:VL};class Iw{constructor(e,a){this.variableNames=["x"];const{windowSize:o,batchSize:l,inSize:p,outSize:f}=e;this.outputShape=[l,f];const d=Math.floor(o/4)*4,c=o%4;let h="sumValue += dot(values, ones);";if(a!=null){const w=1/a;h=`sumValue += dot(values * ${Nv(w)?w.toPrecision(2):w}, ones);`}let y="";p%o>0&&(y=`
        if (inIdx < 0 || inIdx >= ${p}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${y}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        float sumValue = 0.0;

        for (int i = 0; i < ${d}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${h}
        }

        int inIdx = inOffset + ${d};
        if (${c===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${h}
        } else if (${c===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${h}
        } else if (${c===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${h}
        }
        setOutput(sumValue);
      }
    `}}class WL{constructor(e,a){this.variableNames=["x"];const{windowSize:o,batchSize:l,inSize:p,outSize:f}=e;this.outputShape=[l,f];let d="0.0",c="";a==="prod"?d="1.0":a==="min"?(d="1.0 / 1e-20",c="min"):a==="max"&&(d="-1.0 / 1e-20",c="max");let h=`${a}(${a}(${a}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;a==="sum"?h="sumValue":a==="prod"?h="prodValue":a==="all"?h="allValue":a==="any"&&(h="anyValue");const y=Math.floor(o/4)*4,w=o%4;let k=`
      if (${a==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${a==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${c}(values, minMaxValue);
        if (${a==="min"} || ${a==="max"}) {
          minMaxValue = ${c}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,A="vec4";a==="all"?(d="1.0",k=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,A="bvec4"):a==="any"&&(d="0.0",k=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,A="bvec4");let S="";p%o>0&&(S=`
        if (inIdx < 0 || inIdx >= ${p}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${d};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${S}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${o};

        vec4 minMaxValue = vec4(${d});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${y}; i += 4) {
          int inIdx = inOffset + i;
          ${A} values = ${A}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${k}
        }

        int inIdx = inOffset + ${y};
        if (${w===1}) {
          ${A} values = ${A}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${k}
        } else if (${w===2}) {
          ${A} values = ${A}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${k}
        } else if (${w===3}) {
          ${A} values = ${A}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${k}
        }
        setOutput(${h});
      }
    `}}function KL(n){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const a=e.length?e[e.length-1].outSize:n[1],o=nx(a);e.push({inSize:a,windowSize:o,outSize:Math.ceil(a/o)})}return e}function V1(n,e,a,o){const l=KL(n.shape);let p=n;for(let f=0;f<l.length;f++){const{inSize:d,windowSize:c,outSize:h}=l[f];let y,w;a==="mean"?y=f===0?new Iw({windowSize:c,inSize:d,batchSize:n.shape[0],outSize:h},d):new Iw({windowSize:c,inSize:d,batchSize:n.shape[0],outSize:h}):y=new WL({windowSize:c,inSize:d,batchSize:n.shape[0],outSize:h},a),w=p,p=o.runWebGLProgram(y,[p],e),w.dataId!==n.dataId&&o.disposeIntermediateTensorInfo(w)}return p}function XL(n,e,a){const o=[dc(n.shape),...fc(n.shape)],l={dtype:n.dtype,shape:o,dataId:n.dataId},p=[dc(e),...fc(e)],f=new vx(p,o),d=!0,c=[o],h=a.runWebGLProgram(f,[l],n.dtype,c,d);return{dataId:h.dataId,shape:e,dtype:h.dtype}}function Xr(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{shape:p}=o,f=a,d=Cn(l.shape),c=hO(p,d),h=Cn(c);on(d===h,()=>`The new shape (${c}) has ${h} elements and the old shape (${l.shape}) has ${d} elements. The new shape and old shape must have the same number of elements.`);const y=f.texData.get(l.dataId);return y.isPacked&&!e1(l.shape,c)&&!(y.texture!==null&&e1(y.shape,c))?XL(l,c,f):(f.incRef(l.dataId),{dataId:l.dataId,shape:c,dtype:l.dtype})}const YL={kernelName:Kv,backendName:"webgl",kernelFunc:Xr};class qL{constructor(e,a){this.variableNames=["A"];const o=new Array(e.length);for(let f=0;f<o.length;f++)o[f]=e[a[f]];this.outputShape=o,this.rank=o.length;const l=Zo(this.rank),p=ZL(a);this.userCode=`
    void main() {
      ${l} resRC = getOutputCoords();
      setOutput(getA(${p}));
    }
    `}}function ZL(n){const e=n.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const a=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],o=new Array(e);for(let l=0;l<n.length;l++)o[n[l]]=a[l];return o.join()}class JL{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const o=new Array(e.length);for(let y=0;y<o.length;y++)o[y]=e[a[y]];if(this.outputShape=o,this.rank=o.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const l=Zo(this.rank),p=wx("rc",this.rank),f=new Array(this.rank);for(let y=0;y<a.length;y++)f[a[y]]=p[y];const d=`vec2(${f.slice(-2).join()})`,c=`++${p[this.rank-1]} < ${o[this.rank-1]}`,h=`getChannel(getA(${f.join()}), ${d})`;this.userCode=`
    void main() {
      ${l} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${h};
      if(${c}) {
        result[1] = ${h};
      }
      --${p[this.rank-1]};
      if(++${p[this.rank-2]} < ${o[this.rank-2]}) {
        result[2] = ${h};
        if(${c}) {
          result[3] = ${h};
        }
      }
      setOutput(result);
    }
    `}}function kx(n,e,a){const o=_t().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new JL(n.shape,e):new qL(n.shape,e);return a.runWebGLProgram(o,[n],n.dtype)}function QL(n,e,a,o){const l=e,p=n.shape.length,f=_l(l,n.shape);let d=f;const c=rf(d,p),h=c!=null;let y=n;h&&(y=kx(n,c,o),d=of(d.length,p)),af("sum",d,p);const[w,k]=op(y.shape,d);let A=w;a&&(A=wc(w,f));const S=Cn(k),I=Cn(n.shape)/S,j=Xr({inputs:{x:y},attrs:{shape:[I,S]},backend:o}),V=r0(n.dtype),C=V1(j,V,"sum",o),q=Xr({inputs:{x:C},attrs:{shape:A},backend:o});return o.disposeIntermediateTensorInfo(j),o.disposeIntermediateTensorInfo(C),h&&o.disposeIntermediateTensorInfo(y),q}function _x(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{axis:p,keepDims:f}=o;return QL(l,p,f,a)}const eU={kernelName:qv,backendName:"webgl",kernelFunc:_x},tU=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,nU=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  `+FL+`
  return result;
`,aU=G1({opSnippet:tU,packedOpSnippet:nU}),rU={kernelName:YO,backendName:"webgl",kernelFunc:aU};class oU{constructor(e){this.outputShape=[],this.outputShape=qc(e,1),this.variableNames=e.map((f,d)=>`T${d}`);const a=new Array(e.length-1);a[0]=e[0][1];for(let f=1;f<a.length;f++)a[f]=a[f-1]+e[f][1];const o=[`if (yC < ${a[0]}) setOutput(getT0(yR, yC));`];for(let f=1;f<a.length;f++){const d=a[f-1];o.push(`else if (yC < ${a[f]}) setOutput(getT${f}(yR, yC-${d}));`)}const l=a.length,p=a[a.length-1];o.push(`else setOutput(getT${l}(yR, yC-${p}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${o.join(`
        `)}
      }
    `}}class sU{constructor(e,a){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=qc(e,a);const o=this.outputShape,l=o.length,p=Zo(l),f=xl("coords",l),d=["x","y","z","w","u","v"].slice(0,l);this.variableNames=e.map((T,I)=>`T${I}`);const c=new Array(e.length-1);c[0]=e[0][a];for(let T=1;T<c.length;T++)c[T]=c[T-1]+e[T][a];const h=d[a],y=d.slice(-2),w=d.join();let k=`if (${h} < ${c[0]}) {
        return getChannel(
            getT0(${w}), vec2(${y.join()}));
        }`;for(let T=1;T<c.length;T++){const I=c[T-1];k+=`
        if (${h} < ${c[T]}  && ${h} >= ${c[T-1]}) {
          return getChannel(
            getT${T}(${Td(d,h,I)}),
            vec2(${Td(y,h,I)}));
        }`}const A=c.length,S=c[c.length-1];k+=`
        return getChannel(
          getT${A}(${Td(d,h,S)}),
          vec2(${Td(y,h,S)}));`,this.userCode=`
      float getValue(${d.map(T=>"int "+T)}) {
        ${k}
      }

      void main() {
        ${p} coords = getOutputCoords();
        vec4 result = vec4(getValue(${f}), 0., 0., 0.);

        ${f[l-1]} = ${f[l-1]} + 1;
        if (${f[l-1]} < ${o[l-1]}) {
          result.g = getValue(${f});
        }

        ${f[l-2]} = ${f[l-2]} + 1;
        if (${f[l-2]} < ${o[l-2]}) {
          result.a = getValue(${f});
        }

        ${f[l-1]} = ${f[l-1]} - 1;
        if (${f[l-2]} < ${o[l-2]} &&
            ${f[l-1]} < ${o[l-1]}) {
          result.b = getValue(${f});
        }
        setOutput(result);
      }
    `}}function Td(n,e,a){const o=n.indexOf(e);return n.map((p,f)=>f===o?`${p} - ${a}`:p).join()}function Ex(n){const{inputs:e,backend:a}=n,{input:o}=e,l=a.texData.get(o.dataId);return cu({inputs:{x:l.complexTensorInfos.real},backend:a})}function Wc(n,e,a){const o=n[0].dtype;if(o==="complex64"){const w=n.map(I=>Ex({inputs:{input:I},backend:a})),k=n.map(I=>imag({inputs:{input:I},backend:a})),A=Wc(w,e,a),S=Wc(k,e,a),T=uf({inputs:{real:A,imag:S},backend:a});return w.forEach(I=>a.disposeIntermediateTensorInfo(I)),k.forEach(I=>a.disposeIntermediateTensorInfo(I)),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(S),T}let l=a.shouldExecuteOnCPU(n);if(o==="string"&&(l=!0),l){const w=n.map(V=>{const q=[-1,Cn(V.shape.slice(e))];return Xr({inputs:{x:V},backend:a,attrs:{shape:q}})}),k=w.map(V=>({vals:a.readSync(V.dataId),shape:V.shape})),A=qc(w.map(V=>V.shape),1),S=w[0].shape[0]===1,T=nL(k,A,o,S),I=qc(n.map(V=>V.shape),e),j=a.makeTensorInfo(I,o,T);return w.forEach(V=>a.disposeIntermediateTensorInfo(V)),j}const p=_t().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(n.length>p){const w=[];for(let A=0;A<n.length;A+=p){const S=n.slice(A,A+p);w.push(Wc(S,e,a))}const k=Wc(w,e,a);for(const A of w)a.disposeIntermediateTensorInfo(A);return k}if(_t().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].shape.length>1){const w=new sU(n.map(k=>k.shape),e);return a.runWebGLProgram(w,n,o)}const{tensors2D:f,outShape:d}=computeTensors2D(n,e,a),c=new oU(f.map(w=>w.shape)),h=a.runWebGLProgram(c,f,o);f.forEach(w=>a.disposeIntermediateTensorInfo(w));const y=Xr({inputs:{x:h},attrs:{shape:d},backend:a});return a.disposeIntermediateTensorInfo(h),y}function Ax(n){const{inputs:e,backend:a,attrs:o}=n,{axis:l}=o,p=_l(l,e[0].shape)[0],f=qc(e.map(h=>h.shape),p);if(Cn(f)===0)return a.makeTensorInfo(f,e[0].dtype,[]);const d=e.filter(h=>Cn(h.shape)>0);if(d.length===1)return cu({inputs:{x:d[0]},backend:a});const c=d.map(h=>h.shape);return ex(c,p),Wc(d,p,a)}const iU={kernelName:Lv,backendName:"webgl",kernelFunc:Ax};function Nw(n){const{inputs:e,attrs:a,backend:o}=n,{dim:l}=a,{input:p}=e,f=p.shape.length,d=p.shape.slice();let c=l;return l<0&&(on(-(f+1)<=l,()=>`Axis must be in the interval [${-(f+1)}, ${f}]`),c=f+l+1),d.splice(c,0,1),Xr({inputs:{x:p},backend:o,attrs:{shape:d}})}function lU(n){const{inputs:e,backend:a,attrs:o}=n,{axis:l}=o;if(e.length===1)return Nw({inputs:{input:e[0]},backend:a,attrs:{dim:l}});const p=e[0].shape,f=e[0].dtype;e.forEach(y=>{jv(p,y.shape,"All tensors passed to stack must have matching shapes"),on(f===y.dtype,()=>"All tensors passed to stack must have matching dtypes")});const d=[],c=e.map(y=>{const w=Nw({inputs:{input:y},backend:a,attrs:{dim:l}});return d.push(w),w}),h=Ax({inputs:c,backend:a,attrs:{axis:l}});return d.forEach(y=>a.disposeIntermediateTensorInfo(y)),h}const uU={kernelName:Gv,backendName:"webgl",kernelFunc:lU},cU="return float(a != b);",pU=G1({opSnippet:cU,cpuKernelImpl:oL,dtype:"bool"});function n1(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{dtype:p}=o;if(p==="complex64"){if(l.dtype==="complex64")return cu({inputs:{x:l},backend:a});const f=uc(l.shape),d=n1({inputs:{x:l},backend:a,attrs:{dtype:"float32"}}),c=uf({inputs:{real:d,imag:f},backend:a});return f.dispose(),a.disposeIntermediateTensorInfo(d),c}if(l.dtype==="complex64"){const f=Ex({inputs:{input:l},backend:a}),d=n1({inputs:{x:f},backend:a,attrs:{dtype:p}});return a.disposeIntermediateTensorInfo(f),d}if(!gO(l.dtype,p)){const f=cu({inputs:{x:l},backend:a});return{dataId:f.dataId,shape:f.shape,dtype:p}}if(p==="int32")return int(l,a);if(p==="bool"){const f=a.makeTensorInfo([],"bool",yc("bool",1)),c=pU({inputs:{a:l,b:f},backend:a});return a.disposeIntermediateTensorInfo(f),c}throw new Error(`Error in Cast: failed to cast ${l.dtype} to ${p}`)}const dU={kernelName:A1,backendName:"webgl",kernelFunc:n1},fU=z1+`
  return (x < 0.0) ? 0.0 : x;
`,hU=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,mU=$1({opSnippet:fU,packedOpSnippet:hU}),gU={kernelName:Wv,backendName:"webgl",kernelFunc:mU};function yU(n,e,a,o){const l=Cn(e),f=Cn(n.shape)/l,d=Xr({inputs:{x:n},attrs:{shape:[f,l]},backend:o}),c=V1(d,"float32","mean",o),h=Xr({inputs:{x:c},attrs:{shape:a},backend:o});return o.disposeIntermediateTensorInfo(d),o.disposeIntermediateTensorInfo(c),h}const bU={kernelName:zv,backendName:"webgl",kernelFunc:({inputs:n,attrs:e,backend:a})=>{const{x:o}=n,{keepDims:l,axis:p}=e,f=a,d=o.shape.length,c=_l(p,o.shape);let h=c;const y=rf(h,d),w=y!=null,k=f.shouldExecuteOnCPU([o]),A=[];let S=o;if(w){if(k){const q=f.texData.get(S.dataId).values,L=new Array(d);for(let F=0;F<L.length;F++)L[F]=o.shape[y[F]];const R=cL(q,o.shape,o.dtype,y,L);S=f.makeTensorInfo(L,o.dtype);const G=f.texData.get(S.dataId);G.values=R}else S=kx(o,y,f);A.push(S),h=of(h.length,d)}af("sum",h,d);const[T,I]=op(S.shape,h);let j=T;l&&(j=wc(T,c));const V=yU(S,I,j,f);for(const C of A)f.disposeIntermediateTensorInfo(C);return V}};function wU(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{axis:p,keepDims:f}=o,d=l.shape.length,c=[],h=_l(p,l.shape);let y=h;const w=rf(y,d);let k=l;w!=null&&(k=transpose({inputs:{x:l},backend:a,attrs:{perm:w}}),y=of(y.length,d),c.push(k)),af("prod",y,d);let A;if(a.shouldExecuteOnCPU([k])){const S=a.texData.get(k.dataId).values,{outVals:T,outShape:I,outDtype:j}=sL(k.shape,k.dtype,S,y);A=a.makeTensorInfo(I,j,T)}else{const[S,T]=op(k.shape,y),I=Cn(T),j=Xr({inputs:{x:k},backend:a,attrs:{shape:[-1,I]}}),V=r0(l.dtype),C=V1(j,V,"prod",a);A=Xr({inputs:{x:C},backend:a,attrs:{shape:S}}),c.push(j),c.push(C)}if(f){c.push(A);const S=wc(A.shape,h);A=Xr({inputs:{x:A},backend:a,attrs:{shape:S}})}return c.forEach(S=>a.disposeIntermediateTensorInfo(S)),A}const vU={kernelName:Hv,backendName:"webgl",kernelFunc:wU};class xU{constructor(e,a,o){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=a.map((h,y)=>h[0]+e[y]+h[1]);const l=e.length,p=Zo(l),f=a.map(h=>h[0]).join(","),d=a.map((h,y)=>h[0]+e[y]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,l);if(l===1){this.userCode=`
        int start = ${f};
        int end = ${d};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${p} start = ${p}(${f});
      ${p} end = ${p}(${d});

      void main() {
        ${p} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${p} coords = outC - start;
          setOutput(getX(${c}));
        }
      }
    `}}class kU{constructor(e,a,o){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=a.map((T,I)=>T[0]+e[I]+T[1]);const l=e.length,p=Zo(l),f=a.map(T=>T[0]).join(","),d=a.map((T,I)=>T[0]+e[I]).join(","),c=xl("rc",l),h=xl("source",l),y=`${c[l-1]} < ${this.outputShape[l-1]}`,w=l===1?"source":`vec2(${h.slice(-2).join()})`,k=[`${p} rc = outputLoc;`,`${c[l-1]} += 1;
       if(${y}) {
      `,l===1?"":`}
       rc = outputLoc;
       ${c[l-2]} += 1;
       if(${c[l-2]} < ${this.outputShape[l-2]}) {`,l===1?"":`  ${c[l-1]} += 1;
         if(${y}) {`],A=l===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let S="";for(let T=0,I=l===1?2:4;T<I;T++)S+=`
        ${k[T]}
        if (${A}) {
          result[${T}] = float(value);
        } else {
          ${p} source = rc - start;
          result[${T}] = getChannel(getX(${h.join()}), ${w});
        }
      `;S+=l===1?"} ":"}}",this.userCode=`
      const ${p} start = ${p}(${f});
      const ${p} end = ${p}(${d});

      void main() {
        ${p} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${S}
        setOutput(result);
      }
    `}}const _U=n=>{const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{paddings:p,constantValue:f}=o;if(Cn(l.shape)===0){const h=p.map((y,w)=>y[0]+l.shape[w]+y[1]);return fill({backend:a,attrs:{shape:h,value:f,dtype:l.dtype}})}const d=_t().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new kU(l.shape,p,f):new xU(l.shape,p,f),c=[[f]];return a.runWebGLProgram(d,[l],l.dtype,c)},EU={kernelName:Vv,backendName:"webgl",kernelFunc:_U};class AU{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const a=Zo(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const o=SU(this.rank);let l;const p=e.map((f,d)=>`sourceLoc.${a1[d]} = start[${d}] + coords.${a1[d]};`);l=`
        ${a} sourceLoc;
        ${a} coords = getOutputCoords();
        ${p.join(`
`)}
      `,this.userCode=`
      void main() {
        ${l}
        setOutput(getSource(${o}));
      }
    `}}const a1=["x","y","z","w","u","v"];function SU(n){if(n===1)return"sourceLoc";if(n<=6)return a1.slice(0,n).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${n} is not yet supported`)}class TU{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const a=Zo(this.rank),o=xl("coords",this.rank),l=xl("sourceLoc",this.rank),p=this.rank===1?"sourceLoc":`vec2(${l.slice(-2).join()})`,f=`getChannel(getSource(${l.join()}), ${p})`,d=`
      result.x = ${f};
      if (++${o[this.rank-1]} < ${e[this.rank-1]}) {
        ++${l[this.rank-1]};
        result.y = ${f};
        --${l[this.rank-1]};
      }
    `,c=this.rank===1?"":`
      --${o[this.rank-1]};
      if (++${o[this.rank-2]} < ${e[this.rank-2]}) {
        ++${l[this.rank-2]};
        result.z = ${f};
        if (++${o[this.rank-1]} < ${e[this.rank-1]}) {
          ++${l[this.rank-1]};
          result.w = ${f};
        }
      }
    `,h=this.rank<=4?`sourceLoc = coords +
            ${a}(${e.map((y,w)=>`start[${w}]`).join()});`:e.map((y,w)=>`${l[w]} = ${o[w]} + start[${w}];`).join(`
`);this.userCode=`
      void main() {
        ${a} coords = getOutputCoords();
        ${a} sourceLoc;
        ${h}
        vec4 result = vec4(0.);
        ${d}
        ${c}
        setOutput(result);
      }
    `}}function jU(n){const{inputs:e,backend:a,attrs:o}=n,{x:l}=e,{begin:p,size:f}=o,[d,c]=S0(l,p,f);if(E0(l,d,c),Cn(c)===0)return a.makeTensorInfo(c,l.dtype,[]);if(a.shouldExecuteOnCPU([l])||l.dtype==="string"){const w=a.texData.get(l.dataId),k=uL(w.values,d,c,l.shape,l.dtype);return a.makeTensorInfo(c,l.dtype,k)}const{isPacked:h}=a.texData.get(l.dataId),y=N1(l.shape,d,c);if(h||!y){const w=_t().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new TU(c):new AU(c),k=[d];return a.runWebGLProgram(w,[l],l.dtype,k)}return a.uploadToGPU(l.dataId),shallowSlice(l,d,c,a)}function IU(n){const{inputs:e,backend:a,attrs:o}=n,{value:l}=e;let{axis:p}=o;p<0&&(p+=l.shape.length);const f=l,d=f.shape.length,c=l.shape[p],h=new Array(d-1);let y=0;for(let T=0;T<d;T++)T!==p&&(h[y++]=f.shape[T]);const w=[],k=new Array(d).fill(0),A=f.shape.slice();A[p]=1;const S=new Array(c);for(let T=0;T<S.length;T++){k[p]=T;const I=jU({inputs:{x:f},backend:a,attrs:{begin:k,size:A}}),j=Xr({inputs:{x:I},backend:a,attrs:{shape:h}});S[T]=j,w.push(I)}return w.forEach(T=>a.disposeIntermediateTensorInfo(T)),S}const NU={kernelName:Zv,backendName:"webgl",kernelFunc:IU},DU="return float(!isnan(x) && !isinf(x));",CU=$1({opSnippet:DU,dtype:"bool"}),OU={kernelName:LO,backendName:"webgl",kernelFunc:CU};class BU{constructor(e,a,o){this.variableNames=["c","a","b"],this.outputShape=a;let l,p;if(o>4)throw Error(`Where for rank ${o} is not yet supported`);if(o===1)p="resRC",l="resRC";else{const d=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],h=[];for(let y=0;y<a.length;y++)h.push(`${d[y]}`),y<e&&c.push(`${d[y]}`);l=c.join(),p=h.join()}const f=Zo(o);this.userCode=`
      void main() {
        ${f} resRC = getOutputCoords();
        float cVal = getC(${l});
        if (cVal >= 1.0) {
          setOutput(getA(${p}));
        } else {
          setOutput(getB(${p}));
        }
      }
    `}}function RU(n){const{inputs:e,backend:a}=n,{condition:o,t:l,e:p}=e,f=new BU(o.shape.length,l.shape,l.shape.length);return a.runWebGLProgram(f,[o,l,p],Ui(l.dtype,p.dtype))}const FU={kernelName:Xv,backendName:"webgl",kernelFunc:RU},Dw={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Cw{constructor(e,a,o){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=mo(a,o),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}const Ow="return a * b;";function Sx(n){const{inputs:e,backend:a}=n,{a:o,b:l}=e,p=Ui(o.dtype,l.dtype);if(o.dtype==="complex64"){const d=a.texData.get(o.dataId),c=a.texData.get(l.dataId),h=new Cw(Dw.REAL,o.shape,l.shape),y=new Cw(Dw.IMAG,o.shape,l.shape),w=[{dataId:d.complexTensorInfos.real.dataId,dtype:d.complexTensorInfos.real.dtype,shape:o.shape},{dataId:d.complexTensorInfos.imag.dataId,dtype:d.complexTensorInfos.imag.dtype,shape:o.shape},{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:l.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:l.shape}],k=a.runWebGLProgram(h,w,"float32"),A=a.runWebGLProgram(y,w,"float32"),S=uf({inputs:{real:k,imag:A},backend:a});return a.disposeIntermediateTensorInfo(k),a.disposeIntermediateTensorInfo(A),S}if(a.shouldExecuteOnCPU([o,l])){const d=a.texData.get(o.dataId),c=a.texData.get(l.dataId),[h,y]=rL(o.shape,l.shape,d.values,c.values,p),w=a.makeTensorInfo(y,p),k=a.texData.get(w.dataId);return k.values=h,w}let f;return _t().getBool("WEBGL_PACK_BINARY_OPERATIONS")?f=new xx(Ow,o.shape,l.shape):f=new t1(Ow,o.shape,l.shape),a.runWebGLProgram(f,[o,l],p)}const MU={kernelName:$v,backendName:"webgl",kernelFunc:Sx};class PU{constructor(e,a,o,l=!1,p=!1,f=!1,d=null,c=!1,h=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o,this.enableShapeUniforms=Ns(this.outputShape.length);const y=l?e[1]:e[2],w=Math.ceil(y/2),k=l?"i * 2, rc.y":"rc.y, i * 2",A=p?"rc.z, i * 2":"i * 2, rc.z",S=l?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],T=p?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let I="",j="";d&&(c?I=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${d}
        }`:h?I=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${d}
        }`:I=`vec4 activation(vec4 x) {
          ${d}
        }`,j="result = activation(result);");const V=f?"result += getBiasAtOutCoords();":"";f&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),h&&this.variableNames.push("leakyreluAlpha");let C="rc.x",q="rc.x";e[0]<a[0]?C=`int(min(float(rc.x), ${e[0]-1}.))`:a[0]<e[0]&&(q=`int(min(float(rc.x), ${a[0]-1}.))`),this.userCode=`
      ${I}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${w}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${w}; i++) {
          int batchA = ${C};
          int batchB = ${q};
          vec4 a = getMatrixA(batchA, ${k});
          vec4 b = getMatrixB(batchB, ${A});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${S[0]} * ${T[0]});
          result += (${S[1]} * ${T[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${V}

        ${j}

        setOutput(result);
      }
    `}}const LU=1e3;function Tx({a:n,b:e,transposeA:a,transposeB:o,backend:l,bias:p=null,preluActivationWeights:f=null,leakyreluAlpha:d=0,activation:c=null}){const h=n.shape.length,y=e.shape.length,w=a?n.shape[h-2]:n.shape[h-1],k=o?e.shape[y-1]:e.shape[y-2],A=a?n.shape[h-1]:n.shape[h-2],S=o?e.shape[y-2]:e.shape[y-1],T=n.shape.slice(0,-2),I=e.shape.slice(0,-2),j=Cn(T),V=Cn(I),q=mo(n.shape.slice(0,-2),e.shape.slice(0,-2)).concat([A,S]);on(w===k,()=>`Error in matMul: inner shapes (${w}) and (${k}) of Tensors with shapes ${n.shape} and ${e.shape} and transposeA=${a} and transposeB=${o} must match.`);const L=a?[j,w,A]:[j,A,w],R=o?[V,S,k]:[V,k,S],G=Xr({inputs:{x:n},backend:l,attrs:{shape:L}}),F=Xr({inputs:{x:e},backend:l,attrs:{shape:R}}),O=[G,F],N=Math.max(j,V),E=a?G.shape[1]:G.shape[2],B=p!=null,M=f!=null,P=c==="leakyrelu",$=c!=null?GL(c,!0):null,ee=B||M||P||$!=null;let K;if((A===1||S===1)&&E>LU&&ee===!1){let Y=G,Q=F;a&&(Y=transpose({inputs:{x:G},backend:l,attrs:{perm:[0,2,1]}}),O.push(Y)),o&&(Q=transpose({inputs:{x:F},backend:l,attrs:{perm:[0,2,1]}}),O.push(Q));const te=S!==1,ge=S===1;let re=Y;te&&(re=Xr({inputs:{x:Y},backend:l,attrs:{shape:[N,E,1]}}),O.push(re));const _e=S===1?2:1;let $e=Q;ge&&($e=Xr({inputs:{x:Q},backend:l,attrs:{shape:[N,1,E]}}),O.push($e));const oe=Sx({inputs:{a:re,b:$e},backend:l});K=_x({inputs:{x:oe},backend:l,attrs:{axis:_e,keepDims:!0}}),O.push(oe)}else{const Y=Ui(n.dtype,e.dtype),Q=new PU(L,R,[N,A,S],a,o,B,$,M,P),te=[G,F];if(p!=null&&te.push(p),M&&te.push(f),P){const ge=l.makeTensorInfo([],"float32",a0(d,"float32"));te.push(ge),O.push(ge)}K=l.runWebGLProgram(Q,te,Y)}const X=Xr({inputs:{x:K},backend:l,attrs:{shape:q}});O.push(K);for(const Y of O)l.disposeIntermediateTensorInfo(Y);return X}function UU(n){const{inputs:e,backend:a,attrs:o}=n,{a:l,b:p}=e,{transposeA:f,transposeB:d}=o;return Tx({a:l,b:p,transposeA:f,transposeB:d,backend:a})}const zU={kernelName:Pv,backendName:"webgl",kernelFunc:UU};class $U{constructor(e,a){this.variableNames=["A","indices"],this.outputShape=a,this.rank=a.length;const o=Zo(this.rank),l=GU(e);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${l}));
      }
    `}}function GU(n,e){const a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[];for(let l=0;l<n.length;l++)l===2?o.push("index"):o.push(`${a[l]}`);return o.join()}function VU(n){const{inputs:e,backend:a,attrs:o}=n,{x:l,indices:p}=e,{axis:f,batchDims:d}=o,c=_l(f,l.shape)[0];if(_t().get("DEBUG")){const V=a.readSync(p.dataId),C=l.shape[c];for(let q=0;q<V.length;++q){const L=V[q];on(L<=C-1&&L>=0,()=>`GatherV2: the index value ${L} is not in [0, ${C-1}]`)}}const h=ax(l,p,c,d),y=Cn(p.shape),w=[],k=Xr({inputs:{x:l},backend:a,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),A=Xr({inputs:{x:p},backend:a,attrs:{shape:[h.batchSize,y/h.batchSize]}});w.push(k),w.push(A);const S=[h.batchSize,h.outerSize,y/h.batchSize,h.sliceSize];if(a.shouldExecuteOnCPU([l,p])||l.dtype==="string"){const V=a.bufferSync(A),C=a.bufferSync(k),q=aL(C,V,S);return w.forEach(L=>a.disposeIntermediateTensorInfo(L)),a.makeTensorInfo(h.outputShape,q.dtype,q.values)}const T=new $U(k.shape,S),I=a.runWebGLProgram(T,[k,A],k.dtype);w.push(I);const j=Xr({inputs:{x:I},backend:a,attrs:{shape:h.outputShape}});return w.forEach(V=>a.disposeIntermediateTensorInfo(V)),j}const HU={kernelName:Uv,backendName:"webgl",kernelFunc:VU},WU=$L+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,KU=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,XU=$1({opSnippet:WU,packedOpSnippet:KU,cpuKernelImpl:iL}),YU={kernelName:Yv,backendName:"webgl",kernelFunc:XU};function qU(n){const{inputs:e,backend:a,attrs:o}=n,{a:l,b:p,bias:f,preluActivationWeights:d}=e,{transposeA:c,transposeB:h,activation:y,leakyreluAlpha:w}=o;return Tx({a:l,b:p,transposeA:c,transposeB:h,backend:a,bias:f,preluActivationWeights:d,leakyreluAlpha:w,activation:y})}const ZU={kernelName:Mm,backendName:"webgl",kernelFunc:qU};for(let n of[HL,eU,rU,uU,dU,gU,bU,vU,EU,NU,YL,OU,ML,FU,MU,zU,HU,iU,YU,ZU])sB(n);var jx=Object.freeze({__proto__:null,cast:$i,enableProdMode:k0,env:_t,loadGraphModel:cP,oneHot:x0,stack:cc,sum:di,tensor:Fi,tidy:qa,unstack:xc,zeros:uc});const Ix=/\s+/g,Nx=/[\xA0!"\\'()*,-./:;?&[\]^_`{|}~“”]/g,JU=/rgb\((\d+), (\d+), (\d+)\)/,QU=/rgba\((\d+), (\d+), (\d+), (\d+)\)/,ez=/(\d*?\.?\d*)px (\d*?\.?\d*)px/,tz=/(\d*?\.?\d*)px/,nz=/\./g,az=/^\[|\]$/g,rz=/\//g,Bw=Object.fromEntries([..." abcdefghijklmnopqrstuvwxyz1234567890:;/?!=+.,()[]-`*_|~"].map((n,e)=>[n,e+1]));class oz{constructor(e){this.normalizers=[],e.forEach(a=>{if(Array.isArray(a)){let[o,l]=a;this.normalizers.push(new o(l))}else this.normalizers.push(new a)})}normalize(e,a){return this.normalizers.forEach(o=>{e=o.normalize(e,a)}),e}}class Al{normalize(e){throw new Error("Not implemented.")}}class sz extends Al{normalize(e){return e.toLowerCase()}}class iz extends Al{normalize(e){return e.trim()}}class lz extends Al{normalize(e){return e.replace(Ix," ")}}class uz extends Al{normalize(e){return e.replace(Ix," ").trim()}}class cz extends Al{normalize(e){return e.replace(Nx,"")}}class Dx extends Al{normalize(e){return e.replace(Nx," ")}}class pz extends Al{constructor(e){super(),this.pairs=e}normalize(e){return e&&this.pairs.forEach(a=>{e=e.split(a[0]).join(a[1])}),e}}class dz extends Al{normalize(e){return e.split(" ").pop()}}class bu{normalize(e){throw new Error("Not implemented.")}}class fz extends bu{normalize(e){return[parseFloat(e)||0]}}class hz extends bu{constructor(e){super(),this.maxLen=e}normalize(e){let a=[...e.toLowerCase()].slice(-this.maxLen).map(o=>o in Bw?Bw[o]:1);return a.length>=this.maxLen?a:a.concat(new Array(this.maxLen-a.length).fill(0))}}class mz extends bu{constructor(e){super();const a=e.length;this.empty=new Array(a).fill(0);let o=0;this.categoryMap=e.reduce((l,p)=>{let f=[...this.empty];return f[o++]=1,l[p]=f,l},{})}normalize(e){return this.categoryMap[e]||this.empty}}class gz extends bu{normalize(e){return[parseFloat(e)||0]}}class yz extends bu{constructor(e){super(),this.maxLen=e}normalize(e){let a=[0,0,0,0];const o=e.match(JU);if(o)o.shift(),a=o.map(l=>parseFloat(l)||0),a.push(0);else{const l=e.match(QU);l&&(l.shift(),a=l.map(p=>parseFloat(p)||0))}return a.slice(0,this.maxLen)}}class bz extends bu{normalize(e){const a=e.match(tz);return a?[parseFloat(a[1])||0]:[0]}}class wz extends bu{normalize(e){const a=e.match(ez);return a?(a.shift(),a.map(o=>parseFloat(o)||0)):[0,0]}}class vz{normalize(e){return Array.isArray(e)?[e.length]:[0]}}const Cx=["http","data","blob","ftp:"];class xz{normalize(e,a){if(!e)return[0,0,0,0,0,0,0,0,0];const o=1,l=Cx.includes(e.slice(0,4).toLowerCase())?1:0;if(!l)return[o,l,0,0,e.length,0,0,0,0];let p;try{p=new URL(e)}catch{return[o,l,0,0,e.length,0,0,0,0]}const f=p.hostname.includes(a.domain)?0:1,d=p.username+p.password+p.hostname+(p.port?p.port:""),c=p.pathname==="/"?"":p.pathname,h=Array.from(p.searchParams),y=d.length,w=c.length,k=h.flat().join("").length,A=d?p.hostname.split(".").length:0,S=c.split("/").filter(Boolean).length,T=h.length;return[o,l,f,y,w,k,A,S,T]}}class kz{constructor(e){this.maxLen=e,this.maxPartsLen=this.maxLen/3,this.replacePunctuation=new Dx}normalize(e,a){let o;if(!(Cx.includes(e.slice(0,4).toLowerCase())?1:0))return e.substring(0,this.maxLen).trim();try{o=new URL(e)}catch{return e.substring(0,this.maxLen).trim()}const p=o.hostname.replace(az,""),f=[o.username,o.password,p.replace(nz," "),o.port].filter(Boolean).join(" ").slice(0,this.maxPartsLen).trim(),d=o.pathname.replace(rz," ").slice(0,2*this.maxPartsLen-f.length).trim(),c=o.search.substring(1).split("&").map(h=>h.split("=")[0].trim()).join(" ").slice(0,3*this.maxPartsLen-f.length-d.length).trim();return[[f,d].join(" ").trim(),c].join(" ").trim()}}class _z{normalize(e,a){let o=0,l=0;return e&&(o=e.length,l=e.split(" ").length),[o,l]}}class Ez{constructor(e){this.preprocesors=[];for(let a of e)this.preprocesors.push(new a)}process(e,a){return this.preprocesors.forEach(o=>e=o.process(e)),e}}class Az{process(e,a){return e||new Map}}class Sz{process(e,a){return!e||!(typeof e=="string"||e instanceof String)?new Map:e.split(";").reduce((o,l)=>{const[p,f]=l.split(":");return p&&f&&!(p in o)&&(o[p.trim()]=f.trim()),o},{})}}function Tz(n){let e=[],a=[];for(let o of n)o.groupName=Object.keys(o)[2];for(let o of n)o.scope==="graph"&&o.include?e.push(new Mw(o.groupName,o[o.groupName])):o.scope==="node"&&o.include&&a.push(new Mw(o.groupName,o[o.groupName]));return[a,e]}const Rw={empty:Az,css_selector:Sz},um={lower:sz,strip_whitespace:iz,collapse_whitespace:lz,strip_and_collapse_whitespace:uz,remove_punctuation:cz,replace_punctuation:Dx,sequence:hz,one_hot_vector:mz,font_size:gz,color:yz,pixel:bz,origin:wz,children_len:vz,replace_str:pz,meta_url:xz,url_parts:kz,meta_content:_z,css_class:dz,float:fz},r1=(n,e)=>{const a=n.split(e);return a[0]===""&&a.length===1?[]:a};class Fw{constructor(e,a){this.name=e,this.dim=a.dim,this.altNames=r1(e,"^"),this.path=[],a.path&&(this.path=r1(a.path,"^"));let o=[];if(!Object.prototype.hasOwnProperty.call(a,"normalizers"))o.push(um.empty);else for(const l in a.normalizers){const p=a.normalizers[l];if(typeof p=="string"||p instanceof String)o.push(um[p]);else if(typeof p=="object"&&p!==null){const f=Object.keys(p)[0];o.push([um[f],Object.values(p[f])[0]])}}this.normalizer=new oz(o)}getName(e){if(this.altNames&&Object.keys(e).length>0){for(let a of this.altNames)if(a in e)return a}return this.name}extractValues(e,a){let o=e;this.path.forEach(d=>{d in o&&(o=o[d])});const l=this.getName(o),p=l in o?o[l]:"",f=this.normalizer.normalize(p||"",a);if(f.length!==this.dim)throw new Error("Feature dimensionality mismatch");return f}}class Mw{constructor(e,a){this.name=e,this.path=r1(a.path,"/"),this.prep=this.initPreprocessing(a),this.features=this.initFeatures(a.features)}initPreprocessing(e){let a=[];if(!Object.prototype.hasOwnProperty.call(e,"prep"))a.push(Rw.empty);else for(let o of e.prep)a.push(Rw[o]);return new Ez(a)}initFeatures(e){let a=[];for(const o of e){const l=Object.keys(o)[0],p=o[l];if(!Object.prototype.hasOwnProperty.call(p,"names")){a.push(new Fw(l,p));continue}for(const f of p.names)a.push(new Fw(f,p))}return a}extractValues(e,a){let o=e;if(this.path.forEach(p=>{p in o&&(o=o[p])}),o=this.prep.process(o,a),typeof o!="object"||Array.isArray(o)||o===null)throw new Error(`path ${this.path}, value ${o}, expected ${typeof{}}, got ${o}`);let l=[];return this.features.forEach(p=>l.push(...p.extractValues(o,a))),l}}const jz=["src","href","xlink:href"],Iz=(n,e,a=0)=>Array.from(new Array(e),o=>Array(n).fill(a)),zc=(n,e,a)=>e in n?n[e]:a;class Nz{constructor(e){this.numNodes=0,this.root=e.obj.graph,this.domain=e.obj.domain,this.graphAttributes={domain:e.obj.domain},this.featureGroups=e.nodeFeatureGroups,this.graphFeatureGroups=e.graphFeatureGroups,this.cutoff=e.cutoff}getData(){this.setNodeAttributes();let e=Iz(this.numNodes,this.numNodes),a=[],o=[],l=[[this.root,{}]],p=this.cutoff;for(;l.length&&--p>=0;){let f,[d,c]=l.pop();this._updateFeatures(d,this.featureGroups,a),c&&Object.keys(c).length>0&&this._updateEdges(d,c,e),[c,f]=[d,d.children];for(let h=f.length-1;h>=0;h--)l.push([f[h],c])}return this._updateFeatures(this.graphAttributes,this.graphFeatureGroups,o),this._formatData(e,a,o)}setNodeAttributes(){let e=[[this.root,{}]],a=this.cutoff;for(;e.length&&--a>=0;){let o,[l,p]=e.pop();this._setNodeAttributes(l,p),[p,o]=[l,l.children];for(let f=o.length-1;f>=0;f--)e.push([o[f],p])}}_setNodeAttributes(e,a){e.node_id=this.numNodes++,e.dom=this.domain,e.parent_id=zc(a,"node_id",0),e.siblings=zc(a,"children",[]).length,e.level=zc(a,"level",-1)+1;let o=zc(e,"attributes",{}),l=zc(a,"attributes",{});jz.forEach(p=>{let f=`${p}_level`;this._hasAttribute(p,o)?e.attributes[f]=0:this._hasAttribute(p,l)&&(e.attributes[p]=l[p],e.attributes[f]=l[f]+1,"requestType"in a&&(e.requestType=a.requestType))})}_hasAttribute(e,a){return e in a&&a[e]}_updateFeatures(e,a,o){let l=[];a.forEach(p=>l.push(...p.extractValues(e,{domain:this.domain}).map(f=>Math.round(f*100)/100||0))),o.push(l)}_updateEdges(e,a,o){o[a.node_id][e.node_id]=1,o[e.node_id][a.node_id]=1}_formatData(e,a,o){return e.length>a.length&&this._cutEdges(e,a.length),this.graphFeatureGroups.length>0?[e,a,o]:[e,a]}_cutEdges(e,a){e=e.slice(0,a),e.forEach((o,l,p)=>{p[l]=o.slice(0,a)})}}class Dz{constructor(e){this.tfjs=e,this._preprocessingFunctions=new Map([["cast",e.cast],["stack",e.stack],["unstack",e.unstack],["localPooling",this._localPoolingMap.bind(this)],["padAdjacency",this._padTensorAdjacency.bind(this)],["padFeatures",this._padTensorFeatures.bind(this)]])}_padTensorAdjacency(e,a){return e.pad([[0,0],[0,a-e.shape[1]],[0,a-e.shape[2]]])}_localPoolingMap(e){return e.map(a=>this._localPooling(a))}_localPooling(e){let a=e.add(this.tfjs.eye(e.shape[0])),o=this.tfjs.pow(this.tfjs.sum(a,1),-.5);o=o.where(this.tfjs.isFinite(o),this.tfjs.zeros(o.shape));let l=o.mul(this.tfjs.eye(a.shape[0]));return l.dot(a).dot(l)}_padTensorFeatures(e,a){return e.pad([[0,0],[0,a-e.shape[1]],[0,0]])}createTensors(e,a){let[o,l]=e,p=[{data:[o],preprocess:[{funcName:"padAdjacency",args:a}]},{data:[l],preprocess:[{funcName:"padFeatures",args:a}]}];return this.tfjs.tidy(()=>p.map(d=>{let c=this.tfjs.tensor(d.data);if(d.preprocess)for(let h of d.preprocess)c=this._preprocessingFunctions.get(h.funcName)(c,h.args);return c}))}}const Ox=500;async function Cz(n,e,a="."){return new Promise((o,l)=>{if(!n||!e)return l();let p=n.config,f=p.cutoff||n.topology.graphml.nodes||Ox,[d,c]=Tz(p),h={nodeFeatureGroups:d,graphFeatureGroups:c,obj:{domain:a,graph:e},cutoff:f},w=new Nz(h).getData();o(w)})}async function Oz(n,e,a,o){return new Promise((l,p)=>{if(!a||!n||!e||!o)return p();let d=a.config.cutoff||a.topology.graphml.nodes||Ox,h=new Dz(n).createTensors(o,d),y=e.execute(h);y.data().then(w=>{l(w)}).catch(w=>{p(w)}).finally(()=>{y.dispose();for(let w of h)w.dispose()})})}async function Bz(n){return new Promise((e,a)=>{if(n=Array.from(n),!n||!Array.isArray(n)||!n.some(l=>l>0)||n.length<2)return a();let o=n.reduce((l,p)=>l+p,0);n=n.map(l=>l/o),e(n[1]>n[0])})}async function Rz(n,e){return e?n.loadGraphModel({load(){return{modelTopology:e.topology.modelTopology||{},signature:e.topology.signature||{},weightsManifest:e.topology.weightsManifest||[],weightSpecs:e.topology.weightsManifest.map(o=>o.weights)[0]||[],weightData:Fz(e.weights.map(o=>Uint8Array.from(atob(o.shard),l=>l.charCodeAt(0))))||[]}}}):Promise.reject("model not found")}function Fz(n){let e=0;n.forEach(l=>{e+=l.byteLength});let a=new Uint8Array(e),o=0;return n.forEach(l=>{a.set(new Uint8Array(l),o),o+=l.byteLength}),a.buffer}let sp=!1;function Ba(n,e=!1,...a){sp&&console.log("%cMLDBG ♥ %c| %s%c |","color:cyan",e?"color:red":"color:inherit",n,"color:inherit",...a)}function Mz(n){sp=!!n}let Dd={};Dd.set=n=>{!n||typeof n!="object"||(Dd=Object.assign(Dd,n))};var is=Dd;let Hu,cm;function Pz(n){try{let{rawPrediction:e,prediction:a}=n;return{...e&&typeof e=="object"?{confidenceScore:Array.from(e)}:[],...typeof a=="boolean"?{classLabel:a?"ad":"non-ad"}:{}}}catch{}}function Lz(n){let e;try{let{bundle:a,preprocessedGraph:o}=n||{},{reportConfig:l}=a||{},{featureReportProbability:p}=is&&is.featureReportProbability?is:l||{};if(!sp&&(is.telemetryOptOut||!p||isNaN(p)||p<=Math.random())||!o||!Array.isArray(o)||o.length<2)return Promise.resolve();for(let d of o)if(!Array.isArray(d)||!d.length||!Array.isArray(d[0])||!d[0].length||isNaN(d[0][0]))return Promise.resolve();let f;a&&a.topology&&a.topology.graphml&&a.topology.graphml.nodes&&(f=a.topology.graphml.nodes),e=[qz(o[0],f)];for(let d of o.slice(1))e.push(Zz(d));return Jz(e)}catch{return e&&Array.isArray(e)?Promise.resolve(e):Promise.resolve()}}function Uz(n){try{let{modelColdStart:e,modelBootupTime:a,preprocessingTime:o,inferenceTime:l,digestTime:p,startTime:f}=n;return{...typeof e=="boolean"?{modelColdStart:e}:{},...!isNaN(a)&&!isNaN(f)?{modelBootupTime:a-f}:{},...!isNaN(o)&&!isNaN(a)?{preprocessingTime:o-a}:{},...!isNaN(l)&&!isNaN(o)?{inferenceTime:l-o}:{},...!isNaN(p)&&!isNaN(l)?{predictionDigestionTime:p-l}:{}}}catch{}}function zz(n){try{let{modelName:e,bundle:a}=n||{};if(Hu&&Hu.has(e))return Hu.get(e);let o={...e&&typeof e=="string"?{modelName:e.split("-").slice(0,-1).join("-")||e}:{},...e&&typeof e=="string"&&e.includes("-")?{modelVersion:e.split("-").slice(-1).join("")}:{},...a&&a.weights&&Array.isArray(a.weights)&&a.weights[0]&&a.weights[0].shard?{modelSize:a.weights[0].shard.length}:{}};return Hu||(Hu=new Map),Hu.set(e,o),o}catch{}}function $z(){try{if(cm)return cm;let n=Wz(),e=Bx(),a=Kz(),o=Hz(),l=Xz(),p=Yz();return cm={...n?{type:n}:{},...e?{browserName:e}:{},...a?{browserVersion:a}:{},...o?{OSInformation:o}:{},...l?{language:l}:{},...p?{availableMemory:p}:{}}}catch{}}function Gz(n){let{sender:e}=n||{};return!e||!e.tab||!e.tab.id||!chrome||!chrome.tabs?Promise.resolve():new Promise(a=>{try{chrome.tabs.get(e.tab.id,o=>{if(chrome.runtime.lastError||!o||!o.url)return a();let l=new URL(o.url);a({url:l.origin+l.pathname,domainName:l.hostname})})}catch{a()}})}function H1(){try{let{userAgent:n}=navigator||{};if(!n)return;switch(!0){case/Android/.test(n):return"Android";case/Windows/.test(n):return"Windows";case/Mac OS X/.test(n):return"Mac";case/Linux/.test(n):return"Linux"}}catch{}}function Vz(){try{let{userAgent:n}=navigator||{};if(!n)return;let e=H1(),a;if(e==="Android"?a="Android":e==="Windows"?a=/Phone/.test(n)?/Windows Phone (?:OS )?/:"Windows NT":e==="Mac"&&(a="Mac OS X "),a)return n.split(a)[1].trim().split(/[^\w.]/)[0].split(/[._]/).slice(0,3).join(".")}catch{}}function Hz(){try{let n=H1(),e=Vz(),a;return n&&(a=n,e&&(a+=` ${e}`)),a}catch{}}function Wz(){try{let n=chrome&&chrome.runtime&&chrome.runtime.getManifest?chrome.runtime.getManifest():null;if(n&&n.short_name)switch(n.short_name){case"AdBlock":return"AdBlock";case"Adblock Plus":return"Adblock Plus";default:return"Extension"}if(H1()==="Android")return"Mobile"}catch{}}function Bx(){try{let{userAgent:n}=navigator||{};if(!n)return;switch(!0){case(n.includes("Chrome")&&!n.includes("Chromium")&&!n.includes("OPR")&&!n.includes("Edge")&&!n.includes("Edg")&&!n.includes("SamsungBrowser")):return"Chrome";case(n.includes("Firefox")&&!n.includes("Seamonkey")):return"Firefox";case n.includes("OPR"):return"Opera";case((n.includes("Edg")||n.includes("Edge"))&&n.includes("Chrome")):return"Edge"}}catch{}}function Kz(){try{let{userAgent:n}=navigator||{};if(!n)return;let e=Bx(),a;if(e&&(e==="Opera"&&(e="opera|opr"),e==="Edge"&&(e="edge|edg"),a=n.match(new RegExp(`(${e}(?=\\/))\\/?\\s*(\\d[^\\s|$]*)`,"i"))),!a&&!a.length>=2&&!a[2]&&(a=n.match(/(edge|edg|opr|opera|chrome|firefox|version(?=\/))\/?\s*(\d[^\s|$]*)/i)),a&&a[2])return a[2]}catch{}}function Xz(){let{language:n}=navigator||{};if(n)return n}function Yz(){if(window&&window.performance&&window.performance.memory&&window.performance.memory.totalJSHeapSize)return window.performance.memory.totalJSHeapSize}function qz(n,e){try{if(!Array.isArray(n)||!n.length||!Array.isArray(n[0])||!n[0].length)return;if(e)for(let a of n)a.push(...new Array(Math.max(0,e-a.length)).fill(0));return n.map(a=>a.reduce((o,l)=>(o.length&&Math.sign(o[o.length-1])===Math.sign(l-.5)?o[o.length-1]+=Math.sign(l-.5):o.push(Math.sign(l-.5)),o),[]))}catch{}}function Zz(n){try{return!Array.isArray(n)||!n.length||!Array.isArray(n[0])||!n[0].length?void 0:n.map(e=>e.reduce((a,o)=>(o?a.push(o):Array.isArray(a[a.length-1])?a[a.length-1][0]++:a.push([1]),a),[]))}catch{}}function Jz(n){try{if(!Array.isArray(n)||n.length<2||!Array.isArray(n[0])||!n[0].length||!Array.isArray(n[0][0])||!n[0][0].length||!Array.isArray(n[1][0])||!n[1][0].length)return Promise.resolve();if(typeof CompressionStream>"u")return Promise.resolve(n);let a=new ReadableStream({start:o=>o.enqueue(new TextEncoder().encode(JSON.stringify(n))),pull:o=>o.close()}).pipeThrough(new CompressionStream("gzip"));return new Response(a).arrayBuffer().then(o=>btoa(new Uint8Array(o).reduce((l,p)=>l+String.fromCharCode(p),""))).catch(()=>Promise.resolve(n))}catch{return Promise.resolve(n)}}const o1=1e3,Qz=3;let Di,Zu;function e4(n){try{let{bundle:e,sender:a}=n||{},{reportConfig:o}=e||{},{reportProbability:l}=is&&is.reportProbability?is:o||{},p=!!(a&&a.tab&&a.tab.incognito);if(!sp&&(is.telemetryOptOut||p&&!is.privateBrowsingTelemetry||!l||isNaN(l)||l<=Math.random())||n.allowlisted)return Promise.resolve(n);Ba("Queueing report with raw data",!1,n),Di||(Di=new Set),Di.add(n),Zu||(Zu=setTimeout(s1,o1))}catch(e){Ba(`Queueing report failed with "${e}"`,!0)}return Promise.resolve(n)}function s1(n=!1){try{if(!Di||!Di.size){Zu=0;return}let[e]=Di;if(Di.delete(e),!e||["bundle","modelName","prediction","preprocessedGraph"].some(l=>!(l in e)||!e.bundle.reportConfig||!e.bundle.reportConfig.reportURL))return Ba("Reporting queue digestion failed due to corrupt data",!0);let{reportURL:a,reportBearerToken:o}=e.bundle.reportConfig;t4(e).then(l=>n4(l,a,o).then(()=>Ba("Report successfully sent:",!1,l))).catch(l=>{e.failedCounter=(e.failedCounter||0)+1,(l instanceof Response?l.text():Promise.resolve(l)).then(p=>Ba(`Sending report failed ${e.failedCounter} times with error "${p}" for`,!0,e)),e.failedCounter<Qz?(Ba("Attempting to resend",!1,e),Di.add(e)):Ba(`Abandoning report after ${e.failedCounter} retries`,!0,e)}).then(()=>{Zu=setTimeout(s1,o1)})}catch(e){n?(Di.clear(),Zu=0):Zu=setTimeout(()=>s1(!0),o1),Ba(`Reporting queue digestion failed with "${e}"`,!0)}}async function t4(n){try{if(typeof n!="object")return Promise.reject();let e=Pz(n),a=Uz(n),o=zz(n),l=$z(),p=await Gz(n),f=await Lz(n);return{payload:{timestamp:Date.now(),...e?{prediction:e}:{},...a?{profilingData:a}:{},...o?{modelMetadata:o}:{},...l?{device:l}:{},...p?{websiteMetadata:p}:{},...f?{inputs:f}:{}}}}catch(e){return Ba(`Report data calculation failed with "${e}"`,!0),Promise.reject()}}function n4(n,e,a){try{return Ba("Sending report",!1,n),!n||typeof n!="object"||typeof e!="string"||!e.trim()||a&&typeof a!="string"?Promise.reject("Missing data"):fetch(e,{method:"POST",headers:{Accept:"*/*",...a?{Authorization:`Bearer ${a}`}:{},"Content-Type":"application/json"},body:JSON.stringify(n)}).then(o=>!o||!o.ok?Promise.reject(o):o)}catch(o){return Promise.reject(o)}}let pm,Pw=!1;const a4="ml",i1="data",r4=2592e6,o4=1e3,s4=864e5,Lw="conf_maintenance_time";function Pi(n){return!n.action||n.action!=="keys"&&!n.key||n.action==="put"&&!n.data?Promise.reject("Missing database transaction options/data."):typeof indexedDB>"u"?Promise.reject("No IndexedDB support"):i4().then(e=>{let a=e.transaction(i1,"readwrite"),o=a.objectStore(i1),l;if(n.action==="get")l=o.get(n.key);else if(n.action==="put")l=o.put(n.data,n.key);else if(n.action==="del")l=o.delete(n.key);else if(n.action==="keys")l=o.getAllKeys();else return Promise.reject("Database transaction request not recognized");return new Promise((p,f)=>{a.onerror=f,l.onerror=f,l.onsuccess=()=>{n.action==="put"?p(n.data):n.action==="get"?p(l.result):n.action==="del"?p():n.action==="keys"?p(l.result):f("Database transaction request not recognized")}})})}function i4(){return typeof indexedDB>"u"?Promise.reject("No IndexedDB support"):(pm||(pm=new Promise((n,e)=>{let a=indexedDB.open(a4,1);a.onsuccess=()=>n(a.result),a.onerror=e,a.onupgradeneeded=()=>a.result.createObjectStore(i1)})),pm)}function l4(){Pw||(Pw=!0,Pi({action:"get",key:Lw}).then(n=>{if(isNaN(n)||Date.now()-n>s4)return u4(),Pi({action:"put",key:Lw,data:Date.now()})}).catch(n=>Ba("Maintenance failed",!0,n)))}function u4(){Ba("Cleaning up database"),Pi({action:"keys"}).then(n=>{n.forEach((e,a)=>{!e||e.startsWith("conf")||setTimeout(()=>{Pi({action:"get",key:e}).then(o=>{if(o&&!isNaN(o.dt)&&Date.now()-o.dt>r4)return Pi({action:"del",key:e})}).catch(o=>Ba(`Database cleanup for ${e} failed`,!0,o))},o4*a)})}).catch(n=>Ba("Database cleanup failed",!0,n))}const c4="https://easylist-downloads.adblockplus.org/models/",p4=1e4,Rx=1;let tu=new Map;function Fx(n){if(!n)return Promise.reject("No model name provided");if(!tu.has(n)){let a=f4(n),o=a.then(d4);a.catch(()=>{}),o.catch(()=>{}),tu.set(n,{bundle:a,instance:o})}let e=tu.get(n);return!e.bundle||!e.instance?(tu.delete(n),Promise.reject("Model corrupted")):Promise.resolve(e)}function d4(n){return Rz(jx,n)}function f4(n){return h4(n).catch(Mx.bind(this,n,Rx))}function h4(n){return typeof indexedDB>"u"?Promise.reject("No IndexedDB support"):Pi({action:"get",key:n}).then(e=>!e.config||!e.topology||!e.weights?(Pi({action:"del",key:n}).catch(a=>Ba("Can't remove corrupted model",!0,a)),Promise.reject("model corrupted")):(Lx(n,e).catch(a=>Ba("Can't update existing model",!0,a)),Ba(`Loaded model from database: ${n}`),e))}function Mx(n,e){Ba(`Attempting to fetch ${n} from remote`);let a=new AbortController,o=setTimeout(a.abort,p4);return isNaN(e)&&(e=Rx),fetch(`${c4}${n}.json`,{signal:a.signal}).then(l=>l.json()).then(l=>!l.config||!l.topology||!l.weights?Promise.reject("model corrupted"):(Ba(`Loaded model from remote: ${n}`),Ba(`Storing model in database: ${n}`),Lx(n,l).catch(p=>Promise.resolve(l)))).catch(l=>e>0?Mx(n,--e):(Ba(`Failed to fetch ${n} from remote: offline`,!0),Promise.reject(l))).finally(()=>clearTimeout(o))}function Px(n){return tu.has(n)&&(Ba(`Removing model from memory: ${n}`),tu.delete(n)),Ba(`Removing model from database: ${n}`),Pi({action:"del",key:n})}function Lx(n,e){return Pi({action:"put",key:n,data:{...e,dt:Date.now()}})}let fo;function m4(n,e,a){return!n||!a||!a.tab||isNaN(a.tab.id)||!chrome||!chrome.tabs||!is||!is.exceptionRules||typeof is.exceptionRules!="function"?(Ba("Can't determine allowlisting status of current website. Defaulting to not allow-listed.",!0),Promise.reject()):!e||!e.topology||!e.topology.graphml||!e.topology.graphml.allowlist?(Ba("Model does not support allowlisting. Defaulting to not allow-listed."),Promise.resolve(!1)):y4(a,n).catch(()=>b4(a)).catch(o=>(Ba("Can't determine allowlisting status of current website. Defaulting to not allow-listed.",!0,o),Promise.reject()))}function g4(n){if(!(!n||n.frameId||!n.tab||isNaN(n.tab.id)||!fo))for(let[e]of fo)e.startsWith(`${n.tab.id}_`)&&fo.delete(e)}function y4(n,e){return fo||(fo=new Map),fo.has(bl(n))?w4(n,e).then(a=>a?Promise.reject():fo.get(bl(n))):Promise.reject()}function b4(n){let e=n.tab.id,a=fo.has(bl(n)),o=fo.get(bl(n))||Promise.resolve(!1),l=new Promise((p,f)=>{try{let d=c=>{let h=o;for(let y of c)(!y.frameId&&!a||y.frameId&&!fo.has(bl(n,y.frameId)))&&(h=h.then(w=>w||(Ba("Checking content for allowlisting: ",!1,n,y.frameId),is.exceptionRules(e,{frameId:y.frameId,types:["document","elemhide","genericblock","generichide"]}).then(k=>!!k.length).catch(()=>!1))),y.frameId&&fo.set(bl(n,y.frameId),h));p(h)};chrome&&chrome.webNavigation&&chrome.webNavigation.getAllFrames?chrome.webNavigation.getAllFrames({tabId:e},d):d([{frameId:0}])}catch(d){Ba("Error during allowlisting check.",!0,d),f()}});return fo.set(bl(n),l),l.finally(()=>{if(fo.size>50){let p=fo.keys();for(;fo.size>50;)fo.delete(p.next().value)}}),l}function w4(n,e){return(fo.get(bl(n))||Promise.resolve(!1)).then(a=>{if(a)return!1;let o=!1,l=50,p=f=>{if(!(!f||!f.length)){for(let d of f){if(l<=0)return;if(d.tag==="IFRAME"||d.tag==="FRAME")return o=!0;l--}p(f.map(d=>d&&d.children?d.children:[]).flat())}};return p([e]),o})}function bl(n,e=0){return`${n.tab.id}_${n.tab.url}_${e}`}const Cd="ML:",v4="prepare",Uw="inference",ql={UNKNOWN_REQUEST:1,MISSING_REQUEST_DATA:2,UNKNOWN_MODEL:3,MISSING_INFERENCE_DATA:4,INFERENCE_FAILED:5,MODEL_INSTANTIATION_FAILED:6,MISSING_ENVIRONMENTAL_SUPPORT:7},x4=S4();k0();_t().set("WEBGL_USE_SHAPES_UNIFORMS",!0);function k4(n,e,a){return n&&typeof n.type=="string"&&n.type.startsWith(Cd)?(_4(n,e).then(a).catch(a),!0):!1}function _4(n,e){if(!n)return Promise.reject({type:n.type,error:ql.MISSING_REQUEST_DATA});let a=(n.model||"").replace([/[^a-zA-Z0-9._-]/g,""]);return!n.type||!a||n.type===Cd+Uw&&!n.graph?Promise.reject({type:n.type,error:ql.MISSING_REQUEST_DATA}):(n.debug&&Mz(!0),Ba("Digesting request",!1,n),typeof indexedDB>"u"?(Ba("Request aborted due to missing database support",!0),Promise.reject({type:n.type,error:ql.MISSING_ENVIRONMENTAL_SUPPORT})):x4?(l4(),n.type===Cd+v4?(g4(e),E4(a).then(o=>({type:n.type,config:o.config,cutoff:o.topology.graphml.nodes})).catch(()=>Promise.reject({type:n.type,error:ql.MODEL_INSTANTIATION_FAILED}))):n.type===Cd+Uw?A4(a,n.graph,e).then(o=>e4(o)).then(o=>({type:n.type,...sp?o:{},prediction:o.prediction,allowlisted:!!o.allowlisted})).catch(()=>Promise.reject({type:n.type,error:ql.INFERENCE_FAILED})):Promise.reject({type:n.type,error:ql.UNKNOWN_REQUEST})):(Ba("Request aborted due to missing WebGL support",!0),Promise.reject({type:n.type,error:ql.MISSING_ENVIRONMENTAL_SUPPORT})))}function E4(n){return Fx(n).then(e=>e.bundle).catch(()=>(Px(n),Promise.reject("Model corrupted")))}function A4(n,e,a){Ba(`Preparing inference: ${n}`,!1,e);let o={modelName:n,sender:a,modelColdStart:!tu.has(n),startTime:Date.now()};return Fx(n).then(l=>Promise.all([l.instance,l.bundle])).then(([l,p])=>(o.bundle=p,o.modelBootupTime=Date.now(),m4(e,p,a).catch(()=>!1).then(f=>f?(Ba("Website allowlisted. Skipping inference."),o.prediction=!1,o.allowlisted=!0,o):(Ba(`Running inference: ${n}`,!1,e),Cz(p,e,".").then(d=>(o.preprocessingTime=Date.now(),o.preprocessedGraph=d,Oz(jx,l,p,d))).then(d=>(o.inferenceTime=Date.now(),o.rawPrediction=d,Bz(d))).then(d=>(o.digestTime=Date.now(),o.prediction=d,o)))))).catch(()=>(Px(n),Promise.reject("Model corrupted")))}function S4(){if(typeof OffscreenCanvas>"u")return!1;let n=new OffscreenCanvas(0,0);try{if(n.getContext("webgl2"))return!0}catch{}return!1}function cf(n){return Aa.storage.local.set(n)}function hc(n){return Aa.storage.local.get(n)}function Ux(n){return Aa.storage.local.remove(n)}async function T4(){let n="readwrite_test",e=Math.random();try{if(await cf({[n]:e}),(await hc(n))[n]!==e)throw new Error("Storage test: Failed to read and write value")}finally{await Ux(n)}}let zx=!0;function j4(){return zx}async function I4(n,e){let a=await Ea.filters.getUserFilters();zx=!n&&!a.length}function $x(){const n=(Date.now()%1e8).toString().padStart(8,"0"),e="abcdefghijklmnopqrstuvwxyz0123456789",a=[];for(let o=0;o<8;o++){const l=Math.floor(Math.random()*e.length);a.push(e[l])}return a.join("")+n}async function N4(n){return fetch("https://ping.ublock.org/api/stats",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(n)})}const D4=/^(([^:]+(?::|$))(?:(?:\w+:)?\/\/)?(?:[^:@/]*(?::[^:@/]*)?@)?(([^:/?#]*)(?::(\d*))?))((?:[^?#/]*\/)*[^?#]*)(\?[^#]*)?(#.*)?/;function C4(n){const e=D4.exec(n),a=["href","origin","protocol","host","hostname","port","pathname","search","hash"],o={};for(let l=0;e&&l<a.length;l++)o[a[l]]=e[l]||"";return o}const Ju="ub_paused",zw="@@*",$w="@@*$document",Gw=1e3*60*60*24*7;class O4{constructor(e,a){this.name=e,this.version=a}isPageUnblockable(e){if(!e)return!0;let a;return e.protocol?a=e.protocol:a=C4(e).protocol,a!=="http:"&&a!=="https:"&&a!=="feed:"}async isPaused(e){if(e===void 0)return(await hc(Ju))[Ju]===!0;e===!0?(await cf({[Ju]:!0}),await Ea.filters.add([zw],{}),await Ea.filters.add([$w],{})):(await Ea.filters.remove([zw]),await Ea.filters.remove([$w]),await Ux(Ju))}async createDomainAllowListFilter(e,a){const p=`@@||${new URL(e).hostname.replace(/^www\./,"")}/*^$document`,f={...this.createFilterMetaData(a),expiresAt:Date.now()+Gw,autoExtendMs:Gw};return this.addCustomFilter(p,f)}async tryToRemoveAllowList(e,a){const o=e.replace(/#.*$/,""),l=await this.getUserFilters();if(!l||l.length===0)return!1;for(let p=0;p<l.length;p++){const{text:f}=l[p];if(f.search(/@@\*\$document,domain=~/)>-1){const[c]=o.replace(/((http|https):\/\/)?(www.)?/,"").split(/[/?#]/),h=[f],y=[`${f}|~${c}`];return await Ea.filters.remove(h),await Ea.filters.remove(y),!0}if(this.isAllowlistFilter(f)&&(await Ea.filters.getAllowingFilters(a)).includes(f)){const c=[f];return await Ea.filters.remove(c),!0}}return!1}isAllowlistFilter(e){return/^@@/.test(e)}async getUserFilters(){return Ea.filters.getUserFilters()}async addCustomFilter(e,a){try{const o=Ea.filters.validate(e);return o||(await Ea.filters.add([e],a),await Ea.filters.enable([e]),null)}catch(o){return o.toString()}}createFilterMetaData(e){const a={created:Date.now()};return e&&(a.origin=e),a}async addSubscriptions(){if(j4()){try{await Ea.subscriptions.addDefaults()}catch(o){console.error("Failed to add default filter lists:",o)}await a()}await e("https://easylist-downloads.adblockplus.org/v3/full/abp-filters-anti-cv.txt"),await e("https://easylist-downloads.adblockplus.org/v3/full/easylist.txt");async function e(o){if(!await Ea.subscriptions.has(o))try{await Ea.subscriptions.add(o)}catch(l){console.error(`Error adding subscription from ${o}`,l)}}async function a(){const o=["https://easylist-downloads.adblockplus.org/exceptionrules.txt","https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt"];for(const l of o)await Ea.subscriptions.has(l)&&await Ea.subscriptions.remove(l)}}removeSubscriptions(){return new Promise(e=>{"managed"in Aa.storage?hc(null).then(async a=>{for(let o in a)if(o==="remove_subscriptions"&&Array.isArray(a[o])&&a[o].length)for(let l=0;l<a[o].length;l++)await Ea.subscriptions.remove(a[o][l]);e()},()=>{e()}):e()})}async getTabInfo(e,a){const o=await this.getTab(a);if(o&&!o.url)return e||setTimeout(()=>this.getTabInfo(!0),250),{};try{const l=this.isPageUnblockable(o.url),p={disabledSite:l,url:String(o.url),id:o.id,paused:await this.isPaused()};return l||(p.allowListed=!!(await Ea.filters.getAllowingFilters(o.id)).length,p.allowListedText=await Ea.filters.getAllowingFilters(o.id)),p}catch(l){return{errorStr:l.toString(),stack:l.stack,message:l.message}}}async getTab(e){if(e){let a=e;return typeof a=="string"&&(a=parseInt(a,10)),await Aa.tabs.get(a)}else{const a=await Aa.tabs.query({active:!0,lastFocusedWindow:!0});return a.length===0?void 0:a[0]}}async subscriptionsGet({ignoreDisabled:e,disabledFilters:a}){let o=[];for(let l of await Ea.subscriptions.getDownloadable()){if(e&&!l.enabled)continue;let p=R4(l);if(a){let f=await Ea.subscriptions.getFilters(l.url)||[];p.disabledFilters=f.filter(d=>d.enabled===!1).map(d=>d.text)}o.push(p)}return o}async subscriptionsRemove({url:e}){return Ea.subscriptions.remove(e)}async filtersGet(){return(await Ea.filters.getUserFilters()).map(B4)}async filtersRemove({text:e}){return await Ea.filters.remove([e]),[]}async filtersImportRaw({text:e,origin:a}){let[o,l]=this.filtersValidate(e);if(l.length===0)for(const p of o){const f=await this.addFilter(p,a);f&&l.push(f)}return l}filtersValidate(e){let a=[],o=[],l=e.split(`
`);for(let p=0;p<l.length;p++){let[f,d]=this.parseFilter(l[p]);if(d){if(d.type==="unexpected_filter_list_header"&&l.length>1)continue;l.length>1&&(d.lineno=p+1),o.push(d)}else f&&a.push(f)}return[a,o]}parseFilter(e){let a=e.trim()||null,o=null;if(a)if(a[0]==="[")o={type:"unexpected_filter_list_header"};else{let l=Ea.filters.validate(a);l&&(o=F4(l))}return[a,o]}async addFilter(e,a){const o={created:Date.now()};a&&(o.origin=a);try{await Ea.filters.add([e],o),await Ea.filters.enable([e])}catch(l){return l}return null}}function W1(n,e){let a={};for(let o of n)o in e&&(a[o]=e[o]);return a}function B4(n){let e=W1(["enabled","slow","text","type"],n);return e.enabled!==null&&(e.disabled=!e.enabled),delete e.enabled,e}function R4(n){let e=W1(["downloadable","downloadStatus","enabled","homepage","version","lastDownload","lastSuccess","softExpiration","expires","title","url","downloading"],n);return e.disabled=!e.enabled,delete e.enabled,e}let F4=W1.bind(null,["lineno","option","reason","type"]);async function M4(){return Aa.management&&Aa.management.getSelf?await Aa.management.getSelf():null}class P4{constructor(){this.allowed=!0}async handle(e){const a=this.surveyOptionsFrom(e);if(a==null)return Promise.resolve();switch(a.action){case 1:await this.showTab(a);break}}validUrl(e){return e.startsWith("https://ublock.org/")}surveyOptionsFrom(e){if(!e.hasOwnProperty("action")||!e.hasOwnProperty("id"))return null;switch(e.action){case 0:if(!e.hasOwnProperty("settings"))return null;break;case 1:if(!e.hasOwnProperty("url")||!this.validUrl(e.url))return null;break;case 2:if(!e.hasOwnProperty("url")||!this.validUrl(e.url))return null;break;case 3:if(!e.hasOwnProperty("url")||!this.validUrl(e.url))return null;break;default:return null}return e}shouldShowSurvey(e,a){if(!this.allowed)return;const o="surveys."+e.id;Aa.storage.local.get(o).then(l=>{l.hasOwnProperty(o)||Aa.storage.local.set({[o]:{shown:new Date().toISOString()}}).then(()=>{this.allowed=!0,a({url:e.url.substring(19)})})})}async showTab(e){const a=()=>{setTimeout(()=>{this.shouldShowSurvey(e,l=>{const p=`https://ublock.org/${l.url}`;Aa.tabs.create({url:p}).then()})},1e4)},o=()=>{Aa.tabs.onCreated.removeListener(o),Aa.tabs.onActivated.removeListener(o),a()};Aa.tabs.onCreated.removeListener(o),Aa.tabs.onActivated.removeListener(o),Aa.tabs.onCreated.addListener(o),Aa.tabs.onActivated.addListener(o)}}const dm="ub_stats",fm="stats.ping",Gx=[],Vw=async n=>{n.name==="stats.ping"&&Gx.forEach(e=>{e.sendStats()})};class L4{constructor(e,a){this.name=e,this.version=a,this.survey=new P4;let l=/(CrOS \w+|Windows NT|Mac OS X|Linux) ([\d._]+)?/.exec(navigator.userAgent);this.operatingSystem=(l||[])[1]||"Unknown",this.operatingSystemVersion=(l||[])[2]||"Unknown",l=/(MSIE|Trident|(?!Gecko.+)Firefox|(?!AppleWebKit.+Chrome.+)Safari(?!.+Edge)|(?!AppleWebKit.+)Chrome(?!.+Edge)|(?!AppleWebKit.+Chrome.+Safari.+)Edge|AppleWebKit(?!.+Chrome|.+Safari)|Gecko(?!.+Firefox))[ /]([\d.apre]+)/.exec(navigator.userAgent),this.browserName=(l||[])[1]||"Unknown",this.browserName==="Firefox"?this.browserFlavor="F":this.browserFlavor="E",this.browserVersion=(l||[])[2]||"Unknown",this.browserLanguage=navigator.language.match(/^[a-z]+/i)[0],this.storageStatsAttr={userId:null,totalPings:0},Gx.push(this)}async getStatsSettings(){if(this.storageStatsAttr.userId!=null)return this.storageStatsAttr;const e=await hc(dm),a=e&&e[dm]||{userId:$x(),totalPings:0};return this.storageStatsAttr=a,a}getStats(e){return{n:this.name,v:this.version,u:e,f:this.browserFlavor,o:this.operatingSystem,bv:this.browserVersion,ov:this.operatingSystemVersion,l:this.browserLanguage}}async sendStats(){const e=await this.getStatsSettings();return e.totalPings=e.totalPings+1,await cf({[dm]:e}),this.sendPing(e.userId)}async sendPing(e){const a=this.getStats(e);if(this.browserName==="Chrome"){const o=await M4();o&&typeof o.installType=="string"&&(a.it=o.installType.charAt(0))}N4(a).then(o=>{if(o.ok)return o.json()}).then(o=>{this.survey.handle(o)}).catch(()=>{})}async scheduleStatsEvent(){Aa.alarms.onAlarm.hasListener(Vw)||Aa.alarms.onAlarm.addListener(Vw);const e=await Aa.alarms.get(fm);e&&e.name===fm||Aa.alarms.create(fm,{delayInMinutes:10,periodInMinutes:60*24})}}const hm="ub_subs",Od="schedule.sync",Vx=[],Hw=async n=>{n.name===Od&&Vx.forEach(e=>{e.sync()})};class U4{constructor(){Vx.push(this)}async sync(){const e=await this.getSubSettings();e.totalSyncs=e.totalSyncs+1,await cf({[hm]:e}),await Ea.subscriptions.sync()}async getSubSettings(){const e=await hc(hm);return e&&e[hm]||{subscriptions:{},totalSyncs:0}}async scheduleSyncEvent(){Aa.alarms.onAlarm.hasListener(Hw)||Aa.alarms.onAlarm.addListener(Hw);const e=await Aa.alarms.get(Od);e&&e.name===Od||Aa.alarms.create(Od,{delayInMinutes:7,periodInMinutes:60*24})}}class z4{constructor(){this.lastError="",this.status={}}setLastError(e){switch(typeof e){case"string":this.lastError=e;break;case"object":if(e.error)switch(typeof e.error){case"string":this.lastError=e.error;break;case"object":typeof e.error.string=="function"?this.lastError=e.error.string():typeof e.error.toString=="function"?this.lastError=e.error.toString():this.lastError=JSON.stringify(e.error);break}else typeof e.string=="function"?this.lastError=e.string():typeof e.toString=="function"?this.lastError=e.toString():this.lastError=JSON.stringify(e);break;default:return}}getLastError(){return this.lastError}setStatus(e,a){this.status[e]=a}getStatus(){return this.status}}const $4={created:"2025-09-25T13:05:46.565Z",subscriptions:[{id:"8C13E995-8F06-4927-BEA7-6C845FB7EEBF",type:"ads",languages:["en"],title:"EasyList",homepage:"https://easylist.to/",url:"https://easylist-downloads.adblockplus.org/v3/full/easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"0798B6A2-94A4-4ADF-89ED-BEC112FC4C7F",type:"allowing",title:"Allow nonintrusive advertising",homepage:"https://acceptableads.com/",url:"https://easylist-downloads.adblockplus.org/v3/full/exceptionrules.txt",mv2_url:"https://easylist-downloads.adblockplus.org/exceptionrules.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/exceptionrules/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days"},{id:"C3D13A19-3E8D-41F5-AD64-0F3B36DDE128",type:"ads",languages:["es"],title:"EasyList Spanish+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","C8C1AA76-15B4-4CA3-8A9C-AD38D6AFCAEC"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistspanish+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistspanish+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistspanish+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"1B5F78CA-8B30-4BDF-B0A3-451CB2202984",type:"ads",languages:["ru","uk","uz","kk"],title:"RU, UA, UZ, KZ+EasyList",homepage:"https://forums.lanik.us/viewforum.php?f=102",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","879ECB9D-8935-4506-939E-5BBB7DD09402"],url:"https://easylist-downloads.adblockplus.org/v3/full/ruadlist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/ruadlist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/ruadlist+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"2CEA1481-C29C-44F1-A084-A2A019533797",type:"ads",languages:["fr"],title:"Liste FR+EasyList",homepage:"https://forums.lanik.us/viewforum.php?f=98",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E"],url:"https://easylist-downloads.adblockplus.org/v3/full/liste_fr+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/liste_fr+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/liste_fr+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"14DF7BE6-9675-4E07-987A-D8A1000F9FEF",type:"ads",languages:["pt"],title:"EasyList Portuguese+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A41441EE-BF7C-4A48-9A43-42CCEA2B2A1D"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistportuguese+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistportuguese+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistportuguese+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"0CD3D105-D3B3-4652-8489-94163DE9A08F",type:"ads",languages:["de"],title:"EasyList Germany+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","4337FB2B-A95C-44D5-B78D-11AD40F7711B"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistgermany+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistgermany+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistgermany+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"3D2C09D0-DF1C-4C8E-9947-A23DCEAF8F8B",type:"ads",languages:["pl"],title:"EasyList Polish+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9F743FCD-801B-41D0-830F-5A4EA995216E"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistpolish+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistpolish+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistpolish+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"BBC07C05-66F1-42EC-BD4D-7AD495FAC84B",type:"ads",languages:["it"],title:"EasyList Italy+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2F0A4F0D-DF16-40D0-B0E0-5EB6791EC119"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistitaly+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistitaly+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistitaly+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"4B6CE485-30AB-4213-AD17-504B3F2D2825",type:"ads",languages:["cs","sk"],title:"EasyList Czech and Slovak+EasyList",homepage:"https://adblock.sk/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","2D8C4D88-34A0-4259-9098-30D28BA674BC"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistczechslovak+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistczechslovak+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistczechslovak+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"684A25C6-6B5D-458A-8A2B-BAC0A12B0B15",type:"ads",languages:["ar"],title:"Liste AR+Liste FR+EasyList",homepage:"https://forums.lanik.us/viewforum.php?f=98",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","8D421590-1A68-4B68-BE50-04E17C09460E","3D60E303-1141-4775-B800-834177922876"],url:"https://easylist-downloads.adblockplus.org/v3/full/liste_ar+liste_fr+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/liste_ar+liste_fr+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/liste_ar+liste_fr+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (fréquence des mises à jour automatiques)"},{id:"1C571EC7-6E52-47CC-B04A-4B3008D0AEBE",type:"ads",languages:["vi"],title:"ABPVN List+EasyList",homepage:"http://abpvn.com/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","03648752-31EE-4FD0-85C1-20B07C5551C3"],url:"https://easylist-downloads.adblockplus.org/v3/full/abpvn+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/abpvn+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/abpvn+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"A4B88FB6-E5E5-417F-8A49-20B8244995FD",type:"ads",languages:["nl"],title:"EasyList Dutch+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","CB94E27D-6CD1-4DB9-83D9-6B7F1A3555F6"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistdutch+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistdutch+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistdutch+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"2708BCB7-2E45-41BC-B517-1730CF532F89",type:"ads",languages:["ko"],title:"KoreanList+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","BCE2062F-0D99-4861-A1F7-E3DFEA6DAB69"],url:"https://easylist-downloads.adblockplus.org/v3/full/koreanlist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/koreanlist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/koreanlist+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"EEEF75EC-B2B4-49F4-BC49-17B08266F334",type:"ads",languages:["ro"],title:"ROList+EasyList",homepage:"https://zoso.ro/rolist/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","99166908-5FDA-4F9E-8C4C-70BB4DEEFC08"],url:"https://easylist-downloads.adblockplus.org/v3/full/rolist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/rolist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/rolist+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"B7D76369-DD19-4602-80E8-2E32DDB490AC",type:"ads",languages:["id","ms"],title:"ABPindo+EasyList",homepage:"http://abpindo.blogspot.com/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","A4A32212-E6BD-45F6-AD0F-E0FD18E8537B"],url:"https://easylist-downloads.adblockplus.org/v3/full/abpindo+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/abpindo+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/abpindo+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"07549D8B-F06F-4D9D-A567-929AA59E9D1D",type:"ads",languages:["he"],title:"EasyList Hebrew+EasyList",homepage:"https://github.com/easylist/EasyListHebrew",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","AE0D9320-665E-407D-B692-1A85AE481F34"],url:"https://easylist-downloads.adblockplus.org/v3/full/israellist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/israellist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/israellist+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"CBE50FA2-DE3F-480C-B1D7-04289391C033",type:"ads",languages:["lt"],title:"EasyList Lithuania+EasyList",homepage:"https://github.com/EasyList-Lithuania/easylist_lithuania",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","E89B3C08-2DED-40EA-8EE1-339B90D7B451"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistlithuania+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistlithuania+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistlithuania+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"E22C3B40-DC90-49D7-8BF5-E60904AB159A",type:"ads",languages:["bg"],title:"Bulgarian list+EasyList",homepage:"https://stanev.org/abp/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1638B159-F64A-4307-84E7-16AB08ED409E"],url:"https://easylist-downloads.adblockplus.org/v3/full/bulgarian_list+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/bulgarian_list+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/bulgarian_list+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"950C88EA-2DD1-42E3-B2A2-2DF2ED15563A",type:"ads",languages:["lv"],title:"Latvian List+EasyList",homepage:"https://forums.lanik.us/viewforum.php?f=99-latvian-list",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","51893C6C-F39E-43C5-A2EF-9545E388A2CE"],url:"https://easylist-downloads.adblockplus.org/v3/full/latvianlist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/latvianlist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/latvianlist+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"96932CD9-6DDF-4D97-B92F-FDF747B6FAA2",type:"ads",languages:["no","nb","nn","da","is","fo","kl","sv","fi"],title:"Dandelion Sprout's Nordic Filters+EasyList",homepage:"https://github.com/DandelionSprout/adfilt",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","6D489E8D-E61C-444C-BBC5-44741773ADC2"],url:"https://easylist-downloads.adblockplus.org/v3/full/dandelion_sprouts_nordic_filters+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/dandelion_sprouts_nordic_filters+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/dandelion_sprouts_nordic_filters+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"25A31255-AB36-48A4-9086-06192DE71119",type:"ads",languages:["as","bn","gu","hi","kn","ml","mr","ne","or","pa","si","ta","te"],title:"IndianList+EasyList",homepage:"https://easylist.to/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","9FAA2906-CD5C-4520-BDC4-4E098B7EA228"],url:"https://easylist-downloads.adblockplus.org/v3/full/indianlist+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/indianlist+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/indianlist+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"F12E0801-A00B-49DE-B1E3-52C9C4F90C8C",type:"allowing",title:"Allow nonintrusive advertising without third-party tracking",homepage:"https://acceptableads.com/",url:"https://easylist-downloads.adblockplus.org/v3/full/exceptionrules-privacy-friendly.txt",mv2_url:"https://easylist-downloads.adblockplus.org/exceptionrules-privacy-friendly.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/exceptionrules-privacy-friendly/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days"},{id:"9BD3EA2F-889D-4CC3-B680-CF484F2BD1B9",type:"ads",languages:["zh"],title:"EasyList China+EasyList",homepage:"https://github.com/easylist/easylistchina/",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","1D7F590C-B752-4BA0-9473-6A26DE1326B1"],url:"https://easylist-downloads.adblockplus.org/v3/full/easylistchina+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/easylistchina+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"D4028CDD-3D39-4624-ACC7-8140F4EC3238",type:"circumvention",title:"ABP filters",homepage:"https://gitlab.com/eyeo/anti-cv/abp-filters-anti-cv",url:"https://easylist-downloads.adblockplus.org/v3/full/abp-filters-anti-cv.txt",mv2_url:"https://easylist-downloads.adblockplus.org/abp-filters-anti-cv.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/abp-filters-anti-cv/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 hours (update frequency)"},{id:"361001BD-8F57-4736-97B1-F332C3D79E5D",type:"ads",languages:["ja"],title:"Japanese Filters+EasyList",homepage:"https://gitlab.com/eyeo/filterlists/japanesefilters",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","7FCD16F0-6505-4A59-90CD-B49849481B0B"],url:"https://easylist-downloads.adblockplus.org/v3/full/japanese-filters+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/japanese-filters+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/japanese-filters+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"D99D3350-7F11-43E1-87CB-FDE0C78E8CD6",type:"ads",languages:["tr"],title:"Turkish Filters+EasyList",homepage:"https://gitlab.com/eyeo/filterlists/turkishfilters",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","C5238877-8B59-4CC5-AE7F-F8714A5452D1"],url:"https://easylist-downloads.adblockplus.org/v3/full/turkish-filters+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/turkish-filters+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/turkish-filters+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"EF6F4884-47DB-46A5-AAF8-8EB819D8D4D8",type:"ads",languages:["bs","el","fil","hr","sl","sr","th"],title:"Global Filters+EasyList",homepage:"https://gitlab.com/eyeo/filterlists/globalfilters",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","02F537E7-0B47-4DBA-BFFA-AE4182E4C31C"],url:"https://easylist-downloads.adblockplus.org/v3/full/global-filters+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/global-filters+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/global-filters+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"},{id:"88D3F7EA-D99E-43C6-92E0-D89C8A0E7EA9",type:"ads",languages:["hu"],title:"Hufilter Basic+EasyList",homepage:"https://github.com/hufilter/hufilter/wiki",includes:["8C13E995-8F06-4927-BEA7-6C845FB7EEBF","EFA20F90-0490-46A4-B105-BD173F7950AA"],url:"https://easylist-downloads.adblockplus.org/v3/full/hufilter+easylist.txt",mv2_url:"https://easylist-downloads.adblockplus.org/hufilter+easylist.txt",diff_url:"https://easylist-downloads.adblockplus.org/v3/diff/hufilter+easylist/719f142447b7242a54c09a7b1c9fd7c7ca9c86f1.json",expires:"1 days (update frequency)"}]};new Vi({name:"error",run:(n,{guardian:e})=>e.setLastError(n)});new Vi({name:"debug.getLastError",run:(n,{guardian:e})=>Promise.resolve(e.getLastError())});new Vi({name:"debug.getStatus",run:(n,{guardian:e})=>Promise.resolve(e.getStatus())});new Vi({name:"telemetry.ping",run:(n,{telemetry:e})=>e.sendPing(n)});new Vi({name:"subscriptions.get",run:async(n,{blocker:e})=>{const a=n&&n.ignoreDisabled,o=n&&n.disabledFilters;return e.subscriptionsGet({ignoreDisabled:a,disabledFilters:o})}});new Vi({name:"subscriptions.remove",run:({url:n},{blocker:e})=>e.subscriptionsRemove({url:n})});new Vi({name:"filters.get",run:(n,{blocker:e})=>e.filtersGet()});new Vi({name:"filters.remove",run:({text:n},{blocker:e})=>e.filtersRemove({text:n})});new Vi({name:"filters.importRaw",run:({text:n,origin:e},{blocker:a})=>a.filtersImportRaw({text:n,origin:e})});const Hx=Aa.runtime.getManifest(),K1="uBlock",pf=Hx.version;rO({dsn:"https://6bce0ca887dc9863c4d84880e79c9375@o526868.ingest.sentry.io/4506632517517312",release:pf,initialScope:{tags:{manifestVersion:Hx.manifest_version}},enabled:!1,environment:"Production",tracesSampleRate:.2,sampleRate:.01});let $c;Aa.storage.local.get("sentryUserId").then(n=>{$c=n.sentryUserId,$c||($c=$x(),Aa.storage.local.set({userId:$c})),ZN({id:$c})});const Bd=new O4(K1,pf),X1=new L4(K1,pf),Y1=new U4,Wx=new z4;Y2({blocker:Bd,telemetry:X1,subscriptions:Y1,guardian:Wx});const G4={sendMessage:Aa.runtime.sendMessage,addListener:Aa.runtime.onMessage.addListener,getURL:Aa.runtime.getURL,browserTabs:Aa.tabs};X2(G4);const V4="https://ublock.telemetry.eyeo.com/topic/webextension_activeping/version/3",H4="p_N9gr9UbaNJ2GsJEsz16BWC3asXGCFz1H";let Kx;Kx={url:V4,bearer:H4};const W4=Ea.start({name:K1,version:pf,bundledSubscriptions:$4.subscriptions,bundledSubscriptionsPath:"rules",telemetry:Kx});Ea.snippets.setLibrary({injectedCode:x1,isolatedCode:v1});const Xx=[W4,Ea.telemetry.setOptOut(!1)];Xx.push(T4().catch(()=>{}));Promise.all(Xx).then(async n=>{const e=n[0];e&&e.warnings&&e.warnings.length>0&&console.warn("Start warnings",e.warnings),Aa.runtime.onMessage.addListener(k4),(await Ea.filters.getMigrationErrors()).forEach(a=>{const{error:o,filter:l}=a;console.warn(`Error Message: ${o}`),console.warn(`Filter text: ${l.text}`)}),(await Ea.subscriptions.getMigrationErrors()).forEach(a=>{const{error:o,subscription:l}=a;console.warn(`Error Message: ${o}`),console.warn(`Title: ${l.title}, URL: ${l.url}`),console.warn()}),K4(e).then(()=>{Wx.setStatus("initialized",!0)})});function Ww(n){switch(n.reason){case"install":break;case"update":Aa.alarms.clearAll().then(()=>{Promise.all([X1.scheduleStatsEvent(),Y1.scheduleSyncEvent()]).then()});break}}Aa.runtime.onInstalled.hasListener(Ww)||Aa.runtime.onInstalled.addListener(Ww);async function K4(n){n&&await I4(n.foundSubscriptions,n.foundStorage),await Bd.addSubscriptions(),await Bd.removeSubscriptions(),await X1.scheduleStatsEvent(),await Y1.scheduleSyncEvent(),(await hc(Ju))[Ju]&&setTimeout(()=>Bd.isPaused(!1),200)}Object.assign(self,{ewe:iO});
//# sourceMappingURL=service-jJz2UCeQ.js.map
